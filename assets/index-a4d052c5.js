var ai=Object.defineProperty;var ci=(n,t,e)=>t in n?ai(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Lt=(n,t,e)=>(ci(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function ne(){}function tt(n,t){for(const e in t)n[e]=t[e];return n}function ui(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Er(n){return n()}function Qn(){return Object.create(null)}function ie(n){n.forEach(Er)}function Wt(n){return typeof n=="function"}function be(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Et;function me(n,t){return Et||(Et=document.createElement("a")),Et.href=t,n===Et.href}function fi(n){return Object.keys(n).length===0}function Ln(n,...t){if(n==null)return ne;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function dn(n){let t;return Ln(n,e=>t=e)(),t}function Ee(n,t,e){n.$$.on_destroy.push(Ln(t,e))}function Qt(n,t,e,o){if(n){const r=Mr(n,t,e,o);return n[0](r)}}function Mr(n,t,e,o){return n[1]&&o?tt(e.ctx.slice(),n[1](o(t))):e.ctx}function Kt(n,t,e,o){if(n[2]&&o){const r=n[2](o(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const l=[],i=Math.max(t.dirty.length,r.length);for(let s=0;s<i;s+=1)l[s]=t.dirty[s]|r[s];return l}return t.dirty|r}return t.dirty}function Yt(n,t,e,o,r,l){if(r){const i=Mr(t,e,o,l);n.p(i,r)}}function Xt(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function Kn(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function nn(n,t,e){return n.set(e),t}function c(n,t){n.appendChild(t)}function B(n,t,e){n.insertBefore(t,e||null)}function q(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function F(n){return document.createTextNode(n)}function S(){return F(" ")}function ge(){return F("")}function T(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function Be(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const di=["width","height"];function Yn(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&di.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function Mt(n,t,e){t in n?n[t]=typeof n[t]=="boolean"&&e===""?!0:e:u(n,t,e)}function pi(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Je(n){return n===""?null:+n}function hi(n){return Array.from(n.childNodes)}function re(n,t){t=""+t,n.data!==t&&(n.data=t)}function X(n,t){n.value=t??""}function _e(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Ge(n,t,e){for(let o=0;o<n.options.length;o+=1){const r=n.options[o];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function pt(n){const t=n.querySelector(":checked");return t&&t.__value}function vt(n,t,e){n.classList[e?"add":"remove"](t)}function nt(n,t){return new n(t)}let kt;function Ze(n){kt=n}function mt(){if(!kt)throw new Error("Function called outside component initialization");return kt}function st(n){mt().$$.on_mount.push(n)}function En(n){mt().$$.after_update.push(n)}function Mn(n){mt().$$.on_destroy.push(n)}function on(n,t){return mt().$$.context.set(n,t),t}function pn(n){return mt().$$.context.get(n)}function De(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const dt=[],hn=[];let ht=[];const Xn=[],_i=Promise.resolve();let _n=!1;function mi(){_n||(_n=!0,_i.then(Rn))}function xe(n){ht.push(n)}const rn=new Set;let ut=0;function Rn(){if(ut!==0)return;const n=kt;do{try{for(;ut<dt.length;){const t=dt[ut];ut++,Ze(t),gi(t.$$)}}catch(t){throw dt.length=0,ut=0,t}for(Ze(null),dt.length=0,ut=0;hn.length;)hn.pop()();for(let t=0;t<ht.length;t+=1){const e=ht[t];rn.has(e)||(rn.add(e),e())}ht.length=0}while(dt.length);for(;Xn.length;)Xn.pop()();_n=!1,rn.clear(),Ze(n)}function gi(n){if(n.fragment!==null){n.update(),ie(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(xe)}}function vi(n){const t=[],e=[];ht.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),ht=t}const qt=new Set;let lt;function Re(){lt={r:0,c:[],p:lt}}function je(){lt.r||ie(lt.c),lt=lt.p}function $(n,t){n&&n.i&&(qt.delete(n),n.i(t))}function ee(n,t,e,o){if(n&&n.o){if(qt.has(n))return;qt.add(n),lt.c.push(()=>{qt.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function Zn(n,t){const e=t.token={};function o(r,l,i,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;i!==void 0&&(a=a.slice(),a[i]=s);const f=r&&(t.current=r)(a);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==l&&h&&(Re(),ee(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),je())}):t.block.d(1),f.c(),$(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[l]=f),d&&Rn()}if(ui(n)){const r=mt();if(n.then(l=>{Ze(r),o(t.then,1,t.value,l),Ze(null)},l=>{if(Ze(r),o(t.catch,2,t.error,l),Ze(null),!t.hasCatch)throw l}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function bi(n,t,e){const o=t.slice(),{resolved:r}=n;n.current===n.then&&(o[n.value]=r),n.current===n.catch&&(o[n.error]=r),n.block.p(o,e)}function Ve(n,t){n.d(1),t.delete(n.key)}function ki(n,t){ee(n,1,1,()=>{t.delete(n.key)})}function He(n,t,e,o,r,l,i,s,a,f,d,h){let _=n.length,g=l.length,m=_;const b={};for(;m--;)b[n[m].key]=m;const v=[],k=new Map,w=new Map,A=[];for(m=g;m--;){const C=h(r,l,m),P=e(C);let M=i.get(P);M?o&&A.push(()=>M.p(C,t)):(M=f(P,C),M.c()),k.set(P,v[m]=M),P in b&&w.set(P,Math.abs(m-b[P]))}const I=new Set,O=new Set;function y(C){$(C,1),C.m(s,d),i.set(C.key,C),d=C.first,g--}for(;_&&g;){const C=v[g-1],P=n[_-1],M=C.key,E=P.key;C===P?(d=C.first,_--,g--):k.has(E)?!i.has(M)||I.has(M)?y(C):O.has(E)?_--:w.get(M)>w.get(E)?(O.add(M),y(C)):(I.add(E),_--):(a(P,i),_--)}for(;_--;){const C=n[_];k.has(C.key)||a(C,i)}for(;g;)y(v[g-1]);return ie(A),v}function At(n,t){const e={},o={},r={$$scope:1};let l=n.length;for(;l--;){const i=n[l],s=t[l];if(s){for(const a in i)a in s||(o[a]=1);for(const a in s)r[a]||(e[a]=s[a],r[a]=1);n[l]=s}else for(const a in i)r[a]=1}for(const i in o)i in e||(e[i]=void 0);return e}function yt(n){return typeof n=="object"&&n!==null?n:{}}function ce(n){n&&n.c()}function se(n,t,e,o){const{fragment:r,after_update:l}=n.$$;r&&r.m(t,e),o||xe(()=>{const i=n.$$.on_mount.map(Er).filter(Wt);n.$$.on_destroy?n.$$.on_destroy.push(...i):ie(i),n.$$.on_mount=[]}),l.forEach(xe)}function ae(n,t){const e=n.$$;e.fragment!==null&&(vi(e.after_update),ie(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function yi(n,t){n.$$.dirty[0]===-1&&(dt.push(n),mi(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function we(n,t,e,o,r,l,i,s=[-1]){const a=kt;Ze(n);const f=n.$$={fragment:null,ctx:[],props:l,update:ne,not_equal:r,bound:Qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Qn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};i&&i(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return f.ctx&&r(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&yi(n,h)),_}):[],f.update(),d=!0,ie(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const h=hi(t.target);f.fragment&&f.fragment.l(h),h.forEach(q)}else f.fragment&&f.fragment.c();t.intro&&$(n.$$.fragment),se(n,t.target,t.anchor,t.customElement),Rn()}Ze(a)}class Ce{$destroy(){ae(this,1),this.$destroy=ne}$on(t,e){if(!Wt(e))return ne;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const r=o.indexOf(e);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!fi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var mn=function(n,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},mn(n,t)};function Me(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}mn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gn=function(){return gn=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var l in e=arguments[o])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t},gn.apply(this,arguments)};function Oe(n,t,e,o){return new(e||(e=Promise))(function(r,l){function i(f){try{a(o.next(f))}catch(d){l(d)}}function s(f){try{a(o.throw(f))}catch(d){l(d)}}function a(f){f.done?r(f.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(f.value).then(i,s)}a((o=o.apply(n,t||[])).next())})}function Le(n,t){var e,o,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(a){return function(f){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(i=0)),i;)try{if(e=1,o&&(r=2&h[0]?o.return:h[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,h[1])).done)return r;switch(o=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,o=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!((r=r.length>0&&r[r.length-1])||h[0]!==6&&h[0]!==2)){i=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){i.label=h[1];break}if(h[0]===6&&i.label<r[1]){i.label=r[1],r=h;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(h);break}r[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(n,i)}catch(_){h=[6,_],o=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,f])}}}var Rr,$e=function(n){function t(e){var o,r,l,i,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((i=(l=(r=s.originalError)===null||r===void 0?void 0:r.cause)===null||l===void 0?void 0:l.message)===null||i===void 0)&&i.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Me(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return gn({},this)},t}(Error),Rt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function $n(n,t,e){var o=Object.assign({},e||{}),r=o.encode||Ci;if(!Rt.test(n))throw new TypeError("argument name is invalid");var l=r(t);if(l&&!Rt.test(l))throw new TypeError("argument val is invalid");var i=n+"="+l;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Rt.test(o.domain))throw new TypeError("option domain is invalid");i+="; Domain="+o.domain}if(o.path){if(!Rt.test(o.path))throw new TypeError("option path is invalid");i+="; Path="+o.path}if(o.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(i+="; HttpOnly"),o.secure&&(i+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function wi(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Ci(n){return encodeURIComponent(n)}function jr(n){if(n)try{var t=decodeURIComponent(Rr(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Si(n,t){t===void 0&&(t=0);var e=jr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Rr=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,r=0,l=0,i="";o=t.charAt(l++);~o&&(e=r%4?64*e+o:o,r++%4)?i+=String.fromCharCode(255&e>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};var Tt=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var r=o[e],l=r[0],i=r[1];this[l]=i}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Ht=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(r){return new t(r||{})}):this.expand[o]=new t(e[o]||{})},t}(Tt),jn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Tt),xn="pb_auth",Ai=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Si(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Ht(e):new jn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=xn);var o=function(i,s){var a={};if(typeof i!="string")return a;for(var f=Object.assign({},s||{}).decode||wi,d=0;d<i.length;){var h=i.indexOf("=",d);if(h===-1)break;var _=i.indexOf(";",d);if(_===-1)_=i.length;else if(_<h){d=i.lastIndexOf(";",h-1)+1;continue}var g=i.slice(d,h).trim();if(a[g]===void 0){var m=i.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=f(m)}catch{a[g]=m}}d=_+1}return a}(t||"")[e]||"",r={};try{(typeof(r=JSON.parse(o))===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)},n.prototype.exportToCookie=function(t,e){var o,r,l;e===void 0&&(e=xn);var i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=jr(this.token);s!=null&&s.exp?i.expires=new Date(1e3*s.exp):i.expires=new Date("1970-01-01"),t=Object.assign({},i,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},f=$n(e,JSON.stringify(a),t),d=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&d>4096&&(a.model={id:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.id,email:(l=a==null?void 0:a.model)===null||l===void 0?void 0:l.email},this.model instanceof Ht&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=$n(e,JSON.stringify(a),t)),f},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var r=o._onChangeCallbacks.length-1;r>=0;r--)if(o._onChangeCallbacks[r]==t)return delete o._onChangeCallbacks[r],void o._onChangeCallbacks.splice(r,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Ti=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return Me(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new jn(o.model):new Ht(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=o;typeof o!="string"&&(r=JSON.stringify(o)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Ai),at=function(t){this.client=t},Ii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(r){return r||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var r={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.testEmail=function(e,o,r){r===void 0&&(r={});var l={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:r,body:l}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,r,l,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:r,privateKey:l,duration:i},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(at),Nr=function(t,e,o,r,l){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=r>=0?r:0,this.items=l||[]},Nn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var r=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,r.batch||200,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),this._getList(this.baseCrudPath,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),this._update(this.baseCrudPath,e,o,r)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype._getFullList=function(e,o,r){var l=this;o===void 0&&(o=200),r===void 0&&(r={});var i=[],s=function(a){return Oe(l,void 0,void 0,function(){return Le(this,function(f){return[2,this._getList(e,a,o||200,r).then(function(d){var h=d,_=h.items,g=h.totalItems;return i=i.concat(_),_.length&&g>i.length?s(a+1):i})]})})};return s(1)},t.prototype._getList=function(e,o,r,l){var i=this;return o===void 0&&(o=1),r===void 0&&(r=30),l===void 0&&(l={}),l=Object.assign({page:o,perPage:r},l),this.client.send(e,{method:"GET",params:l}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var f=0,d=s.items;f<d.length;f++){var h=d[f];a.push(i.decode(h))}}return new Nr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,r){var l=this;return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:r}).then(function(i){return l.decode(i)})},t.prototype._getFirstListItem=function(e,o,r){return r===void 0&&(r={}),r=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},r),this._getList(e,1,1,r).then(function(l){var i;if(!(!((i=l==null?void 0:l.items)===null||i===void 0)&&i.length))throw new $e({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return l.items[0]})},t.prototype._create=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e,{method:"POST",params:r,body:o}).then(function(i){return l.decode(i)})},t.prototype._update=function(e,o,r,l){var i=this;return r===void 0&&(r={}),l===void 0&&(l={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:l,body:r}).then(function(s){return i.decode(s)})},t.prototype._delete=function(e,o,r){return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t}(at)),Pi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.decode=function(e){return new jn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(i){var s,a;return l.client.authStore.model&&((s=l.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=l.client.authStore.model)===null||a===void 0?void 0:a.id)===(i==null?void 0:i.id)&&l.client.authStore.save(l.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(l){var i,s;return l&&r.client.authStore.model&&((i=r.client.authStore.model)===null||i===void 0?void 0:i.collectionId)===void 0&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&r.client.authStore.clear(),l})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,r,l){return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:l,body:r}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:o,passwordConfirm:r},l),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},t}(Nn),Oi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Tt),Li=function(n){function t(e,o){var r=n.call(this,e)||this;return r.collectionIdOrName=o,r}return Me(t,n),t.prototype.decode=function(e){return new Ht(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Oe(this,void 0,void 0,function(){return Le(this,function(r){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Oe(this,void 0,void 0,function(){var r;return Le(this,function(l){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return r=this.collectionIdOrName,e!=="*"&&(r+="/"+e),[2,this.client.realtime.subscribe(r,o)]})})},t.prototype.unsubscribe=function(e){return Oe(this,void 0,void 0,function(){return Le(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var r=Object.assign({},e,o);return n.prototype.getFullList.call(this,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),n.prototype.getList.call(this,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(i){var s,a,f;return((s=l.client.authStore.model)===null||s===void 0?void 0:s.id)!==(i==null?void 0:i.id)||((a=l.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==l.collectionIdOrName&&((f=l.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==l.collectionIdOrName||l.client.authStore.save(l.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(l){var i,s,a;return!l||((i=r.client.authStore.model)===null||i===void 0?void 0:i.id)!==e||((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==r.collectionIdOrName&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==r.collectionIdOrName||r.client.authStore.clear(),l})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,r,l){var i=this;return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:l,body:r}).then(function(s){return i.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,r,l,i,s,a){var f=this;return i===void 0&&(i={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:r,redirectUrl:l,createData:i},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(d){return f.authResponse(d)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Oe(this,void 0,void 0,function(){var r,l,i,s,a=this;return Le(this,function(f){switch(f.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(r=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(l=f.sent(),!(i=l.authProviders.find(function(d){return d.name===r.provider})))throw new $e(new Error('Missing or invalid provider "'.concat(r.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,h){return Oe(a,void 0,void 0,function(){var _,g,m,b,v=this;return Le(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(w){return Oe(v,void 0,void 0,function(){var A,I,O;return Le(this,function(y){switch(y.label){case 0:A=this.client.realtime.clientId,y.label=1;case 1:if(y.trys.push([1,3,,4]),_(),!w.state||A!==w.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(i.name,w.code,i.codeVerifier,s,r.createData,r.body,r.query)];case 2:return I=y.sent(),d(I),[3,4];case 3:return O=y.sent(),h(new $e(O)),[3,4];case 4:return[2]}})})})];case 1:return _=k.sent(),(g=new URL(i.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((b=r.scopes)===null||b===void 0)&&b.length&&g.searchParams.set("scope",r.scopes.join(" ")),[4,r.urlCallback?r.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return k.sent(),[3,4];case 3:return m=k.sent(),h(new $e(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var r=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(l){return r.authResponse(l)})},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:o,passwordConfirm:r},l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,r,l){return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({token:e,password:o},r),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:l,body:r}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(r){var l=[];if(Array.isArray(r))for(var i=0,s=r;i<s.length;i++){var a=s[i];l.push(new Oi(a))}return l})},t.prototype.unlinkExternalAuth=function(e,o,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new $e(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,r=768,l=window.innerWidth,i=window.innerHeight,s=l/2-(o=o>l?l:o)/2,a=i/2-(r=r>i?i:r)/2;window.open(e,"oauth2-popup","width="+o+",height="+r+",top="+a+",left="+s+",resizable,menubar=no")},t}(Nn),Ei=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Mi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,r=e.schema;o<r.length;o++){var l=r[o];this.schema.push(new Ei(l))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Tt),Ri=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.decode=function(e){return new Mi(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,r){return o===void 0&&(o=!1),r===void 0&&(r={}),Oe(this,void 0,void 0,function(){return Le(this,function(l){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:r,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Nn),eo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Tt),ji=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getRequestsList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:o},r),this.client.send("/api/logs/requests",{method:"GET",params:r}).then(function(l){var i=[];if(l!=null&&l.items){l.items=(l==null?void 0:l.items)||[];for(var s=0,a=l.items;s<a.length;s++){var f=a[s];i.push(new eo(f))}}return new Nr((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,i)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(r){return new eo(r)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(at),Ni=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Me(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var r;return Oe(this,void 0,void 0,function(){var l,i=this;return Le(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return l=function(a){var f,d=a;try{f=JSON.parse(d==null?void 0:d.data)}catch{}o(f||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(l),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(r=this.eventSource)===null||r===void 0||r.addEventListener(e,l),s.label=5;case 5:return[2,function(){return Oe(i,void 0,void 0,function(){return Le(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,l)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Oe(this,void 0,void 0,function(){var r,l,i;return Le(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(r=0,l=this.subscriptions[e];r<l.length;r++)i=l[r],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,i);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Oe(this,void 0,void 0,function(){var r,l,i,s,a;return Le(this,function(f){switch(f.label){case 0:for(l in r=!1,this.subscriptions)if(l.startsWith(e)){for(r=!0,i=0,s=this.subscriptions[l];i<s.length;i++)a=s[i],(o=this.eventSource)===null||o===void 0||o.removeEventListener(l,a);delete this.subscriptions[l]}return r?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var r;return Oe(this,void 0,void 0,function(){var l,i;return Le(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(l=!1,i=this.subscriptions[e].length-1;i>=0;i--)this.subscriptions[e][i]===o&&(l=!0,delete this.subscriptions[e][i],this.subscriptions[e].splice(i,1),(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,o));return l?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,r;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var l in this.subscriptions)if(!((r=this.subscriptions[l])===null||r===void 0)&&r.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Oe(this,void 0,void 0,function(){return Le(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var l=r[o];this.eventSource.addEventListener(e,l)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var l=r[o];this.eventSource.removeEventListener(e,l)}},t.prototype.connect=function(){return Oe(this,void 0,void 0,function(){var e=this;return Le(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(r,l){e.pendingConnects.push({resolve:r,reject:l}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var r=o;e.clientId=r==null?void 0:r.lastEventId,e.submitSubscriptions().then(function(){return Oe(e,void 0,void 0,function(){var l;return Le(this,function(i){switch(i.label){case 0:l=3,i.label=1;case 1:return this.hasUnsentSubscriptions()&&l>0?(l--,[4,this.submitSubscriptions()]):[3,3];case 2:return i.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var l=0,i=e.pendingConnects;l<i.length;l++)i[l].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(l){e.clientId="",e.connectErrorHandler(l)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,r=e;o<r.length;o++){var l=r[o];if(!this.lastSentTopics.includes(l))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var r=0,l=this.pendingConnects;r<l.length;r++)l[r].reject(new $e(e));this.disconnect()}else{this.disconnect(!0);var i=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},i)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var r=new $e(new Error("Realtime disconnected.")),l=0,i=this.pendingConnects;l<i.length;l++)i[l].reject(r);this.pendingConnects=[]}},t}(at),qi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(at),Di=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getUrl=function(e,o,r){r===void 0&&(r={});var l=[];l.push("api"),l.push("files"),l.push(encodeURIComponent(e.collectionId||e.collectionName)),l.push(encodeURIComponent(e.id)),l.push(encodeURIComponent(o));var i=this.client.buildUrl(l.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+s}return i},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(at),Bi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var r={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(at),Fi=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Ti,this.admins=new Pi(this),this.collections=new Ri(this),this.files=new Di(this),this.logs=new ji(this),this.settings=new Ii(this),this.realtime=new Ni(this),this.health=new qi(this),this.backups=new Bi(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Li(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,r,l,i,s,a,f,d;return Oe(this,void 0,void 0,function(){var h,_,g,m,b,v,k,w,A,I=this;return Le(this,function(O){switch(O.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((l=this.authStore)===null||l===void 0)&&l.token&&((i=h==null?void 0:h.headers)===null||i===void 0?void 0:i.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(f=h.params)===null||f===void 0||delete f.$autoCancel,(d=h.params)===null||d===void 0||delete d.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((b=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+b),delete h.params),this.beforeSend?(w=(k=Object).assign,A=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(v=w.apply(k,A.concat([O.sent()]))).url!==void 0||v.options!==void 0?(m=v.url||m,h=v.options||h):Object.keys(v).length&&(h=v,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),O.label=2;case 2:return[2,fetch(m,h).then(function(y){return Oe(I,void 0,void 0,function(){var C;return Le(this,function(P){switch(P.label){case 0:C={},P.label=1;case 1:return P.trys.push([1,3,,4]),[4,y.json()];case 2:return C=P.sent(),[3,4];case 3:return P.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(y,C)]:[3,6];case 5:C=P.sent(),P.label=6;case 6:if(y.status>=400)throw new $e({url:y.url,status:y.status,data:C});return[2,C]}})})}).catch(function(y){throw new $e(y)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var r=t[o],l=encodeURIComponent(o);if(Array.isArray(r))for(var i=0,s=r;i<s.length;i++){var a=s[i];e.push(l+"="+encodeURIComponent(a))}else r instanceof Date?e.push(l+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?e.push(l+"="+encodeURIComponent(JSON.stringify(r))):e.push(l+"="+encodeURIComponent(r))}return e.join("&")},n}();const ft=[];function Ui(n,t){return{subscribe:ze(n,t).subscribe}}function ze(n,t=ne){let e;const o=new Set;function r(s){if(be(n,s)&&(n=s,e)){const a=!ft.length;for(const f of o)f[1](),ft.push(f,n);if(a){for(let f=0;f<ft.length;f+=2)ft[f][0](ft[f+1]);ft.length=0}}}function l(s){r(s(n))}function i(s,a=ne){const f=[s,a];return o.add(f),o.size===1&&(e=t(r)||ne),s(n),()=>{o.delete(f),o.size===0&&e&&(e(),e=null)}}return{set:r,update:l,subscribe:i}}function qr(n,t,e){const o=!Array.isArray(n),r=o?[n]:n,l=t.length<2;return Ui(e,i=>{let s=!1;const a=[];let f=0,d=ne;const h=()=>{if(f)return;d();const g=t(o?a[0]:a,i);l?i(g):d=Wt(g)?g:ne},_=r.map((g,m)=>Ln(g,b=>{a[m]=b,f&=~(1<<m),s&&h()},()=>{f|=1<<m}));return s=!0,h(),function(){ie(_),d(),s=!1}})}const Zt="https://pb.readinglog.fun:4444",ue=new Fi(Zt),Ke=ze(ue.authStore.model);ue.authStore.onChange(n=>{console.log("authStore changed",n),Ke.set(ue.authStore.model)});const vn=ze("10"),ve="bottom-center",to={},bn={},Hi={},Dr=/^:(.+)/,no=4,zi=3,Ji=2,Gi=1,Vi=1,kn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),ln=n=>n.replace(/(^\/+|\/+$)/g,""),Wi=(n,t)=>{const e=n.default?0:kn(n.path).reduce((o,r)=>(o+=no,r===""?o+=Vi:Dr.test(r)?o+=Ji:r[0]==="*"?o-=no+Gi:o+=zi,o),0);return{route:n,score:e,index:t}},Qi=n=>n.map(Wi).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),oo=(n,t)=>{let e,o;const[r]=t.split("?"),l=kn(r),i=l[0]==="",s=Qi(n);for(let a=0,f=s.length;a<f;a++){const d=s[a].route;let h=!1;if(d.default){o={route:d,params:{},uri:t};continue}const _=kn(d.path),g={},m=Math.max(l.length,_.length);let b=0;for(;b<m;b++){const v=_[b],k=l[b];if(v&&v[0]==="*"){const A=v==="*"?"*":v.slice(1);g[A]=l.slice(b).map(decodeURIComponent).join("/");break}if(typeof k>"u"){h=!0;break}const w=Dr.exec(v);if(w&&!i){const A=decodeURIComponent(k);g[w[1]]=A}else if(v!==k){h=!0;break}}if(!h){e={route:d,params:g,uri:"/"+l.slice(0,b).join("/")};break}}return e||o||null},ro=(n,t)=>`${ln(t==="/"?n:`${ln(n)}/${ln(t)}`)}/`,Br=typeof window<"u"&&"document"in window,sn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Ki=n=>{const t=[];let e=sn(n);return{get location(){return e},listen(o){t.push(o);const r=()=>{e=sn(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",r),()=>{n.removeEventListener("popstate",r);const l=t.indexOf(o);t.splice(l,1)}},navigate(o,{state:r,replace:l=!1}={}){r={...r,key:Date.now()+""};try{l?n.history.replaceState(r,"",o):n.history.pushState(r,"",o)}catch{n.location[l?"replace":"assign"](o)}e=sn(n),t.forEach(i=>i({location:e,action:"PUSH"})),document.activeElement.blur()}}},Yi=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(r,l){},removeEventListener(r,l){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(r,l,i){const[s,a=""]=i.split("?");t++,e.push({pathname:s,search:a}),o.push(r)},replaceState(r,l,i){const[s,a=""]=i.split("?");e[t]={pathname:s,search:a},o[t]=r}}}},Fr=Ki(Br?window:Yi()),{navigate:qn}=Fr,Xi=n=>({route:n&2,location:n&1}),lo=n=>({route:n[1]&&n[1].uri,location:n[0]});function Zi(n){let t;const e=n[12].default,o=Qt(e,n,n[11],lo);return{c(){o&&o.c()},m(r,l){o&&o.m(r,l),t=!0},p(r,[l]){o&&o.p&&(!t||l&2051)&&Yt(o,e,r,r[11],t?Kt(e,r[11],l,Xi):Xt(r[11]),lo)},i(r){t||($(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function $i(n,t,e){let o,r,l,i,{$$slots:s={},$$scope:a}=t,{basepath:f="/"}=t,{url:d=null}=t,{history:h=Fr}=t;on(Hi,h);const _=pn(to),g=pn(bn),m=ze([]);Ee(n,m,y=>e(9,r=y));const b=ze(null);Ee(n,b,y=>e(1,i=y));let v=!1;const k=_||ze(d?{pathname:d}:h.location);Ee(n,k,y=>e(0,o=y));const w=g?g.routerBase:ze({path:f,uri:f});Ee(n,w,y=>e(10,l=y));const A=qr([w,b],([y,C])=>{if(!C)return y;const{path:P}=y,{route:M,uri:E}=C;return{path:M.default?P:M.path.replace(/\*.*$/,""),uri:E}}),I=y=>{const{path:C}=l;let{path:P}=y;if(y._path=P,y.path=ro(C,P),typeof window>"u"){if(v)return;const M=oo([y],o.pathname);M&&(b.set(M),v=!0)}else m.update(M=>[...M,y])},O=y=>{m.update(C=>C.filter(P=>P!==y))};return _||(st(()=>h.listen(C=>{k.set(C.location)})),on(to,k)),on(bn,{activeRoute:b,base:w,routerBase:A,registerRoute:I,unregisterRoute:O}),n.$$set=y=>{"basepath"in y&&e(6,f=y.basepath),"url"in y&&e(7,d=y.url),"history"in y&&e(8,h=y.history),"$$scope"in y&&e(11,a=y.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:y}=l;m.update(C=>C.map(P=>({...P,path:ro(y,P._path)})))}if(n.$$.dirty&513){const y=oo(r,o.pathname);b.set(y)}},[o,i,m,b,k,w,f,d,h,r,l,a,s]}class Dn extends Ce{constructor(t){super(),we(this,t,$i,Zi,be,{basepath:6,url:7,history:8})}}const xi=n=>({params:n&4}),io=n=>({params:n[2]});function so(n){let t,e,o,r;const l=[ts,es],i=[];function s(a,f){return a[0]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=ge()},m(a,f){i[t].m(a,f),B(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?i[t].p(a,f):(Re(),ee(i[d],1,1,()=>{i[d]=null}),je(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){i[t].d(a),a&&q(o)}}}function es(n){let t;const e=n[8].default,o=Qt(e,n,n[7],io);return{c(){o&&o.c()},m(r,l){o&&o.m(r,l),t=!0},p(r,l){o&&o.p&&(!t||l&132)&&Yt(o,e,r,r[7],t?Kt(e,r[7],l,xi):Xt(r[7]),io)},i(r){t||($(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function ts(n){let t,e,o,r={ctx:n,current:null,token:null,hasCatch:!1,pending:rs,then:os,catch:ns,value:12,blocks:[,,,]};return Zn(e=n[0],r),{c(){t=ge(),r.block.c()},m(l,i){B(l,t,i),r.block.m(l,r.anchor=i),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(l,i){n=l,r.ctx=n,i&1&&e!==(e=n[0])&&Zn(e,r)||bi(r,n,i)},i(l){o||($(r.block),o=!0)},o(l){for(let i=0;i<3;i+=1){const s=r.blocks[i];ee(s)}o=!1},d(l){l&&q(t),r.block.d(l),r.token=null,r=null}}}function ns(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function os(n){var s;let t,e,o;const r=[n[2],n[3]];var l=((s=n[12])==null?void 0:s.default)||n[12];function i(a){let f={};for(let d=0;d<r.length;d+=1)f=tt(f,r[d]);return{props:f}}return l&&(t=nt(l,i())),{c(){t&&ce(t.$$.fragment),e=ge()},m(a,f){t&&se(t,a,f),B(a,e,f),o=!0},p(a,f){var h;const d=f&12?At(r,[f&4&&yt(a[2]),f&8&&yt(a[3])]):{};if(f&1&&l!==(l=((h=a[12])==null?void 0:h.default)||a[12])){if(t){Re();const _=t;ee(_.$$.fragment,1,0,()=>{ae(_,1)}),je()}l?(t=nt(l,i()),ce(t.$$.fragment),$(t.$$.fragment,1),se(t,e.parentNode,e)):t=null}else l&&t.$set(d)},i(a){o||(t&&$(t.$$.fragment,a),o=!0)},o(a){t&&ee(t.$$.fragment,a),o=!1},d(a){a&&q(e),t&&ae(t,a)}}}function rs(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function ls(n){let t,e,o=n[1]&&n[1].route===n[5]&&so(n);return{c(){o&&o.c(),t=ge()},m(r,l){o&&o.m(r,l),B(r,t,l),e=!0},p(r,[l]){r[1]&&r[1].route===r[5]?o?(o.p(r,l),l&2&&$(o,1)):(o=so(r),o.c(),$(o,1),o.m(t.parentNode,t)):o&&(Re(),ee(o,1,1,()=>{o=null}),je())},i(r){e||($(o),e=!0)},o(r){ee(o),e=!1},d(r){o&&o.d(r),r&&q(t)}}}function is(n,t,e){let o,{$$slots:r={},$$scope:l}=t,{path:i=""}=t,{component:s=null}=t,a={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:_}=pn(bn);Ee(n,_,m=>e(1,o=m));const g={path:i,default:i===""};return d(g),Mn(()=>{h(g)}),n.$$set=m=>{e(11,t=tt(tt({},t),Kn(m))),"path"in m&&e(6,i=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,l=m.$$scope)},n.$$.update=()=>{{o&&o.route===g&&e(2,a=o.params);const{component:m,path:b,...v}=t;e(3,f=v),Br&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=Kn(t),[s,o,a,f,_,g,i,l,r]}class _t extends Ce{constructor(t){super(),we(this,t,is,ls,be,{path:6,component:0})}}function ss(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(r,l){B(r,t,l),e||(o=T(t,"click",n[0]),e=!0)},p:ne,i:ne,o:ne,d(r){r&&q(t),e=!1,o()}}}function as(n){function t(){qn("/signup")}return[t]}class cs extends Ce{constructor(t){super(),we(this,t,as,ss,be,{})}}function us(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O;return m=new cs({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),l=p("hgroup"),l.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,i=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),ce(m.$$.fragment),b=S(),v=p("br"),k=S(),w=p("a"),w.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(d,"placeholder","Password"),u(d,"type","password"),u(_,"class","svelte-unkkz3"),u(w,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(y,C){B(y,t,C),c(t,e),c(e,o),c(o,r),c(r,l),c(r,i),c(r,s),c(s,a),X(a,n[0]),c(s,f),c(s,d),X(d,n[1]),c(s,h),c(s,_),c(r,g),se(m,r,null),c(r,b),c(r,v),c(r,k),c(r,w),A=!0,I||(O=[T(a,"input",n[4]),T(d,"input",n[5]),T(_,"click",n[2]),T(s,"submit",Be(n[3]))],I=!0)},p(y,[C]){C&1&&a.value!==y[0]&&X(a,y[0]),C&2&&d.value!==y[1]&&X(d,y[1])},i(y){A||($(m.$$.fragment,y),A=!0)},o(y){ee(m.$$.fragment,y),A=!1},d(y){y&&q(t),ae(m),I=!1,ie(O)}}}function fs(n,t,e){let o,r;async function l(){try{const f=await ue.collection("users").authWithPassword(o,r);console.log(f)}catch(f){alert(f)}}function i(f){De.call(this,n,f)}function s(){o=this.value,e(0,o)}function a(){r=this.value,e(1,r)}return[o,r,l,i,s,a]}class Bn extends Ce{constructor(t){super(),we(this,t,fs,us,be,{})}}function ds(n,t,e,o){var r,l,i=!1,s=e.length>=2,a=(m,b,v)=>{if(r=b,s&&(l=m),!i){let k=t(m,b,v);if(t.length<2)b(k);else return k}i=!1},f=qr(n,a,o),d=!Array.isArray(n);function h(m){var b=e(m,l);d?(i=!0,n.set(b)):b.forEach((v,k)=>{i=!0,n[k].set(v)}),i=!1}var _=!1;function g(m){var b,v,k,w;if(_){w=m(dn(f)),r(w);return}var A=f.subscribe(I=>{_?b?v=!0:b=!0:k=I});w=m(k),_=!0,r(w),A(),_=!1,v&&(w=dn(f)),b&&h(w)}return{subscribe:f.subscribe,set(m){g(()=>m)},update:g}}const ps=20,ct=ze([]),Fn=ze(null),Dt=new Map,ao=n=>{if(Dt.has(n))return;const t=setTimeout(()=>{Dt.delete(n),Hr(n)},1e3);Dt.set(n,t)},hs=n=>{const t=Dt.get(n);t&&clearTimeout(t)};function Ur(n){n.id&&hs(n.id),ct.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function _s(n){ct.update(t=>[n,...t].slice(0,ps))}function ms(n){dn(ct).find(t=>t.id===n.id)?Ur(n):_s(n)}function gs(n){ct.update(t=>(n?ao(n):t.forEach(e=>{ao(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Hr(n){ct.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function vs(n){Fn.set(n)}function bs(n){let t;Fn.update(e=>(t=n-(e||0),null)),ct.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const ks={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ys(n={}){return{toasts:ds(ct,e=>e.map(o=>{var r,l;return{...n,...n[o.type],...o,duration:o.duration||((r=n[o.type])==null?void 0:r.duration)||(n==null?void 0:n.duration)||ks[o.type],style:[n.style,(l=n[o.type])==null?void 0:l.style,o.style].join(";")}}),e=>e),pausedAt:Fn}}const ws=n=>typeof n=="function",co=(n,t)=>ws(n)?n(t):n,Cs=(()=>{let n=0;return()=>(n+=1,n.toString())})(),zr=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ss=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Cs()}),It=n=>(t,e)=>{const o=Ss(t,n,e);return ms(o),o.id},de=(n,t)=>It("blank")(n,t);de.error=It("error");de.success=It("success");de.loading=It("loading");de.custom=It("custom");de.dismiss=n=>{gs(n)};de.remove=n=>Hr(n);de.promise=(n,t,e)=>{const o=de.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(r=>(de.success(co(t.success,r),{id:o,...e,...e==null?void 0:e.success}),r)).catch(r=>{de.error(co(t.error,r),{id:o,...e,...e==null?void 0:e.error})}),n};function As(n,t,e){const{reverseOrder:o,gutter:r=8,defaultPosition:l}=e||{},i=t.filter(d=>(d.position||l)===(n.position||l)&&d.height),s=i.findIndex(d=>d.id===n.id),a=i.filter((d,h)=>h<s&&d.visible).length;return i.filter(d=>d.visible).slice(...o?[a+1]:[0,a]).reduce((d,h)=>d+(h.height||0)+r,0)}const Ts={startPause(){vs(Date.now())},endPause(){bs(Date.now())},updateHeight:(n,t)=>{Ur({id:n,height:t})},calculateOffset:As};function Is(n){const{toasts:t,pausedAt:e}=ys(n),o=new Map;let r;const l=[e.subscribe(i=>{if(i){for(const[,s]of o)clearTimeout(s);o.clear()}r=i}),t.subscribe(i=>{if(r)return;const s=Date.now();for(const a of i){if(o.has(a.id)||a.duration===1/0)continue;const f=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(f<0)return a.visible&&de.dismiss(a.id),null;o.set(a.id,setTimeout(()=>de.dismiss(a.id),f))}})];return Mn(()=>{for(const i of l)i()}),{toasts:t,handlers:Ts}}function Ps(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),_e(t,"--primary",n[0]),_e(t,"--secondary",n[1])},m(e,o){B(e,t,o)},p(e,[o]){o&1&&_e(t,"--primary",e[0]),o&2&&_e(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&q(t)}}}function Os(n,t,e){let{primary:o="#61d345"}=t,{secondary:r="#fff"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class Ls extends Ce{constructor(t){super(),we(this,t,Os,Ps,be,{primary:0,secondary:1})}}function Es(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),_e(t,"--primary",n[0]),_e(t,"--secondary",n[1])},m(e,o){B(e,t,o)},p(e,[o]){o&1&&_e(t,"--primary",e[0]),o&2&&_e(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&q(t)}}}function Ms(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:r="#fff"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class Rs extends Ce{constructor(t){super(),we(this,t,Ms,Es,be,{primary:0,secondary:1})}}function js(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),_e(t,"--primary",n[0]),_e(t,"--secondary",n[1])},m(e,o){B(e,t,o)},p(e,[o]){o&1&&_e(t,"--primary",e[0]),o&2&&_e(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&q(t)}}}function Ns(n,t,e){let{primary:o="#616161"}=t,{secondary:r="#e0e0e0"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class qs extends Ce{constructor(t){super(),we(this,t,Ns,js,be,{primary:0,secondary:1})}}function Ds(n){let t,e,o,r;const l=[n[0]];let i={};for(let a=0;a<l.length;a+=1)i=tt(i,l[a]);e=new qs({props:i});let s=n[2]!=="loading"&&uo(n);return{c(){t=p("div"),ce(e.$$.fragment),o=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,f){B(a,t,f),se(e,t,null),c(t,o),s&&s.m(t,null),r=!0},p(a,f){const d=f&1?At(l,[yt(a[0])]):{};e.$set(d),a[2]!=="loading"?s?(s.p(a,f),f&4&&$(s,1)):(s=uo(a),s.c(),$(s,1),s.m(t,null)):s&&(Re(),ee(s,1,1,()=>{s=null}),je())},i(a){r||($(e.$$.fragment,a),$(s),r=!0)},o(a){ee(e.$$.fragment,a),ee(s),r=!1},d(a){a&&q(t),ae(e),s&&s.d()}}}function Bs(n){let t,e,o;var r=n[1];function l(i){return{}}return r&&(t=nt(r,l())),{c(){t&&ce(t.$$.fragment),e=ge()},m(i,s){t&&se(t,i,s),B(i,e,s),o=!0},p(i,s){if(s&2&&r!==(r=i[1])){if(t){Re();const a=t;ee(a.$$.fragment,1,0,()=>{ae(a,1)}),je()}r?(t=nt(r,l()),ce(t.$$.fragment),$(t.$$.fragment,1),se(t,e.parentNode,e)):t=null}},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&ee(t.$$.fragment,i),o=!1},d(i){i&&q(e),t&&ae(t,i)}}}function Fs(n){let t,e;return{c(){t=p("div"),e=F(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,r){B(o,t,r),c(t,e)},p(o,r){r&2&&re(e,o[1])},i:ne,o:ne,d(o){o&&q(t)}}}function uo(n){let t,e,o,r;const l=[Hs,Us],i=[];function s(a,f){return a[2]==="error"?0:1}return e=s(n),o=i[e]=l[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,f){B(a,t,f),i[e].m(t,null),r=!0},p(a,f){let d=e;e=s(a),e===d?i[e].p(a,f):(Re(),ee(i[d],1,1,()=>{i[d]=null}),je(),o=i[e],o?o.p(a,f):(o=i[e]=l[e](a),o.c()),$(o,1),o.m(t,null))},i(a){r||($(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&q(t),i[e].d()}}}function Us(n){let t,e;const o=[n[0]];let r={};for(let l=0;l<o.length;l+=1)r=tt(r,o[l]);return t=new Ls({props:r}),{c(){ce(t.$$.fragment)},m(l,i){se(t,l,i),e=!0},p(l,i){const s=i&1?At(o,[yt(l[0])]):{};t.$set(s)},i(l){e||($(t.$$.fragment,l),e=!0)},o(l){ee(t.$$.fragment,l),e=!1},d(l){ae(t,l)}}}function Hs(n){let t,e;const o=[n[0]];let r={};for(let l=0;l<o.length;l+=1)r=tt(r,o[l]);return t=new Rs({props:r}),{c(){ce(t.$$.fragment)},m(l,i){se(t,l,i),e=!0},p(l,i){const s=i&1?At(o,[yt(l[0])]):{};t.$set(s)},i(l){e||($(t.$$.fragment,l),e=!0)},o(l){ee(t.$$.fragment,l),e=!1},d(l){ae(t,l)}}}function zs(n){let t,e,o,r;const l=[Fs,Bs,Ds],i=[];function s(a,f){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=i[t]=l[t](n)),{c(){e&&e.c(),o=ge()},m(a,f){~t&&i[t].m(a,f),B(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?~t&&i[t].p(a,f):(e&&(Re(),ee(i[d],1,1,()=>{i[d]=null}),je()),~t?(e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o)):e=null)},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){~t&&i[t].d(a),a&&q(o)}}}function Js(n,t,e){let o,r,l,{toast:i}=t;return n.$$set=s=>{"toast"in s&&e(3,i=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:r,iconTheme:l}=i,o,(e(1,r),e(3,i)),(e(0,l),e(3,i)))},[l,r,o,i]}class Un extends Ce{constructor(t){super(),we(this,t,Js,zs,be,{toast:3})}}function Gs(n){let t,e,o;var r=n[0].message;function l(i){return{props:{toast:i[0]}}}return r&&(t=nt(r,l(n))),{c(){t&&ce(t.$$.fragment),e=ge()},m(i,s){t&&se(t,i,s),B(i,e,s),o=!0},p(i,s){const a={};if(s&1&&(a.toast=i[0]),s&1&&r!==(r=i[0].message)){if(t){Re();const f=t;ee(f.$$.fragment,1,0,()=>{ae(f,1)}),je()}r?(t=nt(r,l(i)),ce(t.$$.fragment),$(t.$$.fragment,1),se(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&ee(t.$$.fragment,i),o=!1},d(i){i&&q(e),t&&ae(t,i)}}}function Vs(n){let t=n[0].message+"",e;return{c(){e=F(t)},m(o,r){B(o,e,r)},p(o,r){r&1&&t!==(t=o[0].message+"")&&re(e,t)},i:ne,o:ne,d(o){o&&q(e)}}}function Ws(n){let t,e,o,r;const l=[Vs,Gs],i=[];function s(d,h){return typeof d[0].message=="string"?0:1}e=s(n),o=i[e]=l[e](n);let a=[{class:"message"},n[0].ariaProps],f={};for(let d=0;d<a.length;d+=1)f=tt(f,a[d]);return{c(){t=p("div"),o.c(),Yn(t,f),vt(t,"svelte-1nauejd",!0)},m(d,h){B(d,t,h),i[e].m(t,null),r=!0},p(d,[h]){let _=e;e=s(d),e===_?i[e].p(d,h):(Re(),ee(i[_],1,1,()=>{i[_]=null}),je(),o=i[e],o?o.p(d,h):(o=i[e]=l[e](d),o.c()),$(o,1),o.m(t,null)),Yn(t,f=At(a,[{class:"message"},h&1&&d[0].ariaProps])),vt(t,"svelte-1nauejd",!0)},i(d){r||($(o),r=!0)},o(d){ee(o),r=!1},d(d){d&&q(t),i[e].d()}}}function Qs(n,t,e){let{toast:o}=t;return n.$$set=r=>{"toast"in r&&e(0,o=r.toast)},[o]}class $t extends Ce{constructor(t){super(),we(this,t,Qs,Ws,be,{toast:0})}}const Ks=n=>({toast:n&1}),fo=n=>({ToastIcon:Un,ToastMessage:$t,toast:n[0]});function Ys(n){let t;const e=n[6].default,o=Qt(e,n,n[7],fo),r=o||Zs(n);return{c(){r&&r.c()},m(l,i){r&&r.m(l,i),t=!0},p(l,i){o?o.p&&(!t||i&129)&&Yt(o,e,l,l[7],t?Kt(e,l[7],i,Ks):Xt(l[7]),fo):r&&r.p&&(!t||i&1)&&r.p(l,t?i:-1)},i(l){t||($(r,l),t=!0)},o(l){ee(r,l),t=!1},d(l){r&&r.d(l)}}}function Xs(n){let t,e,o;var r=n[2];function l(i){return{props:{$$slots:{message:[xs],icon:[$s]},$$scope:{ctx:i}}}}return r&&(t=nt(r,l(n))),{c(){t&&ce(t.$$.fragment),e=ge()},m(i,s){t&&se(t,i,s),B(i,e,s),o=!0},p(i,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:i}),s&4&&r!==(r=i[2])){if(t){Re();const f=t;ee(f.$$.fragment,1,0,()=>{ae(f,1)}),je()}r?(t=nt(r,l(i)),ce(t.$$.fragment),$(t.$$.fragment,1),se(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&ee(t.$$.fragment,i),o=!1},d(i){i&&q(e),t&&ae(t,i)}}}function Zs(n){let t,e,o,r;return t=new Un({props:{toast:n[0]}}),o=new $t({props:{toast:n[0]}}),{c(){ce(t.$$.fragment),e=S(),ce(o.$$.fragment)},m(l,i){se(t,l,i),B(l,e,i),se(o,l,i),r=!0},p(l,i){const s={};i&1&&(s.toast=l[0]),t.$set(s);const a={};i&1&&(a.toast=l[0]),o.$set(a)},i(l){r||($(t.$$.fragment,l),$(o.$$.fragment,l),r=!0)},o(l){ee(t.$$.fragment,l),ee(o.$$.fragment,l),r=!1},d(l){ae(t,l),l&&q(e),ae(o,l)}}}function $s(n){let t,e;return t=new Un({props:{toast:n[0],slot:"icon"}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function xs(n){let t,e;return t=new $t({props:{toast:n[0],slot:"message"}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function ea(n){let t,e,o,r,l,i;const s=[Xs,Ys],a=[];function f(d,h){return d[2]?0:1}return e=f(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",r="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",l=n[1]+"; "+n[0].style),_e(t,"--factor",n[3])},m(d,h){B(d,t,h),a[e].m(t,null),i=!0},p(d,[h]){let _=e;e=f(d),e===_?a[e].p(d,h):(Re(),ee(a[_],1,1,()=>{a[_]=null}),je(),o=a[e],o?o.p(d,h):(o=a[e]=s[e](d),o.c()),$(o,1),o.m(t,null)),(!i||h&17&&r!==(r="base "+(d[0].height?d[4]:"transparent")+" "+(d[0].className||"")+" svelte-ug60r4"))&&u(t,"class",r),(!i||h&3&&l!==(l=d[1]+"; "+d[0].style))&&u(t,"style",l),(h&3||h&11)&&_e(t,"--factor",d[3])},i(d){i||($(o),i=!0)},o(d){ee(o),i=!1},d(d){d&&q(t),a[e].d()}}}function ta(n,t,e){let{$$slots:o={},$$scope:r}=t,{toast:l}=t,{position:i=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,f,d;return n.$$set=h=>{"toast"in h&&e(0,l=h.toast),"position"in h&&e(5,i=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,r=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(l.position||i||"top-center").includes("top");e(3,f=h?1:-1);const[_,g]=zr()?["fadeIn","fadeOut"]:["enter","exit"];e(4,d=l.visible?_:g)}},[l,s,a,f,d,i,o,r]}class na extends Ce{constructor(t){super(),we(this,t,ta,ea,be,{toast:0,position:5,style:1,Component:2})}}const oa=n=>({toast:n&1}),po=n=>({toast:n[0]});function ra(n){let t;const e=n[8].default,o=Qt(e,n,n[7],po),r=o||ia(n);return{c(){r&&r.c()},m(l,i){r&&r.m(l,i),t=!0},p(l,i){o?o.p&&(!t||i&129)&&Yt(o,e,l,l[7],t?Kt(e,l[7],i,oa):Xt(l[7]),po):r&&r.p&&(!t||i&1)&&r.p(l,t?i:-1)},i(l){t||($(r,l),t=!0)},o(l){ee(r,l),t=!1},d(l){r&&r.d(l)}}}function la(n){let t,e;return t=new $t({props:{toast:n[0]}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function ia(n){let t,e;return t=new na({props:{toast:n[0],position:n[0].position}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),r&1&&(l.position=o[0].position),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function sa(n){let t,e,o,r;const l=[la,ra],i=[];function s(a,f){return a[0].type==="custom"?0:1}return e=s(n),o=i[e]=l[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),vt(t,"active",n[0].visible),vt(t,"transition",!zr()),_e(t,"--factor",n[3]),_e(t,"--offset",n[0].offset),_e(t,"top",n[5]),_e(t,"bottom",n[4]),_e(t,"justify-content",n[2])},m(a,f){B(a,t,f),i[e].m(t,null),n[9](t),r=!0},p(a,[f]){let d=e;e=s(a),e===d?i[e].p(a,f):(Re(),ee(i[d],1,1,()=>{i[d]=null}),je(),o=i[e],o?o.p(a,f):(o=i[e]=l[e](a),o.c()),$(o,1),o.m(t,null)),(!r||f&1)&&vt(t,"active",a[0].visible),f&8&&_e(t,"--factor",a[3]),f&1&&_e(t,"--offset",a[0].offset),f&32&&_e(t,"top",a[5]),f&16&&_e(t,"bottom",a[4]),f&4&&_e(t,"justify-content",a[2])},i(a){r||($(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&q(t),i[e].d(),n[9](null)}}}function aa(n,t,e){let o,r,l,i,{$$slots:s={},$$scope:a}=t,{toast:f}=t,{setHeight:d}=t,h;st(()=>{d(h.getBoundingClientRect().height)});function _(g){hn[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,f=g.toast),"setHeight"in g&&e(6,d=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,b,v,k;n.$$.dirty&1&&e(5,o=(g=f.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,r=(m=f.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,l=(b=f.position)!=null&&b.includes("top")?1:-1),n.$$.dirty&1&&e(2,i=((v=f.position)==null?void 0:v.includes("center"))&&"center"||((k=f.position)==null?void 0:k.includes("right"))&&"flex-end"||null)},[f,h,i,l,r,o,d,a,s,_]}class ca extends Ce{constructor(t){super(),we(this,t,aa,sa,be,{toast:0,setHeight:6})}}function ho(n,t,e){const o=n.slice();return o[11]=t[e],o}function _o(n,t){let e,o,r;function l(...i){return t[10](t[11],...i)}return o=new ca({props:{toast:t[11],setHeight:l}}),{key:n,first:null,c(){e=ge(),ce(o.$$.fragment),this.first=e},m(i,s){B(i,e,s),se(o,i,s),r=!0},p(i,s){t=i;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=l),o.$set(a)},i(i){r||($(o.$$.fragment,i),r=!0)},o(i){ee(o.$$.fragment,i),r=!1},d(i){i&&q(e),ae(o,i)}}}function ua(n){let t,e=[],o=new Map,r,l,i,s,a=n[2];const f=d=>d[11].id;for(let d=0;d<a.length;d+=1){let h=ho(n,a,d),_=f(h);o.set(_,e[d]=_o(_,h))}return{c(){t=p("div");for(let d=0;d<e.length;d+=1)e[d].c();u(t,"class",r="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(d,h){B(d,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);l=!0,i||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],i=!0)},p(d,[h]){h&20&&(a=d[2],Re(),e=He(e,h,f,1,d,a,o,t,ki,_o,null,ho),je()),(!l||h&2&&r!==(r="toaster "+(d[1]||"")+" svelte-1phplh9"))&&u(t,"class",r),(!l||h&1)&&u(t,"style",d[0])},i(d){if(!l){for(let h=0;h<a.length;h+=1)$(e[h]);l=!0}},o(d){for(let h=0;h<e.length;h+=1)ee(e[h]);l=!1},d(d){d&&q(t);for(let h=0;h<e.length;h+=1)e[h].d();i=!1,ie(s)}}}function fa(n,t,e){let o,{reverseOrder:r=!1}=t,{position:l="top-center"}=t,{toastOptions:i=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:f=void 0}=t;const{toasts:d,handlers:h}=Is(i);Ee(n,d,m=>e(9,o=m));let _;const g=(m,b)=>h.updateHeight(m.id,b);return n.$$set=m=>{"reverseOrder"in m&&e(5,r=m.reverseOrder),"position"in m&&e(6,l=m.position),"toastOptions"in m&&e(7,i=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,f=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(m=>({...m,position:m.position||l,offset:h.calculateOffset(m,o,{reverseOrder:r,gutter:s,defaultPosition:l})})))},[a,f,_,d,h,r,l,i,s,o,g]}class Hn extends Ce{constructor(t){super(),we(this,t,fa,ua,be,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function mo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te,Z,G,U,V,K,W,N,Q,fe,Ne,x,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe,Y;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=S(),i=p("strong"),i.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,f=S(),d=p("p"),d.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",b=S(),v=p("p"),v.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,k=S(),w=p("p"),w.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,A=S(),I=p("p"),I.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,O=S(),y=p("p"),y.innerHTML="<strong>3. Use of the App</strong>",C=S(),P=p("p"),P.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,M=S(),E=p("p"),E.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,R=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,D=S(),j=p("p"),j.innerHTML="<strong>4. Privacy and Data Security</strong>",z=S(),J=p("p"),J.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,te=S(),Z=p("p"),Z.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,G=S(),U=p("p"),U.innerHTML="<strong>5. Limitation of Liability</strong>",V=S(),K=p("p"),K.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,W=S(),N=p("p"),N.innerHTML="<strong>6. Modification of Terms</strong>",Q=S(),fe=p("p"),fe.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,Ne=S(),x=p("p"),x.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",Se=S(),pe=p("p"),pe.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,oe=S(),he=p("p"),he.innerHTML="<strong>8. Severability</strong>",ke=S(),Ie=p("p"),Ie.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,We=S(),Ae=p("p"),Ae.innerHTML="<strong>9. Entire Agreement</strong>",le=S(),ye=p("p"),ye.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,Ye=S(),Fe=p("footer"),Te=p("a"),Te.textContent="Close",u(r,"href","#close"),u(r,"class","close"),u(Te,"href","#close"),u(Te,"role","button"),u(Te,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(Pe,et){B(Pe,t,et),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(e,s),c(e,a),c(e,f),c(e,d),c(e,h),c(e,_),c(e,g),c(e,m),c(e,b),c(e,v),c(e,k),c(e,w),c(e,A),c(e,I),c(e,O),c(e,y),c(e,C),c(e,P),c(e,M),c(e,E),c(e,R),c(e,L),c(e,D),c(e,j),c(e,z),c(e,J),c(e,te),c(e,Z),c(e,G),c(e,U),c(e,V),c(e,K),c(e,W),c(e,N),c(e,Q),c(e,fe),c(e,Ne),c(e,x),c(e,Se),c(e,pe),c(e,oe),c(e,he),c(e,ke),c(e,Ie),c(e,We),c(e,Ae),c(e,le),c(e,ye),c(e,Ye),c(e,Fe),c(Fe,Te),Xe||(Y=[T(r,"click",n[10]),T(Te,"click",n[10])],Xe=!0)},p:ne,d(Pe){Pe&&q(t),Xe=!1,ie(Y)}}}function da(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D=n[8]&&mo(n);return M=new Hn({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),l=p("hgroup"),l.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,i=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),v=p("fieldset"),k=p("label"),w=p("input"),A=F(`\r
              I agree to the\r
              `),I=p("a"),I.textContent="Terms and Conditions",O=S(),D&&D.c(),y=S(),C=p("button"),C.textContent="Sign Up",P=S(),ce(M.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(d,"placeholder","Email"),u(d,"type","email"),u(d,"aria-invalid",n[5]),d.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(w,"type","checkbox"),u(w,"id","terms"),u(w,"name","terms"),w.required=!0,u(I,"href","#terms"),u(k,"for","terms"),u(C,"type","submit"),u(C,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(j,z){B(j,t,z),c(t,e),c(e,o),c(o,r),c(r,l),c(r,i),c(r,s),c(s,a),X(a,n[3]),c(s,f),c(s,d),X(d,n[0]),c(s,h),c(s,_),X(_,n[1]),c(s,g),c(s,m),X(m,n[2]),c(s,b),c(s,v),c(v,k),c(k,w),w.checked=n[4],c(k,A),c(k,I),c(s,O),D&&D.m(s,null),c(s,y),c(s,C),c(t,P),se(M,t,null),E=!0,R||(L=[T(a,"input",n[12]),T(d,"input",n[13]),T(_,"input",n[14]),T(m,"input",n[15]),T(w,"change",n[16]),T(I,"click",n[10]),T(C,"click",n[9]),T(s,"submit",Be(n[11]))],R=!0)},p(j,[z]){z&8&&a.value!==j[3]&&X(a,j[3]),(!E||z&32)&&u(d,"aria-invalid",j[5]),z&1&&d.value!==j[0]&&X(d,j[0]),(!E||z&64)&&u(_,"aria-invalid",j[6]),z&2&&_.value!==j[1]&&X(_,j[1]),(!E||z&128)&&u(m,"aria-invalid",j[7]),z&4&&m.value!==j[2]&&X(m,j[2]),z&16&&(w.checked=j[4]),j[8]?D?D.p(j,z):(D=mo(j),D.c(),D.m(s,y)):D&&(D.d(1),D=null)},i(j){E||($(M.$$.fragment,j),E=!0)},o(j){ee(M.$$.fragment,j),E=!1},d(j){j&&q(t),D&&D.d(),ae(M),R=!1,ie(L)}}}let pa="student",ha=!0;function _a(n,t,e){let o,r,l,i,s=!1,a,f,d;async function h(){const O=await ue.collection("users").authWithPassword(r,l);console.log(O)}async function _(){if(!a&&!f&&!d&&s)try{const O={name:o,username:o.toLowerCase(),email:r,password:l,passwordConfirm:i,role:pa,isPublic:ha,language:"en",avatar_from_url:"https://pb.readinglog.fun:4444/api/files/fhm2u4u1k405dr7/h7rqwbiahhxwujr/robot_ToTI6ga0AY.png"},y=await ue.collection("users").create(O);await h()}catch(O){O.data.data.email.code&&de.error("Email already exist",{position:ve})}}let g=!1;function m(){e(8,g=!g)}function b(O){De.call(this,n,O)}function v(){o=this.value,e(3,o)}function k(){r=this.value,e(0,r)}function w(){l=this.value,e(1,l)}function A(){i=this.value,e(2,i)}function I(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(5,a=!1):e(5,a=!0)),l&&(l.length>=5?e(6,f=!1):e(6,f=!0)),i&&(i===l?e(7,d=!1):e(7,d=!0)))},[r,l,i,o,s,a,f,d,g,_,m,b,v,k,w,A,I]}class Jr extends Ce{constructor(t){super(),we(this,t,_a,da,be,{})}}function ma(n){let t,e,o,r,l,i;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("p"),r=F("An email with a reset link has been sent to "),l=p("strong"),i=F(n[0])},m(s,a){B(s,t,a),B(s,e,a),B(s,o,a),c(o,r),c(o,l),c(l,i)},p(s,a){a&1&&re(i,s[0])},d(s){s&&q(t),s&&q(e),s&&q(o)}}}function ga(n){let t,e,o,r,l,i,s,a,f,d;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("form"),r=p("label"),l=F(`Email\r
              `),i=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(i,"id","email"),u(i,"name","email"),u(i,"type","email"),u(i,"aria-invalid",n[2]),i.required=!0,u(r,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){B(h,t,_),B(h,e,_),B(h,o,_),c(o,r),c(r,l),c(r,i),X(i,n[0]),c(o,s),c(o,a),f||(d=[T(i,"input",n[5]),T(a,"click",n[3]),T(o,"submit",Be(n[4]))],f=!0)},p(h,_){_&4&&u(i,"aria-invalid",h[2]),_&1&&i.value!==h[0]&&X(i,h[0])},d(h){h&&q(t),h&&q(e),h&&q(o),f=!1,ie(d)}}}function va(n){let t,e,o,r,l,i,s,a;function f(_,g){return _[1]===!1?ga:ma}let d=f(n),h=d(n);return{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),h.c(),l=S(),i=p("a"),i.textContent="Back to Login Screen",u(i,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){B(_,t,g),c(t,e),c(e,o),c(o,r),h.m(r,null),c(r,l),c(r,i),s||(a=T(i,"click",n[6]),s=!0)},p(_,[g]){d===(d=f(_))&&h?h.p(_,g):(h.d(1),h=d(_),h&&(h.c(),h.m(r,l)))},i:ne,o:ne,d(_){_&&q(t),h.d(),s=!1,a()}}}function ba(n,t,e){let o=!1,r,l;async function i(){l||(await ue.collection("users").requestPasswordReset(r),e(1,o=!0))}function s(d){De.call(this,n,d)}function a(){r=this.value,e(0,r)}const f=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(2,l=!1):e(2,l=!0))},[r,o,l,i,s,a,f]}class ka extends Ce{constructor(t){super(),we(this,t,ba,va,be,{})}}const yn=ze(0),Bt=ze(0),ya=ze(500);function go(n,t,e){const o=n.slice();return o[113]=t[e],o}function vo(n,t,e){const o=n.slice();return o[113]=t[e],o}function bo(n,t,e){const o=n.slice();return o[118]=t[e],o}function ko(n,t,e){const o=n.slice();return o[121]=t[e],o}function wa(n){let t,e;return t=new Dn({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r[4]&1&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function Ca(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w;function A(L,D){return L[7].length===0?Ta:Aa}let I=A(n),O=I(n),y=n[29]&&wo(n),C=n[30]&&Ao(n),P=n[31]&&Oo(n),M=n[32]&&Eo(n),E=n[33]&&jo(n),R=n[28]&&No(n);return b=new Hn({}),{c(){t=p("div"),e=p("div"),o=S(),r=p("input"),l=S(),i=p("button"),i.textContent="Add Book",s=S(),O.c(),a=S(),y&&y.c(),f=S(),C&&C.c(),d=S(),P&&P.c(),h=S(),M&&M.c(),_=S(),E&&E.c(),g=S(),R&&R.c(),m=S(),ce(b.$$.fragment),u(e,"class","grid svelte-1h11vka"),u(r,"type","search"),u(r,"placeholder","Filter by Book Title, Author, or Status..."),u(i,"class","btn btn-primary"),u(t,"class","container")},m(L,D){B(L,t,D),c(t,e),c(t,o),c(t,r),X(r,n[34]),c(t,l),c(t,i),c(t,s),O.m(t,null),B(L,a,D),y&&y.m(L,D),B(L,f,D),C&&C.m(L,D),B(L,d,D),P&&P.m(L,D),B(L,h,D),M&&M.m(L,D),B(L,_,D),E&&E.m(L,D),B(L,g,D),R&&R.m(L,D),B(L,m,D),se(b,L,D),v=!0,k||(w=[T(r,"input",n[58]),T(i,"click",n[44])],k=!0)},p(L,D){D[1]&8&&r.value!==L[34]&&X(r,L[34]),I===(I=A(L))&&O?O.p(L,D):(O.d(1),O=I(L),O&&(O.c(),O.m(t,null))),L[29]?y?y.p(L,D):(y=wo(L),y.c(),y.m(f.parentNode,f)):y&&(y.d(1),y=null),L[30]?C?C.p(L,D):(C=Ao(L),C.c(),C.m(d.parentNode,d)):C&&(C.d(1),C=null),L[31]?P?P.p(L,D):(P=Oo(L),P.c(),P.m(h.parentNode,h)):P&&(P.d(1),P=null),L[32]?M?M.p(L,D):(M=Eo(L),M.c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),L[33]?E?E.p(L,D):(E=jo(L),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),L[28]?R?R.p(L,D):(R=No(L),R.c(),R.m(m.parentNode,m)):R&&(R.d(1),R=null)},i(L){v||($(b.$$.fragment,L),v=!0)},o(L){ee(b.$$.fragment,L),v=!1},d(L){L&&q(t),O.d(),L&&q(a),y&&y.d(L),L&&q(f),C&&C.d(L),L&&q(d),P&&P.d(L),L&&q(h),M&&M.d(L),L&&q(_),E&&E.d(L),L&&q(g),R&&R.d(L),L&&q(m),ae(b,L),k=!1,ie(w)}}}function Sa(n){let t,e,o,r;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),{c(){ce(t.$$.fragment),e=S(),ce(o.$$.fragment)},m(l,i){se(t,l,i),B(l,e,i),se(o,l,i),r=!0},p:ne,i(l){r||($(t.$$.fragment,l),$(o.$$.fragment,l),r=!0)},o(l){ee(t.$$.fragment,l),ee(o.$$.fragment,l),r=!1},d(l){ae(t,l),l&&q(e),ae(o,l)}}}function Aa(n){let t,e=[],o=new Map,r=n[35];const l=i=>i[121].id;for(let i=0;i<r.length;i+=1){let s=ko(n,r,i),a=l(s);o.set(a,e[i]=yo(a,s))}return{c(){t=p("div");for(let i=0;i<e.length;i+=1)e[i].c();u(t,"class","grid svelte-1h11vka")},m(i,s){B(i,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(i,s){s[0]&33488896|s[1]&32848&&(r=i[35],e=He(e,s,l,1,i,r,o,t,Ve,yo,null,ko))},d(i){i&&q(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Ta(n){let t,e,o,r,l,i,s,a,f,d,h;function _(O,y){return O[36].language==="en"?Ma:Ea}let g=_(n),m=g(n);function b(O,y){return O[36].language==="en"?ja:Ra}let v=b(n),k=v(n);function w(O,y){return O[36].language==="en"?qa:Na}let A=w(n),I=A(n);return{c(){t=p("article"),e=p("div"),e.textContent="👀",o=S(),r=p("p"),m.c(),l=S(),i=p("p"),k.c(),s=S(),a=p("div"),f=p("button"),I.c(),u(e,"class","empty-icon"),u(r,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(f,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-1h11vka")},m(O,y){B(O,t,y),c(t,e),c(t,o),c(t,r),m.m(r,null),c(t,l),c(t,i),k.m(i,null),c(t,s),c(t,a),c(a,f),I.m(f,null),d||(h=T(f,"click",n[46]),d=!0)},p(O,y){g!==(g=_(O))&&(m.d(1),m=g(O),m&&(m.c(),m.m(r,null))),v!==(v=b(O))&&(k.d(1),k=v(O),k&&(k.c(),k.m(i,null))),A!==(A=w(O))&&(I.d(1),I=A(O),I&&(I.c(),I.m(f,null)))},d(O){O&&q(t),m.d(),k.d(),I.d(),d=!1,h()}}}function Ia(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),me(e.src,o=n[121].googleCover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",l=n[121].bookId),u(t,"data-title",i=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,k){B(v,t,k),c(t,e),m||(b=[T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[76]),T(t,"click",n[46])],m=!0)},p(v,k){k[1]&16&&!me(e.src,o=v[121].googleCover)&&u(e,"src",o),k[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),k[1]&16&&l!==(l=v[121].bookId)&&u(t,"data-id",l),k[1]&16&&i!==(i=v[121].title)&&u(t,"data-title",i),k[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),k[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),k[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),k[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),k[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),k[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),k[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&q(t),m=!1,ie(b)}}}function Pa(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),me(e.src,o=n[37]+n[121].bookId+"/"+n[121].cover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",l=n[121].bookId),u(t,"data-title",i=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,k){B(v,t,k),c(t,e),m||(b=[T(t,"click",n[59]),T(t,"click",n[60]),T(t,"click",n[61]),T(t,"click",n[62]),T(t,"click",n[63]),T(t,"click",n[64]),T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[46])],m=!0)},p(v,k){k[1]&16&&!me(e.src,o=v[37]+v[121].bookId+"/"+v[121].cover)&&u(e,"src",o),k[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),k[1]&16&&l!==(l=v[121].bookId)&&u(t,"data-id",l),k[1]&16&&i!==(i=v[121].title)&&u(t,"data-title",i),k[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),k[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),k[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),k[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),k[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),k[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),k[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&q(t),m=!1,ie(b)}}}function Oa(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){B(e,t,o)},p:ne,d(e){e&&q(t)}}}function La(n){let t,e;return{c(){t=p("progress"),t.value=e=ot(n[121].pages_read,n[121].pages),u(t,"max","100")},m(o,r){B(o,t,r)},p(o,r){r[1]&16&&e!==(e=ot(o[121].pages_read,o[121].pages))&&(t.value=e)},d(o){o&&q(t)}}}function yo(n,t){let e,o,r,l,i,s,a=t[121].title+"",f,d,h,_,g=t[121].author+"",m,b,v,k,w=t[121].status+"",A,I,O,y;function C(D,j){return D[121].cover?Pa:Ia}let P=C(t),M=P(t);function E(D,j){return D[121].pages_read?La:Oa}let R=E(t),L=R(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),r=p("div"),M.c(),l=S(),i=p("hgroup"),s=p("h4"),f=F(a),d=S(),h=p("p"),_=F("By: "),m=F(g),b=S(),v=p("br"),k=S(),A=F(w),I=S(),O=p("footer"),L.c(),y=S(),u(r,"class","image-wrapper"),u(i,"class","svelte-1h11vka"),u(o,"class","content-wrapper svelte-1h11vka"),u(O,"class","svelte-1h11vka"),u(e,"data-hover","article"),u(e,"class","svelte-1h11vka"),this.first=e},m(D,j){B(D,e,j),c(e,o),c(o,r),M.m(r,null),c(o,l),c(o,i),c(i,s),c(s,f),c(i,d),c(i,h),c(h,_),c(h,m),c(h,b),c(h,v),c(h,k),c(h,A),c(e,I),c(e,O),L.m(O,null),c(e,y)},p(D,j){t=D,P===(P=C(t))&&M?M.p(t,j):(M.d(1),M=P(t),M&&(M.c(),M.m(r,null))),j[1]&16&&a!==(a=t[121].title+"")&&re(f,a),j[1]&16&&g!==(g=t[121].author+"")&&re(m,g),j[1]&16&&w!==(w=t[121].status+"")&&re(A,w),R===(R=E(t))&&L?L.p(t,j):(L.d(1),L=R(t),L&&(L.c(),L.m(O,null)))},d(D){D&&q(e),M.d(),L.d()}}}function Ea(n){let t;return{c(){t=F("Nada por aquí...")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function Ma(n){let t;return{c(){t=F("Nothing here yet...")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function Ra(n){let t;return{c(){t=F("Presione el botón para añadir un libro.")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function ja(n){let t;return{c(){t=F("Click the button to add a book.")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function Na(n){let t;return{c(){t=F("Añadir Libro")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function qa(n){let t;return{c(){t=F("Add Book")},m(e,o){B(e,t,o)},d(e){e&&q(t)}}}function wo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b=[],v=new Map,k,w,A=n[26];const I=O=>O[118].id;for(let O=0;O<A.length;O+=1){let y=bo(n,A,O),C=I(y);v.set(C,b[O]=So(C,y))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Search`),i=S(),s=p("form"),a=p("input"),f=S(),d=p("button"),h=F("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let O=0;O<b.length;O+=1)b[O].c();u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(d,"aria-busy",n[27]),u(e,"class","svelte-1h11vka"),t.open=!0},m(O,y){B(O,t,y),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h),c(s,_),c(s,g),c(e,m);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(e,null);k||(w=[T(r,"click",n[44]),T(a,"keyup",n[77]),T(d,"click",function(){Wt(n[49](n[25]))&&n[49](n[25]).apply(this,arguments)}),T(g,"click",n[45]),T(s,"submit",Be(n[57]))],k=!0)},p(O,y){n=O,y[0]&134217728&&u(d,"aria-busy",n[27]),y[0]&67161856|y[1]&16384&&(A=n[26],b=He(b,y,I,1,n,A,v,e,Ve,So,null,bo))},d(O){O&&q(t);for(let y=0;y<b.length;y+=1)b[y].d();k=!1,ie(w)}}}function Co(n){let t,e,o;return{c(){t=p("img"),me(t.src,e=zt(n[118].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[118].volumeInfo.title),u(t,"class","svelte-1h11vka")},m(r,l){B(r,t,l)},p(r,l){l[0]&67108864&&!me(t.src,e=zt(r[118].volumeInfo.imageLinks))&&u(t,"src",e),l[0]&67108864&&o!==(o=r[118].volumeInfo.title)&&u(t,"alt",o)},d(r){r&&q(t)}}}function So(n,t){let e,o,r,l,i,s,a=t[118].volumeInfo.title+"",f,d,h,_,g=jt(t[118].volumeInfo.authors)+"",m,b,v,k,w=t[118].volumeInfo.language+"",A,I,O,y,C,P,M,E,R,L,D,j=t[118].volumeInfo.imageLinks&&Co(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),r=p("figure"),j&&j.c(),l=S(),i=p("figcaption"),s=p("strong"),f=F(a),d=S(),h=p("br"),_=F(`\r
                  By `),m=F(g),b=S(),v=p("br"),k=F(`\r
                  Language: `),A=F(w),I=S(),u(i,"class","svelte-1h11vka"),u(o,"data-hover",""),u(o,"class","svelte-1h11vka"),u(e,"href","#search"),u(e,"data-id",O=t[118].id),u(e,"data-title",y=t[118].volumeInfo.title),u(e,"data-author",C=jt(t[118].volumeInfo.authors)),u(e,"data-img",P=zt(t[118].volumeInfo.imageLinks)),u(e,"data-pages",M=t[118].volumeInfo.pageCount),u(e,"data-description",E=t[118].volumeInfo.description),u(e,"data-language",R=t[118].volumeInfo.language),u(e,"class","svelte-1h11vka"),this.first=e},m(z,J){B(z,e,J),c(e,o),c(o,r),j&&j.m(r,null),c(r,l),c(r,i),c(i,s),c(s,f),c(i,d),c(i,h),c(i,_),c(i,m),c(i,b),c(i,v),c(i,k),c(i,A),c(e,I),L||(D=[T(e,"click",t[78]),T(e,"click",t[79]),T(e,"click",t[80]),T(e,"click",t[81]),T(e,"click",t[82]),T(e,"click",t[83]),T(e,"click",t[45])],L=!0)},p(z,J){t=z,t[118].volumeInfo.imageLinks?j?j.p(t,J):(j=Co(t),j.c(),j.m(r,l)):j&&(j.d(1),j=null),J[0]&67108864&&a!==(a=t[118].volumeInfo.title+"")&&re(f,a),J[0]&67108864&&g!==(g=jt(t[118].volumeInfo.authors)+"")&&re(m,g),J[0]&67108864&&w!==(w=t[118].volumeInfo.language+"")&&re(A,w),J[0]&67108864&&O!==(O=t[118].id)&&u(e,"data-id",O),J[0]&67108864&&y!==(y=t[118].volumeInfo.title)&&u(e,"data-title",y),J[0]&67108864&&C!==(C=jt(t[118].volumeInfo.authors))&&u(e,"data-author",C),J[0]&67108864&&P!==(P=zt(t[118].volumeInfo.imageLinks))&&u(e,"data-img",P),J[0]&67108864&&M!==(M=t[118].volumeInfo.pageCount)&&u(e,"data-pages",M),J[0]&67108864&&E!==(E=t[118].volumeInfo.description)&&u(e,"data-description",E),J[0]&67108864&&R!==(R=t[118].volumeInfo.language)&&u(e,"data-language",R)},d(z){z&&q(e),j&&j.d(),L=!1,ie(D)}}}function Ao(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M=[],E=new Map,R,L,D,j,z,J,te,Z,G=n[14]&&To(n),U=n[6];const V=W=>W[113].id;for(let W=0;W<U.length;W+=1){let N=vo(n,U,W),Q=V(N);E.set(Q,M[W]=Io(Q,N))}let K=!n[14]&&Po(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Add Book`),i=S(),G&&G.c(),s=S(),a=p("form"),f=p("label"),d=F(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=F(`Author\r
            `),b=p("input"),v=S(),k=p("label"),w=F(`Pages\r
            `),A=p("input"),I=S(),O=p("label"),O.textContent="Collection",y=S(),C=p("select"),P=p("option"),P.textContent="Please select an option";for(let W=0;W<M.length;W+=1)M[W].c();R=S(),K&&K.c(),L=S(),D=p("footer"),j=p("a"),j.textContent="Cancel",z=S(),J=p("a"),J.textContent="Add Book",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(f,"for","title"),u(f,"class","svelte-1h11vka"),u(b,"id","author"),u(b,"name","author"),u(b,"placeholder","Author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(A,"id","pages"),u(A,"name","pages"),u(A,"placeholder","Pages"),u(A,"type","number"),u(k,"for","pages"),u(k,"class","svelte-1h11vka"),u(O,"for","collection"),u(O,"class","svelte-1h11vka"),P.__value="",P.value=P.__value,P.selected=!0,u(C,"id","collection"),n[12]===void 0&&xe(()=>n[87].call(C)),u(j,"href","#cancel"),u(j,"role","button"),u(j,"class","secondary svelte-1h11vka"),u(J,"href","#confirm"),u(J,"role","button"),u(J,"class","svelte-1h11vka"),u(D,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(W,N){B(W,t,N),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),G&&G.m(e,null),c(e,s),c(e,a),c(a,f),c(f,d),c(f,h),X(h,n[8]),c(a,_),c(a,g),c(g,m),c(g,b),X(b,n[9]),c(a,v),c(a,k),c(k,w),c(k,A),X(A,n[11]),c(a,I),c(a,O),c(a,y),c(a,C),c(C,P);for(let Q=0;Q<M.length;Q+=1)M[Q]&&M[Q].m(C,null);Ge(C,n[12],!0),c(a,R),K&&K.m(a,null),c(e,L),c(e,D),c(D,j),c(D,z),c(D,J),te||(Z=[T(r,"click",n[45]),T(h,"input",n[84]),T(b,"input",n[85]),T(A,"input",n[86]),T(C,"change",n[87]),T(a,"submit",Be(n[56])),T(j,"click",n[50]),T(J,"click",n[39]),T(J,"click",n[50])],te=!0)},p(W,N){W[14]?G?G.p(W,N):(G=To(W),G.c(),G.m(e,s)):G&&(G.d(1),G=null),N[0]&256&&h.value!==W[8]&&X(h,W[8]),N[0]&512&&b.value!==W[9]&&X(b,W[9]),N[0]&2048&&Je(A.value)!==W[11]&&X(A,W[11]),N[0]&64&&(U=W[6],M=He(M,N,V,1,W,U,E,C,Ve,Io,null,vo)),N[0]&4160&&Ge(C,W[12]),W[14]?K&&(K.d(1),K=null):K?K.p(W,N):(K=Po(W),K.c(),K.m(a,null))},d(W){W&&q(t),G&&G.d();for(let N=0;N<M.length;N+=1)M[N].d();K&&K.d(),te=!1,ie(Z)}}}function To(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=F("By "),s=F(n[9]),a=S(),f=p("br"),d=S(),h=p("br"),_=S(),g=p("p"),m=F(n[10]),me(e.src,o=n[14])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1h11vka"),u(l,"class","svelte-1h11vka")},m(b,v){B(b,t,v),c(t,e),c(t,r),c(t,l),c(l,i),c(l,s),c(l,a),c(l,f),c(l,d),c(l,h),c(l,_),c(l,g),c(g,m)},p(b,v){v[0]&16384&&!me(e.src,o=b[14])&&u(e,"src",o),v[0]&512&&re(s,b[9]),v[0]&1024&&re(m,b[10])},d(b){b&&q(t)}}}function Io(n,t){let e,o=t[113].collection+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[113].id,e.value=e.__value,this.first=e},m(i,s){B(i,e,s),c(e,r)},p(i,s){t=i,s[0]&64&&o!==(o=t[113].collection+"")&&re(r,o),s[0]&64&&l!==(l=t[113].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&q(e)}}}function Po(n){let t,e,o,r,l;return{c(){t=p("label"),e=F(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1h11vka")},m(i,s){B(i,t,s),c(t,e),c(t,o),r||(l=T(o,"change",n[88]),r=!0)},p:ne,d(i){i&&q(t),r=!1,l()}}}function Oo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C;function P(z,J){return z[20]?Ba:Da}let M=P(n),E=M(n),R=(n[24]==="🚀 reading"||n[24]==="⏳ not started")&&Lo(n);function L(z,J){if(z[24]==="🚀 reading"||z[24]==="⏳ not started")return Ua;if(z[24]==="✅ completed")return Fa}let D=L(n),j=D&&D(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=S(),i=p("strong"),s=F(n[16]),a=S(),E.c(),f=S(),d=p("progress"),_=S(),g=p("p"),m=F(n[24]),b=S(),v=p("br"),k=p("br"),w=S(),R&&R.c(),A=S(),I=p("a"),I.textContent="Edit Book Details",O=S(),j&&j.c(),u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","progressbar"),d.value=h=ot(n[20],n[19]),u(d,"max","100"),u(I,"href","#update"),u(I,"class","details svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(z,J){B(z,t,J),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(i,s),c(e,a),E.m(e,null),c(e,f),c(e,d),c(e,_),c(e,g),c(g,m),c(e,b),c(e,v),c(e,k),c(e,w),R&&R.m(e,null),c(e,A),c(e,I),c(e,O),j&&j.m(e,null),y||(C=[T(r,"click",n[46]),T(I,"click",n[47])],y=!0)},p(z,J){J[0]&65536&&re(s,z[16]),M===(M=P(z))&&E?E.p(z,J):(E.d(1),E=M(z),E&&(E.c(),E.m(e,f))),J[0]&1572864&&h!==(h=ot(z[20],z[19]))&&(d.value=h),J[0]&16777216&&re(m,z[24]),z[24]==="🚀 reading"||z[24]==="⏳ not started"?R?R.p(z,J):(R=Lo(z),R.c(),R.m(e,A)):R&&(R.d(1),R=null),D===(D=L(z))&&j?j.p(z,J):(j&&j.d(1),j=D&&D(z),j&&(j.c(),j.m(e,null)))},d(z){z&&q(t),E.d(),R&&R.d(),j&&j.d(),y=!1,ie(C)}}}function Da(n){let t,e,o,r=ot(n[20],n[19])+"",l,i,s,a,f;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),l=F(r),i=F("%"),s=F(`\r
            (0/`),a=F(n[19]),f=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(d,h){B(d,t,h),c(t,e),c(t,o),c(o,l),c(o,i),c(t,s),c(t,a),c(t,f)},p(d,h){h[0]&1572864&&r!==(r=ot(d[20],d[19])+"")&&re(l,r),h[0]&524288&&re(a,d[19])},d(d){d&&q(t)}}}function Ba(n){let t,e,o,r=ot(n[20],n[19])+"",l,i,s,a,f,d,h;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),l=F(r),i=F("%"),s=F(`\r
            (`),a=F(n[20]),f=F("/"),d=F(n[19]),h=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(_,g){B(_,t,g),c(t,e),c(t,o),c(o,l),c(o,i),c(t,s),c(t,a),c(t,f),c(t,d),c(t,h)},p(_,g){g[0]&1572864&&r!==(r=ot(_[20],_[19])+"")&&re(l,r),g[0]&1048576&&re(a,_[20]),g[0]&524288&&re(d,_[19])},d(_){_&&q(t)}}}function Lo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v;return{c(){t=p("form"),e=p("input"),o=S(),r=p("label"),l=F(`Date\r
              `),i=p("input"),s=S(),a=p("label"),f=F(`Pages Read\r
              `),d=p("input"),h=S(),_=p("label"),g=F(`Comment\r
              `),m=p("input"),_e(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),u(i,"placeholder","07/14/2023"),u(i,"id","date"),u(i,"name","date"),u(i,"type","date"),u(r,"for","date"),u(r,"class","svelte-1h11vka"),u(d,"id","pagesRead"),u(d,"name","pagesRead"),u(d,"type","number"),u(a,"for","pagesRead"),u(a,"class","svelte-1h11vka"),u(m,"id","comment"),u(m,"name","comment"),u(m,"placeholder","Tell the teacher about today's read."),u(m,"type","text"),u(_,"for","comment"),u(_,"class","svelte-1h11vka")},m(k,w){B(k,t,w),c(t,e),X(e,n[16]),c(t,o),c(t,r),c(r,l),c(r,i),X(i,n[0]),c(t,s),c(t,a),c(a,f),c(a,d),X(d,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),X(m,n[2]),b||(v=[T(e,"input",n[89]),T(i,"input",n[90]),T(d,"input",n[91]),T(m,"input",n[92]),T(t,"submit",Be(n[55]))],b=!0)},p(k,w){w[0]&65536&&e.value!==k[16]&&X(e,k[16]),w[0]&1&&X(i,k[0]),w[0]&2&&Je(d.value)!==k[1]&&X(d,k[1]),w[0]&4&&m.value!==k[2]&&X(m,k[2])},d(k){k&&q(t),b=!1,ie(v)}}}function Fa(n){let t,e,o,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(l,i){B(l,t,i),c(t,e),o||(r=T(e,"click",n[46]),o=!0)},p:ne,d(l){l&&q(t),o=!1,r()}}}function Ua(n){let t,e,o,r,l,i;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=S(),r=p("a"),r.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(r,"href","#confirm"),u(r,"role","button"),u(r,"class","svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(s,a){B(s,t,a),c(t,e),c(t,o),c(t,r),l||(i=[T(e,"click",n[46]),T(r,"click",n[40]),T(r,"click",n[46])],l=!0)},p:ne,d(s){s&&q(t),l=!1,ie(i)}}}function Eo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D,j=[],z=new Map,J,te,Z,G,U,V,K,W,N,Q,fe,Ne,x=n[6];const Se=oe=>oe[113].id;for(let oe=0;oe<x.length;oe+=1){let he=go(n,x,oe),ke=Se(he);z.set(ke,j[oe]=Mo(ke,he))}let pe=!n[22]&&Ro(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Edit Book Details`),i=S(),s=p("form"),a=p("label"),f=F(`Title\r
            `),d=p("input"),h=S(),_=p("div"),g=p("label"),m=F(`Author\r
              `),b=p("input"),v=S(),k=p("div"),w=p("label"),A=F(`Pages\r
              `),I=p("input"),O=S(),y=p("label"),C=F(`Review\r
            `),P=p("input"),M=S(),E=p("label"),E.textContent="Collection",R=S(),L=p("select"),D=p("option"),D.textContent="Please select an option";for(let oe=0;oe<j.length;oe+=1)j[oe].c();J=S(),pe&&pe.c(),te=S(),Z=p("footer"),G=p("div"),U=p("a"),U.textContent="Delete",V=S(),K=p("div"),W=p("a"),W.textContent="Cancel",N=S(),Q=p("a"),Q.textContent="Save",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","title"),u(d,"name","title"),u(d,"type","text"),u(a,"for","title"),u(a,"class","svelte-1h11vka"),u(b,"id","author"),u(b,"name","author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(I,"id","pages"),u(I,"name","pages"),u(I,"placeholder","Pages"),u(I,"type","number"),u(w,"for","pages"),u(w,"class","svelte-1h11vka"),u(k,"class","grid svelte-1h11vka"),u(P,"id","review"),u(P,"name","review"),u(P,"type","textarea"),u(y,"for","review"),u(y,"class","svelte-1h11vka"),u(E,"for","collection"),u(E,"class","svelte-1h11vka"),D.__value="",D.value=D.__value,D.selected=!0,u(L,"id","collection"),n[21]===void 0&&xe(()=>n[97].call(L)),u(U,"href","#delete"),u(U,"role","button"),u(U,"class","delete svelte-1h11vka"),u(W,"href","#cancel"),u(W,"role","button"),u(W,"class","secondary svelte-1h11vka"),u(Q,"href","#confirm"),u(Q,"role","button"),u(Q,"class","svelte-1h11vka"),u(Z,"data-button","spaceBetween"),u(Z,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(oe,he){B(oe,t,he),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),X(d,n[16]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,b),X(b,n[17]),c(s,v),c(s,k),c(k,w),c(w,A),c(w,I),X(I,n[19]),c(s,O),c(s,y),c(y,C),c(y,P),X(P,n[18]),c(s,M),c(s,E),c(s,R),c(s,L),c(L,D);for(let ke=0;ke<j.length;ke+=1)j[ke]&&j[ke].m(L,null);Ge(L,n[21],!0),c(e,J),pe&&pe.m(e,null),c(e,te),c(e,Z),c(Z,G),c(G,U),c(Z,V),c(Z,K),c(K,W),c(K,N),c(K,Q),fe||(Ne=[T(r,"click",n[47]),T(d,"input",n[93]),T(b,"input",n[94]),T(I,"input",n[95]),T(P,"input",n[96]),T(L,"change",n[97]),T(s,"submit",Be(n[54])),T(U,"click",n[51]),T(W,"click",n[47]),T(Q,"click",n[41]),T(Q,"click",n[47])],fe=!0)},p(oe,he){he[0]&65536&&d.value!==oe[16]&&X(d,oe[16]),he[0]&131072&&b.value!==oe[17]&&X(b,oe[17]),he[0]&524288&&Je(I.value)!==oe[19]&&X(I,oe[19]),he[0]&262144&&X(P,oe[18]),he[0]&64&&(x=oe[6],j=He(j,he,Se,1,oe,x,z,L,Ve,Mo,null,go)),he[0]&2097216&&Ge(L,oe[21]),oe[22]?pe&&(pe.d(1),pe=null):pe?pe.p(oe,he):(pe=Ro(oe),pe.c(),pe.m(e,te))},d(oe){oe&&q(t);for(let he=0;he<j.length;he+=1)j[he].d();pe&&pe.d(),fe=!1,ie(Ne)}}}function Mo(n,t){let e,o=t[113].collection+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[113].id,e.value=e.__value,this.first=e},m(i,s){B(i,e,s),c(e,r)},p(i,s){t=i,s[0]&64&&o!==(o=t[113].collection+"")&&re(r,o),s[0]&64&&l!==(l=t[113].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&q(e)}}}function Ro(n){let t,e,o,r,l,i;return{c(){t=p("form"),e=p("label"),o=F(`Cover Art\r
              `),r=p("input"),u(r,"type","file"),u(r,"id","file"),u(r,"name","file"),u(r,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1h11vka")},m(s,a){B(s,t,a),c(t,e),c(e,o),c(e,r),l||(i=[T(r,"change",n[98]),T(t,"submit",Be(n[53]))],l=!0)},p:ne,d(s){s&&q(t),l=!1,ie(i)}}}function jo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),l=p("p"),l.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,i=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1h11vka"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1h11vka"),u(s,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(m,b){B(m,t,b),c(t,e),c(e,o),c(e,r),c(e,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[48]),T(h,"click",n[42]),T(h,"click",n[46]),T(h,"click",n[48])],_=!0)},p:ne,d(m){m&&q(t),_=!1,ie(g)}}}function No(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te,Z;return J=pi(n[102][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Add Collection`),i=S(),s=p("form"),a=p("label"),f=F(`Collection\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Description\r
            `),m=p("input"),b=S(),v=p("fieldset"),k=p("legend"),k.textContent="Collection for:",w=S(),A=p("label"),I=p("input"),O=F(`\r
              Books`),y=S(),C=p("label"),P=p("input"),M=F(`\r
              Movies`),E=S(),R=p("footer"),L=p("div"),D=p("a"),D.textContent="Cancel",j=S(),z=p("a"),z.textContent="Add Collection",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","collection"),u(d,"name","collection"),u(d,"placeholder","Collection"),u(d,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1h11vka"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-1h11vka"),u(I,"type","radio"),u(I,"id","books"),u(I,"name","role"),I.__value="book",I.value=I.__value,I.checked=!0,u(A,"for","books"),u(A,"class","svelte-1h11vka"),u(P,"type","radio"),u(P,"id","movies"),u(P,"name","role"),P.__value="movie",P.value=P.__value,u(C,"for","movies"),u(C,"class","svelte-1h11vka"),u(v,"class","svelte-1h11vka"),u(D,"href","#cancel"),u(D,"role","button"),u(D,"class","secondary svelte-1h11vka"),u(z,"href","#confirm"),u(z,"role","button"),u(z,"class","svelte-1h11vka"),u(R,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0,J.p(I,P)},m(G,U){B(G,t,U),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),X(d,n[3]),c(s,h),c(s,_),c(_,g),c(_,m),X(m,n[4]),c(s,b),c(s,v),c(v,k),c(v,w),c(v,A),c(A,I),I.checked=I.__value===n[5],c(A,O),c(v,y),c(v,C),c(C,P),P.checked=P.__value===n[5],c(C,M),c(e,E),c(e,R),c(R,L),c(L,D),c(L,j),c(L,z),te||(Z=[T(r,"click",n[43]),T(d,"input",n[99]),T(m,"input",n[100]),T(I,"change",n[101]),T(P,"change",n[103]),T(s,"submit",Be(n[52])),T(D,"click",n[43]),T(z,"click",n[38]),T(z,"click",n[43])],te=!0)},p(G,U){U[0]&8&&d.value!==G[3]&&X(d,G[3]),U[0]&16&&X(m,G[4]),U[0]&32&&(I.checked=I.__value===G[5]),U[0]&32&&(P.checked=P.__value===G[5])},d(G){G&&q(t),J.r(),te=!1,ie(Z)}}}function Ha(n){let t,e,o,r;const l=[Ca,wa],i=[];function s(a,f){return Ke?0:1}return t=s(),e=i[t]=l[t](n),{c(){e.c(),o=ge()},m(a,f){i[t].m(a,f),B(a,o,f),r=!0},p(a,f){e.p(a,f)},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){i[t].d(a),a&&q(o)}}}let za="/api/files/9hhair4kd0xa314/";function jt(n){let t;return n&&(t=n[0]),t}function zt(n){let t;return n&&(t=n.thumbnail),t}function ot(n,t){return Math.floor(n/t*100)}function Ja(n,t,e){let o,r,l,i;Ee(n,vn,H=>e(105,o=H)),Ee(n,Ke,H=>e(36,r=H)),Ee(n,Bt,H=>e(106,l=H)),Ee(n,yn,H=>e(107,i=H));let s,a,f,d,h,_,g=[],m=[],b,v,k,w="",A,I,O,y,C,P,M,E,R,L,D,j,z,J,te="",Z=[],G=!1,U=Zt+za;async function V(){const H=await ue.collection("view_everything").getFullList({sort:"-id"});e(7,m=H),K(),et();try{const Ue=await ue.collection("collections").getFullList({sort:"-created"});e(6,g=Ue)}catch(Ue){alert(Ue)}}st(async()=>{V(),K(),et()}),Mn(()=>{ue.collection("view_everything").unsubscribe("*")});function K(){nn(yn,i=m.length,i),nn(Bt,l=0,l);for(const H of m)H.pages_read&&nn(Bt,l+=H.pages_read,l)}async function W(){try{const H={collection:d,reader:r.id,type:_},Ue=await ue.collection("collections").create(H);V()}catch(H){alert(H)}}async function N(){try{const H=new FormData;H.append("title",b),H.append("author",v),H.append("reader",r.id),H.append("review",w),H.append("collection",I),H.append("language",C),H.append("pages",A),O?H.append("cover",O[0]):H.append("googleCover",y);const Ue=await ue.collection("books").create(H);de.success("Book added successfully!",{position:ve}),e(8,b=null),e(9,v=null),w=null,e(11,A=null),e(13,O=null),e(15,C=null),e(25,te=""),e(26,Z=[]),V()}catch(H){alert(H)}}async function Q(){if(s&&a&&f)if(+L+ +a<=+R)try{const H={reader:r.id,book:z,date:s,pages_read:+a,comment:f},Ue=await ue.collection("reading").create(H);de.success("Log entry saved!",{position:ve})}catch(H){alert(H)}else+L+ +a>+R&&de.error("Pages exceeded",{position:ve});else de.error("All fields required",{position:ve});e(0,s=""),e(1,a=""),e(2,f=""),V()}async function fe(){try{const H=new FormData;H.append("title",P),H.append("author",M),H.append("reader",r.id),H.append("review",E),H.append("pages",R),H.append("collection",D),O&&H.append("cover",O[0]);const Ue=await ue.collection("books").update(z,H);de.success("Book updated!",{position:ve}),e(8,b=null),e(9,v=null),w=null,e(11,A=null),e(13,O=null),e(12,I=null),V()}catch(H){alert(H)}}async function Ne(){try{await ue.collection("books").delete(z),de.success("Book deleted!",{position:ve}),V()}catch(H){alert(H)}}let x=!1;function Se(){e(28,x=!x)}let pe=!1;function oe(){e(29,pe=!pe),pe||(e(25,te=""),e(26,Z=[]))}let he=!1;function ke(){e(30,he=!he)}let Ie=!1;function We(){e(31,Ie=!Ie)}let Ae=!1;function le(){e(32,Ae=!Ae)}let ye=!1;function Ye(){e(33,ye=!ye)}async function Fe(H){if(H.length>3){e(27,G=!0);let Ue="https://www.googleapis.com/books/v1/volumes?q="+H+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const tn=await fetch(Ue);e(26,Z=await tn.json()),e(26,Z=Z.items),e(27,G=!1)}catch(tn){alert(tn)}}else de.error("input required",{position:ve})}function Te(){ke(),oe()}function Xe(){le(),Ye()}let Y="",Pe=m;function et(){const H=Y.toLowerCase();e(35,Pe=m.filter(Ue=>Ue.title.toLowerCase().includes(H)||Ue.author.toLowerCase().includes(H)||Ue.status.toLowerCase().includes(H)))}En(()=>{et()});const qe=[[]];function Qe(H){De.call(this,n,H)}function dl(H){De.call(this,n,H)}function pl(H){De.call(this,n,H)}function hl(H){De.call(this,n,H)}function _l(H){De.call(this,n,H)}function ml(H){De.call(this,n,H)}function gl(){Y=this.value,e(34,Y)}const vl=H=>{e(23,z=H.currentTarget.getAttribute("data-id"))},bl=H=>{e(16,P=H.currentTarget.getAttribute("data-title"))},kl=H=>{e(17,M=H.currentTarget.getAttribute("data-author"))},yl=H=>{e(19,R=H.currentTarget.getAttribute("data-pages"))},wl=H=>{e(20,L=H.currentTarget.getAttribute("data-pagesread"))},Cl=H=>{e(18,E=H.currentTarget.getAttribute("data-review"))},Sl=H=>{e(21,D=H.currentTarget.getAttribute("data-collection"))},Al=H=>{e(22,j=H.currentTarget.getAttribute("data-cover"))},Tl=H=>{e(24,J=H.currentTarget.getAttribute("data-status"))},Il=H=>{e(23,z=H.currentTarget.getAttribute("data-id"))},Pl=H=>{e(16,P=H.currentTarget.getAttribute("data-title"))},Ol=H=>{e(17,M=H.currentTarget.getAttribute("data-author"))},Ll=H=>{e(19,R=H.currentTarget.getAttribute("data-pages"))},El=H=>{e(20,L=H.currentTarget.getAttribute("data-pagesread"))},Ml=H=>{e(18,E=H.currentTarget.getAttribute("data-review"))},Rl=H=>{e(21,D=H.currentTarget.getAttribute("data-collection"))},jl=H=>{e(22,j=H.currentTarget.getAttribute("data-cover"))},Nl=H=>{e(24,J=H.currentTarget.getAttribute("data-status"))},ql=H=>{e(25,te=H.currentTarget.value)},Dl=H=>{e(8,b=H.currentTarget.getAttribute("data-title"))},Bl=H=>{e(9,v=H.currentTarget.getAttribute("data-author"))},Fl=H=>{e(11,A=H.currentTarget.getAttribute("data-pages"))},Ul=H=>{e(14,y=H.currentTarget.getAttribute("data-img"))},Hl=H=>{e(10,k=H.currentTarget.getAttribute("data-description"))},zl=H=>{e(15,C=H.currentTarget.getAttribute("data-language"))};function Jl(){b=this.value,e(8,b)}function Gl(){v=this.value,e(9,v)}function Vl(){A=Je(this.value),e(11,A)}function Wl(){I=pt(this),e(12,I),e(6,g)}function Ql(){O=this.files,e(13,O)}function Kl(){P=this.value,e(16,P)}function Yl(){s=this.value,e(0,s)}function Xl(){a=Je(this.value),e(1,a)}function Zl(){f=this.value,e(2,f)}function $l(){P=this.value,e(16,P)}function xl(){M=this.value,e(17,M)}function ei(){R=Je(this.value),e(19,R)}function ti(){E=this.value,e(18,E)}function ni(){D=pt(this),e(21,D),e(6,g)}function oi(){O=this.files,e(13,O)}function ri(){d=this.value,e(3,d)}function li(){h=this.value,e(4,h)}function ii(){_=this.__value,e(5,_)}function si(){_=this.__value,e(5,_)}return[s,a,f,d,h,_,g,m,b,v,k,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te,Z,G,x,pe,he,Ie,Ae,ye,Y,Pe,r,U,W,N,Q,fe,Ne,Se,oe,ke,We,le,Ye,Fe,Te,Xe,Qe,dl,pl,hl,_l,ml,gl,vl,bl,kl,yl,wl,Cl,Sl,Al,Tl,Il,Pl,Ol,Ll,El,Ml,Rl,jl,Nl,ql,Dl,Bl,Fl,Ul,Hl,zl,Jl,Gl,Vl,Wl,Ql,Kl,Yl,Xl,Zl,$l,xl,ei,ti,ni,oi,ri,li,ii,qe,si]}class Ga extends Ce{constructor(t){super(),we(this,t,Ja,Ha,be,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Gr=Object.freeze({left:0,top:0,width:16,height:16}),Jt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Pt=Object.freeze({...Gr,...Jt}),wn=Object.freeze({...Pt,body:"",hidden:!1}),Va=Object.freeze({width:null,height:null}),Vr=Object.freeze({...Va,...Jt});function Wa(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(e===""){const r=parseInt(n);return isNaN(r)?0:o(r)}else if(e!==n){let r=0;switch(e){case"%":r=25;break;case"deg":r=90}if(r){let l=parseFloat(n.slice(0,n.length-e.length));return isNaN(l)?0:(l=l/r,l%1===0?o(l):0)}}return t}const Qa=/[\s,]+/;function Ka(n,t){t.split(Qa).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Wr={...Vr,preserveAspectRatio:""};function qo(n){const t={...Wr},e=(o,r)=>n.getAttribute(o)||r;return t.width=e("width",null),t.height=e("height",null),t.rotate=Wa(e("rotate","")),Ka(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function Ya(n,t){for(const e in Wr)if(n[e]!==t[e])return!0;return!1}const bt=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ot=(n,t,e,o="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const s=r.pop(),a=r.pop(),f={provider:r.length>0?r[0]:o,prefix:a,name:s};return t&&!Ft(f)?null:f}const l=r[0],i=l.split("-");if(i.length>1){const s={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!Ft(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:l};return t&&!Ft(s,e)?null:s}return null},Ft=(n,t)=>n?!!((n.provider===""||n.provider.match(bt))&&(t&&n.prefix===""||n.prefix.match(bt))&&n.name.match(bt)):!1;function Xa(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function Do(n,t){const e=Xa(n,t);for(const o in wn)o in Jt?o in n&&!(o in e)&&(e[o]=Jt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function Za(n,t){const e=n.icons,o=n.aliases||Object.create(null),r=Object.create(null);function l(i){if(e[i])return r[i]=[];if(!(i in r)){r[i]=null;const s=o[i]&&o[i].parent,a=s&&l(s);a&&(r[i]=[s].concat(a))}return r[i]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(l),r}function $a(n,t,e){const o=n.icons,r=n.aliases||Object.create(null);let l={};function i(s){l=Do(o[s]||r[s],l)}return i(t),e.forEach(i),Do(n,l)}function Qr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(r=>{t(r,null),e.push(r)});const o=Za(n);for(const r in o){const l=o[r];l&&(t(r,$a(n,r,l)),e.push(r))}return e}const xa={provider:"",aliases:{},not_found:{},...Gr};function an(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Kr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!an(n,xa))return null;const e=t.icons;for(const r in e){const l=e[r];if(!r.match(bt)||typeof l.body!="string"||!an(l,wn))return null}const o=t.aliases||Object.create(null);for(const r in o){const l=o[r],i=l.parent;if(!r.match(bt)||typeof i!="string"||!e[i]&&!o[i]||!an(l,wn))return null}return t}const Gt=Object.create(null);function ec(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function rt(n,t){const e=Gt[n]||(Gt[n]=Object.create(null));return e[t]||(e[t]=ec(n,t))}function zn(n,t){return Kr(t)?Qr(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function tc(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function nc(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Gt)).forEach(r=>{(typeof r=="string"&&typeof t=="string"?[t]:Object.keys(Gt[r]||{})).forEach(i=>{const s=rt(r,i);e=e.concat(Object.keys(s.icons).map(a=>(r!==""?"@"+r+":":"")+i+":"+a))})}),e}let wt=!1;function Yr(n){return typeof n=="boolean"&&(wt=n),wt}function Ct(n){const t=typeof n=="string"?Ot(n,!0,wt):n;if(t){const e=rt(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Xr(n,t){const e=Ot(n,!0,wt);if(!e)return!1;const o=rt(e.provider,e.prefix);return tc(o,e.name,t)}function Bo(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),wt&&!t&&!n.prefix){let r=!1;return Kr(n)&&(n.prefix="",Qr(n,(l,i)=>{i&&Xr(l,i)&&(r=!0)})),r}const e=n.prefix;if(!Ft({provider:t,prefix:e,name:"a"}))return!1;const o=rt(t,e);return!!zn(o,n)}function oc(n){return!!Ct(n)}function rc(n){const t=Ct(n);return t?{...Pt,...t}:null}function lc(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((r,l)=>r.provider!==l.provider?r.provider.localeCompare(l.provider):r.prefix!==l.prefix?r.prefix.localeCompare(l.prefix):r.name.localeCompare(l.name));let o={provider:"",prefix:"",name:""};return n.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const l=r.provider,i=r.prefix,s=r.name,a=e[l]||(e[l]=Object.create(null)),f=a[i]||(a[i]=rt(l,i));let d;s in f.icons?d=t.loaded:i===""||f.missing.has(s)?d=t.missing:d=t.pending;const h={provider:l,prefix:i,name:s};d.push(h)}),t}function Zr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(r=>r.id!==t))})}function ic(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,r=n.prefix;t.forEach(l=>{const i=l.icons,s=i.pending.length;i.pending=i.pending.filter(a=>{if(a.prefix!==r)return!0;const f=a.name;if(n.icons[f])i.loaded.push({provider:o,prefix:r,name:f});else if(n.missing.has(f))i.missing.push({provider:o,prefix:r,name:f});else return e=!0,!0;return!1}),i.pending.length!==s&&(e||Zr([n],l.id),l.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),l.abort))})}))}let sc=0;function ac(n,t,e){const o=sc++,r=Zr.bind(null,e,o);if(!t.pending.length)return r;const l={id:o,icons:t,callback:n,abort:r};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(l)}),r}const Cn=Object.create(null);function Fo(n,t){Cn[n]=t}function Sn(n){return Cn[n]||Cn[""]}function cc(n,t=!0,e=!1){const o=[];return n.forEach(r=>{const l=typeof r=="string"?Ot(r,t,e):r;l&&o.push(l)}),o}var uc={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function fc(n,t,e,o){const r=n.resources.length,l=n.random?Math.floor(Math.random()*r):n.index;let i;if(n.random){let y=n.resources.slice(0);for(i=[];y.length>1;){const C=Math.floor(Math.random()*y.length);i.push(y[C]),y=y.slice(0,C).concat(y.slice(C+1))}i=i.concat(y)}else i=n.resources.slice(l).concat(n.resources.slice(0,l));const s=Date.now();let a="pending",f=0,d,h=null,_=[],g=[];typeof o=="function"&&g.push(o);function m(){h&&(clearTimeout(h),h=null)}function b(){a==="pending"&&(a="aborted"),m(),_.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),_=[]}function v(y,C){C&&(g=[]),typeof y=="function"&&g.push(y)}function k(){return{startTime:s,payload:t,status:a,queriesSent:f,queriesPending:_.length,subscribe:v,abort:b}}function w(){a="failed",g.forEach(y=>{y(void 0,d)})}function A(){_.forEach(y=>{y.status==="pending"&&(y.status="aborted")}),_=[]}function I(y,C,P){const M=C!=="success";switch(_=_.filter(E=>E!==y),a){case"pending":break;case"failed":if(M||!n.dataAfterTimeout)return;break;default:return}if(C==="abort"){d=P,w();return}if(M){d=P,_.length||(i.length?O():w());return}if(m(),A(),!n.random){const E=n.resources.indexOf(y.resource);E!==-1&&E!==n.index&&(n.index=E)}a="completed",g.forEach(E=>{E(P)})}function O(){if(a!=="pending")return;m();const y=i.shift();if(y===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(A(),w())},n.timeout);return}w();return}const C={status:"pending",resource:y,callback:(P,M)=>{I(C,P,M)}};_.push(C),f++,h=setTimeout(O,n.rotate),e(y,t,C.callback)}return setTimeout(O),k}function $r(n){const t={...uc,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function r(s,a,f){const d=fc(t,s,a,(h,_)=>{o(),f&&f(h,_)});return e.push(d),d}function l(s){return e.find(a=>s(a))||null}return{query:r,find:l,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function Jn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const xt=Object.create(null),gt=["https://api.simplesvg.com","https://api.unisvg.com"],Ut=[];for(;gt.length>0;)gt.length===1||Math.random()>.5?Ut.push(gt.shift()):Ut.push(gt.pop());xt[""]=Jn({resources:["https://api.iconify.design"].concat(Ut)});function Uo(n,t){const e=Jn(t);return e===null?!1:(xt[n]=e,!0)}function en(n){return xt[n]}function dc(){return Object.keys(xt)}function Ho(){}const cn=Object.create(null);function pc(n){if(!cn[n]){const t=en(n);if(!t)return;const e=$r(t),o={config:t,redundancy:e};cn[n]=o}return cn[n]}function xr(n,t,e){let o,r;if(typeof n=="string"){const l=Sn(n);if(!l)return e(void 0,424),Ho;r=l.send;const i=pc(n);i&&(o=i.redundancy)}else{const l=Jn(n);if(l){o=$r(l);const i=n.resources?n.resources[0]:"",s=Sn(i);s&&(r=s.send)}}return!o||!r?(e(void 0,424),Ho):o.query(t,r,e)().abort}const zo="iconify2",St="iconify",el=St+"-count",Jo=St+"-version",tl=36e5,hc=168;function An(n,t){try{return n.getItem(t)}catch{}}function Gn(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Go(n,t){try{n.removeItem(t)}catch{}}function Tn(n,t){return Gn(n,el,t.toString())}function In(n){return parseInt(An(n,el))||0}const it={local:!0,session:!0},nl={local:new Set,session:new Set};let Vn=!1;function _c(n){Vn=n}let Nt=typeof window>"u"?{}:window;function ol(n){const t=n+"Storage";try{if(Nt&&Nt[t]&&typeof Nt[t].length=="number")return Nt[t]}catch{}it[n]=!1}function rl(n,t){const e=ol(n);if(!e)return;const o=An(e,Jo);if(o!==zo){if(o){const s=In(e);for(let a=0;a<s;a++)Go(e,St+a.toString())}Gn(e,Jo,zo),Tn(e,0);return}const r=Math.floor(Date.now()/tl)-hc,l=s=>{const a=St+s.toString(),f=An(e,a);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>r&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Go(e,a)}};let i=In(e);for(let s=i-1;s>=0;s--)l(s)||(s===i-1?(i--,Tn(e,i)):nl[n].add(s))}function ll(){if(!Vn){_c(!0);for(const n in it)rl(n,t=>{const e=t.data,o=t.provider,r=e.prefix,l=rt(o,r);if(!zn(l,e).length)return!1;const i=e.lastModified||-1;return l.lastModifiedCached=l.lastModifiedCached?Math.min(l.lastModifiedCached,i):i,!0})}}function mc(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in it)rl(o,r=>{const l=r.data;return r.provider!==n.provider||l.prefix!==n.prefix||l.lastModified===t});return!0}function gc(n,t){Vn||ll();function e(o){let r;if(!it[o]||!(r=ol(o)))return;const l=nl[o];let i;if(l.size)l.delete(i=Array.from(l).shift());else if(i=In(r),!Tn(r,i+1))return;const s={cached:Math.floor(Date.now()/tl),provider:n.provider,data:t};return Gn(r,St+i.toString(),JSON.stringify(s))}t.lastModified&&!mc(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Vo(){}function vc(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,ic(n)}))}function bc(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,r=n.iconsToLoad;delete n.iconsToLoad;let l;if(!r||!(l=Sn(e)))return;l.prepare(e,o,r).forEach(s=>{xr(e,s,a=>{if(typeof a!="object")s.icons.forEach(f=>{n.missing.add(f)});else try{const f=zn(n,a);if(!f.length)return;const d=n.pendingIcons;d&&f.forEach(h=>{d.delete(h)}),gc(n,a)}catch(f){console.error(f)}vc(n)})})}))}const Wn=(n,t)=>{const e=cc(n,!0,Yr()),o=lc(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,Vo)}),()=>{a=!1}}const r=Object.create(null),l=[];let i,s;return o.pending.forEach(a=>{const{provider:f,prefix:d}=a;if(d===s&&f===i)return;i=f,s=d,l.push(rt(f,d));const h=r[f]||(r[f]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:d,name:h}=a,_=rt(f,d),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),r[f][d].push(h))}),l.forEach(a=>{const{provider:f,prefix:d}=a;r[f][d].length&&bc(a,r[f][d])}),t?ac(t,o,l):Vo},kc=n=>new Promise((t,e)=>{const o=typeof n=="string"?Ot(n,!0):n;if(!o){e(n);return}Wn([o||n],r=>{if(r.length&&o){const l=Ct(o);if(l){t({...Pt,...l});return}}e(n)})});function yc(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function wc(n,t){const e=typeof n=="string"?Ot(n,!0,!0):null;if(!e){const l=yc(n);return{value:n,data:l}}const o=Ct(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const r=Wn([e],()=>t(n,e,Ct(e)));return{value:n,name:e,loading:r}}function un(n){return n.hasAttribute("inline")}let il=!1;try{il=navigator.vendor.indexOf("Apple")===0}catch{}function Cc(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(il||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Sc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ac=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Pn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(Sc);if(o===null||!o.length)return n;const r=[];let l=o.shift(),i=Ac.test(l);for(;;){if(i){const s=parseFloat(l);isNaN(s)?r.push(l):r.push(Math.ceil(s*t*e)/e)}else r.push(l);if(l=o.shift(),l===void 0)return r.join("");i=!i}}const Tc=n=>n==="unset"||n==="undefined"||n==="none";function sl(n,t){const e={...Pt,...n},o={...Vr,...t},r={left:e.left,top:e.top,width:e.width,height:e.height};let l=e.body;[e,o].forEach(m=>{const b=[],v=m.hFlip,k=m.vFlip;let w=m.rotate;v?k?w+=2:(b.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),b.push("scale(-1 1)"),r.top=r.left=0):k&&(b.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),b.push("scale(1 -1)"),r.top=r.left=0);let A;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:A=r.height/2+r.top,b.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:b.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:A=r.width/2+r.left,b.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}w%2===1&&(r.left!==r.top&&(A=r.left,r.left=r.top,r.top=A),r.width!==r.height&&(A=r.width,r.width=r.height,r.height=A)),b.length&&(l='<g transform="'+b.join(" ")+'">'+l+"</g>")});const i=o.width,s=o.height,a=r.width,f=r.height;let d,h;i===null?(h=s===null?"1em":s==="auto"?f:s,d=Pn(h,a/f)):(d=i==="auto"?a:i,h=s===null?Pn(d,f/a):s==="auto"?f:s);const _={},g=(m,b)=>{Tc(b)||(_[m]=b.toString())};return g("width",d),g("height",h),_.viewBox=r.left.toString()+" "+r.top.toString()+" "+a.toString()+" "+f.toString(),{attributes:_,body:l}}const Ic=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Vt=Ic();function Pc(n){Vt=n}function Oc(){return Vt}function Lc(n,t){const e=en(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let r=0;e.resources.forEach(i=>{r=Math.max(r,i.length)});const l=t+".json?icons=";o=e.maxURL-r-e.path.length-l.length}return o}function Ec(n){return n===404}const Mc=(n,t,e)=>{const o=[],r=Lc(n,t),l="icons";let i={type:l,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,f)=>{s+=a.length+1,s>=r&&f>0&&(o.push(i),i={type:l,provider:n,prefix:t,icons:[]},s=a.length),i.icons.push(a)}),o.push(i),o};function Rc(n){if(typeof n=="string"){const t=en(n);if(t)return t.path}return"/"}const jc=(n,t,e)=>{if(!Vt){e("abort",424);return}let o=Rc(t.provider);switch(t.type){case"icons":{const l=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=l+".json?"+a.toString();break}case"custom":{const l=t.uri;o+=l.slice(0,1)==="/"?l.slice(1):l;break}default:e("abort",400);return}let r=503;Vt(n+o).then(l=>{const i=l.status;if(i!==200){setTimeout(()=>{e(Ec(i)?"abort":"next",i)});return}return r=501,l.json()}).then(l=>{if(typeof l!="object"||l===null){setTimeout(()=>{l===404?e("abort",l):e("next",r)});return}setTimeout(()=>{e("success",l)})}).catch(()=>{e("next",r)})},Nc={prepare:Mc,send:jc};function Wo(n,t){switch(n){case"local":case"session":it[n]=t;break;case"all":for(const e in it)it[e]=t;break}}const fn="data-style";let al="";function qc(n){al=n}function Qo(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(fn));e||(e=document.createElement("style"),e.setAttribute(fn,fn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+al}function cl(){Fo("",Nc),Yr(!0);let n;try{n=window}catch{}if(n){if(ll(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Bo(r))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const r="IconifyProviders["+o+"] is invalid.";try{const l=e[o];if(typeof l!="object"||!l||l.resources===void 0)continue;Uo(o,l)||console.error(r)}catch{console.error(r)}}}}return{enableCache:e=>Wo(e,!0),disableCache:e=>Wo(e,!1),iconExists:oc,getIcon:rc,listIcons:nc,addIcon:Xr,addCollection:Bo,calculateSize:Pn,buildIcon:sl,loadIcons:Wn,loadIcon:kc,addAPIProvider:Uo,appendCustomStyle:qc,_api:{getAPIConfig:en,setAPIModule:Fo,sendAPIQuery:xr,setFetch:Pc,getFetch:Oc,listAPIProviders:dc}}}function ul(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function Dc(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Bc(n){return'url("data:image/svg+xml,'+Dc(n)+'")'}const On={"background-color":"currentColor"},fl={"background-color":"transparent"},Ko={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Yo={"-webkit-mask":On,mask:On,background:fl};for(const n in Yo){const t=Yo[n];for(const e in Ko)t[n+"-"+e]=Ko[e]}function Xo(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Fc(n,t,e){const o=document.createElement("span");let r=n.body;r.indexOf("<a")!==-1&&(r+="<!-- "+Date.now()+" -->");const l=n.attributes,i=ul(r,{...l,width:t.width+"",height:t.height+""}),s=Bc(i),a=o.style,f={"--svg":s,width:Xo(l.width),height:Xo(l.height),...e?On:fl};for(const d in f)a.setProperty(d,f[d]);return o}function Uc(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=ul(n.body,e),t.firstChild}function Zo(n,t){const e=t.icon.data,o=t.customisations,r=sl(e,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const l=t.renderedMode;let i;switch(l){case"svg":i=Uc(r);break;default:i=Fc(r,{...Pt,...e},l==="mask")}const s=Array.from(n.childNodes).find(a=>{const f=a.tagName&&a.tagName.toUpperCase();return f==="SPAN"||f==="SVG"});s?i.tagName==="SPAN"&&s.tagName===i.tagName?s.setAttribute("style",i.getAttribute("style")):n.replaceChild(i,s):n.appendChild(i)}function $o(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function Hc(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],l=class extends e{constructor(){super();Lt(this,"_shadowRoot");Lt(this,"_state");Lt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),f=un(this);Qo(a,f),this._state=$o({value:""},f),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(a){if(a==="inline"){const f=un(this),d=this._state;f!==d.inline&&(d.inline=f,Qo(this._shadowRoot,f))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return un(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const f=this._shadowRoot;if(a.renderedMode==="svg")try{f.lastChild.setCurrentTime(0);return}catch{}Zo(f,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,f=this.getAttribute("icon");if(f!==a.icon.value){this._iconChanged(f);return}if(!a.rendered)return;const d=this.getAttribute("mode"),h=qo(this);(a.attrMode!==d||Ya(a.customisations,h))&&this._renderIcon(a.icon,h,d)}_iconChanged(a){const f=wc(a,(d,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==d)return;const m={value:d,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});f.data?this._gotIconData(f):this._state=$o(f,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,qo(this),this.getAttribute("mode"))}_renderIcon(a,f,d){const h=Cc(a.data.body,d),_=this._state.inline;Zo(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:f,attrMode:d,renderedMode:h})}};r.forEach(s=>{s in l.prototype||Object.defineProperty(l.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const i=cl();for(const s in i)l[s]=l.prototype[s]=i[s];return t.define(n,l),l}Hc()||cl();function xo(n,t,e){const o=n.slice();return o[18]=t[e],o}function er(n,t,e){const o=n.slice();return o[18]=t[e],o}function tr(n,t,e){const o=n.slice();return o[60]=t[e],o}function zc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R=[],L=new Map,D,j,z,J,te,Z,G=n[17];const U=N=>N[60].id;for(let N=0;N<G.length;N+=1){let Q=tr(n,G,N),fe=U(Q);L.set(fe,R[N]=nr(fe,Q))}let V=n[13]&&or(n),K=n[14]&&lr(n),W=n[15]&&sr(n);return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",l=p("option"),l.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",b=p("option"),b.textContent="November",v=p("option"),v.textContent="December",k=S(),w=p("input"),A=S(),I=p("button"),I.textContent="Add Log Entry",O=S(),y=p("div"),C=p("table"),P=p("thead"),P.innerHTML=`<tr><th scope="col" class="svelte-fs4gn5">Date</th> 
            <th scope="col" class="svelte-fs4gn5">Book</th> 
            <th scope="col" class="svelte-fs4gn5">Read</th> 
            <th scope="col" class="svelte-fs4gn5">Comment</th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th></tr>`,M=S(),E=p("tbody");for(let N=0;N<R.length;N+=1)R[N].c();D=S(),V&&V.c(),j=S(),K&&K.c(),z=S(),W&&W.c(),J=ge(),r.__value="All",r.value=r.__value,l.__value="January",l.value=l.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,b.__value="November",b.value=b.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-fs4gn5"),n[6]===void 0&&xe(()=>n[28].call(o)),u(w,"type","search"),u(w,"placeholder","Filter logs..."),u(w,"class","svelte-fs4gn5"),u(e,"class","flex svelte-fs4gn5"),u(I,"class","btn btn-primary svelte-fs4gn5"),u(C,"class","table-container svelte-fs4gn5"),u(C,"role","grid"),u(y,"class","grid"),u(t,"class","container svelte-fs4gn5")},m(N,Q){B(N,t,Q),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,b),c(o,v),Ge(o,n[6],!0),c(e,k),c(e,w),X(w,n[16]),c(t,A),c(t,I),c(t,O),c(t,y),c(y,C),c(C,P),c(C,M),c(C,E);for(let fe=0;fe<R.length;fe+=1)R[fe]&&R[fe].m(E,null);B(N,D,Q),V&&V.m(N,Q),B(N,j,Q),K&&K.m(N,Q),B(N,z,Q),W&&W.m(N,Q),B(N,J,Q),te||(Z=[T(o,"change",n[28]),T(o,"change",n[19]),T(w,"input",n[29]),T(I,"click",n[20])],te=!0)},p(N,Q){Q[0]&64&&Ge(o,N[6]),Q[0]&65536&&w.value!==N[16]&&X(w,N[16]),Q[0]&6428735&&(G=N[17],R=He(R,Q,U,1,N,G,L,E,Ve,nr,null,tr)),N[13]?V?V.p(N,Q):(V=or(N),V.c(),V.m(j.parentNode,j)):V&&(V.d(1),V=null),N[14]?K?K.p(N,Q):(K=lr(N),K.c(),K.m(z.parentNode,z)):K&&(K.d(1),K=null),N[15]?W?W.p(N,Q):(W=sr(N),W.c(),W.m(J.parentNode,J)):W&&(W.d(1),W=null)},d(N){N&&q(t);for(let Q=0;Q<R.length;Q+=1)R[Q].d();N&&q(D),V&&V.d(N),N&&q(j),K&&K.d(N),N&&q(z),W&&W.d(N),N&&q(J),te=!1,ie(Z)}}}function nr(n,t){let e,o,r=ar(t[60].date)+"",l,i,s,a=t[60].title+"",f,d,h,_=t[60].pages_read+"",g,m,b,v=t[60].comment+"",k,w,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te,Z,G;return{key:n,first:null,c(){e=p("tr"),o=p("td"),l=F(r),i=S(),s=p("td"),f=F(a),d=S(),h=p("td"),g=F(_),m=S(),b=p("td"),k=F(v),w=S(),A=p("td"),I=p("a"),O=p("iconify-icon"),L=S(),D=p("td"),j=p("a"),z=p("iconify-icon"),te=S(),u(o,"class","svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),u(h,"class","svelte-fs4gn5"),u(b,"class","svelte-fs4gn5"),Mt(O,"id","lapicito"),Mt(O,"icon","mdi:edit"),Mt(O,"class","svelte-fs4gn5"),u(I,"href","#edit"),u(I,"data-id",y=t[60].id),u(I,"data-date",C=t[60].date),u(I,"data-title",P=t[60].title),u(I,"data-pages",M=t[60].pages),u(I,"data-pagesread",E=t[60].pages_read),u(I,"data-comment",R=t[60].comment),u(A,"class","svelte-fs4gn5"),Mt(z,"icon","mdi:delete"),u(j,"id",J=t[60].id),u(j,"href","#delete"),u(j,"class","delete svelte-fs4gn5"),u(D,"class","svelte-fs4gn5"),this.first=e},m(U,V){B(U,e,V),c(e,o),c(o,l),c(e,i),c(e,s),c(s,f),c(e,d),c(e,h),c(h,g),c(e,m),c(e,b),c(b,k),c(e,w),c(e,A),c(A,I),c(I,O),c(e,L),c(e,D),c(D,j),c(j,z),c(e,te),Z||(G=[T(I,"click",t[30]),T(I,"click",t[31]),T(I,"click",t[32]),T(I,"click",t[33]),T(I,"click",t[34]),T(I,"click",t[35]),T(I,"click",t[36]),T(I,"click",t[21]),T(j,"click",t[37]),T(j,"click",t[22])],Z=!0)},p(U,V){t=U,V[0]&131072&&r!==(r=ar(t[60].date)+"")&&re(l,r),V[0]&131072&&a!==(a=t[60].title+"")&&re(f,a),V[0]&131072&&_!==(_=t[60].pages_read+"")&&re(g,_),V[0]&131072&&v!==(v=t[60].comment+"")&&re(k,v),V[0]&131072&&y!==(y=t[60].id)&&u(I,"data-id",y),V[0]&131072&&C!==(C=t[60].date)&&u(I,"data-date",C),V[0]&131072&&P!==(P=t[60].title)&&u(I,"data-title",P),V[0]&131072&&M!==(M=t[60].pages)&&u(I,"data-pages",M),V[0]&131072&&E!==(E=t[60].pages_read)&&u(I,"data-pagesread",E),V[0]&131072&&R!==(R=t[60].comment)&&u(I,"data-comment",R),V[0]&131072&&J!==(J=t[60].id)&&u(j,"id",J)},d(U){U&&q(e),Z=!1,ie(G)}}}function or(n){let t,e,o,r,l,i,s,a,f,d,h,_=[],g=new Map,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te=n[10];const Z=G=>G[18].id;for(let G=0;G<te.length;G+=1){let U=er(n,te,G),V=Z(U);g.set(V,_[G]=rr(V,U))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Log Entry`),i=S(),s=p("form"),a=p("label"),a.textContent="Book",f=S(),d=p("select"),h=p("option"),h.textContent="Please select an option";for(let G=0;G<_.length;G+=1)_[G].c();m=S(),b=p("label"),v=F(`Date\r
            `),k=p("input"),w=S(),A=p("label"),I=F(`Pages Read\r
            `),O=p("input"),y=S(),C=p("label"),P=F(`Comment\r
            `),M=p("input"),E=S(),R=p("footer"),L=p("a"),L.textContent="Cancel",D=S(),j=p("a"),j.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(d,"id","book"),n[18]===void 0&&xe(()=>n[38].call(d)),u(k,"id","date"),u(k,"name","date"),u(k,"type","date"),k.required=!0,u(b,"for","date"),u(O,"id","pagesRead"),u(O,"name","pagesRead"),u(O,"type","number"),O.required=!0,u(A,"for","pagesRead"),u(M,"id","comment"),u(M,"name","comment"),u(M,"type","textarea"),M.required=!0,u(C,"for","comment"),u(L,"href","#cancel"),u(L,"role","button"),u(L,"class","secondary svelte-fs4gn5"),u(j,"href","#confirm"),u(j,"role","button"),u(j,"class","svelte-fs4gn5"),u(R,"class","svelte-fs4gn5"),t.open=!0},m(G,U){B(G,t,U),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h);for(let V=0;V<_.length;V+=1)_[V]&&_[V].m(d,null);Ge(d,n[18],!0),c(s,m),c(s,b),c(b,v),c(b,k),X(k,n[7]),c(s,w),c(s,A),c(A,I),c(A,O),X(O,n[8]),c(s,y),c(s,C),c(C,P),c(C,M),X(M,n[9]),c(e,E),c(e,R),c(R,L),c(R,D),c(R,j),z||(J=[T(r,"click",n[20]),T(d,"change",n[38]),T(k,"input",n[39]),T(O,"input",n[40]),T(M,"input",n[41]),T(s,"submit",Be(n[27])),T(L,"click",n[20]),T(j,"click",n[24]),T(j,"click",n[20])],z=!0)},p(G,U){U[0]&1024&&(te=G[10],_=He(_,U,Z,1,G,te,g,d,Ve,rr,null,er)),U[0]&263168&&Ge(d,G[18]),U[0]&128&&X(k,G[7]),U[0]&256&&Je(O.value)!==G[8]&&X(O,G[8]),U[0]&512&&X(M,G[9])},d(G){G&&q(t);for(let U=0;U<_.length;U+=1)_[U].d();z=!1,ie(J)}}}function rr(n,t){let e,o=t[18].title+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[18].id,e.value=e.__value,this.first=e},m(i,s){B(i,e,s),c(e,r)},p(i,s){t=i,s[0]&1024&&o!==(o=t[18].title+"")&&re(r,o),s[0]&1024&&l!==(l=t[18].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&q(e)}}}function lr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M=[],E=new Map,R,L,D,j,z,J,te,Z=n[10];const G=U=>U[18].id;for(let U=0;U<Z.length;U+=1){let V=xo(n,Z,U),K=G(V);E.set(K,M[U]=ir(K,V))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Edit Entry Details`),i=S(),s=p("form"),a=p("label"),f=F(`Date\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Pages Read\r
            `),m=p("input"),b=S(),v=p("label"),k=F(`Comment\r
            `),w=p("input"),A=S(),I=p("label"),I.textContent="Book",O=S(),y=p("select"),C=p("option"),P=F(n[3]);for(let U=0;U<M.length;U+=1)M[U].c();R=S(),L=p("footer"),D=p("a"),D.textContent="Cancel",j=S(),z=p("a"),z.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","date"),u(d,"name","date"),u(d,"type","date"),u(d,"placeholder",n[2]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(w,"id","comment"),u(w,"name","comment"),u(w,"type","text"),u(v,"for","comment"),u(I,"for","book"),C.__value=n[3],C.value=C.__value,C.selected=!0,y.disabled=!0,u(y,"id","book"),n[3]===void 0&&xe(()=>n[45].call(y)),u(D,"href","#cancel"),u(D,"role","button"),u(D,"class","secondary svelte-fs4gn5"),u(z,"href","#confirm"),u(z,"role","button"),u(z,"class","svelte-fs4gn5"),u(L,"data-button","spaceBetween"),u(L,"class","svelte-fs4gn5"),t.open=!0},m(U,V){B(U,t,V),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),X(d,n[2]),c(s,h),c(s,_),c(_,g),c(_,m),X(m,n[4]),c(s,b),c(s,v),c(v,k),c(v,w),X(w,n[5]),c(s,A),c(s,I),c(s,O),c(s,y),c(y,C),c(C,P);for(let K=0;K<M.length;K+=1)M[K]&&M[K].m(y,null);Ge(y,n[3],!0),c(e,R),c(e,L),c(L,D),c(L,j),c(L,z),J||(te=[T(r,"click",n[21]),T(d,"input",n[42]),T(m,"input",n[43]),T(w,"input",n[44]),T(y,"change",n[45]),T(s,"submit",Be(n[26])),T(D,"click",n[21]),T(z,"click",n[25]),T(z,"click",n[21])],J=!0)},p(U,V){V[0]&4&&u(d,"placeholder",U[2]),V[0]&4&&X(d,U[2]),V[0]&16&&Je(m.value)!==U[4]&&X(m,U[4]),V[0]&32&&w.value!==U[5]&&X(w,U[5]),V[0]&8&&re(P,U[3]),V[0]&1032&&(C.__value=U[3],C.value=C.__value),V[0]&1024&&(Z=U[10],M=He(M,V,G,1,U,Z,E,y,Ve,ir,null,xo)),V[0]&1032&&Ge(y,U[3])},d(U){U&&q(t);for(let V=0;V<M.length;V+=1)M[V].d();J=!1,ie(te)}}}function ir(n,t){let e,o=t[18].title+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[18].id,e.value=e.__value,this.first=e},m(i,s){B(i,e,s),c(e,r)},p(i,s){t=i,s[0]&1024&&o!==(o=t[18].title+"")&&re(r,o),s[0]&1024&&l!==(l=t[18].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&q(e)}}}function sr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),l=p("p"),l.textContent="Are you sure you want to delete this entry?",i=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-fs4gn5"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-fs4gn5"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),t.open=!0},m(m,b){B(m,t,b),c(t,e),c(e,o),c(e,r),c(e,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[22]),T(h,"click",n[23]),T(h,"click",n[22])],_=!0)},p:ne,d(m){m&&q(t),_=!1,ie(g)}}}function Jc(n){let t,e=Ke&&zc(n);return{c(){e&&e.c(),t=ge()},m(o,r){e&&e.m(o,r),B(o,t,r)},p(o,r){Ke&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&q(t)}}}function ar(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Gc(n,t,e){let o;Ee(n,Ke,Y=>e(48,o=Y));let r=[],l,i,s,a,f,d;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let g=h[_.getMonth()],m=_.getMonth()+1,b=_.getFullYear(),v="";m<10?m===9?v=`date >= '${b}-0${m}-01' && date < '${b}-${m+1}-01'`:v=`date >= '${b}-0${m}-01' && date < '${b}-0${m+1}-01'`:m===12?v=`date >= '${b}-${m}-01' && date < '${b+1}-01-01'`:v=`date >= '${b}-${m}-01' && date < '${b}-${m+1}-01'`;let k=g,w,A,I,O=[],y,C,P;async function M(){try{r=await ue.collection("view_readingLog").getFullList({filter:v,sort:"-date"})}catch(Y){alert(Y)}try{const Y=await ue.collection("books").getFullList({sort:"-created"});e(10,O=Y),V()}catch(Y){alert(Y)}}st(async()=>{M()});function E(){if(k&&_.getMonth()>4)switch(k){case"All":v="";break;case"January":v="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":v="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":v="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":v="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":v="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":v="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":v="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":v="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":v="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":v="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":v="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":v="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],M()}let R=!1;function L(){e(13,R=!R)}let D=!1;function j(){e(14,D=!D)}let z=!1;function J(){e(15,z=!z)}async function te(){try{console.log(l),await ue.collection("reading").delete(l),de.success("Entry deleted!",{position:ve}),M()}catch(Y){alert(Y)}}async function Z(){if(w&&A){try{const Y={reader:o.id,book:y,date:w,pages_read:+A,comment:I},Pe=await ue.collection("reading").create(Y);de.success("Log saved!",{position:ve})}catch(Y){alert(Y)}e(7,w=null),e(8,A=""),e(18,y="")}M()}async function G(){if(+f<+P)try{const Y=new FormData;Y.append("pages_read",f),Y.append("comment",d),s&&Y.append("date",s);const Pe=await ue.collection("reading").update(i,Y);de.success("Log entry updated!",{position:ve}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(Y){alert(Y)}else if(+f>+P)if(+f+ +P<=+C)try{const Y=new FormData;Y.append("pages_read",f),Y.append("comment",d),s&&Y.append("date",s);const Pe=await ue.collection("reading").update(i,Y);de.success("Log entry updated!",{position:ve}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(Y){alert(Y)}else de.error("Pages exceeded",{position:ve});else try{const Y=new FormData;Y.append("comment",d),s&&Y.append("date",s);const Pe=await ue.collection("reading").update(i,Y);de.success("Log entry updated!",{position:ve}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(Y){alert(Y)}}let U="";function V(){const Y=U.toLowerCase();e(17,K=r.filter(Pe=>Pe.title.toLowerCase().includes(Y)||Pe.reader_name.toLowerCase().includes(Y)||Pe.date.toLowerCase().includes(Y)))}let K=r;En(()=>{V()});function W(Y){De.call(this,n,Y)}function N(Y){De.call(this,n,Y)}function Q(){k=pt(this),e(6,k)}function fe(){U=this.value,e(16,U)}const Ne=Y=>{e(1,i=Y.currentTarget.getAttribute("data-id"))},x=Y=>{e(2,s=Y.currentTarget.getAttribute("data-date"))},Se=Y=>{e(3,a=Y.currentTarget.getAttribute("data-title"))},pe=Y=>{e(12,P=Y.currentTarget.getAttribute("data-pagesread"))},oe=Y=>{e(4,f=Y.currentTarget.getAttribute("data-pagesread"))},he=Y=>{e(11,C=Y.currentTarget.getAttribute("data-pages"))},ke=Y=>{e(5,d=Y.currentTarget.getAttribute("data-comment"))},Ie=Y=>{e(0,l=Y.currentTarget.getAttribute("id"))};function We(){y=pt(this),e(18,y),e(10,O)}function Ae(){w=this.value,e(7,w)}function le(){A=Je(this.value),e(8,A)}function ye(){I=this.value,e(9,I)}function Ye(){s=this.value,e(2,s)}function Fe(){f=Je(this.value),e(4,f)}function Te(){d=this.value,e(5,d)}function Xe(){a=pt(this),e(3,a),e(10,O)}return[l,i,s,a,f,d,k,w,A,I,O,C,P,R,D,z,U,K,y,E,L,j,J,te,Z,G,W,N,Q,fe,Ne,x,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe]}class Vc extends Ce{constructor(t){super(),we(this,t,Gc,Jc,be,{},null,[-1,-1,-1])}}function cr(n,t,e){const o=n.slice();return o[43]=t[e],o}function Wc(n){let t;function e(l,i){return l[13]?Kc:Yc}let o=e(n),r=o(n);return{c(){r.c(),t=ge()},m(l,i){r.m(l,i),B(l,t,i)},p(l,i){o===(o=e(l))&&r?r.p(l,i):(r.d(1),r=o(l),r&&(r.c(),r.m(t.parentNode,t)))},d(l){r.d(l),l&&q(t)}}}function Qc(n){let t,e,o,r,l=[],i=new Map,s,a,f,d=n[0];const h=g=>g[43].id;for(let g=0;g<d.length;g+=1){let m=cr(n,d,g),b=h(m);i.set(b,l[g]=fr(b,m))}let _=n[14]&&dr(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=S(),r=p("div");for(let g=0;g<l.length;g+=1)l[g].c();s=S(),a=S(),_&&_.c(),f=ge(),_e(e,"text-align","center"),u(r,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){B(g,t,m),c(t,e),c(t,o),c(t,r);for(let b=0;b<l.length;b+=1)l[b]&&l[b].m(r,null);B(g,s,m),B(g,a,m),_&&_.m(g,m),B(g,f,m)},p(g,m){m[0]&335871&&(d=g[0],l=He(l,m,h,1,g,d,i,r,Ve,fr,null,cr)),g[14]?_?_.p(g,m):(_=dr(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(g){g&&q(t);for(let m=0;m<l.length;m+=1)l[m].d();g&&q(s),g&&q(a),_&&_.d(g),g&&q(f)}}}function Kc(n){let t,e,o,r=n[15].email+"",l,i;return{c(){t=p("div"),e=p("p"),o=F("A verification email has been sent to "),l=F(r),i=F("."),u(t,"class","container")},m(s,a){B(s,t,a),c(t,e),c(e,o),c(e,l),c(e,i)},p(s,a){a[0]&32768&&r!==(r=s[15].email+"")&&re(l,r)},d(s){s&&q(t)}}}function Yc(n){let t,e,o,r,l,i;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=S(),r=p("a"),r.textContent="Verify Account",u(r,"href","#verify"),u(r,"role","button"),u(r,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){B(s,t,a),c(t,e),c(t,o),c(t,r),l||(i=T(r,"click",n[17]),l=!0)},p:ne,d(s){s&&q(t),l=!1,i()}}}function ur(n){let t,e,o,r,l,i,s=n[43].title+"",a,f,d,h,_=n[43].author+"",g,m,b,v,k,w,A,I,O,y,C,P,M=n[43].reader_name+"",E,R,L,D,j,z,J,te;function Z(N,Q){return N[43].cover?Zc:Xc}let G=Z(n),U=G(n);function V(N,Q){return N[43].pages_read?xc:$c}let K=V(n),W=K(n);return{c(){t=p("article"),e=p("div"),o=p("div"),U.c(),r=S(),l=p("hgroup"),i=p("h4"),a=F(s),f=S(),d=p("p"),h=F("By: "),g=F(_),m=S(),b=p("br"),v=S(),k=p("figure"),w=p("a"),A=p("img"),P=S(),E=F(M),R=S(),L=p("div"),D=S(),j=p("footer"),W.c(),z=S(),u(o,"class","image-wrapper"),me(A.src,I=n[43].avatar_from_url)||u(A,"src",I),u(A,"alt","avatar"),u(A,"class","svelte-1vqx4aq"),u(w,"href","#profile"),u(w,"data-readerid",O=n[43].reader),u(w,"data-reader",y=n[43].reader_name),u(w,"data-avatar",C=n[43].avatar_from_url),u(w,"class","svelte-1vqx4aq"),u(k,"class","avatar avatar-sm svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(j,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(N,Q){B(N,t,Q),c(t,e),c(e,o),U.m(o,null),c(e,r),c(e,l),c(l,i),c(i,a),c(l,f),c(l,d),c(d,h),c(d,g),c(d,m),c(d,b),c(d,v),c(d,k),c(k,w),c(w,A),c(d,P),c(d,E),c(t,R),c(t,L),c(t,D),c(t,j),W.m(j,null),c(t,z),J||(te=[T(w,"click",n[37]),T(w,"click",n[38]),T(w,"click",n[39]),T(w,"click",au)],J=!0)},p(N,Q){G===(G=Z(N))&&U?U.p(N,Q):(U.d(1),U=G(N),U&&(U.c(),U.m(o,null))),Q[0]&1&&s!==(s=N[43].title+"")&&re(a,s),Q[0]&1&&_!==(_=N[43].author+"")&&re(g,_),Q[0]&1&&!me(A.src,I=N[43].avatar_from_url)&&u(A,"src",I),Q[0]&1&&O!==(O=N[43].reader)&&u(w,"data-readerid",O),Q[0]&1&&y!==(y=N[43].reader_name)&&u(w,"data-reader",y),Q[0]&1&&C!==(C=N[43].avatar_from_url)&&u(w,"data-avatar",C),Q[0]&1&&M!==(M=N[43].reader_name+"")&&re(E,M),K===(K=V(N))&&W?W.p(N,Q):(W.d(1),W=K(N),W&&(W.c(),W.m(j,null)))},d(N){N&&q(t),U.d(),W.d(),J=!1,ie(te)}}}function Xc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),me(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",l=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(v,k){B(v,t,k),c(t,e),m||(b=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],m=!0)},p(v,k){k[0]&1&&!me(e.src,o=v[43].googleCover)&&u(e,"src",o),k[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),k[0]&1&&l!==(l=v[43].bookId)&&u(t,"data-id",l),k[0]&1&&i!==(i=v[43].reader_name)&&u(t,"data-reader",i),k[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),k[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),k[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),k[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),k[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),k[0]&1&&g!==(g=v[43].googleCover)&&u(t,"data-cover",g)},d(v){v&&q(t),m=!1,ie(b)}}}function Zc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),me(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",l=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(v,k){B(v,t,k),c(t,e),m||(b=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],m=!0)},p(v,k){k[0]&1&&!me(e.src,o=v[16]+v[43].bookId+"/"+v[43].cover)&&u(e,"src",o),k[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),k[0]&1&&l!==(l=v[43].bookId)&&u(t,"data-id",l),k[0]&1&&i!==(i=v[43].reader_name)&&u(t,"data-reader",i),k[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),k[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),k[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),k[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),k[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),k[0]&1&&g!==(g=v[16]+v[43].bookId+"/"+v[43].cover)&&u(t,"data-cover",g)},d(v){v&&q(t),m=!1,ie(b)}}}function $c(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){B(e,t,o)},p:ne,d(e){e&&q(t)}}}function xc(n){let t,e;return{c(){t=p("progress"),t.value=e=pr(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,r){B(o,t,r)},p(o,r){r[0]&1&&e!==(e=pr(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&q(t)}}}function fr(n,t){let e,o,r=t[43].pages_read&&ur(t);return{key:n,first:null,c(){e=ge(),r&&r.c(),o=ge(),this.first=e},m(l,i){B(l,e,i),r&&r.m(l,i),B(l,o,i)},p(l,i){t=l,t[43].pages_read?r?r.p(t,i):(r=ur(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&q(e),r&&r.d(l),l&&q(o)}}}function dr(n){let t,e,o,r,l,i,s,a,f,d,h;function _(b,v){if(b[11])return tu;if(b[12])return eu}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Book Review`),i=S(),m&&m.c(),s=S(),a=p("footer"),f=p("a"),f.textContent="Close",u(r,"href","#close"),u(r,"class","close svelte-1vqx4aq"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(b,v){B(b,t,v),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),m&&m.m(e,null),c(e,s),c(e,a),c(a,f),d||(h=[T(r,"click",n[18]),T(f,"click",n[18])],d=!0)},p(b,v){g===(g=_(b))&&m?m.p(b,v):(m&&m.d(1),m=g&&g(b),m&&(m.c(),m.m(e,s)))},d(b){b&&q(t),m&&m.d(),d=!1,ie(h)}}}function eu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;function b(w,A){return w[10]?ou:nu}let v=b(n),k=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),k.c(),m=ge(),me(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(w,A){B(w,t,A),c(t,e),c(t,r),c(t,l),c(l,i),c(i,s),c(s,a),c(i,f),c(i,d),c(d,h),c(d,_),B(w,g,A),k.m(w,A),B(w,m,A)},p(w,A){A[0]&4096&&!me(e.src,o=w[12])&&u(e,"src",o),A[0]&64&&re(a,w[6]),A[0]&128&&re(_,w[7]),v===(v=b(w))&&k?k.p(w,A):(k.d(1),k=v(w),k&&(k.c(),k.m(m.parentNode,m)))},d(w){w&&q(t),w&&q(g),k.d(w),w&&q(m)}}}function tu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;function b(w,A){return w[10]?lu:ru}let v=b(n),k=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),k.c(),m=ge(),me(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(w,A){B(w,t,A),c(t,e),c(t,r),c(t,l),c(l,i),c(i,s),c(s,a),c(i,f),c(i,d),c(d,h),c(d,_),B(w,g,A),k.m(w,A),B(w,m,A)},p(w,A){A[0]&2048&&!me(e.src,o=w[11])&&u(e,"src",o),A[0]&64&&re(a,w[6]),A[0]&128&&re(_,w[7]),v===(v=b(w))&&k?k.p(w,A):(k.d(1),k=v(w),k&&(k.c(),k.m(m.parentNode,m)))},d(w){w&&q(t),w&&q(g),k.d(w),w&&q(m)}}}function nu(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){B(e,t,o)},p:ne,d(e){e&&q(t)}}}function ou(n){let t,e,o,r,l,i,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),l=p("cite"),i=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){B(a,t,f),c(t,e),c(t,o),c(t,r),c(r,l),c(l,i),c(l,s)},p(a,f){f[0]&1024&&re(e,a[10]),f[0]&32&&re(s,a[5])},d(a){a&&q(t)}}}function ru(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){B(e,t,o)},p:ne,d(e){e&&q(t)}}}function lu(n){let t,e,o,r,l,i,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),l=p("cite"),i=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){B(a,t,f),c(t,e),c(t,o),c(t,r),c(r,l),c(l,i),c(l,s)},p(a,f){f[0]&1024&&re(e,a[10]),f[0]&32&&re(s,a[5])},d(a){a&&q(t)}}}function iu(n){let t;function e(l,i){if(l[15]&&l[15].verified===!0)return Qc;if(l[15]&&l[15].verified===!1)return Wc}let o=e(n),r=o&&o(n);return{c(){r&&r.c(),t=ge()},m(l,i){r&&r.m(l,i),B(l,t,i)},p(l,i){o===(o=e(l))&&r?r.p(l,i):(r&&r.d(1),r=o&&o(l),r&&(r.c(),r.m(t.parentNode,t)))},i:ne,o:ne,d(l){r&&r.d(l),l&&q(t)}}}let su="/api/files/9hhair4kd0xa314/";function pr(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function au(){}function cu(n,t,e){let o;Ee(n,Ke,x=>e(15,o=x));let r=[],l,i,s,a,f,d,h,_,g,m,b,v,k=!1,w=Zt+su;async function A(){try{const x=await ue.collection("view_classroom").getFullList({sort:"-id"});e(0,r=x);for(let Se=0;Se<r.length;Se++)console.log(r[Se].reader_name)}catch(x){alert(x)}}st(async()=>{A()});async function I(){e(13,k=!0),await ue.collection("users").requestVerification(o.email),await new Promise(x=>setTimeout(x,5e3)),ue.authStore.clear(),qn("/")}let O=!1;function y(){e(14,O=!O)}return[r,l,i,s,a,f,d,h,_,g,m,b,v,k,O,o,w,I,y,x=>{e(4,a=x.currentTarget.getAttribute("data-id"))},x=>{e(5,f=x.currentTarget.getAttribute("data-reader"))},x=>{e(6,d=x.currentTarget.getAttribute("data-title"))},x=>{e(7,h=x.currentTarget.getAttribute("data-author"))},x=>{e(8,_=x.currentTarget.getAttribute("data-pages"))},x=>{e(9,g=x.currentTarget.getAttribute("data-pagesread"))},x=>{e(10,m=x.currentTarget.getAttribute("data-review"))},x=>{e(11,b=x.currentTarget.getAttribute("data-cover"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))},x=>{e(4,a=x.currentTarget.getAttribute("data-id"))},x=>{e(5,f=x.currentTarget.getAttribute("data-reader"))},x=>{e(6,d=x.currentTarget.getAttribute("data-title"))},x=>{e(7,h=x.currentTarget.getAttribute("data-author"))},x=>{e(8,_=x.currentTarget.getAttribute("data-pages"))},x=>{e(9,g=x.currentTarget.getAttribute("data-pagesread"))},x=>{e(10,m=x.currentTarget.getAttribute("data-review"))},x=>{e(12,v=x.currentTarget.getAttribute("data-cover"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))},x=>{e(1,l=x.currentTarget.getAttribute("data-readerId"))},x=>{e(2,i=x.currentTarget.getAttribute("data-reader"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))}]}class uu extends Ce{constructor(t){super(),we(this,t,cu,iu,be,{},null,[-1,-1])}}function hr(n,t,e){const o=n.slice();return o[19]=t[e],o}function _r(n,t,e){const o=n.slice();return o[22]=t[e],o}function mr(n,t,e){const o=n.slice();return o[25]=t[e],o}function fu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I=[],O=new Map,y,C,P=n[0];const M=E=>E[19].id;for(let E=0;E<P.length;E+=1){let R=hr(n,P,E),L=M(R);O.set(L,I[E]=yr(L,R))}return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",l=p("option"),l.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",b=p("option"),b.textContent="November",v=p("option"),v.textContent="December",k=S(),w=p("input"),A=S();for(let E=0;E<I.length;E+=1)I[E].c();r.__value="All",r.value=r.__value,l.__value="January",l.value=l.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,b.__value="November",b.value=b.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-1mnjxzx"),n[2]===void 0&&xe(()=>n[7].call(o)),u(w,"type","search"),u(w,"placeholder","Filter logs..."),u(w,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(E,R){B(E,t,R),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,b),c(o,v),Ge(o,n[2],!0),c(e,k),c(e,w),X(w,n[3]),c(t,A);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(t,null);y||(C=[T(o,"change",n[7]),T(o,"change",n[6]),T(w,"input",n[8])],y=!0)},p(E,R){R&4&&Ge(o,E[2]),R&8&&w.value!==E[3]&&X(w,E[3]),R&51&&(P=E[0],I=He(I,R,M,1,E,P,O,t,Ve,yr,null,hr))},d(E){E&&q(t);for(let R=0;R<I.length;R+=1)I[R].d();y=!1,ie(C)}}}function gr(n){let t,e,o=Cr(n[25].pagesRead,n[5])+"",r,l,i,s,a,f,d,h;return{c(){t=p("br"),e=F(`\r
                Monthly Goal: `),r=F(o),l=F(`%\r
                `),i=p("br"),s=S(),a=p("br"),f=S(),d=p("progress"),d.value=h=n[25].pagesRead,u(d,"max",n[5])},m(_,g){B(_,t,g),B(_,e,g),B(_,r,g),B(_,l,g),B(_,i,g),B(_,s,g),B(_,a,g),B(_,f,g),B(_,d,g)},p(_,g){g&34&&o!==(o=Cr(_[25].pagesRead,_[5])+"")&&re(r,o),g&2&&h!==(h=_[25].pagesRead)&&(d.value=h),g&32&&u(d,"max",_[5])},d(_){_&&q(t),_&&q(e),_&&q(r),_&&q(l),_&&q(i),_&&q(s),_&&q(a),_&&q(f),_&&q(d)}}}function vr(n,t){let e,o,r=t[25].reader===t[19].id&&gr(t);return{key:n,first:null,c(){e=ge(),r&&r.c(),o=ge(),this.first=e},m(l,i){B(l,e,i),r&&r.m(l,i),B(l,o,i)},p(l,i){t=l,t[25].reader===t[19].id?r?r.p(t,i):(r=gr(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&q(e),r&&r.d(l),l&&q(o)}}}function br(n){let t,e,o,r=wr(n[22].date)+"",l,i,s,a,f,d,h,_=n[22].title+"",g,m,b,v=n[22].pages_read+"",k,w,A,I=n[22].comment+"",O,y;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),l=F(r),i=S(),s=p("td"),a=p("img"),d=S(),h=p("td"),g=F(_),m=S(),b=p("td"),k=F(v),w=S(),A=p("td"),O=F(I),y=S(),u(o,"class","svelte-1mnjxzx"),me(a.src,f=Sr(n[22].googleCover))||u(a,"src",f),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(b,"class","svelte-1mnjxzx"),u(A,"class","svelte-1mnjxzx")},m(C,P){B(C,t,P),c(t,e),c(e,o),c(o,l),c(e,i),c(e,s),c(s,a),c(e,d),c(e,h),c(h,g),c(e,m),c(e,b),c(b,k),c(e,w),c(e,A),c(A,O),c(t,y)},p(C,P){P&16&&r!==(r=wr(C[22].date)+"")&&re(l,r),P&16&&!me(a.src,f=Sr(C[22].googleCover))&&u(a,"src",f),P&16&&_!==(_=C[22].title+"")&&re(g,_),P&16&&v!==(v=C[22].pages_read+"")&&re(k,v),P&16&&I!==(I=C[22].comment+"")&&re(O,I)},d(C){C&&q(t)}}}function kr(n,t){let e,o,r=t[22].reader===t[19].id&&br(t);return{key:n,first:null,c(){e=ge(),r&&r.c(),o=ge(),this.first=e},m(l,i){B(l,e,i),r&&r.m(l,i),B(l,o,i)},p(l,i){t=l,t[22].reader===t[19].id?r?r.p(t,i):(r=br(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&q(e),r&&r.d(l),l&&q(o)}}}function yr(n,t){let e,o,r,l,i,s,a,f,d=t[19].name+"",h,_,g=[],m=new Map,b,v,k,w,A=[],I=new Map,O,y=t[1];const C=E=>E[25].reader;for(let E=0;E<y.length;E+=1){let R=mr(t,y,E),L=C(R);m.set(L,g[E]=vr(L,R))}let P=t[4];const M=E=>E[22].id;for(let E=0;E<P.length;E+=1){let R=_r(t,P,E),L=M(R);I.set(L,A[E]=kr(L,R))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),r=p("figure"),l=p("a"),i=p("img"),a=S(),f=p("strong"),h=F(d),_=S();for(let E=0;E<g.length;E+=1)g[E].c();b=S(),v=p("table"),k=p("thead"),k.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,w=S();for(let E=0;E<A.length;E+=1)A[E].c();O=S(),me(i.src,s=t[19].avatar_from_url)||u(i,"src",s),u(i,"alt","avatar"),u(l,"href","#profile"),u(r,"class","avatar avatar-lg"),u(v,"class","table-container svelte-1mnjxzx"),u(v,"role","grid"),this.first=e},m(E,R){B(E,e,R),c(e,o),c(o,r),c(r,l),c(l,i),c(o,a),c(o,f),c(f,h),c(o,_);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);c(e,b),c(e,v),c(v,k),c(v,w);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(v,null);c(e,O)},p(E,R){t=E,R&1&&!me(i.src,s=t[19].avatar_from_url)&&u(i,"src",s),R&1&&d!==(d=t[19].name+"")&&re(h,d),R&35&&(y=t[1],g=He(g,R,C,1,t,y,m,o,Ve,vr,null,mr)),R&17&&(P=t[4],A=He(A,R,M,1,t,P,I,v,Ve,kr,null,_r))},d(E){E&&q(e);for(let R=0;R<g.length;R+=1)g[R].d();for(let R=0;R<A.length;R+=1)A[R].d()}}}function du(n){let t,e=Ke&&fu(n);return{c(){e&&e.c(),t=ge()},m(o,r){e&&e.m(o,r),B(o,t,r)},p(o,[r]){Ke&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&q(t)}}}function wr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Cr(n,t){return Math.floor(n/t*100)}function Sr(n){return n.replace("zoom=1","zoom=5")}function pu(n,t,e){let o;Ee(n,ya,y=>e(5,o=y));let r=[],l=[],i=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],f=new Date;let d=a[f.getMonth()],h=f.getMonth()+1,_=f.getFullYear(),g="";h<10?h===9?g=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:g=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?g=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:g=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let m=d;async function b(){try{const C=await ue.collection("view_readingLog").getFullList({filter:g,sort:"-date"});r=C;const P=await ue.collection("view_classroom").getFullList({sort:"-reader_name"});l=C,console.log(l);for(let E=0;E<l.length;E++){let R=l[E],L=R.reader,D=R.pages_read;var y=s.findIndex(j=>j.reader===L);y!==-1?e(1,s[y].pagesRead+=D,s):s.push({reader:L,pagesRead:D})}const M=await ue.collection("users").getFullList({filter:'role = "student"'});e(0,i=M),w()}catch(C){alert(C)}}st(async()=>{b()});function v(){if(m&&f.getMonth()>4)switch(m){case"All":g="";break;case"January":g="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":g="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":g="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":g="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":g="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":g="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":g="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":g="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":g="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":g="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":g="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":g="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],l=[],e(0,i=[]),e(1,s=[]),b()}let k="";function w(){const y=k.toLowerCase();e(4,A=r.filter(C=>C.title.toLowerCase().includes(y)||C.reader_name.toLowerCase().includes(y)||C.date.toLowerCase().includes(y)))}let A=r;En(()=>{w()});function I(){m=pt(this),e(2,m)}function O(){k=this.value,e(3,k)}return[i,s,m,k,A,o,v,I,O]}class hu extends Ce{constructor(t){super(),we(this,t,pu,du,be,{})}}function Ar(n,t,e){const o=n.slice();return o[53]=t[e],o}function _u(n){let t,e;return t=new Dn({props:{$$slots:{default:[gu]},$$scope:{ctx:n}}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r[1]&33554432&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function mu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D;function j(N,Q){if(N[16].role==="student")return bu;if(N[16].role==="teacher")return vu}let z=j(n),J=z&&z(n),te=n[12]&&Tr(n),Z=n[13]&&Ir(n),G=n[14]&&Pr(n),U=n[15]&&Lr(n);const V=[Cu,wu,yu,ku],K=[];function W(N,Q){return N[4]==="Books"?0:N[4]==="Log"?1:N[4]==="Classroom"?2:N[4]==="Activity"?3:-1}return~(C=W(n))&&(P=K[C]=V[C](n)),E=new Hn({}),{c(){t=p("div"),e=p("header"),o=p("section"),r=p("div"),l=p("a"),l.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div>Books</div>`,i=S(),s=p("a"),s.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Room</div>`,a=S(),J&&J.c(),f=S(),d=p("section"),h=S(),_=p("section"),g=p("figure"),m=p("a"),b=p("img"),k=S(),te&&te.c(),w=S(),Z&&Z.c(),A=S(),G&&G.c(),I=S(),U&&U.c(),O=S(),y=p("div"),P&&P.c(),M=S(),ce(E.$$.fragment),u(l,"href","#"),u(l,"class","btn btn-link svelte-17b6m7r"),u(s,"href","#"),u(s,"class","btn btn-link svelte-17b6m7r"),u(r,"class","navbar-items svelte-17b6m7r"),u(o,"class","navbar-section svelte-17b6m7r"),u(d,"class","navbar-center"),me(b.src,v=n[21])||u(b,"src",v),u(b,"alt","avatar"),u(b,"class","navbar-avatar"),u(m,"href","#profile"),u(m,"class","svelte-17b6m7r"),u(g,"class","avatar avatar-xl svelte-17b6m7r"),u(_,"class","navbar-section svelte-17b6m7r"),u(e,"class","navbar svelte-17b6m7r"),u(y,"class","content svelte-17b6m7r"),u(t,"class","container")},m(N,Q){B(N,t,Q),c(t,e),c(e,o),c(o,r),c(r,l),c(r,i),c(r,s),c(r,a),J&&J.m(r,null),c(e,f),c(e,d),c(e,h),c(e,_),c(_,g),c(g,m),c(m,b),c(t,k),te&&te.m(t,null),c(t,w),Z&&Z.m(t,null),c(t,A),G&&G.m(t,null),c(t,I),U&&U.m(t,null),c(t,O),c(t,y),~C&&K[C].m(y,null),B(N,M,Q),se(E,N,Q),R=!0,L||(D=[T(l,"click",n[27]),T(s,"click",n[28]),T(m,"click",n[31])],L=!0)},p(N,Q){z===(z=j(N))&&J?J.p(N,Q):(J&&J.d(1),J=z&&z(N),J&&(J.c(),J.m(r,null))),N[12]?te?te.p(N,Q):(te=Tr(N),te.c(),te.m(t,w)):te&&(te.d(1),te=null),N[13]?Z?Z.p(N,Q):(Z=Ir(N),Z.c(),Z.m(t,A)):Z&&(Z.d(1),Z=null),N[14]?G?G.p(N,Q):(G=Pr(N),G.c(),G.m(t,I)):G&&(G.d(1),G=null),N[15]?U?U.p(N,Q):(U=Lr(N),U.c(),U.m(t,O)):U&&(U.d(1),U=null);let fe=C;C=W(N),C!==fe&&(P&&(Re(),ee(K[fe],1,1,()=>{K[fe]=null}),je()),~C?(P=K[C],P||(P=K[C]=V[C](N),P.c()),$(P,1),P.m(y,null)):P=null)},i(N){R||($(P),$(E.$$.fragment,N),R=!0)},o(N){ee(P),ee(E.$$.fragment,N),R=!1},d(N){N&&q(t),J&&J.d(),te&&te.d(),Z&&Z.d(),G&&G.d(),U&&U.d(),~C&&K[C].d(),N&&q(M),ae(E,N),L=!1,ie(D)}}}function gu(n){let t,e;return t=new _t({props:{path:"/",component:Bn}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p:ne,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function vu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-17b6m7r")},m(r,l){B(r,t,l),e||(o=T(t,"click",n[29]),e=!0)},p:ne,d(r){r&&q(t),e=!1,o()}}}function bu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
              <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-17b6m7r")},m(r,l){B(r,t,l),e||(o=T(t,"click",n[26]),e=!0)},p:ne,d(r){r&&q(t),e=!1,o()}}}function Tr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
            Settings`),i=S(),s=p("form"),a=p("label"),f=F(`Max Search Output\r
              `),d=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",b=S(),v=p("a"),v.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","maxOutput"),u(d,"name","maxOutput"),u(d,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-17b6m7r"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-17b6m7r"),u(_,"class","svelte-17b6m7r"),t.open=!0},m(A,I){B(A,t,I),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),X(d,n[17]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,b),c(g,v),k||(w=[T(r,"click",n[30]),T(d,"input",n[39]),T(s,"submit",Be(n[38])),T(m,"click",n[30]),T(v,"click",n[30])],k=!0)},p(A,I){I[0]&131072&&d.value!==A[17]&&X(d,A[17])},d(A){A&&q(t),k=!1,ie(w)}}}function Ir(n){let t,e,o,r,l,i,s,a,f,d,h,_,g=n[16].name+"",m,b,v,k,w,A,I,O,y,C,P,M,E,R,L,D,j,z,J,te,Z,G,U,V,K,W,N,Q,fe,Ne,x,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe,Y,Pe,et;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),l=p("a"),i=p("img"),a=S(),f=p("i"),f.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',d=S(),h=p("a"),_=F(`\r
               `),m=F(g),b=F("'s Profile"),v=S(),k=p("details"),w=p("summary"),w.textContent="My Stats",A=S(),I=p("p"),O=F("Books: "),y=F(n[18]),C=F(" | Pages Read: "),P=F(n[19]),M=S(),E=p("details"),R=p("summary"),R.textContent="Account Info",L=S(),D=p("form"),j=p("label"),z=F(`Name\r
                `),J=p("input"),te=S(),Z=p("label"),G=F(`Email\r
                `),U=p("input"),V=S(),K=p("label"),W=F(`Class ID\r
                `),N=p("input"),Q=S(),fe=p("details"),Ne=p("summary"),Ne.textContent="Security",x=S(),Se=p("fieldset"),pe=p("label"),oe=p("input"),he=F(`\r
                Share my readings with classmates`),ke=S(),Ie=p("a"),Ie.textContent="Change Password",We=S(),Ae=p("footer"),le=p("div"),ye=p("a"),ye.textContent="Sign Out",Ye=S(),Fe=p("div"),Te=p("a"),Te.textContent="Cancel",Xe=S(),Y=p("a"),Y.textContent="Save",me(i.src,s=n[21])||u(i,"src",s),u(i,"alt","avatar"),u(f,"class","avatar-presence"),_e(l,"color","white"),u(l,"href","#profile"),u(r,"class","avatar avatar-xl svelte-17b6m7r"),u(h,"href","#close"),u(h,"class","close"),k.open=!0,u(J,"id","profileName"),u(J,"name","profileName"),u(J,"type","text"),u(j,"for","profileName"),u(U,"id","profileEmail"),u(U,"name","profileEmail"),u(U,"type","email"),U.disabled=!0,u(Z,"for","profileEmail"),u(N,"id","classId"),u(N,"name","classId"),u(N,"type","number"),u(K,"for","classId"),E.open=!0,u(oe,"type","checkbox"),u(oe,"id","switch"),u(oe,"name","switch"),u(oe,"role","switch"),u(pe,"for","switch"),u(Ie,"href","#update"),u(Ie,"class","details"),u(ye,"href","#signout"),u(ye,"role","button"),u(ye,"class","signout svelte-17b6m7r"),u(Te,"href","#cancel"),u(Te,"role","button"),u(Te,"class","secondary svelte-17b6m7r"),u(Y,"href","#confirm"),u(Y,"role","button"),u(Y,"class","svelte-17b6m7r"),u(Ae,"data-button","spaceBetween"),u(Ae,"class","svelte-17b6m7r"),t.open=!0},m(qe,Qe){B(qe,t,Qe),c(t,e),c(e,o),c(o,r),c(r,l),c(l,i),c(l,a),c(l,f),c(o,d),c(o,h),c(o,_),c(o,m),c(o,b),c(e,v),c(e,k),c(k,w),c(k,A),c(k,I),c(I,O),c(I,y),c(I,C),c(I,P),c(e,M),c(e,E),c(E,R),c(E,L),c(E,D),c(D,j),c(j,z),c(j,J),X(J,n[6]),c(D,te),c(D,Z),c(Z,G),c(Z,U),X(U,n[7]),c(D,V),c(D,K),c(K,W),c(K,N),X(N,n[11]),c(e,Q),c(e,fe),c(fe,Ne),c(fe,x),c(fe,Se),c(Se,pe),c(pe,oe),oe.checked=n[10],c(pe,he),c(fe,ke),c(fe,Ie),c(e,We),c(e,Ae),c(Ae,le),c(le,ye),c(Ae,Ye),c(Ae,Fe),c(Fe,Te),c(Fe,Xe),c(Fe,Y),Pe||(et=[T(l,"click",n[32]),T(h,"click",n[31]),T(J,"input",n[40]),T(U,"input",n[41]),T(N,"input",n[42]),T(D,"submit",Be(n[37])),T(oe,"change",n[43]),T(Ie,"click",n[33]),T(ye,"click",n[25]),T(Te,"click",n[31]),T(Y,"click",n[22]),T(Y,"click",n[31])],Pe=!0)},p(qe,Qe){Qe[0]&65536&&g!==(g=qe[16].name+"")&&re(m,g),Qe[0]&262144&&re(y,qe[18]),Qe[0]&524288&&re(P,qe[19]),Qe[0]&64&&J.value!==qe[6]&&X(J,qe[6]),Qe[0]&128&&U.value!==qe[7]&&X(U,qe[7]),Qe[0]&2048&&Je(N.value)!==qe[11]&&X(N,qe[11]),Qe[0]&1024&&(oe.checked=qe[10])},d(qe){qe&&q(t),Pe=!1,ie(et)}}}function Pr(n){let t,e,o,r,l,i,s,a,f,d,h,_=[],g=new Map,m,b,v,k,w,A,I,O=n[5];const y=C=>C[53].id;for(let C=0;C<O.length;C+=1){let P=Ar(n,O,C),M=y(P);g.set(M,_[C]=Or(M,P))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),l=p("img"),s=S(),a=p("a"),f=F(`\r
            Change Avatar`),d=S(),h=p("section");for(let C=0;C<_.length;C+=1)_[C].c();m=S(),b=p("footer"),v=p("a"),v.textContent="Cancel",k=S(),w=p("a"),w.textContent="Save",me(l.src,i=n[21])||u(l,"src",i),u(l,"alt","avatar"),u(r,"class","avatar avatar-xl svelte-17b6m7r"),u(a,"href","#close"),u(a,"class","close"),u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary svelte-17b6m7r"),u(w,"href","#confirm"),u(w,"role","button"),u(w,"class","svelte-17b6m7r"),u(b,"class","svelte-17b6m7r"),t.open=!0},m(C,P){B(C,t,P),c(t,e),c(e,o),c(o,r),c(r,l),c(o,s),c(o,a),c(o,f),c(e,d),c(e,h);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(h,null);c(e,m),c(e,b),c(b,v),c(b,k),c(b,w),A||(I=[T(a,"click",n[32]),T(v,"click",n[32]),T(w,"click",n[24]),T(w,"click",n[34])],A=!0)},p(C,P){P[0]&1049120&&(O=C[5],_=He(_,P,y,1,C,O,g,h,Ve,Or,null,Ar))},d(C){C&&q(t);for(let P=0;P<_.length;P+=1)_[P].d();A=!1,ie(I)}}}function Or(n,t){let e,o,r,l,i,s,a,f;return{key:n,first:null,c(){e=p("a"),o=p("figure"),r=p("img"),i=S(),u(r,"class","avatar-list svelte-17b6m7r"),me(r.src,l=t[20]+t[53].id+"/"+t[53].field)||u(r,"src",l),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-17b6m7r"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-17b6m7r"),u(e,"data-picture",s=t[20]+t[53].id+"/"+t[53].field),this.first=e},m(d,h){B(d,e,h),c(e,o),c(o,r),c(e,i),a||(f=T(e,"click",t[44]),a=!0)},p(d,h){t=d,h[0]&32&&!me(r.src,l=t[20]+t[53].id+"/"+t[53].field)&&u(r,"src",l),h[0]&32&&s!==(s=t[20]+t[53].id+"/"+t[53].field)&&u(e,"data-picture",s)},d(d){d&&q(e),a=!1,f()}}}function Lr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,b,v,k,w,A,I,O;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
            Change Password`),i=S(),s=p("form"),a=p("label"),f=F(`Change Password\r
              `),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),v=p("footer"),k=p("a"),k.textContent="Cancel",w=S(),A=p("a"),A.textContent="Update",u(r,"href","#close"),u(r,"class","close"),u(d,"id","oldPassword"),u(d,"name","oldPassword"),u(d,"type","password"),u(d,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[2]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[3]),u(k,"href","#cancel"),u(k,"role","button"),u(k,"class","secondary svelte-17b6m7r"),u(A,"href","#confirm"),u(A,"role","button"),u(A,"class","svelte-17b6m7r"),u(v,"class","svelte-17b6m7r"),t.open=!0},m(y,C){B(y,t,C),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),X(d,n[8]),c(s,h),c(s,_),X(_,n[0]),c(s,g),c(s,m),X(m,n[1]),c(e,b),c(e,v),c(v,k),c(v,w),c(v,A),I||(O=[T(r,"click",n[33]),T(d,"input",n[45]),T(_,"input",n[46]),T(m,"input",n[47]),T(s,"submit",Be(n[36])),T(k,"click",n[33]),T(A,"click",n[23]),T(A,"click",n[35])],I=!0)},p(y,C){C[0]&256&&d.value!==y[8]&&X(d,y[8]),C[0]&4&&u(_,"aria-invalid",y[2]),C[0]&1&&_.value!==y[0]&&X(_,y[0]),C[0]&8&&u(m,"aria-invalid",y[3]),C[0]&2&&m.value!==y[1]&&X(m,y[1])},d(y){y&&q(t),I=!1,ie(O)}}}function ku(n){let t,e;return t=new hu({}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function yu(n){let t,e;return t=new uu({}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function wu(n){let t,e;return t=new Vc({}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function Cu(n){let t,e;return t=new Ga({}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function Su(n){let t,e,o,r;const l=[mu,_u],i=[];function s(a,f){return a[16]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=ge()},m(a,f){i[t].m(a,f),B(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?i[t].p(a,f):(Re(),ee(i[d],1,1,()=>{i[d]=null}),je(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){i[t].d(a),a&&q(o)}}}let Au="/api/files/fhm2u4u1k405dr7/";function Tu(n,t,e){let o,r,l,i;Ee(n,Ke,le=>e(16,o=le)),Ee(n,vn,le=>e(17,r=le)),Ee(n,yn,le=>e(18,l=le)),Ee(n,Bt,le=>e(19,i=le));let s,a,f,d=[],h=Zt+Au,_=o.avatar_from_url;function g(){ue.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),ue.authStore.clear(),window.location.reload())}st(async()=>{g(),o.role==="teacher"?y():I();try{const le=await ue.collection("avatars").getFullList({sort:"-created"});e(5,d=le)}catch(le){de.error(le,{position:ve})}});async function m(){try{const le={name:C,email:P,isPublic:D,classId:j},ye=await ue.collection("users").update(o.id,le);de.success("Profile updated!",{position:ve})}catch(le){alert(le)}}async function b(){if(!s&&!a)try{const le=new FormData;le.append("password",M),le.append("passwordConfirm",E),le.append("oldPassword",R);const ye=await ue.collection("users").update(o.id,le);de.success("Password changed successfully!",{position:ve})}catch(le){de.error(le,{position:ve})}else s?de.error("Password should be at least 5 characters long",{position:ve}):a&&de.error("Password mismatch",{position:ve})}async function v(){try{const le={avatar_from_url:L},ye=await ue.collection("users").update(o.id,le);de.success("Avatar updated!",{position:ve})}catch(le){de.error(le,{position:ve})}window.location.reload(),e(9,L="")}function k(){ue.authStore.clear(),qn("/")}function w(){e(4,f="Log")}function A(){e(4,f="Books")}function I(){e(4,f="Books")}function O(){e(4,f="Classroom")}function y(){e(4,f="Activity")}let C=o.name,P=o.email,M,E,R,L,D=o.isPublic,j=o.class_id,z=!1;function J(){e(12,z=!z)}let te=!1;function Z(){e(13,te=!te)}let G=!1;function U(){e(14,G=!G)}let V=!1;function K(){e(15,V=!V)}function W(){U(),Z()}function N(){K(),Z()}function Q(le){De.call(this,n,le)}function fe(le){De.call(this,n,le)}function Ne(le){De.call(this,n,le)}function x(){r=this.value,vn.set(r)}function Se(){C=this.value,e(6,C)}function pe(){P=this.value,e(7,P)}function oe(){j=Je(this.value),e(11,j)}function he(){D=this.checked,e(10,D)}const ke=le=>{e(9,L=le.currentTarget.getAttribute("data-picture"))};function Ie(){R=this.value,e(8,R)}function We(){M=this.value,e(0,M)}function Ae(){E=this.value,e(1,E)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(M&&(M.length>=5?e(2,s=!1):e(2,s=!0)),E&&(E===M?e(3,a=!1):e(3,a=!0)))},[M,E,s,a,f,d,C,P,R,L,D,j,z,te,G,V,o,r,l,i,h,_,m,b,v,k,w,A,O,y,J,Z,U,K,W,N,Q,fe,Ne,x,Se,pe,oe,he,ke,Ie,We,Ae]}class Iu extends Ce{constructor(t){super(),we(this,t,Tu,Su,be,{},null,[-1,-1])}}function Pu(n){let t,e;return t=new Dn({props:{$$slots:{default:[Lu]},$$scope:{ctx:n}}}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p(o,r){const l={};r&2&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function Ou(n){let t,e;return t=new Iu({}),{c(){ce(t.$$.fragment)},m(o,r){se(t,o,r),e=!0},p:ne,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ae(t,o)}}}function Lu(n){let t,e,o,r,l,i;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),l=new _t({props:{path:"/reset",component:ka}}),{c(){ce(t.$$.fragment),e=S(),ce(o.$$.fragment),r=S(),ce(l.$$.fragment)},m(s,a){se(t,s,a),B(s,e,a),se(o,s,a),B(s,r,a),se(l,s,a),i=!0},p:ne,i(s){i||($(t.$$.fragment,s),$(o.$$.fragment,s),$(l.$$.fragment,s),i=!0)},o(s){ee(t.$$.fragment,s),ee(o.$$.fragment,s),ee(l.$$.fragment,s),i=!1},d(s){ae(t,s),s&&q(e),ae(o,s),s&&q(r),ae(l,s)}}}function Eu(n){let t,e,o,r;const l=[Ou,Pu],i=[];function s(a,f){return a[0]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=ge()},m(a,f){i[t].m(a,f),B(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?i[t].p(a,f):(Re(),ee(i[d],1,1,()=>{i[d]=null}),je(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){i[t].d(a),a&&q(o)}}}function Mu(n,t,e){let o;return Ee(n,Ke,r=>e(0,o=r)),[o]}class Ru extends Ce{constructor(t){super(),we(this,t,Mu,Eu,be,{})}}new Ru({target:document.getElementById("app")});
