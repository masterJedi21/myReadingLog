var _s=Object.defineProperty;var ms=(n,t,e)=>t in n?_s(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Gt=(n,t,e)=>(ms(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();function oe(){}const gs=n=>n;function pt(n,t){for(const e in t)n[e]=t[e];return n}function vs(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Ti(n){return n()}function ul(){return Object.create(null)}function fe(n){n.forEach(Ti)}function st(n){return typeof n=="function"}function Re(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Wt;function Oe(n,t){return Wt||(Wt=document.createElement("a")),Wt.href=t,n===Wt.href}function bs(n){return Object.keys(n).length===0}function Qn(n,...t){if(n==null)return oe;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Ln(n){let t;return Qn(n,e=>t=e)(),t}function He(n,t,e){n.$$.on_destroy.push(Qn(t,e))}function cn(n,t,e,l){if(n){const o=Ii(n,t,e,l);return n[0](o)}}function Ii(n,t,e,l){return n[1]&&l?pt(e.ctx.slice(),n[1](l(t))):e.ctx}function un(n,t,e,l){if(n[2]&&l){const o=n[2](l(e));if(t.dirty===void 0)return o;if(typeof o=="object"){const i=[],r=Math.max(t.dirty.length,o.length);for(let s=0;s<r;s+=1)i[s]=t.dirty[s]|o[s];return i}return t.dirty|o}return t.dirty}function fn(n,t,e,l,o,i){if(o){const r=Ii(t,e,l,i);n.p(r,o)}}function dn(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let l=0;l<e;l++)t[l]=-1;return t}return-1}function fl(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function bn(n,t,e){return n.set(e),t}function dl(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const Pi=typeof window<"u";let ys=Pi?()=>window.performance.now():()=>Date.now(),Kn=Pi?n=>requestAnimationFrame(n):oe;const At=new Set;function Li(n){At.forEach(t=>{t.c(n)||(At.delete(t),t.f())}),At.size!==0&&Kn(Li)}function ks(n){let t;return At.size===0&&Kn(Li),{promise:new Promise(e=>{At.add(t={c:n,f:e})}),abort(){At.delete(t)}}}function c(n,t){n.appendChild(t)}function Oi(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function ws(n){const t=p("style");return Cs(Oi(n),t),t.sheet}function Cs(n,t){return c(n.head||n,t),t.sheet}function M(n,t,e){n.insertBefore(t,e||null)}function L(n){n.parentNode&&n.parentNode.removeChild(n)}function Ss(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function p(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function C(){return B(" ")}function ve(){return B("")}function T(n,t,e,l){return n.addEventListener(t,e,l),()=>n.removeEventListener(t,e,l)}function nt(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const As=["width","height"];function pl(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const l in t)t[l]==null?n.removeAttribute(l):l==="style"?n.style.cssText=t[l]:l==="__value"?n.value=n[l]=t[l]:e[l]&&e[l].set&&As.indexOf(l)===-1?n[l]=t[l]:u(n,l,t[l])}function Ts(n){let t;return{p(...e){t=e,t.forEach(l=>n.push(l))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Ve(n){return n===""?null:+n}function Is(n){return Array.from(n.childNodes)}function re(n,t){t=""+t,n.data!==t&&(n.data=t)}function K(n,t){n.value=t??""}function Pe(n,t,e,l){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,l?"important":"")}function Ne(n,t,e){for(let l=0;l<n.options.length;l+=1){const o=n.options[l];if(o.__value===t){o.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function it(n){const t=n.querySelector(":checked");return t&&t.__value}function Et(n,t,e){n.classList[e?"add":"remove"](t)}function Ps(n,t,{bubbles:e=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(n,e,l,t),o}function ht(n,t){return new n(t)}const tn=new Map;let nn=0;function Ls(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Os(n,t){const e={stylesheet:ws(t),rules:{}};return tn.set(n,e),e}function hl(n,t,e,l,o,i,r,s=0){const a=16.666/l;let d=`{
`;for(let b=0;b<=1;b+=a){const k=t+(e-t)*i(b);d+=b*100+`%{${r(k,1-k)}}
`}const f=d+`100% {${r(e,1-e)}}
}`,h=`__svelte_${Ls(f)}_${s}`,m=Oi(n),{stylesheet:g,rules:_}=tn.get(m)||Os(m,n);_[h]||(_[h]=!0,g.insertRule(`@keyframes ${h} ${f}`,g.cssRules.length));const v=n.style.animation||"";return n.style.animation=`${v?`${v}, `:""}${h} ${l}ms linear ${o}ms 1 both`,nn+=1,h}function Ms(n,t){const e=(n.style.animation||"").split(", "),l=e.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),o=e.length-l.length;o&&(n.style.animation=l.join(", "),nn-=o,nn||Es())}function Es(){Kn(()=>{nn||(tn.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&L(t)}),tn.clear())})}let Nt;function ut(n){Nt=n}function Pt(){if(!Nt)throw new Error("Function called outside component initialization");return Nt}function gt(n){Pt().$$.on_mount.push(n)}function Yn(n){Pt().$$.after_update.push(n)}function Zn(n){Pt().$$.on_destroy.push(n)}function yn(n,t){return Pt().$$.context.set(n,t),t}function On(n){return Pt().$$.context.get(n)}function tt(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(l=>l.call(this,t))}const St=[],bt=[];let Tt=[];const Mn=[],Rs=Promise.resolve();let En=!1;function Ns(){En||(En=!0,Rs.then(Xn))}function De(n){Tt.push(n)}function qs(n){Mn.push(n)}const kn=new Set;let wt=0;function Xn(){if(wt!==0)return;const n=Nt;do{try{for(;wt<St.length;){const t=St[wt];wt++,ut(t),js(t.$$)}}catch(t){throw St.length=0,wt=0,t}for(ut(null),St.length=0,wt=0;bt.length;)bt.pop()();for(let t=0;t<Tt.length;t+=1){const e=Tt[t];kn.has(e)||(kn.add(e),e())}Tt.length=0}while(St.length);for(;Mn.length;)Mn.pop()();En=!1,kn.clear(),ut(n)}function js(n){if(n.fragment!==null){n.update(),fe(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(De)}}function Ds(n){const t=[],e=[];Tt.forEach(l=>n.indexOf(l)===-1?t.push(l):e.push(l)),e.forEach(l=>l()),Tt=t}let Ot;function Bs(){return Ot||(Ot=Promise.resolve(),Ot.then(()=>{Ot=null})),Ot}function wn(n,t,e){n.dispatchEvent(Ps(`${t?"intro":"outro"}${e}`))}const Zt=new Set;let ft;function Be(){ft={r:0,c:[],p:ft}}function Fe(){ft.r||fe(ft.c),ft=ft.p}function Q(n,t){n&&n.i&&(Zt.delete(n),n.i(t))}function x(n,t,e,l){if(n&&n.o){if(Zt.has(n))return;Zt.add(n),ft.c.push(()=>{Zt.delete(n),l&&(e&&n.d(1),l())}),n.o(t)}else l&&l()}const Fs={duration:0};function ot(n,t,e,l){const o={direction:"both"};let i=t(n,e,o),r=l?0:1,s=null,a=null,d=null;function f(){d&&Ms(n,d)}function h(g,_){const v=g.b-r;return _*=Math.abs(v),{a:r,b:g.b,d:v,duration:_,start:g.start,end:g.start+_,group:g.group}}function m(g){const{delay:_=0,duration:v=300,easing:b=gs,tick:k=oe,css:y}=i||Fs,S={start:ys()+_,b:g};g||(S.group=ft,ft.r+=1),s||a?a=S:(y&&(f(),d=hl(n,r,g,v,_,b,y)),g&&k(0,1),s=h(S,v),De(()=>wn(n,g,"start")),ks(O=>{if(a&&O>a.start&&(s=h(a,v),a=null,wn(n,s.b,"start"),y&&(f(),d=hl(n,r,s.b,s.duration,0,b,i.css))),s){if(O>=s.end)k(r=s.b,1-r),wn(n,s.b,"end"),a||(s.b?f():--s.group.r||fe(s.group.c)),s=null;else if(O>=s.start){const R=O-s.start;r=s.a+s.d*b(R/s.duration),k(r,1-r)}}return!!(s||a)}))}return{run(g){st(i)?Bs().then(()=>{i=i(o),m(g)}):m(g)},end(){f(),s=a=null}}}function _l(n,t){const e=t.token={};function l(o,i,r,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;r!==void 0&&(a=a.slice(),a[r]=s);const d=o&&(t.current=o)(a);let f=!1;t.block&&(t.blocks?t.blocks.forEach((h,m)=>{m!==i&&h&&(Be(),x(h,1,1,()=>{t.blocks[m]===h&&(t.blocks[m]=null)}),Fe())}):t.block.d(1),d.c(),Q(d,1),d.m(t.mount(),t.anchor),f=!0),t.block=d,t.blocks&&(t.blocks[i]=d),f&&Xn()}if(vs(n)){const o=Pt();if(n.then(i=>{ut(o),l(t.then,1,t.value,i),ut(null)},i=>{if(ut(o),l(t.catch,2,t.error,i),ut(null),!t.hasCatch)throw i}),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,n),!0;t.resolved=n}}function Us(n,t,e){const l=t.slice(),{resolved:o}=n;n.current===n.then&&(l[n.value]=o),n.current===n.catch&&(l[n.error]=o),n.block.p(l,e)}function Ge(n,t){n.d(1),t.delete(n.key)}function Hs(n,t){x(n,1,1,()=>{t.delete(n.key)})}function ze(n,t,e,l,o,i,r,s,a,d,f,h){let m=n.length,g=i.length,_=m;const v={};for(;_--;)v[n[_].key]=_;const b=[],k=new Map,y=new Map,S=[];for(_=g;_--;){const A=h(o,i,_),P=e(A);let j=r.get(P);j?l&&S.push(()=>j.p(A,t)):(j=d(P,A),j.c()),k.set(P,b[_]=j),P in v&&y.set(P,Math.abs(_-v[P]))}const O=new Set,R=new Set;function w(A){Q(A,1),A.m(s,f),r.set(A.key,A),f=A.first,g--}for(;m&&g;){const A=b[g-1],P=n[m-1],j=A.key,N=P.key;A===P?(f=A.first,m--,g--):k.has(N)?!r.has(j)||O.has(j)?w(A):R.has(N)?m--:y.get(j)>y.get(N)?(R.add(j),w(A)):(O.add(N),m--):(a(P,r),m--)}for(;m--;){const A=n[m];k.has(A.key)||a(A,r)}for(;g;)w(b[g-1]);return fe(S),b}function Ft(n,t){const e={},l={},o={$$scope:1};let i=n.length;for(;i--;){const r=n[i],s=t[i];if(s){for(const a in r)a in s||(l[a]=1);for(const a in s)o[a]||(e[a]=s[a],o[a]=1);n[i]=s}else for(const a in r)o[a]=1}for(const r in l)r in e||(e[r]=void 0);return e}function qt(n){return typeof n=="object"&&n!==null?n:{}}function Vs(n,t,e){const l=n.$$.props[t];l!==void 0&&(n.$$.bound[l]=e,e(n.$$.ctx[l]))}function ge(n){n&&n.c()}function _e(n,t,e,l){const{fragment:o,after_update:i}=n.$$;o&&o.m(t,e),l||De(()=>{const r=n.$$.on_mount.map(Ti).filter(st);n.$$.on_destroy?n.$$.on_destroy.push(...r):fe(r),n.$$.on_mount=[]}),i.forEach(De)}function me(n,t){const e=n.$$;e.fragment!==null&&(Ds(e.after_update),fe(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function zs(n,t){n.$$.dirty[0]===-1&&(St.push(n),Ns(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function qe(n,t,e,l,o,i,r,s=[-1]){const a=Nt;ut(n);const d=n.$$={fragment:null,ctx:[],props:i,update:oe,not_equal:o,bound:ul(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ul(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};r&&r(d.root);let f=!1;if(d.ctx=e?e(n,t.props||{},(h,m,...g)=>{const _=g.length?g[0]:m;return d.ctx&&o(d.ctx[h],d.ctx[h]=_)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](_),f&&zs(n,h)),m}):[],d.update(),f=!0,fe(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const h=Is(t.target);d.fragment&&d.fragment.l(h),h.forEach(L)}else d.fragment&&d.fragment.c();t.intro&&Q(n.$$.fragment),_e(n,t.target,t.anchor,t.customElement),Xn()}ut(a)}class je{$destroy(){me(this,1),this.$destroy=oe}$on(t,e){if(!st(e))return oe;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(e),()=>{const o=l.indexOf(e);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!bs(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Rn=function(n,t){return Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,l){e.__proto__=l}||function(e,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])},Rn(n,t)};function Ye(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Rn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Nn=function(){return Nn=Object.assign||function(t){for(var e,l=1,o=arguments.length;l<o;l++)for(var i in e=arguments[l])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Nn.apply(this,arguments)};function Qe(n,t,e,l){return new(e||(e=Promise))(function(o,i){function r(d){try{a(l.next(d))}catch(f){i(f)}}function s(d){try{a(l.throw(d))}catch(f){i(f)}}function a(d){d.done?o(d.value):function(h){return h instanceof e?h:new e(function(m){m(h)})}(d.value).then(r,s)}a((l=l.apply(n,t||[])).next())})}function Ke(n,t){var e,l,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(a){return function(d){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(r=0)),r;)try{if(e=1,l&&(o=2&h[0]?l.return:h[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,h[1])).done)return o;switch(l=0,o&&(h=[2&h[0],o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,l=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!((o=o.length>0&&o[o.length-1])||h[0]!==6&&h[0]!==2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(n,r)}catch(m){h=[6,m],l=0}finally{e=o=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,d])}}}var Mi,dt=function(n){function t(e){var l,o,i,r,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(l=s.response)===null||l===void 0?void 0:l.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((r=(i=(o=s.originalError)===null||o===void 0?void 0:o.cause)===null||i===void 0?void 0:i.message)===null||r===void 0)&&r.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Ye(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return Nn({},this)},t}(Error),Qt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ml(n,t,e){var l=Object.assign({},e||{}),o=l.encode||Gs;if(!Qt.test(n))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!Qt.test(i))throw new TypeError("argument val is invalid");var r=n+"="+i;if(l.maxAge!=null){var s=l.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");r+="; Max-Age="+Math.floor(s)}if(l.domain){if(!Qt.test(l.domain))throw new TypeError("option domain is invalid");r+="; Domain="+l.domain}if(l.path){if(!Qt.test(l.path))throw new TypeError("option path is invalid");r+="; Path="+l.path}if(l.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(l.expires)||isNaN(l.expires.valueOf()))throw new TypeError("option expires is invalid");r+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(r+="; HttpOnly"),l.secure&&(r+="; Secure"),l.priority)switch(typeof l.priority=="string"?l.priority.toLowerCase():l.priority){case"low":r+="; Priority=Low";break;case"medium":r+="; Priority=Medium";break;case"high":r+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r}function Js(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Gs(n){return encodeURIComponent(n)}function Ei(n){if(n)try{var t=decodeURIComponent(Mi(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Ws(n,t){t===void 0&&(t=0);var e=Ei(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Mi=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,l,o=0,i=0,r="";l=t.charAt(i++);~l&&(e=o%4?64*e+l:l,o++%4)?r+=String.fromCharCode(255&e>>(-2*o&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return r};var Ut=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,l=Object.entries(t);e<l.length;e++){var o=l[e],i=o[0],r=o[1];this[i]=r}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),ln=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var l in e=e||{},this.expand={},e)Array.isArray(e[l])?this.expand[l]=e[l].map(function(o){return new t(o||{})}):this.expand[l]=new t(e[l]||{})},t}(Ut),$n=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Ut),gl="pb_auth",Qs=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Ws(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new ln(e):new $n(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=gl);var l=function(r,s){var a={};if(typeof r!="string")return a;for(var d=Object.assign({},s||{}).decode||Js,f=0;f<r.length;){var h=r.indexOf("=",f);if(h===-1)break;var m=r.indexOf(";",f);if(m===-1)m=r.length;else if(m<h){f=r.lastIndexOf(";",h-1)+1;continue}var g=r.slice(f,h).trim();if(a[g]===void 0){var _=r.slice(h+1,m).trim();_.charCodeAt(0)===34&&(_=_.slice(1,-1));try{a[g]=d(_)}catch{a[g]=_}}f=m+1}return a}(t||"")[e]||"",o={};try{(typeof(o=JSON.parse(l))===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||null)},n.prototype.exportToCookie=function(t,e){var l,o,i;e===void 0&&(e=gl);var r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ei(this.token);s!=null&&s.exp?r.expires=new Date(1e3*s.exp):r.expires=new Date("1970-01-01"),t=Object.assign({},r,t);var a={token:this.token,model:((l=this.model)===null||l===void 0?void 0:l.export())||null},d=ml(e,JSON.stringify(a),t),f=typeof Blob<"u"?new Blob([d]).size:d.length;return a.model&&f>4096&&(a.model={id:(o=a==null?void 0:a.model)===null||o===void 0?void 0:o.id,email:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.email},this.model instanceof ln&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),d=ml(e,JSON.stringify(a),t)),d},n.prototype.onChange=function(t,e){var l=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var o=l._onChangeCallbacks.length-1;o>=0;o--)if(l._onChangeCallbacks[o]==t)return delete l._onChangeCallbacks[o],void l._onChangeCallbacks.splice(o,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var l=e[t];l&&l(this.token,this.model)}},n}(),Ks=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var l=n.call(this)||this;return l.storageFallback={},l.storageKey=e,l}return Ye(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,l=this._storageGet(this.storageKey)||{};return l===null||typeof l!="object"||l.model===null||typeof l.model!="object"?null:((e=l.model)===null||e===void 0?void 0:e.collectionId)===void 0?new $n(l.model):new ln(l.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,l){this._storageSet(this.storageKey,{token:e,model:l}),n.prototype.save.call(this,e,l)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var l=window.localStorage.getItem(e)||"";try{return JSON.parse(l)}catch{return l}}return this.storageFallback[e]},t.prototype._storageSet=function(e,l){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=l;typeof l!="string"&&(o=JSON.stringify(l)),window.localStorage.setItem(e,o)}else this.storageFallback[e]=l},t.prototype._storageRemove=function(e){var l;typeof window<"u"&&(window!=null&&window.localStorage)&&((l=window.localStorage)===null||l===void 0||l.removeItem(e)),delete this.storageFallback[e]},t}(Qs),yt=function(t){this.client=t},Ys=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(l){return l||{}})},t.prototype.update=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send("/api/settings",{method:"PATCH",params:l,body:e}).then(function(o){return o||{}})},t.prototype.testS3=function(e,l){e===void 0&&(e="storage"),l===void 0&&(l={});var o={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.testEmail=function(e,l,o){o===void 0&&(o={});var i={email:e,template:l};return this.client.send("/api/settings/test/email",{method:"POST",params:o,body:i}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,l,o,i,r,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:l,keyId:o,privateKey:i,duration:r},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(yt),Ri=function(t,e,l,o,i){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=l>=0?l:0,this.totalPages=o>=0?o:0,this.items=i||[]},xn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.getFullList=function(e,l){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,l);var o=Object.assign({},e,l);return this._getFullList(this.baseCrudPath,o.batch||200,o)},t.prototype.getList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),this._getList(this.baseCrudPath,e,l,o)},t.prototype.getFirstListItem=function(e,l){return l===void 0&&(l={}),this._getFirstListItem(this.baseCrudPath,e,l)},t.prototype.getOne=function(e,l){return l===void 0&&(l={}),this._getOne(this.baseCrudPath,e,l)},t.prototype.create=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this._create(this.baseCrudPath,e,l)},t.prototype.update=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),this._update(this.baseCrudPath,e,l,o)},t.prototype.delete=function(e,l){return l===void 0&&(l={}),this._delete(this.baseCrudPath,e,l)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype._getFullList=function(e,l,o){var i=this;l===void 0&&(l=200),o===void 0&&(o={});var r=[],s=function(a){return Qe(i,void 0,void 0,function(){return Ke(this,function(d){return[2,this._getList(e,a,l||200,o).then(function(f){var h=f,m=h.items,g=h.totalItems;return r=r.concat(m),m.length&&g>r.length?s(a+1):r})]})})};return s(1)},t.prototype._getList=function(e,l,o,i){var r=this;return l===void 0&&(l=1),o===void 0&&(o=30),i===void 0&&(i={}),i=Object.assign({page:l,perPage:o},i),this.client.send(e,{method:"GET",params:i}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var d=0,f=s.items;d<f.length;d++){var h=f[d];a.push(r.decode(h))}}return new Ri((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,l,o){var i=this;return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"GET",params:o}).then(function(r){return i.decode(r)})},t.prototype._getFirstListItem=function(e,l,o){return o===void 0&&(o={}),o=Object.assign({filter:l,$cancelKey:"one_by_filter_"+e+"_"+l},o),this._getList(e,1,1,o).then(function(i){var r;if(!(!((r=i==null?void 0:i.items)===null||r===void 0)&&r.length))throw new dt({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})},t.prototype._create=function(e,l,o){var i=this;return l===void 0&&(l={}),o===void 0&&(o={}),this.client.send(e,{method:"POST",params:o,body:l}).then(function(r){return i.decode(r)})},t.prototype._update=function(e,l,o,i){var r=this;return o===void 0&&(o={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"PATCH",params:i,body:o}).then(function(s){return r.decode(s)})},t.prototype._delete=function(e,l,o){return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"DELETE",params:o}).then(function(){return!0})},t}(yt)),Zs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.decode=function(e){return new $n(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,l,o){var i=this;return l===void 0&&(l={}),o===void 0&&(o={}),n.prototype.update.call(this,e,l,o).then(function(r){var s,a;return i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===(r==null?void 0:r.id)&&i.client.authStore.save(i.client.authStore.token,r),r})},t.prototype.delete=function(e,l){var o=this;return l===void 0&&(l={}),n.prototype.delete.call(this,e,l).then(function(i){var r,s;return i&&o.client.authStore.model&&((r=o.client.authStore.model)===null||r===void 0?void 0:r.collectionId)===void 0&&((s=o.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&o.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var l=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,l),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:l})},t.prototype.authWithPassword=function(e,l,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({identity:e,password:l},o),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:i,body:o}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:l,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,l,o,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:e,password:l,passwordConfirm:o},i),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:r,body:i}).then(function(){return!0})},t}(xn),Xs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Ut),$s=function(n){function t(e,l){var o=n.call(this,e)||this;return o.collectionIdOrName=l,o}return Ye(t,n),t.prototype.decode=function(e){return new ln(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,l){return Qe(this,void 0,void 0,function(){return Ke(this,function(o){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,l)]})})},t.prototype.subscribe=function(e,l){return Qe(this,void 0,void 0,function(){var o;return Ke(this,function(i){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!l)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return o=this.collectionIdOrName,e!=="*"&&(o+="/"+e),[2,this.client.realtime.subscribe(o,l)]})})},t.prototype.unsubscribe=function(e){return Qe(this,void 0,void 0,function(){return Ke(this,function(l){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,l){if(typeof e=="number")return n.prototype.getFullList.call(this,e,l);var o=Object.assign({},e,l);return n.prototype.getFullList.call(this,o)},t.prototype.getList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),n.prototype.getList.call(this,e,l,o)},t.prototype.getFirstListItem=function(e,l){return l===void 0&&(l={}),n.prototype.getFirstListItem.call(this,e,l)},t.prototype.getOne=function(e,l){return l===void 0&&(l={}),n.prototype.getOne.call(this,e,l)},t.prototype.create=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),n.prototype.create.call(this,e,l)},t.prototype.update=function(e,l,o){var i=this;return l===void 0&&(l={}),o===void 0&&(o={}),n.prototype.update.call(this,e,l,o).then(function(r){var s,a,d;return((s=i.client.authStore.model)===null||s===void 0?void 0:s.id)!==(r==null?void 0:r.id)||((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==i.collectionIdOrName&&((d=i.client.authStore.model)===null||d===void 0?void 0:d.collectionName)!==i.collectionIdOrName||i.client.authStore.save(i.client.authStore.token,r),r})},t.prototype.delete=function(e,l){var o=this;return l===void 0&&(l={}),n.prototype.delete.call(this,e,l).then(function(i){var r,s,a;return!i||((r=o.client.authStore.model)===null||r===void 0?void 0:r.id)!==e||((s=o.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==o.collectionIdOrName&&((a=o.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==o.collectionIdOrName||o.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var l=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,l),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:l})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(l){return Object.assign({},l,{usernamePassword:!!(l!=null&&l.usernamePassword),emailPassword:!!(l!=null&&l.emailPassword),authProviders:Array.isArray(l==null?void 0:l.authProviders)?l==null?void 0:l.authProviders:[]})})},t.prototype.authWithPassword=function(e,l,o,i){var r=this;return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({identity:e,password:l},o),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:i,body:o}).then(function(s){return r.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,l,o,i,r,s,a){var d=this;return r===void 0&&(r={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:l,codeVerifier:o,redirectUrl:i,createData:r},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(f){return d.authResponse(f)})},t.prototype.authWithOAuth2=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];return Qe(this,void 0,void 0,function(){var o,i,r,s,a=this;return Ke(this,function(d){switch(d.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(o=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(i=d.sent(),!(r=i.authProviders.find(function(f){return f.name===o.provider})))throw new dt(new Error('Missing or invalid provider "'.concat(o.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(f,h){return Qe(a,void 0,void 0,function(){var m,g,_,v,b=this;return Ke(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(y){return Qe(b,void 0,void 0,function(){var S,O,R;return Ke(this,function(w){switch(w.label){case 0:S=this.client.realtime.clientId,w.label=1;case 1:if(w.trys.push([1,3,,4]),m(),!y.state||S!==y.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(r.name,y.code,r.codeVerifier,s,o.createData,o.body,o.query)];case 2:return O=w.sent(),f(O),[3,4];case 3:return R=w.sent(),h(new dt(R)),[3,4];case 4:return[2]}})})})];case 1:return m=k.sent(),(g=new URL(r.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((v=o.scopes)===null||v===void 0)&&v.length&&g.searchParams.set("scope",o.scopes.join(" ")),[4,o.urlCallback?o.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return k.sent(),[3,4];case 3:return _=k.sent(),h(new dt(_)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,l){var o=this;return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:l,body:e}).then(function(i){return o.authResponse(i)})},t.prototype.requestPasswordReset=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,l,o,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:e,password:l,passwordConfirm:o},i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:r,body:i}).then(function(){return!0})},t.prototype.requestVerification=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmVerification=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({token:e},l),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({newEmail:e},l),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,l,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),o=Object.assign({token:e,password:l},o),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:i,body:o}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,l){return l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:l}).then(function(o){var i=[];if(Array.isArray(o))for(var r=0,s=o;r<s.length;r++){var a=s[r];i.push(new Xs(a))}return i})},t.prototype.unlinkExternalAuth=function(e,l,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(l),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new dt(new Error("Not in a browser context - please pass a custom urlCallback function."));var l=1024,o=768,i=window.innerWidth,r=window.innerHeight,s=i/2-(l=l>i?i:l)/2,a=r/2-(o=o>r?r:o)/2;window.open(e,"oauth2-popup","width="+l+",height="+o+",top="+a+",left="+s+",resizable,menubar=no")},t}(xn),xs=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},ea=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var l=0,o=e.schema;l<o.length;l++){var i=o[l];this.schema.push(new xs(i))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Ut),ta=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.decode=function(e){return new ea(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,l,o){return l===void 0&&(l=!1),o===void 0&&(o={}),Qe(this,void 0,void 0,function(){return Ke(this,function(i){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:o,body:{collections:e,deleteMissing:l}}).then(function(){return!0})]})})},t}(xn),vl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Ut),na=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.getRequestsList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:l},o),this.client.send("/api/logs/requests",{method:"GET",params:o}).then(function(i){var r=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var s=0,a=i.items;s<a.length;s++){var d=a[s];r.push(new vl(d))}}return new Ri((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,r)})},t.prototype.getRequest=function(e,l){return l===void 0&&(l={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:l}).then(function(o){return new vl(o)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(l){return l})},t}(yt),la=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Ye(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,l){var o;return Qe(this,void 0,void 0,function(){var i,r=this;return Ke(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return i=function(a){var d,f=a;try{d=JSON.parse(f==null?void 0:f.data)}catch{}l(d||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(i),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(o=this.eventSource)===null||o===void 0||o.addEventListener(e,i),s.label=5;case 5:return[2,function(){return Qe(r,void 0,void 0,function(){return Ke(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,i)]})})}]}})})},t.prototype.unsubscribe=function(e){var l;return Qe(this,void 0,void 0,function(){var o,i,r;return Ke(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(o=0,i=this.subscriptions[e];o<i.length;o++)r=i[o],(l=this.eventSource)===null||l===void 0||l.removeEventListener(e,r);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var l;return Qe(this,void 0,void 0,function(){var o,i,r,s,a;return Ke(this,function(d){switch(d.label){case 0:for(i in o=!1,this.subscriptions)if(i.startsWith(e)){for(o=!0,r=0,s=this.subscriptions[i];r<s.length;r++)a=s[r],(l=this.eventSource)===null||l===void 0||l.removeEventListener(i,a);delete this.subscriptions[i]}return o?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,l){var o;return Qe(this,void 0,void 0,function(){var i,r;return Ke(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(i=!1,r=this.subscriptions[e].length-1;r>=0;r--)this.subscriptions[e][r]===l&&(i=!0,delete this.subscriptions[e][r],this.subscriptions[e].splice(r,1),(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,l));return i?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var l,o;if(this.subscriptions=this.subscriptions||{},e)return!!(!((l=this.subscriptions[e])===null||l===void 0)&&l.length);for(var i in this.subscriptions)if(!((o=this.subscriptions[i])===null||o===void 0)&&o.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Qe(this,void 0,void 0,function(){return Ke(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(l){if(!(l!=null&&l.isAbort))throw l})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var l in this.subscriptions)this.subscriptions[l].length&&e.push(l);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var l=0,o=this.subscriptions[e];l<o.length;l++){var i=o[l];this.eventSource.addEventListener(e,i)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var l=0,o=this.subscriptions[e];l<o.length;l++){var i=o[l];this.eventSource.removeEventListener(e,i)}},t.prototype.connect=function(){return Qe(this,void 0,void 0,function(){var e=this;return Ke(this,function(l){return this.reconnectAttempts>0?[2]:[2,new Promise(function(o,i){e.pendingConnects.push({resolve:o,reject:i}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(l){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(l){var o=l;e.clientId=o==null?void 0:o.lastEventId,e.submitSubscriptions().then(function(){return Qe(e,void 0,void 0,function(){var i;return Ke(this,function(r){switch(r.label){case 0:i=3,r.label=1;case 1:return this.hasUnsentSubscriptions()&&i>0?(i--,[4,this.submitSubscriptions()]):[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var i=0,r=e.pendingConnects;i<r.length;i++)r[i].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(i){e.clientId="",e.connectErrorHandler(i)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var l=0,o=e;l<o.length;l++){var i=o[l];if(!this.lastSentTopics.includes(i))return!0}return!1},t.prototype.connectErrorHandler=function(e){var l=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var o=0,i=this.pendingConnects;o<i.length;o++)i[o].reject(new dt(e));this.disconnect()}else{this.disconnect(!0);var r=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){l.initConnect()},r)}},t.prototype.disconnect=function(e){var l;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(l=this.eventSource)===null||l===void 0||l.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var o=new dt(new Error("Realtime disconnected.")),i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(o);this.pendingConnects=[]}},t}(yt),oa=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(yt),ia=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.getUrl=function(e,l,o){o===void 0&&(o={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(l));var r=this.client.buildUrl(i.join("/"));if(Object.keys(o).length){var s=new URLSearchParams(o);r+=(r.includes("?")?"&":"?")+s}return r},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(l){return(l==null?void 0:l.token)||""})},t}(yt),ra=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ye(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,l){l===void 0&&(l={});var o={name:e};return this.client.send("/api/backups",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.delete=function(e,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:l}).then(function(){return!0})},t.prototype.restore=function(e,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:l}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,l){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(l),"?token=").concat(encodeURIComponent(e)))},t}(yt),sa=function(){function n(t,e,l){t===void 0&&(t="/"),l===void 0&&(l="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=l,this.authStore=e||new Ks,this.admins=new Zs(this),this.collections=new ta(this),this.files=new ia(this),this.logs=new na(this),this.settings=new Ys(this),this.realtime=new la(this),this.health=new oa(this),this.backups=new ra(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new $s(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var l,o,i,r,s,a,d,f;return Qe(this,void 0,void 0,function(){var h,m,g,_,v,b,k,y,S,O=this;return Ke(this,function(R){switch(R.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((i=this.authStore)===null||i===void 0)&&i.token&&((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(m=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(m),g=new AbortController,this.cancelControllers[m]=g,h.signal=g.signal),(d=h.params)===null||d===void 0||delete d.$autoCancel,(f=h.params)===null||f===void 0||delete f.$cancelKey,_=this.buildUrl(t),h.params!==void 0&&((v=this.serializeQueryParams(h.params))&&(_+=(_.includes("?")?"&":"?")+v),delete h.params),this.beforeSend?(y=(k=Object).assign,S=[{}],[4,this.beforeSend(_,h)]):[3,2];case 1:(b=y.apply(k,S.concat([R.sent()]))).url!==void 0||b.options!==void 0?(_=b.url||_,h=b.options||h):Object.keys(b).length&&(h=b,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),R.label=2;case 2:return[2,fetch(_,h).then(function(w){return Qe(O,void 0,void 0,function(){var A;return Ke(this,function(P){switch(P.label){case 0:A={},P.label=1;case 1:return P.trys.push([1,3,,4]),[4,w.json()];case 2:return A=P.sent(),[3,4];case 3:return P.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(w,A)]:[3,6];case 5:A=P.sent(),P.label=6;case 6:if(w.status>=400)throw new dt({url:w.url,status:w.status,data:A});return[2,A]}})})}).catch(function(w){throw new dt(w)})]}})})},n.prototype.getFileUrl=function(t,e,l){return l===void 0&&(l={}),this.files.getUrl(t,e,l)},n.prototype.buildUrl=function(t){var e,l=this.baseUrl;return typeof window>"u"||!window.location||l.startsWith("https://")||l.startsWith("http://")||(l=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(l+=window.location.pathname||"/",l+=l.endsWith("/")?"":"/"),l+=this.baseUrl),t&&(l+=l.endsWith("/")?"":"/",l+=t.startsWith("/")?t.substring(1):t),l},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var l in t)if(t[l]!==null){var o=t[l],i=encodeURIComponent(l);if(Array.isArray(o))for(var r=0,s=o;r<s.length;r++){var a=s[r];e.push(i+"="+encodeURIComponent(a))}else o instanceof Date?e.push(i+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(o))):e.push(i+"="+encodeURIComponent(o))}return e.join("&")},n}();const Ct=[];function aa(n,t){return{subscribe:rt(n,t).subscribe}}function rt(n,t=oe){let e;const l=new Set;function o(s){if(Re(n,s)&&(n=s,e)){const a=!Ct.length;for(const d of l)d[1](),Ct.push(d,n);if(a){for(let d=0;d<Ct.length;d+=2)Ct[d][0](Ct[d+1]);Ct.length=0}}}function i(s){o(s(n))}function r(s,a=oe){const d=[s,a];return l.add(d),l.size===1&&(e=t(o)||oe),s(n),()=>{l.delete(d),l.size===0&&e&&(e(),e=null)}}return{set:o,update:i,subscribe:r}}function Ni(n,t,e){const l=!Array.isArray(n),o=l?[n]:n,i=t.length<2;return aa(e,r=>{let s=!1;const a=[];let d=0,f=oe;const h=()=>{if(d)return;f();const g=t(l?a[0]:a,r);i?r(g):f=st(g)?g:oe},m=o.map((g,_)=>Qn(g,v=>{a[_]=v,d&=~(1<<_),s&&h()},()=>{d|=1<<_}));return s=!0,h(),function(){fe(m),f(),s=!1}})}const pn="https://pb.readinglog.fun:4444",de=new sa(pn),lt=rt(de.authStore.model);de.authStore.onChange(n=>{console.log("authStore changed",n),lt.set(de.authStore.model)});const qn=rt("10"),Ee="bottom-center",bl={},jn={},ca={},qi=/^:(.+)/,yl=4,ua=3,fa=2,da=1,pa=1,Dn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),Cn=n=>n.replace(/(^\/+|\/+$)/g,""),ha=(n,t)=>{const e=n.default?0:Dn(n.path).reduce((l,o)=>(l+=yl,o===""?l+=pa:qi.test(o)?l+=fa:o[0]==="*"?l-=yl+da:l+=ua,l),0);return{route:n,score:e,index:t}},_a=n=>n.map(ha).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),kl=(n,t)=>{let e,l;const[o]=t.split("?"),i=Dn(o),r=i[0]==="",s=_a(n);for(let a=0,d=s.length;a<d;a++){const f=s[a].route;let h=!1;if(f.default){l={route:f,params:{},uri:t};continue}const m=Dn(f.path),g={},_=Math.max(i.length,m.length);let v=0;for(;v<_;v++){const b=m[v],k=i[v];if(b&&b[0]==="*"){const S=b==="*"?"*":b.slice(1);g[S]=i.slice(v).map(decodeURIComponent).join("/");break}if(typeof k>"u"){h=!0;break}const y=qi.exec(b);if(y&&!r){const S=decodeURIComponent(k);g[y[1]]=S}else if(b!==k){h=!0;break}}if(!h){e={route:f,params:g,uri:"/"+i.slice(0,v).join("/")};break}}return e||l||null},wl=(n,t)=>`${Cn(t==="/"?n:`${Cn(n)}/${Cn(t)}`)}/`,ji=typeof window<"u"&&"document"in window,Sn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),ma=n=>{const t=[];let e=Sn(n);return{get location(){return e},listen(l){t.push(l);const o=()=>{e=Sn(n),l({location:e,action:"POP"})};return n.addEventListener("popstate",o),()=>{n.removeEventListener("popstate",o);const i=t.indexOf(l);t.splice(i,1)}},navigate(l,{state:o,replace:i=!1}={}){o={...o,key:Date.now()+""};try{i?n.history.replaceState(o,"",l):n.history.pushState(o,"",l)}catch{n.location[i?"replace":"assign"](l)}e=Sn(n),t.forEach(r=>r({location:e,action:"PUSH"})),document.activeElement.blur()}}},ga=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],l=[];return{get location(){return e[t]},addEventListener(o,i){},removeEventListener(o,i){},history:{get entries(){return e},get index(){return t},get state(){return l[t]},pushState(o,i,r){const[s,a=""]=r.split("?");t++,e.push({pathname:s,search:a}),l.push(o)},replaceState(o,i,r){const[s,a=""]=r.split("?");e[t]={pathname:s,search:a},l[t]=o}}}},Di=ma(ji?window:ga()),{navigate:el}=Di,va=n=>({route:n&2,location:n&1}),Cl=n=>({route:n[1]&&n[1].uri,location:n[0]});function ba(n){let t;const e=n[12].default,l=cn(e,n,n[11],Cl);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),t=!0},p(o,[i]){l&&l.p&&(!t||i&2051)&&fn(l,e,o,o[11],t?un(e,o[11],i,va):dn(o[11]),Cl)},i(o){t||(Q(l,o),t=!0)},o(o){x(l,o),t=!1},d(o){l&&l.d(o)}}}function ya(n,t,e){let l,o,i,r,{$$slots:s={},$$scope:a}=t,{basepath:d="/"}=t,{url:f=null}=t,{history:h=Di}=t;yn(ca,h);const m=On(bl),g=On(jn),_=rt([]);He(n,_,w=>e(9,o=w));const v=rt(null);He(n,v,w=>e(1,r=w));let b=!1;const k=m||rt(f?{pathname:f}:h.location);He(n,k,w=>e(0,l=w));const y=g?g.routerBase:rt({path:d,uri:d});He(n,y,w=>e(10,i=w));const S=Ni([y,v],([w,A])=>{if(!A)return w;const{path:P}=w,{route:j,uri:N}=A;return{path:j.default?P:j.path.replace(/\*.*$/,""),uri:N}}),O=w=>{const{path:A}=i;let{path:P}=w;if(w._path=P,w.path=wl(A,P),typeof window>"u"){if(b)return;const j=kl([w],l.pathname);j&&(v.set(j),b=!0)}else _.update(j=>[...j,w])},R=w=>{_.update(A=>A.filter(P=>P!==w))};return m||(gt(()=>h.listen(A=>{k.set(A.location)})),yn(bl,k)),yn(jn,{activeRoute:v,base:y,routerBase:S,registerRoute:O,unregisterRoute:R}),n.$$set=w=>{"basepath"in w&&e(6,d=w.basepath),"url"in w&&e(7,f=w.url),"history"in w&&e(8,h=w.history),"$$scope"in w&&e(11,a=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:w}=i;_.update(A=>A.map(P=>({...P,path:wl(w,P._path)})))}if(n.$$.dirty&513){const w=kl(o,l.pathname);v.set(w)}},[l,r,_,v,k,y,d,f,h,o,i,a,s]}class tl extends je{constructor(t){super(),qe(this,t,ya,ba,Re,{basepath:6,url:7,history:8})}}const ka=n=>({params:n&4}),Sl=n=>({params:n[2]});function Al(n){let t,e,l,o;const i=[Ca,wa],r=[];function s(a,d){return a[0]?0:1}return t=s(n),e=r[t]=i[t](n),{c(){e.c(),l=ve()},m(a,d){r[t].m(a,d),M(a,l,d),o=!0},p(a,d){let f=t;t=s(a),t===f?r[t].p(a,d):(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe(),e=r[t],e?e.p(a,d):(e=r[t]=i[t](a),e.c()),Q(e,1),e.m(l.parentNode,l))},i(a){o||(Q(e),o=!0)},o(a){x(e),o=!1},d(a){r[t].d(a),a&&L(l)}}}function wa(n){let t;const e=n[8].default,l=cn(e,n,n[7],Sl);return{c(){l&&l.c()},m(o,i){l&&l.m(o,i),t=!0},p(o,i){l&&l.p&&(!t||i&132)&&fn(l,e,o,o[7],t?un(e,o[7],i,ka):dn(o[7]),Sl)},i(o){t||(Q(l,o),t=!0)},o(o){x(l,o),t=!1},d(o){l&&l.d(o)}}}function Ca(n){let t,e,l,o={ctx:n,current:null,token:null,hasCatch:!1,pending:Ta,then:Aa,catch:Sa,value:12,blocks:[,,,]};return _l(e=n[0],o),{c(){t=ve(),o.block.c()},m(i,r){M(i,t,r),o.block.m(i,o.anchor=r),o.mount=()=>t.parentNode,o.anchor=t,l=!0},p(i,r){n=i,o.ctx=n,r&1&&e!==(e=n[0])&&_l(e,o)||Us(o,n,r)},i(i){l||(Q(o.block),l=!0)},o(i){for(let r=0;r<3;r+=1){const s=o.blocks[r];x(s)}l=!1},d(i){i&&L(t),o.block.d(i),o.token=null,o=null}}}function Sa(n){return{c:oe,m:oe,p:oe,i:oe,o:oe,d:oe}}function Aa(n){var s;let t,e,l;const o=[n[2],n[3]];var i=((s=n[12])==null?void 0:s.default)||n[12];function r(a){let d={};for(let f=0;f<o.length;f+=1)d=pt(d,o[f]);return{props:d}}return i&&(t=ht(i,r())),{c(){t&&ge(t.$$.fragment),e=ve()},m(a,d){t&&_e(t,a,d),M(a,e,d),l=!0},p(a,d){var h;const f=d&12?Ft(o,[d&4&&qt(a[2]),d&8&&qt(a[3])]):{};if(d&1&&i!==(i=((h=a[12])==null?void 0:h.default)||a[12])){if(t){Be();const m=t;x(m.$$.fragment,1,0,()=>{me(m,1)}),Fe()}i?(t=ht(i,r()),ge(t.$$.fragment),Q(t.$$.fragment,1),_e(t,e.parentNode,e)):t=null}else i&&t.$set(f)},i(a){l||(t&&Q(t.$$.fragment,a),l=!0)},o(a){t&&x(t.$$.fragment,a),l=!1},d(a){a&&L(e),t&&me(t,a)}}}function Ta(n){return{c:oe,m:oe,p:oe,i:oe,o:oe,d:oe}}function Ia(n){let t,e,l=n[1]&&n[1].route===n[5]&&Al(n);return{c(){l&&l.c(),t=ve()},m(o,i){l&&l.m(o,i),M(o,t,i),e=!0},p(o,[i]){o[1]&&o[1].route===o[5]?l?(l.p(o,i),i&2&&Q(l,1)):(l=Al(o),l.c(),Q(l,1),l.m(t.parentNode,t)):l&&(Be(),x(l,1,1,()=>{l=null}),Fe())},i(o){e||(Q(l),e=!0)},o(o){x(l),e=!1},d(o){l&&l.d(o),o&&L(t)}}}function Pa(n,t,e){let l,{$$slots:o={},$$scope:i}=t,{path:r=""}=t,{component:s=null}=t,a={},d={};const{registerRoute:f,unregisterRoute:h,activeRoute:m}=On(jn);He(n,m,_=>e(1,l=_));const g={path:r,default:r===""};return f(g),Zn(()=>{h(g)}),n.$$set=_=>{e(11,t=pt(pt({},t),fl(_))),"path"in _&&e(6,r=_.path),"component"in _&&e(0,s=_.component),"$$scope"in _&&e(7,i=_.$$scope)},n.$$.update=()=>{{l&&l.route===g&&e(2,a=l.params);const{component:_,path:v,...b}=t;e(3,d=b),ji&&(window==null||window.scrollTo(0,0)),_&&(_.toString().startsWith("class ")?e(0,s=_):e(0,s=_()))}},t=fl(t),[s,l,a,d,m,g,r,i,o]}class It extends je{constructor(t){super(),qe(this,t,Pa,Ia,Re,{path:6,component:0})}}function La(n){let t,e,l;return{c(){t=p("button"),t.textContent="Sign Up"},m(o,i){M(o,t,i),e||(l=T(t,"click",n[0]),e=!0)},p:oe,i:oe,o:oe,d(o){o&&L(t),e=!1,l()}}}function Oa(n){function t(){el("/signup")}return[t]}class Ma extends je{constructor(t){super(),qe(this,t,Oa,La,Re,{})}}function Ea(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R;return _=new Ma({}),{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,r=C(),s=p("form"),a=p("input"),d=C(),f=p("input"),h=C(),m=p("button"),m.textContent="Login",g=C(),ge(_.$$.fragment),v=C(),b=p("br"),k=C(),y=p("a"),y.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(f,"placeholder","Password"),u(f,"type","password"),u(m,"class","svelte-unkkz3"),u(y,"href","/reset"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,A){M(w,t,A),c(t,e),c(e,l),c(l,o),c(o,i),c(o,r),c(o,s),c(s,a),K(a,n[0]),c(s,d),c(s,f),K(f,n[1]),c(s,h),c(s,m),c(o,g),_e(_,o,null),c(o,v),c(o,b),c(o,k),c(o,y),S=!0,O||(R=[T(a,"input",n[4]),T(f,"input",n[5]),T(m,"click",n[2]),T(s,"submit",nt(n[3]))],O=!0)},p(w,[A]){A&1&&a.value!==w[0]&&K(a,w[0]),A&2&&f.value!==w[1]&&K(f,w[1])},i(w){S||(Q(_.$$.fragment,w),S=!0)},o(w){x(_.$$.fragment,w),S=!1},d(w){w&&L(t),me(_),O=!1,fe(R)}}}function Ra(n,t,e){let l,o;async function i(){try{const d=await de.collection("users").authWithPassword(l,o);console.log(d)}catch(d){alert(d)}}function r(d){tt.call(this,n,d)}function s(){l=this.value,e(0,l)}function a(){o=this.value,e(1,o)}return[l,o,i,r,s,a]}class nl extends je{constructor(t){super(),qe(this,t,Ra,Ea,Re,{})}}function Na(n,t,e,l){var o,i,r=!1,s=e.length>=2,a=(_,v,b)=>{if(o=v,s&&(i=_),!r){let k=t(_,v,b);if(t.length<2)v(k);else return k}r=!1},d=Ni(n,a,l),f=!Array.isArray(n);function h(_){var v=e(_,i);f?(r=!0,n.set(v)):v.forEach((b,k)=>{r=!0,n[k].set(b)}),r=!1}var m=!1;function g(_){var v,b,k,y;if(m){y=_(Ln(d)),o(y);return}var S=d.subscribe(O=>{m?v?b=!0:v=!0:k=O});y=_(k),m=!0,o(y),S(),m=!1,b&&(y=Ln(d)),v&&h(y)}return{subscribe:d.subscribe,set(_){g(()=>_)},update:g}}const qa=20,kt=rt([]),ll=rt(null),Xt=new Map,Tl=n=>{if(Xt.has(n))return;const t=setTimeout(()=>{Xt.delete(n),Fi(n)},1e3);Xt.set(n,t)},ja=n=>{const t=Xt.get(n);t&&clearTimeout(t)};function Bi(n){n.id&&ja(n.id),kt.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function Da(n){kt.update(t=>[n,...t].slice(0,qa))}function Ba(n){Ln(kt).find(t=>t.id===n.id)?Bi(n):Da(n)}function Fa(n){kt.update(t=>(n?Tl(n):t.forEach(e=>{Tl(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Fi(n){kt.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function Ua(n){ll.set(n)}function Ha(n){let t;ll.update(e=>(t=n-(e||0),null)),kt.update(e=>e.map(l=>({...l,pauseDuration:l.pauseDuration+t})))}const Va={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function za(n={}){return{toasts:Na(kt,e=>e.map(l=>{var o,i;return{...n,...n[l.type],...l,duration:l.duration||((o=n[l.type])==null?void 0:o.duration)||(n==null?void 0:n.duration)||Va[l.type],style:[n.style,(i=n[l.type])==null?void 0:i.style,l.style].join(";")}}),e=>e),pausedAt:ll}}const Ja=n=>typeof n=="function",Il=(n,t)=>Ja(n)?n(t):n,Ga=(()=>{let n=0;return()=>(n+=1,n.toString())})(),Ui=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Wa=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Ga()}),Ht=n=>(t,e)=>{const l=Wa(t,n,e);return Ba(l),l.id},we=(n,t)=>Ht("blank")(n,t);we.error=Ht("error");we.success=Ht("success");we.loading=Ht("loading");we.custom=Ht("custom");we.dismiss=n=>{Fa(n)};we.remove=n=>Fi(n);we.promise=(n,t,e)=>{const l=we.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(o=>(we.success(Il(t.success,o),{id:l,...e,...e==null?void 0:e.success}),o)).catch(o=>{we.error(Il(t.error,o),{id:l,...e,...e==null?void 0:e.error})}),n};function Qa(n,t,e){const{reverseOrder:l,gutter:o=8,defaultPosition:i}=e||{},r=t.filter(f=>(f.position||i)===(n.position||i)&&f.height),s=r.findIndex(f=>f.id===n.id),a=r.filter((f,h)=>h<s&&f.visible).length;return r.filter(f=>f.visible).slice(...l?[a+1]:[0,a]).reduce((f,h)=>f+(h.height||0)+o,0)}const Ka={startPause(){Ua(Date.now())},endPause(){Ha(Date.now())},updateHeight:(n,t)=>{Bi({id:n,height:t})},calculateOffset:Qa};function Ya(n){const{toasts:t,pausedAt:e}=za(n),l=new Map;let o;const i=[e.subscribe(r=>{if(r){for(const[,s]of l)clearTimeout(s);l.clear()}o=r}),t.subscribe(r=>{if(o)return;const s=Date.now();for(const a of r){if(l.has(a.id)||a.duration===1/0)continue;const d=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(d<0)return a.visible&&we.dismiss(a.id),null;l.set(a.id,setTimeout(()=>we.dismiss(a.id),d))}})];return Zn(()=>{for(const r of i)r()}),{toasts:t,handlers:Ka}}function Za(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){M(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:oe,o:oe,d(e){e&&L(t)}}}function Xa(n,t,e){let{primary:l="#61d345"}=t,{secondary:o="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,l=i.primary),"secondary"in i&&e(1,o=i.secondary)},[l,o]}class $a extends je{constructor(t){super(),qe(this,t,Xa,Za,Re,{primary:0,secondary:1})}}function xa(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){M(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:oe,o:oe,d(e){e&&L(t)}}}function ec(n,t,e){let{primary:l="#ff4b4b"}=t,{secondary:o="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,l=i.primary),"secondary"in i&&e(1,o=i.secondary)},[l,o]}class tc extends je{constructor(t){super(),qe(this,t,ec,xa,Re,{primary:0,secondary:1})}}function nc(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){M(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:oe,o:oe,d(e){e&&L(t)}}}function lc(n,t,e){let{primary:l="#616161"}=t,{secondary:o="#e0e0e0"}=t;return n.$$set=i=>{"primary"in i&&e(0,l=i.primary),"secondary"in i&&e(1,o=i.secondary)},[l,o]}class oc extends je{constructor(t){super(),qe(this,t,lc,nc,Re,{primary:0,secondary:1})}}function ic(n){let t,e,l,o;const i=[n[0]];let r={};for(let a=0;a<i.length;a+=1)r=pt(r,i[a]);e=new oc({props:r});let s=n[2]!=="loading"&&Pl(n);return{c(){t=p("div"),ge(e.$$.fragment),l=C(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,d){M(a,t,d),_e(e,t,null),c(t,l),s&&s.m(t,null),o=!0},p(a,d){const f=d&1?Ft(i,[qt(a[0])]):{};e.$set(f),a[2]!=="loading"?s?(s.p(a,d),d&4&&Q(s,1)):(s=Pl(a),s.c(),Q(s,1),s.m(t,null)):s&&(Be(),x(s,1,1,()=>{s=null}),Fe())},i(a){o||(Q(e.$$.fragment,a),Q(s),o=!0)},o(a){x(e.$$.fragment,a),x(s),o=!1},d(a){a&&L(t),me(e),s&&s.d()}}}function rc(n){let t,e,l;var o=n[1];function i(r){return{}}return o&&(t=ht(o,i())),{c(){t&&ge(t.$$.fragment),e=ve()},m(r,s){t&&_e(t,r,s),M(r,e,s),l=!0},p(r,s){if(s&2&&o!==(o=r[1])){if(t){Be();const a=t;x(a.$$.fragment,1,0,()=>{me(a,1)}),Fe()}o?(t=ht(o,i()),ge(t.$$.fragment),Q(t.$$.fragment,1),_e(t,e.parentNode,e)):t=null}},i(r){l||(t&&Q(t.$$.fragment,r),l=!0)},o(r){t&&x(t.$$.fragment,r),l=!1},d(r){r&&L(e),t&&me(t,r)}}}function sc(n){let t,e;return{c(){t=p("div"),e=B(n[1]),u(t,"class","animated svelte-1kgeier")},m(l,o){M(l,t,o),c(t,e)},p(l,o){o&2&&re(e,l[1])},i:oe,o:oe,d(l){l&&L(t)}}}function Pl(n){let t,e,l,o;const i=[cc,ac],r=[];function s(a,d){return a[2]==="error"?0:1}return e=s(n),l=r[e]=i[e](n),{c(){t=p("div"),l.c(),u(t,"class","status svelte-1kgeier")},m(a,d){M(a,t,d),r[e].m(t,null),o=!0},p(a,d){let f=e;e=s(a),e===f?r[e].p(a,d):(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe(),l=r[e],l?l.p(a,d):(l=r[e]=i[e](a),l.c()),Q(l,1),l.m(t,null))},i(a){o||(Q(l),o=!0)},o(a){x(l),o=!1},d(a){a&&L(t),r[e].d()}}}function ac(n){let t,e;const l=[n[0]];let o={};for(let i=0;i<l.length;i+=1)o=pt(o,l[i]);return t=new $a({props:o}),{c(){ge(t.$$.fragment)},m(i,r){_e(t,i,r),e=!0},p(i,r){const s=r&1?Ft(l,[qt(i[0])]):{};t.$set(s)},i(i){e||(Q(t.$$.fragment,i),e=!0)},o(i){x(t.$$.fragment,i),e=!1},d(i){me(t,i)}}}function cc(n){let t,e;const l=[n[0]];let o={};for(let i=0;i<l.length;i+=1)o=pt(o,l[i]);return t=new tc({props:o}),{c(){ge(t.$$.fragment)},m(i,r){_e(t,i,r),e=!0},p(i,r){const s=r&1?Ft(l,[qt(i[0])]):{};t.$set(s)},i(i){e||(Q(t.$$.fragment,i),e=!0)},o(i){x(t.$$.fragment,i),e=!1},d(i){me(t,i)}}}function uc(n){let t,e,l,o;const i=[sc,rc,ic],r=[];function s(a,d){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=r[t]=i[t](n)),{c(){e&&e.c(),l=ve()},m(a,d){~t&&r[t].m(a,d),M(a,l,d),o=!0},p(a,[d]){let f=t;t=s(a),t===f?~t&&r[t].p(a,d):(e&&(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe()),~t?(e=r[t],e?e.p(a,d):(e=r[t]=i[t](a),e.c()),Q(e,1),e.m(l.parentNode,l)):e=null)},i(a){o||(Q(e),o=!0)},o(a){x(e),o=!1},d(a){~t&&r[t].d(a),a&&L(l)}}}function fc(n,t,e){let l,o,i,{toast:r}=t;return n.$$set=s=>{"toast"in s&&e(3,r=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:l,icon:o,iconTheme:i}=r,l,(e(1,o),e(3,r)),(e(0,i),e(3,r)))},[i,o,l,r]}class ol extends je{constructor(t){super(),qe(this,t,fc,uc,Re,{toast:3})}}function dc(n){let t,e,l;var o=n[0].message;function i(r){return{props:{toast:r[0]}}}return o&&(t=ht(o,i(n))),{c(){t&&ge(t.$$.fragment),e=ve()},m(r,s){t&&_e(t,r,s),M(r,e,s),l=!0},p(r,s){const a={};if(s&1&&(a.toast=r[0]),s&1&&o!==(o=r[0].message)){if(t){Be();const d=t;x(d.$$.fragment,1,0,()=>{me(d,1)}),Fe()}o?(t=ht(o,i(r)),ge(t.$$.fragment),Q(t.$$.fragment,1),_e(t,e.parentNode,e)):t=null}else o&&t.$set(a)},i(r){l||(t&&Q(t.$$.fragment,r),l=!0)},o(r){t&&x(t.$$.fragment,r),l=!1},d(r){r&&L(e),t&&me(t,r)}}}function pc(n){let t=n[0].message+"",e;return{c(){e=B(t)},m(l,o){M(l,e,o)},p(l,o){o&1&&t!==(t=l[0].message+"")&&re(e,t)},i:oe,o:oe,d(l){l&&L(e)}}}function hc(n){let t,e,l,o;const i=[pc,dc],r=[];function s(f,h){return typeof f[0].message=="string"?0:1}e=s(n),l=r[e]=i[e](n);let a=[{class:"message"},n[0].ariaProps],d={};for(let f=0;f<a.length;f+=1)d=pt(d,a[f]);return{c(){t=p("div"),l.c(),pl(t,d),Et(t,"svelte-1nauejd",!0)},m(f,h){M(f,t,h),r[e].m(t,null),o=!0},p(f,[h]){let m=e;e=s(f),e===m?r[e].p(f,h):(Be(),x(r[m],1,1,()=>{r[m]=null}),Fe(),l=r[e],l?l.p(f,h):(l=r[e]=i[e](f),l.c()),Q(l,1),l.m(t,null)),pl(t,d=Ft(a,[{class:"message"},h&1&&f[0].ariaProps])),Et(t,"svelte-1nauejd",!0)},i(f){o||(Q(l),o=!0)},o(f){x(l),o=!1},d(f){f&&L(t),r[e].d()}}}function _c(n,t,e){let{toast:l}=t;return n.$$set=o=>{"toast"in o&&e(0,l=o.toast)},[l]}class hn extends je{constructor(t){super(),qe(this,t,_c,hc,Re,{toast:0})}}const mc=n=>({toast:n&1}),Ll=n=>({ToastIcon:ol,ToastMessage:hn,toast:n[0]});function gc(n){let t;const e=n[6].default,l=cn(e,n,n[7],Ll),o=l||bc(n);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),t=!0},p(i,r){l?l.p&&(!t||r&129)&&fn(l,e,i,i[7],t?un(e,i[7],r,mc):dn(i[7]),Ll):o&&o.p&&(!t||r&1)&&o.p(i,t?r:-1)},i(i){t||(Q(o,i),t=!0)},o(i){x(o,i),t=!1},d(i){o&&o.d(i)}}}function vc(n){let t,e,l;var o=n[2];function i(r){return{props:{$$slots:{message:[kc],icon:[yc]},$$scope:{ctx:r}}}}return o&&(t=ht(o,i(n))),{c(){t&&ge(t.$$.fragment),e=ve()},m(r,s){t&&_e(t,r,s),M(r,e,s),l=!0},p(r,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:r}),s&4&&o!==(o=r[2])){if(t){Be();const d=t;x(d.$$.fragment,1,0,()=>{me(d,1)}),Fe()}o?(t=ht(o,i(r)),ge(t.$$.fragment),Q(t.$$.fragment,1),_e(t,e.parentNode,e)):t=null}else o&&t.$set(a)},i(r){l||(t&&Q(t.$$.fragment,r),l=!0)},o(r){t&&x(t.$$.fragment,r),l=!1},d(r){r&&L(e),t&&me(t,r)}}}function bc(n){let t,e,l,o;return t=new ol({props:{toast:n[0]}}),l=new hn({props:{toast:n[0]}}),{c(){ge(t.$$.fragment),e=C(),ge(l.$$.fragment)},m(i,r){_e(t,i,r),M(i,e,r),_e(l,i,r),o=!0},p(i,r){const s={};r&1&&(s.toast=i[0]),t.$set(s);const a={};r&1&&(a.toast=i[0]),l.$set(a)},i(i){o||(Q(t.$$.fragment,i),Q(l.$$.fragment,i),o=!0)},o(i){x(t.$$.fragment,i),x(l.$$.fragment,i),o=!1},d(i){me(t,i),i&&L(e),me(l,i)}}}function yc(n){let t,e;return t=new ol({props:{toast:n[0],slot:"icon"}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o&1&&(i.toast=l[0]),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function kc(n){let t,e;return t=new hn({props:{toast:n[0],slot:"message"}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o&1&&(i.toast=l[0]),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function wc(n){let t,e,l,o,i,r;const s=[vc,gc],a=[];function d(f,h){return f[2]?0:1}return e=d(n),l=a[e]=s[e](n),{c(){t=p("div"),l.c(),u(t,"class",o="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",i=n[1]+"; "+n[0].style),Pe(t,"--factor",n[3])},m(f,h){M(f,t,h),a[e].m(t,null),r=!0},p(f,[h]){let m=e;e=d(f),e===m?a[e].p(f,h):(Be(),x(a[m],1,1,()=>{a[m]=null}),Fe(),l=a[e],l?l.p(f,h):(l=a[e]=s[e](f),l.c()),Q(l,1),l.m(t,null)),(!r||h&17&&o!==(o="base "+(f[0].height?f[4]:"transparent")+" "+(f[0].className||"")+" svelte-ug60r4"))&&u(t,"class",o),(!r||h&3&&i!==(i=f[1]+"; "+f[0].style))&&u(t,"style",i),(h&3||h&11)&&Pe(t,"--factor",f[3])},i(f){r||(Q(l),r=!0)},o(f){x(l),r=!1},d(f){f&&L(t),a[e].d()}}}function Cc(n,t,e){let{$$slots:l={},$$scope:o}=t,{toast:i}=t,{position:r=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,d,f;return n.$$set=h=>{"toast"in h&&e(0,i=h.toast),"position"in h&&e(5,r=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,o=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(i.position||r||"top-center").includes("top");e(3,d=h?1:-1);const[m,g]=Ui()?["fadeIn","fadeOut"]:["enter","exit"];e(4,f=i.visible?m:g)}},[i,s,a,d,f,r,l,o]}class Sc extends je{constructor(t){super(),qe(this,t,Cc,wc,Re,{toast:0,position:5,style:1,Component:2})}}const Ac=n=>({toast:n&1}),Ol=n=>({toast:n[0]});function Tc(n){let t;const e=n[8].default,l=cn(e,n,n[7],Ol),o=l||Pc(n);return{c(){o&&o.c()},m(i,r){o&&o.m(i,r),t=!0},p(i,r){l?l.p&&(!t||r&129)&&fn(l,e,i,i[7],t?un(e,i[7],r,Ac):dn(i[7]),Ol):o&&o.p&&(!t||r&1)&&o.p(i,t?r:-1)},i(i){t||(Q(o,i),t=!0)},o(i){x(o,i),t=!1},d(i){o&&o.d(i)}}}function Ic(n){let t,e;return t=new hn({props:{toast:n[0]}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o&1&&(i.toast=l[0]),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function Pc(n){let t,e;return t=new Sc({props:{toast:n[0],position:n[0].position}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o&1&&(i.toast=l[0]),o&1&&(i.position=l[0].position),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function Lc(n){let t,e,l,o;const i=[Ic,Tc],r=[];function s(a,d){return a[0].type==="custom"?0:1}return e=s(n),l=r[e]=i[e](n),{c(){t=p("div"),l.c(),u(t,"class","wrapper svelte-v01oml"),Et(t,"active",n[0].visible),Et(t,"transition",!Ui()),Pe(t,"--factor",n[3]),Pe(t,"--offset",n[0].offset),Pe(t,"top",n[5]),Pe(t,"bottom",n[4]),Pe(t,"justify-content",n[2])},m(a,d){M(a,t,d),r[e].m(t,null),n[9](t),o=!0},p(a,[d]){let f=e;e=s(a),e===f?r[e].p(a,d):(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe(),l=r[e],l?l.p(a,d):(l=r[e]=i[e](a),l.c()),Q(l,1),l.m(t,null)),(!o||d&1)&&Et(t,"active",a[0].visible),d&8&&Pe(t,"--factor",a[3]),d&1&&Pe(t,"--offset",a[0].offset),d&32&&Pe(t,"top",a[5]),d&16&&Pe(t,"bottom",a[4]),d&4&&Pe(t,"justify-content",a[2])},i(a){o||(Q(l),o=!0)},o(a){x(l),o=!1},d(a){a&&L(t),r[e].d(),n[9](null)}}}function Oc(n,t,e){let l,o,i,r,{$$slots:s={},$$scope:a}=t,{toast:d}=t,{setHeight:f}=t,h;gt(()=>{f(h.getBoundingClientRect().height)});function m(g){bt[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,d=g.toast),"setHeight"in g&&e(6,f=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,_,v,b,k;n.$$.dirty&1&&e(5,l=(g=d.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,o=(_=d.position)!=null&&_.includes("bottom")?0:null),n.$$.dirty&1&&e(3,i=(v=d.position)!=null&&v.includes("top")?1:-1),n.$$.dirty&1&&e(2,r=((b=d.position)==null?void 0:b.includes("center"))&&"center"||((k=d.position)==null?void 0:k.includes("right"))&&"flex-end"||null)},[d,h,r,i,o,l,f,a,s,m]}class Mc extends je{constructor(t){super(),qe(this,t,Oc,Lc,Re,{toast:0,setHeight:6})}}function Ml(n,t,e){const l=n.slice();return l[11]=t[e],l}function El(n,t){let e,l,o;function i(...r){return t[10](t[11],...r)}return l=new Mc({props:{toast:t[11],setHeight:i}}),{key:n,first:null,c(){e=ve(),ge(l.$$.fragment),this.first=e},m(r,s){M(r,e,s),_e(l,r,s),o=!0},p(r,s){t=r;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=i),l.$set(a)},i(r){o||(Q(l.$$.fragment,r),o=!0)},o(r){x(l.$$.fragment,r),o=!1},d(r){r&&L(e),me(l,r)}}}function Ec(n){let t,e=[],l=new Map,o,i,r,s,a=n[2];const d=f=>f[11].id;for(let f=0;f<a.length;f+=1){let h=Ml(n,a,f),m=d(h);l.set(m,e[f]=El(m,h))}return{c(){t=p("div");for(let f=0;f<e.length;f+=1)e[f].c();u(t,"class",o="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(f,h){M(f,t,h);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);i=!0,r||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],r=!0)},p(f,[h]){h&20&&(a=f[2],Be(),e=ze(e,h,d,1,f,a,l,t,Hs,El,null,Ml),Fe()),(!i||h&2&&o!==(o="toaster "+(f[1]||"")+" svelte-1phplh9"))&&u(t,"class",o),(!i||h&1)&&u(t,"style",f[0])},i(f){if(!i){for(let h=0;h<a.length;h+=1)Q(e[h]);i=!0}},o(f){for(let h=0;h<e.length;h+=1)x(e[h]);i=!1},d(f){f&&L(t);for(let h=0;h<e.length;h+=1)e[h].d();r=!1,fe(s)}}}function Rc(n,t,e){let l,{reverseOrder:o=!1}=t,{position:i="top-center"}=t,{toastOptions:r=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:d=void 0}=t;const{toasts:f,handlers:h}=Ya(r);He(n,f,_=>e(9,l=_));let m;const g=(_,v)=>h.updateHeight(_.id,v);return n.$$set=_=>{"reverseOrder"in _&&e(5,o=_.reverseOrder),"position"in _&&e(6,i=_.position),"toastOptions"in _&&e(7,r=_.toastOptions),"gutter"in _&&e(8,s=_.gutter),"containerStyle"in _&&e(0,a=_.containerStyle),"containerClassName"in _&&e(1,d=_.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,m=l.map(_=>({..._,position:_.position||i,offset:h.calculateOffset(_,l,{reverseOrder:o,gutter:s,defaultPosition:i})})))},[a,d,m,f,h,o,i,r,s,l,g]}class _n extends je{constructor(t){super(),qe(this,t,Rc,Ec,Re,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function Rl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee,ue,Y,X,se,be,he,z,ce,pe,Ie,ke,Me,Ce,Se,Ae,Le,ye,le,te,Z,ae,ne;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=C(),r=p("strong"),r.textContent="Terms and Conditions",s=C(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,d=C(),f=p("p"),f.innerHTML="<strong>1. Acceptance of Terms</strong>",h=C(),m=p("p"),m.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=C(),_=p("p"),_.innerHTML="<strong>2. User Accounts</strong>",v=C(),b=p("p"),b.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,k=C(),y=p("p"),y.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,S=C(),O=p("p"),O.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,R=C(),w=p("p"),w.innerHTML="<strong>3. Use of the App</strong>",A=C(),P=p("p"),P.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,j=C(),N=p("p"),N.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,D=C(),q=p("p"),q.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,I=C(),E=p("p"),E.innerHTML="<strong>4. Privacy and Data Security</strong>",F=C(),U=p("p"),U.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,J=C(),W=p("p"),W.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,V=C(),G=p("p"),G.innerHTML="<strong>5. Limitation of Liability</strong>",ee=C(),ue=p("p"),ue.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,Y=C(),X=p("p"),X.innerHTML="<strong>6. Modification of Terms</strong>",se=C(),be=p("p"),be.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,he=C(),z=p("p"),z.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",ce=C(),pe=p("p"),pe.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,Ie=C(),ke=p("p"),ke.innerHTML="<strong>8. Severability</strong>",Me=C(),Ce=p("p"),Ce.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,Se=C(),Ae=p("p"),Ae.innerHTML="<strong>9. Entire Agreement</strong>",Le=C(),ye=p("p"),ye.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,le=C(),te=p("footer"),Z=p("a"),Z.textContent="Close",u(o,"href","#close"),u(o,"class","close"),u(Z,"href","#close"),u(Z,"role","button"),u(Z,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(Ue,ct){M(Ue,t,ct),c(t,e),c(e,l),c(l,o),c(l,i),c(l,r),c(e,s),c(e,a),c(e,d),c(e,f),c(e,h),c(e,m),c(e,g),c(e,_),c(e,v),c(e,b),c(e,k),c(e,y),c(e,S),c(e,O),c(e,R),c(e,w),c(e,A),c(e,P),c(e,j),c(e,N),c(e,D),c(e,q),c(e,I),c(e,E),c(e,F),c(e,U),c(e,J),c(e,W),c(e,V),c(e,G),c(e,ee),c(e,ue),c(e,Y),c(e,X),c(e,se),c(e,be),c(e,he),c(e,z),c(e,ce),c(e,pe),c(e,Ie),c(e,ke),c(e,Me),c(e,Ce),c(e,Se),c(e,Ae),c(e,Le),c(e,ye),c(e,le),c(e,te),c(te,Z),ae||(ne=[T(o,"click",n[10]),T(Z,"click",n[10])],ae=!0)},p:oe,d(Ue){Ue&&L(t),ae=!1,fe(ne)}}}function Nc(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I=n[8]&&Rl(n);return j=new _n({}),{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,r=C(),s=p("form"),a=p("input"),d=C(),f=p("input"),h=C(),m=p("input"),g=C(),_=p("input"),v=C(),b=p("fieldset"),k=p("label"),y=p("input"),S=B(`\r
              I agree to the\r
              `),O=p("a"),O.textContent="Terms and Conditions",R=C(),I&&I.c(),w=C(),A=p("button"),A.textContent="Sign Up",P=C(),ge(j.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(f,"placeholder","Email"),u(f,"type","email"),u(f,"aria-invalid",n[5]),f.required=!0,u(m,"placeholder","Password"),u(m,"type","password"),u(m,"aria-invalid",n[6]),m.required=!0,u(_,"placeholder","Confirm Password"),u(_,"type","password"),u(_,"aria-invalid",n[7]),_.required=!0,u(y,"type","checkbox"),u(y,"id","terms"),u(y,"name","terms"),y.required=!0,u(O,"href","#terms"),u(k,"for","terms"),u(A,"type","submit"),u(A,"class","svelte-unkkz3"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(E,F){M(E,t,F),c(t,e),c(e,l),c(l,o),c(o,i),c(o,r),c(o,s),c(s,a),K(a,n[3]),c(s,d),c(s,f),K(f,n[0]),c(s,h),c(s,m),K(m,n[1]),c(s,g),c(s,_),K(_,n[2]),c(s,v),c(s,b),c(b,k),c(k,y),y.checked=n[4],c(k,S),c(k,O),c(s,R),I&&I.m(s,null),c(s,w),c(s,A),c(t,P),_e(j,t,null),N=!0,D||(q=[T(a,"input",n[12]),T(f,"input",n[13]),T(m,"input",n[14]),T(_,"input",n[15]),T(y,"change",n[16]),T(O,"click",n[10]),T(A,"click",n[9]),T(s,"submit",nt(n[11]))],D=!0)},p(E,[F]){F&8&&a.value!==E[3]&&K(a,E[3]),(!N||F&32)&&u(f,"aria-invalid",E[5]),F&1&&f.value!==E[0]&&K(f,E[0]),(!N||F&64)&&u(m,"aria-invalid",E[6]),F&2&&m.value!==E[1]&&K(m,E[1]),(!N||F&128)&&u(_,"aria-invalid",E[7]),F&4&&_.value!==E[2]&&K(_,E[2]),F&16&&(y.checked=E[4]),E[8]?I?I.p(E,F):(I=Rl(E),I.c(),I.m(s,w)):I&&(I.d(1),I=null)},i(E){N||(Q(j.$$.fragment,E),N=!0)},o(E){x(j.$$.fragment,E),N=!1},d(E){E&&L(t),I&&I.d(),me(j),D=!1,fe(q)}}}let qc="student",jc=!0;function Dc(n,t,e){let l,o,i,r,s=!1,a,d,f;async function h(){const R=await de.collection("users").authWithPassword(o,i);console.log(R)}async function m(){if(!a&&!d&&!f&&s)try{const R={name:l,username:l.toLowerCase(),email:o,password:i,passwordConfirm:r,role:qc,isPublic:jc,language:"en",avatar_from_url:"https://pb.readinglog.fun:4444/api/files/fhm2u4u1k405dr7/h7rqwbiahhxwujr/robot_ToTI6ga0AY.png"},w=await de.collection("users").create(R);await h()}catch(R){R.data.data.email.code&&we.error("Email already exist",{position:Ee})}}let g=!1;function _(){e(8,g=!g)}function v(R){tt.call(this,n,R)}function b(){l=this.value,e(3,l)}function k(){o=this.value,e(0,o)}function y(){i=this.value,e(1,i)}function S(){r=this.value,e(2,r)}function O(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(o&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(o).toLowerCase())?e(5,a=!1):e(5,a=!0)),i&&(i.length>=5?e(6,d=!1):e(6,d=!0)),r&&(r===i?e(7,f=!1):e(7,f=!0)))},[o,i,r,l,s,a,d,f,g,m,_,v,b,k,y,S,O]}class Hi extends je{constructor(t){super(),qe(this,t,Dc,Nc,Re,{})}}function Bc(n){let t,e,l,o,i,r;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=C(),l=p("p"),o=B("An email with a reset link has been sent to "),i=p("strong"),r=B(n[0])},m(s,a){M(s,t,a),M(s,e,a),M(s,l,a),c(l,o),c(l,i),c(i,r)},p(s,a){a&1&&re(r,s[0])},d(s){s&&L(t),s&&L(e),s&&L(l)}}}function Fc(n){let t,e,l,o,i,r,s,a,d,f;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=C(),l=p("form"),o=p("label"),i=B(`Email\r
              `),r=p("input"),s=C(),a=p("button"),a.textContent="Reset",u(r,"id","email"),u(r,"name","email"),u(r,"type","email"),u(r,"aria-invalid",n[2]),r.required=!0,u(o,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,m){M(h,t,m),M(h,e,m),M(h,l,m),c(l,o),c(o,i),c(o,r),K(r,n[0]),c(l,s),c(l,a),d||(f=[T(r,"input",n[5]),T(a,"click",n[3]),T(l,"submit",nt(n[4]))],d=!0)},p(h,m){m&4&&u(r,"aria-invalid",h[2]),m&1&&r.value!==h[0]&&K(r,h[0])},d(h){h&&L(t),h&&L(e),h&&L(l),d=!1,fe(f)}}}function Uc(n){let t,e,l,o,i,r,s,a;function d(m,g){return m[1]===!1?Fc:Bc}let f=d(n),h=f(n);return{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),h.c(),i=C(),r=p("a"),r.textContent="Back to Login Screen",u(r,"href","/"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(m,g){M(m,t,g),c(t,e),c(e,l),c(l,o),h.m(o,null),c(o,i),c(o,r),s||(a=T(r,"click",n[6]),s=!0)},p(m,[g]){f===(f=d(m))&&h?h.p(m,g):(h.d(1),h=f(m),h&&(h.c(),h.m(o,i)))},i:oe,o:oe,d(m){m&&L(t),h.d(),s=!1,a()}}}function Hc(n,t,e){let l=!1,o,i;async function r(){i||(await de.collection("users").requestPasswordReset(o),e(1,l=!0))}function s(f){tt.call(this,n,f)}function a(){o=this.value,e(0,o)}const d=()=>{e(1,l=!1)};return n.$$.update=()=>{n.$$.dirty&1&&o&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(o).toLowerCase())?e(2,i=!1):e(2,i=!0))},[o,l,i,r,s,a,d]}class Vc extends je{constructor(t){super(),qe(this,t,Hc,Uc,Re,{})}}const Bn=rt(0),$t=rt(0);function Nl(n,t,e){const l=n.slice();return l[130]=t[e],l}function ql(n,t,e){const l=n.slice();return l[133]=t[e],l}function jl(n,t,e){const l=n.slice();return l[130]=t[e],l}function Dl(n,t,e){const l=n.slice();return l[130]=t[e],l}function Bl(n,t,e){const l=n.slice();return l[133]=t[e],l}function Fl(n,t,e){const l=n.slice();return l[142]=t[e],l}function Ul(n,t,e){const l=n.slice();return l[145]=t[e],l}function zc(n){let t,e;return t=new tl({props:{$$slots:{default:[Gc]},$$scope:{ctx:n}}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o[4]&16777216&&(i.$$scope={dirty:o,ctx:l}),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function Jc(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y;function S(q,I){return q[9].length===0?Qc:Wc}let O=S(n),R=O(n),w=n[35]&&Vl(n),A=n[36]&&Gl(n),P=n[37]&&Zl(n),j=n[38]&&xl(n),N=n[39]&&lo(n),D=n[34]&&oo(n);return v=new _n({}),{c(){t=p("div"),e=p("div"),l=C(),o=p("input"),i=C(),r=p("button"),r.textContent="Add Book",s=C(),R.c(),a=C(),w&&w.c(),d=C(),A&&A.c(),f=C(),P&&P.c(),h=C(),j&&j.c(),m=C(),N&&N.c(),g=C(),D&&D.c(),_=C(),ge(v.$$.fragment),u(e,"class","grid svelte-1unumha"),u(o,"class","search"),u(o,"type","search"),u(o,"placeholder","Filter by Book Title, Author, or Status..."),u(r,"class","btn btn-primary"),u(t,"class","container")},m(q,I){M(q,t,I),c(t,e),c(t,l),c(t,o),K(o,n[40]),c(t,i),c(t,r),c(t,s),R.m(t,null),M(q,a,I),w&&w.m(q,I),M(q,d,I),A&&A.m(q,I),M(q,f,I),P&&P.m(q,I),M(q,h,I),j&&j.m(q,I),M(q,m,I),N&&N.m(q,I),M(q,g,I),D&&D.m(q,I),M(q,_,I),_e(v,q,I),b=!0,k||(y=[T(o,"input",n[64]),T(r,"click",n[50])],k=!0)},p(q,I){I[1]&512&&o.value!==q[40]&&K(o,q[40]),O===(O=S(q))&&R?R.p(q,I):(R.d(1),R=O(q),R&&(R.c(),R.m(t,null))),q[35]?w?w.p(q,I):(w=Vl(q),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null),q[36]?A?A.p(q,I):(A=Gl(q),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),q[37]?P?P.p(q,I):(P=Zl(q),P.c(),P.m(h.parentNode,h)):P&&(P.d(1),P=null),q[38]?j?j.p(q,I):(j=xl(q),j.c(),j.m(m.parentNode,m)):j&&(j.d(1),j=null),q[39]?N?N.p(q,I):(N=lo(q),N.c(),N.m(g.parentNode,g)):N&&(N.d(1),N=null),q[34]?D?D.p(q,I):(D=oo(q),D.c(),D.m(_.parentNode,_)):D&&(D.d(1),D=null)},i(q){b||(Q(v.$$.fragment,q),b=!0)},o(q){x(v.$$.fragment,q),b=!1},d(q){q&&L(t),R.d(),q&&L(a),w&&w.d(q),q&&L(d),A&&A.d(q),q&&L(f),P&&P.d(q),q&&L(h),j&&j.d(q),q&&L(m),N&&N.d(q),q&&L(g),D&&D.d(q),q&&L(_),me(v,q),k=!1,fe(y)}}}function Gc(n){let t,e,l,o;return t=new It({props:{path:"/",component:nl}}),l=new It({props:{path:"/signup",component:Hi}}),{c(){ge(t.$$.fragment),e=C(),ge(l.$$.fragment)},m(i,r){_e(t,i,r),M(i,e,r),_e(l,i,r),o=!0},p:oe,i(i){o||(Q(t.$$.fragment,i),Q(l.$$.fragment,i),o=!0)},o(i){x(t.$$.fragment,i),x(l.$$.fragment,i),o=!1},d(i){me(t,i),i&&L(e),me(l,i)}}}function Wc(n){let t,e=[],l=new Map,o=n[41];const i=r=>r[145].id;for(let r=0;r<o.length;r+=1){let s=Ul(n,o,r),a=i(s);l.set(a,e[r]=Hl(a,s))}return{c(){t=p("div");for(let r=0;r<e.length;r+=1)e[r].c();u(t,"class","grid svelte-1unumha")},m(r,s){M(r,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(r,s){s[0]&2146435072|s[1]&2102272&&(o=r[41],e=ze(e,s,i,1,r,o,l,t,Ge,Hl,null,Ul))},d(r){r&&L(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Qc(n){let t,e,l,o,i,r,s,a,d,f,h;function m(R,w){return R[42].language==="en"?xc:$c}let g=m(n),_=g(n);function v(R,w){return R[42].language==="en"?tu:eu}let b=v(n),k=b(n);function y(R,w){return R[42].language==="en"?lu:nu}let S=y(n),O=S(n);return{c(){t=p("article"),e=p("div"),e.textContent="",l=C(),o=p("p"),_.c(),i=C(),r=p("p"),k.c(),s=C(),a=p("div"),d=p("button"),O.c(),u(e,"class","empty-icon"),u(o,"class","empty-title h5"),u(r,"class","empty-subtitle"),u(d,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-1unumha")},m(R,w){M(R,t,w),c(t,e),c(t,l),c(t,o),_.m(o,null),c(t,i),c(t,r),k.m(r,null),c(t,s),c(t,a),c(a,d),O.m(d,null),f||(h=T(d,"click",n[51]),f=!0)},p(R,w){g!==(g=m(R))&&(_.d(1),_=g(R),_&&(_.c(),_.m(o,null))),b!==(b=v(R))&&(k.d(1),k=b(R),k&&(k.c(),k.m(r,null))),S!==(S=y(R))&&(O.d(1),O=S(R),O&&(O.c(),O.m(d,null)))},d(R){R&&L(t),_.d(),k.d(),O.d(),f=!1,h()}}}function Kc(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k;return{c(){t=p("a"),e=p("img"),Oe(e.src,l=n[145].googleCover)||u(e,"src",l),u(e,"alt",o=n[145].title),u(e,"class","svelte-1unumha"),u(t,"href","#update"),u(t,"data-id",i=n[145].bookId),u(t,"data-title",r=n[145].title),u(t,"data-author",s=n[145].author),u(t,"data-pages",a=n[145].pages),u(t,"data-pagesread",d=n[145].pages_read),u(t,"data-review",f=n[145].review),u(t,"data-collection",h=n[145].collection),u(t,"data-cover",m=n[145].googleCover),u(t,"data-status",g=n[145].status),u(t,"data-class",_=n[145].classId),u(t,"data-classname",v=n[145].className),u(t,"class","svelte-1unumha")},m(y,S){M(y,t,S),c(t,e),b||(k=[T(t,"click",n[76]),T(t,"click",n[77]),T(t,"click",n[78]),T(t,"click",n[79]),T(t,"click",n[80]),T(t,"click",n[81]),T(t,"click",n[82]),T(t,"click",n[83]),T(t,"click",n[84]),T(t,"click",n[85]),T(t,"click",n[86]),T(t,"click",n[52])],b=!0)},p(y,S){S[1]&1024&&!Oe(e.src,l=y[145].googleCover)&&u(e,"src",l),S[1]&1024&&o!==(o=y[145].title)&&u(e,"alt",o),S[1]&1024&&i!==(i=y[145].bookId)&&u(t,"data-id",i),S[1]&1024&&r!==(r=y[145].title)&&u(t,"data-title",r),S[1]&1024&&s!==(s=y[145].author)&&u(t,"data-author",s),S[1]&1024&&a!==(a=y[145].pages)&&u(t,"data-pages",a),S[1]&1024&&d!==(d=y[145].pages_read)&&u(t,"data-pagesread",d),S[1]&1024&&f!==(f=y[145].review)&&u(t,"data-review",f),S[1]&1024&&h!==(h=y[145].collection)&&u(t,"data-collection",h),S[1]&1024&&m!==(m=y[145].googleCover)&&u(t,"data-cover",m),S[1]&1024&&g!==(g=y[145].status)&&u(t,"data-status",g),S[1]&1024&&_!==(_=y[145].classId)&&u(t,"data-class",_),S[1]&1024&&v!==(v=y[145].className)&&u(t,"data-classname",v)},d(y){y&&L(t),b=!1,fe(k)}}}function Yc(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k;return{c(){t=p("a"),e=p("img"),Oe(e.src,l=n[43]+n[145].bookId+"/"+n[145].cover)||u(e,"src",l),u(e,"alt",o=n[145].title),u(e,"class","svelte-1unumha"),u(t,"href","#update"),u(t,"data-id",i=n[145].bookId),u(t,"data-title",r=n[145].title),u(t,"data-author",s=n[145].author),u(t,"data-pages",a=n[145].pages),u(t,"data-pagesread",d=n[145].pages_read),u(t,"data-review",f=n[145].review),u(t,"data-collection",h=n[145].collection),u(t,"data-cover",m=n[145].googleCover),u(t,"data-status",g=n[145].status),u(t,"data-class",_=n[145].classId),u(t,"data-classname",v=n[145].className),u(t,"class","svelte-1unumha")},m(y,S){M(y,t,S),c(t,e),b||(k=[T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[52])],b=!0)},p(y,S){S[1]&1024&&!Oe(e.src,l=y[43]+y[145].bookId+"/"+y[145].cover)&&u(e,"src",l),S[1]&1024&&o!==(o=y[145].title)&&u(e,"alt",o),S[1]&1024&&i!==(i=y[145].bookId)&&u(t,"data-id",i),S[1]&1024&&r!==(r=y[145].title)&&u(t,"data-title",r),S[1]&1024&&s!==(s=y[145].author)&&u(t,"data-author",s),S[1]&1024&&a!==(a=y[145].pages)&&u(t,"data-pages",a),S[1]&1024&&d!==(d=y[145].pages_read)&&u(t,"data-pagesread",d),S[1]&1024&&f!==(f=y[145].review)&&u(t,"data-review",f),S[1]&1024&&h!==(h=y[145].collection)&&u(t,"data-collection",h),S[1]&1024&&m!==(m=y[145].googleCover)&&u(t,"data-cover",m),S[1]&1024&&g!==(g=y[145].status)&&u(t,"data-status",g),S[1]&1024&&_!==(_=y[145].classId)&&u(t,"data-class",_),S[1]&1024&&v!==(v=y[145].className)&&u(t,"data-classname",v)},d(y){y&&L(t),b=!1,fe(k)}}}function Zc(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,l){M(e,t,l)},p:oe,d(e){e&&L(t)}}}function Xc(n){let t,e;return{c(){t=p("progress"),t.value=e=_t(n[145].pages_read,n[145].pages),u(t,"max","100")},m(l,o){M(l,t,o)},p(l,o){o[1]&1024&&e!==(e=_t(l[145].pages_read,l[145].pages))&&(t.value=e)},d(l){l&&L(t)}}}function Hl(n,t){let e,l,o,i,r,s,a=t[145].title+"",d,f,h,m,g=t[145].author+"",_,v,b,k,y=t[145].status+"",S,O,R,w;function A(I,E){return I[145].cover?Yc:Kc}let P=A(t),j=P(t);function N(I,E){return I[145].pages_read?Xc:Zc}let D=N(t),q=D(t);return{key:n,first:null,c(){e=p("article"),l=p("div"),o=p("div"),j.c(),i=C(),r=p("hgroup"),s=p("h4"),d=B(a),f=C(),h=p("p"),m=B("By: "),_=B(g),v=C(),b=p("br"),k=C(),S=B(y),O=C(),R=p("footer"),q.c(),w=C(),u(o,"class","image-wrapper"),u(r,"class","svelte-1unumha"),u(l,"class","content-wrapper svelte-1unumha"),u(R,"class","svelte-1unumha"),u(e,"data-hover","article"),u(e,"class","svelte-1unumha"),this.first=e},m(I,E){M(I,e,E),c(e,l),c(l,o),j.m(o,null),c(l,i),c(l,r),c(r,s),c(s,d),c(r,f),c(r,h),c(h,m),c(h,_),c(h,v),c(h,b),c(h,k),c(h,S),c(e,O),c(e,R),q.m(R,null),c(e,w)},p(I,E){t=I,P===(P=A(t))&&j?j.p(t,E):(j.d(1),j=P(t),j&&(j.c(),j.m(o,null))),E[1]&1024&&a!==(a=t[145].title+"")&&re(d,a),E[1]&1024&&g!==(g=t[145].author+"")&&re(_,g),E[1]&1024&&y!==(y=t[145].status+"")&&re(S,y),D===(D=N(t))&&q?q.p(t,E):(q.d(1),q=D(t),q&&(q.c(),q.m(R,null)))},d(I){I&&L(e),j.d(),q.d()}}}function $c(n){let t;return{c(){t=B(`Nada por\r
            aqu...`)},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function xc(n){let t;return{c(){t=B("Nothing here yet...")},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function eu(n){let t;return{c(){t=B(`Presione\r
            el botn para aadir un libro.`)},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function tu(n){let t;return{c(){t=B("Click the button to add a book.")},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function nu(n){let t;return{c(){t=B("Aadir Libro")},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function lu(n){let t;return{c(){t=B("Add Book")},m(e,l){M(e,t,l)},d(e){e&&L(t)}}}function Vl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v=[],b=new Map,k,y,S=n[32];const O=R=>R[142].id;for(let R=0;R<S.length;R+=1){let w=Fl(n,S,R),A=O(w);b.set(A,v[R]=Jl(A,w))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Search`),r=C(),s=p("form"),a=p("input"),d=C(),f=p("button"),h=B("Search"),m=C(),g=p("button"),g.textContent="Add Manually",_=C();for(let R=0;R<v.length;R+=1)v[R].c();u(o,"href","#close"),u(o,"class","close svelte-1unumha"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(f,"aria-busy",n[33]),u(e,"class","svelte-1unumha"),t.open=!0},m(R,w){M(R,t,w),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h),c(s,m),c(s,g),c(e,_);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(e,null);k||(y=[T(o,"click",n[50]),T(a,"keyup",n[87]),T(f,"click",function(){st(n[55](n[31]))&&n[55](n[31]).apply(this,arguments)}),T(g,"click",n[51]),T(s,"submit",nt(n[63]))],k=!0)},p(R,w){n=R,w[1]&4&&u(f,"aria-busy",n[33]),w[0]&423936|w[1]&1048578&&(S=n[32],v=ze(v,w,O,1,n,S,b,e,Ge,Jl,null,Fl))},d(R){R&&L(t);for(let w=0;w<v.length;w+=1)v[w].d();k=!1,fe(y)}}}function zl(n){let t,e,l;return{c(){t=p("img"),Oe(t.src,e=on(n[142].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",l=n[142].volumeInfo.title),u(t,"class","svelte-1unumha")},m(o,i){M(o,t,i)},p(o,i){i[1]&2&&!Oe(t.src,e=on(o[142].volumeInfo.imageLinks))&&u(t,"src",e),i[1]&2&&l!==(l=o[142].volumeInfo.title)&&u(t,"alt",l)},d(o){o&&L(t)}}}function Jl(n,t){let e,l,o,i,r,s,a=t[142].volumeInfo.title+"",d,f,h,m,g=Kt(t[142].volumeInfo.authors)+"",_,v,b,k,y=t[142].volumeInfo.language+"",S,O,R,w,A,P,j,N,D,q,I,E=t[142].volumeInfo.imageLinks&&zl(t);return{key:n,first:null,c(){e=p("a"),l=p("article"),o=p("figure"),E&&E.c(),i=C(),r=p("figcaption"),s=p("strong"),d=B(a),f=C(),h=p("br"),m=B(`\r
                  By `),_=B(g),v=C(),b=p("br"),k=B(`\r
                  Language: `),S=B(y),O=C(),u(r,"class","svelte-1unumha"),u(l,"data-hover",""),u(l,"class","svelte-1unumha"),u(e,"href","#search"),u(e,"data-id",R=t[142].id),u(e,"data-title",w=t[142].volumeInfo.title),u(e,"data-author",A=Kt(t[142].volumeInfo.authors)),u(e,"data-img",P=on(t[142].volumeInfo.imageLinks)),u(e,"data-pages",j=t[142].volumeInfo.pageCount),u(e,"data-description",N=t[142].volumeInfo.description),u(e,"data-language",D=t[142].volumeInfo.language),u(e,"class","svelte-1unumha"),this.first=e},m(F,U){M(F,e,U),c(e,l),c(l,o),E&&E.m(o,null),c(o,i),c(o,r),c(r,s),c(s,d),c(r,f),c(r,h),c(r,m),c(r,_),c(r,v),c(r,b),c(r,k),c(r,S),c(e,O),q||(I=[T(e,"click",t[88]),T(e,"click",t[89]),T(e,"click",t[90]),T(e,"click",t[91]),T(e,"click",t[92]),T(e,"click",t[93]),T(e,"click",t[51])],q=!0)},p(F,U){t=F,t[142].volumeInfo.imageLinks?E?E.p(t,U):(E=zl(t),E.c(),E.m(o,i)):E&&(E.d(1),E=null),U[1]&2&&a!==(a=t[142].volumeInfo.title+"")&&re(d,a),U[1]&2&&g!==(g=Kt(t[142].volumeInfo.authors)+"")&&re(_,g),U[1]&2&&y!==(y=t[142].volumeInfo.language+"")&&re(S,y),U[1]&2&&R!==(R=t[142].id)&&u(e,"data-id",R),U[1]&2&&w!==(w=t[142].volumeInfo.title)&&u(e,"data-title",w),U[1]&2&&A!==(A=Kt(t[142].volumeInfo.authors))&&u(e,"data-author",A),U[1]&2&&P!==(P=on(t[142].volumeInfo.imageLinks))&&u(e,"data-img",P),U[1]&2&&j!==(j=t[142].volumeInfo.pageCount)&&u(e,"data-pages",j),U[1]&2&&N!==(N=t[142].volumeInfo.description)&&u(e,"data-description",N),U[1]&2&&D!==(D=t[142].volumeInfo.language)&&u(e,"data-language",D)},d(F){F&&L(e),E&&E.d(),q=!1,fe(I)}}}function Gl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U=[],J=new Map,W,V,G,ee,ue,Y=[],X=new Map,se,be,he,z,ce,pe,Ie,ke,Me,Ce,Se=n[17]&&Wl(n),Ae=n[8];const Le=Z=>Z[133].id;for(let Z=0;Z<Ae.length;Z+=1){let ae=Bl(n,Ae,Z),ne=Le(ae);J.set(ne,U[Z]=Ql(ne,ae))}let ye=n[10];const le=Z=>Z[130].id;for(let Z=0;Z<ye.length;Z+=1){let ae=Dl(n,ye,Z),ne=le(ae);X.set(ne,Y[Z]=Kl(ne,ae))}let te=!n[17]&&Yl(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Add Book`),r=C(),Se&&Se.c(),s=C(),a=p("form"),d=p("label"),f=B(`Title\r
            `),h=p("input"),m=C(),g=p("label"),_=B(`Author\r
            `),v=p("input"),b=C(),k=p("label"),y=B(`Pages\r
            `),S=p("input"),O=C(),R=p("label"),R.textContent="Language",w=C(),A=p("select"),P=p("option"),P.textContent="Please select an option",j=p("option"),j.textContent="English",N=p("option"),N.textContent="Spanish",D=C(),q=p("label"),q.textContent="Collection",I=C(),E=p("select"),F=p("option"),F.textContent="Please select an option";for(let Z=0;Z<U.length;Z+=1)U[Z].c();W=C(),V=p("label"),V.textContent="Class",G=C(),ee=p("select"),ue=p("option"),ue.textContent="Please select an option";for(let Z=0;Z<Y.length;Z+=1)Y[Z].c();se=C(),be=p("button"),he=C(),te&&te.c(),z=C(),ce=p("footer"),pe=p("a"),pe.textContent="Cancel",Ie=C(),ke=p("a"),ke.textContent="Add Book",u(o,"href","#close"),u(o,"class","close svelte-1unumha"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(d,"for","title"),u(d,"class","svelte-1unumha"),u(v,"id","author"),u(v,"name","author"),u(v,"placeholder","Author"),u(v,"type","text"),u(g,"for","author"),u(g,"class","svelte-1unumha"),u(S,"id","pages"),u(S,"name","pages"),u(S,"placeholder","Pages"),u(S,"type","number"),u(k,"for","pages"),u(k,"class","svelte-1unumha"),u(R,"for","language"),u(R,"class","svelte-1unumha"),P.__value="",P.value=P.__value,P.selected=!0,j.__value="en",j.value=j.__value,N.__value="es",N.value=N.__value,u(A,"id","language"),n[18]===void 0&&De(()=>n[97].call(A)),u(q,"for","collection"),u(q,"class","svelte-1unumha"),F.__value="",F.value=F.__value,F.selected=!0,u(E,"id","collection"),n[15]===void 0&&De(()=>n[98].call(E)),u(V,"for","class"),u(V,"class","svelte-1unumha"),ue.__value="",ue.value=ue.__value,ue.selected=!0,u(ee,"id","class"),n[19]===void 0&&De(()=>n[99].call(ee)),u(pe,"href","#cancel"),u(pe,"role","button"),u(pe,"class","secondary svelte-1unumha"),u(ke,"href","#confirm"),u(ke,"role","button"),u(ke,"class","svelte-1unumha"),u(ce,"class","svelte-1unumha"),u(e,"class","svelte-1unumha"),t.open=!0},m(Z,ae){M(Z,t,ae),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),Se&&Se.m(e,null),c(e,s),c(e,a),c(a,d),c(d,f),c(d,h),K(h,n[11]),c(a,m),c(a,g),c(g,_),c(g,v),K(v,n[12]),c(a,b),c(a,k),c(k,y),c(k,S),K(S,n[14]),c(a,O),c(a,R),c(a,w),c(a,A),c(A,P),c(A,j),c(A,N),Ne(A,n[18],!0),c(a,D),c(a,q),c(a,I),c(a,E),c(E,F);for(let ne=0;ne<U.length;ne+=1)U[ne]&&U[ne].m(E,null);Ne(E,n[15],!0),c(a,W),c(a,V),c(a,G),c(a,ee),c(ee,ue);for(let ne=0;ne<Y.length;ne+=1)Y[ne]&&Y[ne].m(ee,null);Ne(ee,n[19],!0),c(a,se),c(a,be),c(a,he),te&&te.m(a,null),c(e,z),c(e,ce),c(ce,pe),c(ce,Ie),c(ce,ke),Me||(Ce=[T(o,"click",n[51]),T(h,"input",n[94]),T(v,"input",n[95]),T(S,"input",n[96]),T(A,"change",n[97]),T(E,"change",n[98]),T(ee,"change",n[99]),T(be,"click",n[100]),T(a,"submit",nt(n[62])),T(pe,"click",n[56]),T(ke,"click",n[45]),T(ke,"click",n[56])],Me=!0)},p(Z,ae){Z[17]?Se?Se.p(Z,ae):(Se=Wl(Z),Se.c(),Se.m(e,s)):Se&&(Se.d(1),Se=null),ae[0]&2048&&h.value!==Z[11]&&K(h,Z[11]),ae[0]&4096&&v.value!==Z[12]&&K(v,Z[12]),ae[0]&16384&&Ve(S.value)!==Z[14]&&K(S,Z[14]),ae[0]&262144&&Ne(A,Z[18]),ae[0]&256&&(Ae=Z[8],U=ze(U,ae,Le,1,Z,Ae,J,E,Ge,Ql,null,Bl)),ae[0]&33024&&Ne(E,Z[15]),ae[0]&1024&&(ye=Z[10],Y=ze(Y,ae,le,1,Z,ye,X,ee,Ge,Kl,null,Dl)),ae[0]&525312&&Ne(ee,Z[19]),Z[17]?te&&(te.d(1),te=null):te?te.p(Z,ae):(te=Yl(Z),te.c(),te.m(a,null))},d(Z){Z&&L(t),Se&&Se.d();for(let ae=0;ae<U.length;ae+=1)U[ae].d();for(let ae=0;ae<Y.length;ae+=1)Y[ae].d();te&&te.d(),Me=!1,fe(Ce)}}}function Wl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_;return{c(){t=p("figure"),e=p("img"),o=C(),i=p("figcaption"),r=B("By "),s=B(n[12]),a=C(),d=p("br"),f=C(),h=p("br"),m=C(),g=p("p"),_=B(n[13]),Oe(e.src,l=n[17])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-1unumha"),u(i,"class","svelte-1unumha")},m(v,b){M(v,t,b),c(t,e),c(t,o),c(t,i),c(i,r),c(i,s),c(i,a),c(i,d),c(i,f),c(i,h),c(i,m),c(i,g),c(g,_)},p(v,b){b[0]&131072&&!Oe(e.src,l=v[17])&&u(e,"src",l),b[0]&4096&&re(s,v[12]),b[0]&8192&&re(_,v[13])},d(v){v&&L(t)}}}function Ql(n,t){let e,l=t[133].collection+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[133].id,e.value=e.__value,this.first=e},m(r,s){M(r,e,s),c(e,o)},p(r,s){t=r,s[0]&256&&l!==(l=t[133].collection+"")&&re(o,l),s[0]&256&&i!==(i=t[133].id)&&(e.__value=i,e.value=e.__value)},d(r){r&&L(e)}}}function Kl(n,t){var r;let e,l=((r=t[130].expand.class)==null?void 0:r.class)+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[130].class,e.value=e.__value,this.first=e},m(s,a){M(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&re(o,l),a[0]&1024&&i!==(i=t[130].class)&&(e.__value=i,e.value=e.__value)},d(s){s&&L(e)}}}function Yl(n){let t,e,l,o,i;return{c(){t=p("label"),e=B(`Cover Art\r
              `),l=p("input"),u(l,"type","file"),u(l,"id","file"),u(l,"name","file"),u(l,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1unumha")},m(r,s){M(r,t,s),c(t,e),c(t,l),o||(i=T(l,"change",n[101]),o=!0)},p:oe,d(r){r&&L(t),o=!1,i()}}}function Zl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A;function P(F,U){return F[24]?iu:ou}let j=P(n),N=j(n),D=(n[28]===" reading"||n[28]===" not started")&&Xl(n);function q(F,U){if(F[28]===" reading"||F[28]===" not started")return su;if(F[28]===" completed")return ru}let I=q(n),E=I&&I(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=C(),r=p("strong"),s=B(n[20]),a=C(),N.c(),d=C(),f=p("progress"),m=C(),g=p("p"),_=B(n[28]),v=C(),b=p("br"),k=p("br"),y=C(),D&&D.c(),S=C(),O=p("a"),O.textContent="Edit Book Details",R=C(),E&&E.c(),u(o,"href","#close"),u(o,"class","close svelte-1unumha"),u(f,"id","progressbar"),f.value=h=_t(n[24],n[23]),u(f,"max","100"),u(O,"href","#update"),u(O,"class","details svelte-1unumha"),u(e,"class","svelte-1unumha"),t.open=!0},m(F,U){M(F,t,U),c(t,e),c(e,l),c(l,o),c(l,i),c(l,r),c(r,s),c(e,a),N.m(e,null),c(e,d),c(e,f),c(e,m),c(e,g),c(g,_),c(e,v),c(e,b),c(e,k),c(e,y),D&&D.m(e,null),c(e,S),c(e,O),c(e,R),E&&E.m(e,null),w||(A=[T(o,"click",n[52]),T(O,"click",n[53])],w=!0)},p(F,U){U[0]&1048576&&re(s,F[20]),j===(j=P(F))&&N?N.p(F,U):(N.d(1),N=j(F),N&&(N.c(),N.m(e,d))),U[0]&25165824&&h!==(h=_t(F[24],F[23]))&&(f.value=h),U[0]&268435456&&re(_,F[28]),F[28]===" reading"||F[28]===" not started"?D?D.p(F,U):(D=Xl(F),D.c(),D.m(e,S)):D&&(D.d(1),D=null),I===(I=q(F))&&E?E.p(F,U):(E&&E.d(1),E=I&&I(F),E&&(E.c(),E.m(e,null)))},d(F){F&&L(t),N.d(),D&&D.d(),E&&E.d(),w=!1,fe(A)}}}function ou(n){let t,e,l,o=_t(n[24],n[23])+"",i,r,s,a,d;return{c(){t=p("label"),e=B("Reading Progress: "),l=p("strong"),i=B(o),r=B("%"),s=B(`\r
            (0/`),a=B(n[23]),d=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-1unumha")},m(f,h){M(f,t,h),c(t,e),c(t,l),c(l,i),c(l,r),c(t,s),c(t,a),c(t,d)},p(f,h){h[0]&25165824&&o!==(o=_t(f[24],f[23])+"")&&re(i,o),h[0]&8388608&&re(a,f[23])},d(f){f&&L(t)}}}function iu(n){let t,e,l,o=_t(n[24],n[23])+"",i,r,s,a,d,f,h;return{c(){t=p("label"),e=B("Reading Progress: "),l=p("strong"),i=B(o),r=B("%"),s=B(`\r
            (`),a=B(n[24]),d=B("/"),f=B(n[23]),h=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-1unumha")},m(m,g){M(m,t,g),c(t,e),c(t,l),c(l,i),c(l,r),c(t,s),c(t,a),c(t,d),c(t,f),c(t,h)},p(m,g){g[0]&25165824&&o!==(o=_t(m[24],m[23])+"")&&re(i,o),g[0]&16777216&&re(a,m[24]),g[0]&8388608&&re(f,m[23])},d(m){m&&L(t)}}}function Xl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A=[],P=new Map,j,N,D=n[10];const q=I=>I[130].id;for(let I=0;I<D.length;I+=1){let E=jl(n,D,I),F=q(E);P.set(F,A[I]=$l(F,E))}return{c(){t=p("form"),e=p("input"),l=C(),o=p("label"),i=B(`Date\r
              `),r=p("input"),s=C(),a=p("label"),d=B(`Pages Read\r
              `),f=p("input"),h=C(),m=p("label"),g=B(`Progress Value:\r
              `),_=p("input"),v=C(),b=p("label"),k=B(`Comment\r
              `),y=p("input"),S=C(),O=p("label"),O.textContent="Class",R=C(),w=p("select");for(let I=0;I<A.length;I+=1)A[I].c();Pe(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),e.required=!0,u(r,"id","date"),u(r,"name","date"),u(r,"type","date"),r.required=!0,u(o,"for","date"),u(o,"class","svelte-1unumha"),u(f,"id","pagesRead"),u(f,"name","pagesRead"),u(f,"type","number"),f.required=!0,u(a,"for","pagesRead"),u(a,"class","svelte-1unumha"),u(_,"id","progressValue"),u(_,"name","progressValue"),u(_,"type","number"),_.required=!0,u(m,"for","progressValue"),u(m,"class","svelte-1unumha"),u(y,"id","comment"),u(y,"name","comment"),u(y,"placeholder","Tell the teacher about today's read."),u(y,"type","text"),y.required=!0,u(b,"for","comment"),u(b,"class","svelte-1unumha"),u(O,"for","classId"),u(O,"class","svelte-1unumha"),w.required=!0,u(w,"id","classId"),n[29]===void 0&&De(()=>n[107].call(w))},m(I,E){M(I,t,E),c(t,e),K(e,n[20]),c(t,l),c(t,o),c(o,i),c(o,r),K(r,n[0]),c(t,s),c(t,a),c(a,d),c(a,f),K(f,n[1]),c(t,h),c(t,m),c(m,g),c(m,_),K(_,n[2]),c(t,v),c(t,b),c(b,k),c(b,y),K(y,n[3]),c(t,S),c(t,O),c(t,R),c(t,w);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(w,null);Ne(w,n[29],!0),n[108](t),j||(N=[T(e,"input",n[102]),T(r,"input",n[103]),T(f,"input",n[104]),T(_,"input",n[105]),T(y,"input",n[106]),T(w,"change",n[107]),T(t,"submit",nt(n[61]))],j=!0)},p(I,E){E[0]&1048576&&e.value!==I[20]&&K(e,I[20]),E[0]&1&&K(r,I[0]),E[0]&2&&Ve(f.value)!==I[1]&&K(f,I[1]),E[0]&4&&Ve(_.value)!==I[2]&&K(_,I[2]),E[0]&8&&y.value!==I[3]&&K(y,I[3]),E[0]&1024&&(D=I[10],A=ze(A,E,q,1,I,D,P,w,Ge,$l,null,jl)),E[0]&536871936&&Ne(w,I[29])},d(I){I&&L(t);for(let E=0;E<A.length;E+=1)A[E].d();n[108](null),j=!1,fe(N)}}}function $l(n,t){var r;let e,l=((r=t[130].expand.class)==null?void 0:r.class)+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[130].class,e.value=e.__value,this.first=e},m(s,a){M(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&re(o,l),a[0]&1024&&i!==(i=t[130].class)&&(e.__value=i,e.value=e.__value)},d(s){s&&L(e)}}}function ru(n){let t,e,l,o;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1unumha"),u(t,"class","svelte-1unumha")},m(i,r){M(i,t,r),c(t,e),l||(o=T(e,"click",n[52]),l=!0)},p:oe,d(i){i&&L(t),l=!1,o()}}}function su(n){let t,e,l,o,i,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",l=C(),o=p("a"),o.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1unumha"),u(o,"href","#confirm"),u(o,"role","button"),u(o,"class","svelte-1unumha"),u(t,"class","svelte-1unumha")},m(s,a){M(s,t,a),c(t,e),c(t,l),c(t,o),i||(r=[T(e,"click",n[52]),T(o,"click",n[46])],i=!0)},p:oe,d(s){s&&L(t),i=!1,fe(r)}}}function xl(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E=[],F=new Map,U,J,W,V,G=[],ee=new Map,ue,Y,X,se,be,he,z,ce,pe,Ie,ke,Me,Ce=n[8];const Se=le=>le[133].id;for(let le=0;le<Ce.length;le+=1){let te=ql(n,Ce,le),Z=Se(te);F.set(Z,E[le]=eo(Z,te))}let Ae=n[10];const Le=le=>le[130].id;for(let le=0;le<Ae.length;le+=1){let te=Nl(n,Ae,le),Z=Le(te);ee.set(Z,G[le]=to(Z,te))}let ye=!n[26]&&no(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Edit Book Details`),r=C(),s=p("form"),a=p("label"),d=B(`Title\r
            `),f=p("input"),h=C(),m=p("div"),g=p("label"),_=B(`Author\r
              `),v=p("input"),b=C(),k=p("div"),y=p("label"),S=B(`Pages\r
              `),O=p("input"),R=C(),w=p("label"),A=B(`Review\r
            `),P=p("input"),j=C(),N=p("label"),N.textContent="Collection",D=C(),q=p("select"),I=p("option"),I.textContent="Please select an option";for(let le=0;le<E.length;le+=1)E[le].c();U=C(),J=p("label"),J.textContent="Class",W=C(),V=p("select");for(let le=0;le<G.length;le+=1)G[le].c();ue=C(),ye&&ye.c(),Y=C(),X=p("footer"),se=p("div"),be=p("a"),be.textContent="Delete",he=C(),z=p("div"),ce=p("a"),ce.textContent="Cancel",pe=C(),Ie=p("a"),Ie.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-1unumha"),u(f,"id","title"),u(f,"name","title"),u(f,"type","text"),u(a,"for","title"),u(a,"class","svelte-1unumha"),u(v,"id","author"),u(v,"name","author"),u(v,"type","text"),u(g,"for","author"),u(g,"class","svelte-1unumha"),u(O,"id","pages"),u(O,"name","pages"),u(O,"placeholder","Pages"),u(O,"type","number"),u(y,"for","pages"),u(y,"class","svelte-1unumha"),u(k,"class","grid svelte-1unumha"),u(P,"id","review"),u(P,"name","review"),u(P,"type","textarea"),u(w,"for","review"),u(w,"class","svelte-1unumha"),u(N,"for","collection"),u(N,"class","svelte-1unumha"),I.__value="",I.value=I.__value,I.selected=!0,u(q,"id","collection"),n[25]===void 0&&De(()=>n[113].call(q)),u(J,"for","classId"),u(J,"class","svelte-1unumha"),V.required=!0,u(V,"id","classId"),n[29]===void 0&&De(()=>n[114].call(V)),u(be,"href","#delete"),u(be,"role","button"),u(be,"class","delete svelte-1unumha"),u(ce,"href","#cancel"),u(ce,"role","button"),u(ce,"class","secondary svelte-1unumha"),u(Ie,"href","#confirm"),u(Ie,"role","button"),u(Ie,"class","svelte-1unumha"),u(X,"data-button","spaceBetween"),u(X,"class","svelte-1unumha"),u(e,"class","svelte-1unumha"),t.open=!0},m(le,te){M(le,t,te),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[20]),c(s,h),c(s,m),c(m,g),c(g,_),c(g,v),K(v,n[21]),c(s,b),c(s,k),c(k,y),c(y,S),c(y,O),K(O,n[23]),c(s,R),c(s,w),c(w,A),c(w,P),K(P,n[22]),c(s,j),c(s,N),c(s,D),c(s,q),c(q,I);for(let Z=0;Z<E.length;Z+=1)E[Z]&&E[Z].m(q,null);Ne(q,n[25],!0),c(s,U),c(s,J),c(s,W),c(s,V);for(let Z=0;Z<G.length;Z+=1)G[Z]&&G[Z].m(V,null);Ne(V,n[29],!0),c(e,ue),ye&&ye.m(e,null),c(e,Y),c(e,X),c(X,se),c(se,be),c(X,he),c(X,z),c(z,ce),c(z,pe),c(z,Ie),ke||(Me=[T(o,"click",n[53]),T(f,"input",n[109]),T(v,"input",n[110]),T(O,"input",n[111]),T(P,"input",n[112]),T(q,"change",n[113]),T(V,"change",n[114]),T(s,"submit",nt(n[60])),T(be,"click",n[57]),T(ce,"click",n[53]),T(Ie,"click",n[47])],ke=!0)},p(le,te){te[0]&1048576&&f.value!==le[20]&&K(f,le[20]),te[0]&2097152&&v.value!==le[21]&&K(v,le[21]),te[0]&8388608&&Ve(O.value)!==le[23]&&K(O,le[23]),te[0]&4194304&&K(P,le[22]),te[0]&256&&(Ce=le[8],E=ze(E,te,Se,1,le,Ce,F,q,Ge,eo,null,ql)),te[0]&33554688&&Ne(q,le[25]),te[0]&1024&&(Ae=le[10],G=ze(G,te,Le,1,le,Ae,ee,V,Ge,to,null,Nl)),te[0]&536871936&&Ne(V,le[29]),le[26]?ye&&(ye.d(1),ye=null):ye?ye.p(le,te):(ye=no(le),ye.c(),ye.m(e,Y))},d(le){le&&L(t);for(let te=0;te<E.length;te+=1)E[te].d();for(let te=0;te<G.length;te+=1)G[te].d();ye&&ye.d(),ke=!1,fe(Me)}}}function eo(n,t){let e,l=t[133].collection+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[133].id,e.value=e.__value,this.first=e},m(r,s){M(r,e,s),c(e,o)},p(r,s){t=r,s[0]&256&&l!==(l=t[133].collection+"")&&re(o,l),s[0]&256&&i!==(i=t[133].id)&&(e.__value=i,e.value=e.__value)},d(r){r&&L(e)}}}function to(n,t){var r;let e,l=((r=t[130].expand.class)==null?void 0:r.class)+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[130].class,e.value=e.__value,this.first=e},m(s,a){M(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&re(o,l),a[0]&1024&&i!==(i=t[130].class)&&(e.__value=i,e.value=e.__value)},d(s){s&&L(e)}}}function no(n){let t,e,l,o,i,r;return{c(){t=p("form"),e=p("label"),l=B(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1unumha")},m(s,a){M(s,t,a),c(t,e),c(e,l),c(e,o),i||(r=[T(o,"change",n[115]),T(t,"submit",nt(n[59]))],i=!0)},p:oe,d(s){s&&L(t),i=!1,fe(r)}}}function lo(n){let t,e,l,o,i,r,s,a,d,f,h,m,g;return{c(){t=p("dialog"),e=p("article"),l=p("h3"),l.textContent="Confirm Delete",o=C(),i=p("p"),i.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,r=C(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=C(),h=p("a"),h.textContent="Delete",u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1unumha"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1unumha"),u(s,"class","svelte-1unumha"),u(e,"class","svelte-1unumha"),t.open=!0},m(_,v){M(_,t,v),c(t,e),c(e,l),c(e,o),c(e,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),m||(g=[T(d,"click",n[54]),T(h,"click",n[48]),T(h,"click",n[52]),T(h,"click",n[54])],m=!0)},p:oe,d(_){_&&L(t),m=!1,fe(g)}}}function oo(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U,J,W;return U=Ts(n[119][0]),{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Add Collection`),r=C(),s=p("form"),a=p("label"),d=B(`Collection\r
            `),f=p("input"),h=C(),m=p("label"),g=B(`Description\r
            `),_=p("input"),v=C(),b=p("fieldset"),k=p("legend"),k.textContent="Collection for:",y=C(),S=p("label"),O=p("input"),R=B(`\r
              Books`),w=C(),A=p("label"),P=p("input"),j=B(`\r
              Movies`),N=C(),D=p("footer"),q=p("div"),I=p("a"),I.textContent="Cancel",E=C(),F=p("a"),F.textContent="Add Collection",u(o,"href","#close"),u(o,"class","close svelte-1unumha"),u(f,"id","collection"),u(f,"name","collection"),u(f,"placeholder","Collection"),u(f,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1unumha"),u(_,"id","description"),u(_,"name","description"),u(_,"placeholder","Description"),u(_,"type","textarea"),u(m,"for","description"),u(m,"class","svelte-1unumha"),u(O,"type","radio"),u(O,"id","books"),u(O,"name","role"),O.__value="book",O.value=O.__value,O.checked=!0,u(S,"for","books"),u(S,"class","svelte-1unumha"),u(P,"type","radio"),u(P,"id","movies"),u(P,"name","role"),P.__value="movie",P.value=P.__value,u(A,"for","movies"),u(A,"class","svelte-1unumha"),u(b,"class","svelte-1unumha"),u(I,"href","#cancel"),u(I,"role","button"),u(I,"class","secondary svelte-1unumha"),u(F,"href","#confirm"),u(F,"role","button"),u(F,"class","svelte-1unumha"),u(D,"class","svelte-1unumha"),u(e,"class","svelte-1unumha"),t.open=!0,U.p(O,P)},m(V,G){M(V,t,G),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[5]),c(s,h),c(s,m),c(m,g),c(m,_),K(_,n[6]),c(s,v),c(s,b),c(b,k),c(b,y),c(b,S),c(S,O),O.checked=O.__value===n[7],c(S,R),c(b,w),c(b,A),c(A,P),P.checked=P.__value===n[7],c(A,j),c(e,N),c(e,D),c(D,q),c(q,I),c(q,E),c(q,F),J||(W=[T(o,"click",n[49]),T(f,"input",n[116]),T(_,"input",n[117]),T(O,"change",n[118]),T(P,"change",n[120]),T(s,"submit",nt(n[58])),T(I,"click",n[49]),T(F,"click",n[44]),T(F,"click",n[49])],J=!0)},p(V,G){G[0]&32&&f.value!==V[5]&&K(f,V[5]),G[0]&64&&K(_,V[6]),G[0]&128&&(O.checked=O.__value===V[7]),G[0]&128&&(P.checked=P.__value===V[7])},d(V){V&&L(t),U.r(),J=!1,fe(W)}}}function au(n){let t,e,l,o;const i=[Jc,zc],r=[];function s(a,d){return lt?0:1}return t=s(),e=r[t]=i[t](n),{c(){e.c(),l=ve()},m(a,d){r[t].m(a,d),M(a,l,d),o=!0},p(a,d){e.p(a,d)},i(a){o||(Q(e),o=!0)},o(a){x(e),o=!1},d(a){r[t].d(a),a&&L(l)}}}let cu="/api/files/9hhair4kd0xa314/";function Kt(n){let t;return n&&(t=n[0]),t}function on(n){let t;return n&&(t=n.thumbnail),t}function _t(n,t){return Math.floor(n/t*100)}function uu(n,t,e){let l,o,i,r;He(n,qn,H=>e(122,l=H)),He(n,lt,H=>e(42,o=H)),He(n,$t,H=>e(123,i=H)),He(n,Bn,H=>e(124,r=H));let s,a,d,f,h,m,g,_,v=[],b=[],k=[],y,S,O,R="",w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee,ue,Y="",X=[],se=!1,be=pn+cu;async function he(){const H=await de.collection("view_everything").getFullList({sort:"-id"});e(9,b=H),z(),We();try{const Xe=await de.collection("collections").getFullList({sort:"-created"});e(8,v=Xe)}catch(Xe){alert(Xe)}try{const Xe=await de.collection("enrollments").getFullList({expand:"class, class.managedBy",sort:"-class"});e(10,k=Xe)}catch(Xe){alert(Xe)}}gt(async()=>{he(),z(),We()}),Zn(()=>{de.collection("view_everything").unsubscribe("*")});function z(){bn(Bn,r=b.length,r),bn($t,i=0,i);for(const H of b)H.pages_read&&bn($t,i+=H.pages_read,i)}async function ce(){try{const H={collection:m,reader:o.id,type:_},Xe=await de.collection("collections").create(H);he()}catch(H){alert(H)}}async function pe(){try{const H=new FormData;H.append("title",y),H.append("author",S),H.append("reader",o.id),H.append("review",R),H.append("collection",A),H.append("language",N),H.append("pages",w),H.append("class",D),P?H.append("cover",P[0]):H.append("googleCover",j);const Xe=await de.collection("books").create(H);we.success("Book added successfully!",{position:Ee}),e(11,y=null),e(12,S=null),R=null,e(14,w=null),e(16,P=null),e(18,N=null),e(31,Y=""),e(32,X=[]),he()}catch(H){alert(H)}}async function Ie(){if(h.reportValidity()){if(s&&a&&f)if(+U+ +a<=+F)try{const H={reader:o.id,book:V,date:s,pages_read:+a,progressValue:d,comment:f,class:ee},Xe=await de.collection("reading").create(H);we.success("Log entry saved!",{position:Ee}),Z()}catch(H){alert(H)}else+U+ +a>+F&&we.error("Pages exceeded",{position:Ee});else we.error("All fields required",{position:Ee});e(0,s=""),e(1,a=""),e(3,f=""),e(29,ee=""),he()}}async function ke(){try{const H=new FormData;H.append("title",q),H.append("author",I),H.append("reader",o.id),H.append("review",E),H.append("pages",F),H.append("collection",J),H.append("class",ee),P&&H.append("cover",P[0]);const Xe=await de.collection("books").update(V,H);we.success("Book updated!",{position:Ee}),Z(),ne(),e(20,q=null),e(21,I=null),e(22,E=null),e(16,P=null),e(25,J=null),e(29,ee=""),he()}catch(H){alert(H)}}async function Me(){try{await de.collection("books").delete(V),we.success("Book deleted!",{position:Ee}),he()}catch(H){alert(H)}}let Ce=!1;function Se(){e(34,Ce=!Ce)}let Ae=!1;function Le(){e(35,Ae=!Ae),Ae||(e(31,Y=""),e(32,X=[]))}let ye=!1;function le(){e(36,ye=!ye)}let te=!1;function Z(){e(37,te=!te),console.log(te)}let ae=!1;function ne(){e(38,ae=!ae)}let Ue=!1;function ct(){e(39,Ue=!Ue)}async function ie(H){if(H.length>3){e(33,se=!0);let Xe="https://www.googleapis.com/books/v1/volumes?q="+H+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+l;try{const vn=await fetch(Xe);e(32,X=await vn.json()),e(32,X=X.items),e(33,se=!1)}catch(vn){alert(vn)}}else we.error("input required",{position:Ee})}function $e(){le(),Le()}function xe(){ne(),ct()}let Je="",Ze=b;function We(){const H=Je.toLowerCase();e(41,Ze=b.filter(Xe=>Xe.title.toLowerCase().includes(H)||Xe.author.toLowerCase().includes(H)||Xe.status.toLowerCase().includes(H)))}Yn(()=>{We()});const et=[[]];function $(H){tt.call(this,n,H)}function Te(H){tt.call(this,n,H)}function Jt(H){tt.call(this,n,H)}function Lt(H){tt.call(this,n,H)}function fr(H){tt.call(this,n,H)}function dr(H){tt.call(this,n,H)}function pr(){Je=this.value,e(40,Je)}const hr=H=>{e(27,V=H.currentTarget.getAttribute("data-id"))},_r=H=>{e(20,q=H.currentTarget.getAttribute("data-title"))},mr=H=>{e(21,I=H.currentTarget.getAttribute("data-author"))},gr=H=>{e(23,F=H.currentTarget.getAttribute("data-pages"))},vr=H=>{e(24,U=H.currentTarget.getAttribute("data-pagesread"))},br=H=>{e(22,E=H.currentTarget.getAttribute("data-review"))},yr=H=>{e(25,J=H.currentTarget.getAttribute("data-collection"))},kr=H=>{e(26,W=H.currentTarget.getAttribute("data-cover"))},wr=H=>{e(28,G=H.currentTarget.getAttribute("data-status"))},Cr=H=>{e(29,ee=H.currentTarget.getAttribute("data-class"))},Sr=H=>{e(30,ue=H.currentTarget.getAttribute("data-className"))},Ar=H=>{e(27,V=H.currentTarget.getAttribute("data-id"))},Tr=H=>{e(20,q=H.currentTarget.getAttribute("data-title"))},Ir=H=>{e(21,I=H.currentTarget.getAttribute("data-author"))},Pr=H=>{e(23,F=H.currentTarget.getAttribute("data-pages"))},Lr=H=>{e(24,U=H.currentTarget.getAttribute("data-pagesread"))},Or=H=>{e(22,E=H.currentTarget.getAttribute("data-review"))},Mr=H=>{e(25,J=H.currentTarget.getAttribute("data-collection"))},Er=H=>{e(26,W=H.currentTarget.getAttribute("data-cover"))},Rr=H=>{e(28,G=H.currentTarget.getAttribute("data-status"))},Nr=H=>{e(29,ee=H.currentTarget.getAttribute("data-class"))},qr=H=>{e(30,ue=H.currentTarget.getAttribute("data-className"))},jr=H=>{e(31,Y=H.currentTarget.value)},Dr=H=>{e(11,y=H.currentTarget.getAttribute("data-title"))},Br=H=>{e(12,S=H.currentTarget.getAttribute("data-author"))},Fr=H=>{e(14,w=H.currentTarget.getAttribute("data-pages"))},Ur=H=>{e(17,j=H.currentTarget.getAttribute("data-img"))},Hr=H=>{e(13,O=H.currentTarget.getAttribute("data-description"))},Vr=H=>{e(18,N=H.currentTarget.getAttribute("data-language"))};function zr(){y=this.value,e(11,y)}function Jr(){S=this.value,e(12,S)}function Gr(){w=Ve(this.value),e(14,w)}function Wr(){N=it(this),e(18,N)}function Qr(){A=it(this),e(15,A),e(8,v)}function Kr(){D=it(this),e(19,D),e(10,k)}const Yr=()=>{console.log(D)};function Zr(){P=this.files,e(16,P)}function Xr(){q=this.value,e(20,q)}function $r(){s=this.value,e(0,s)}function xr(){a=Ve(this.value),e(1,a)}function es(){d=Ve(this.value),e(2,d)}function ts(){f=this.value,e(3,f)}function ns(){ee=it(this),e(29,ee),e(10,k)}function ls(H){bt[H?"unshift":"push"](()=>{h=H,e(4,h)})}function os(){q=this.value,e(20,q)}function is(){I=this.value,e(21,I)}function rs(){F=Ve(this.value),e(23,F)}function ss(){E=this.value,e(22,E)}function as(){J=it(this),e(25,J),e(8,v)}function cs(){ee=it(this),e(29,ee),e(10,k)}function us(){P=this.files,e(16,P)}function fs(){m=this.value,e(5,m)}function ds(){g=this.value,e(6,g)}function ps(){_=this.__value,e(7,_)}function hs(){_=this.__value,e(7,_)}return[s,a,d,f,h,m,g,_,v,b,k,y,S,O,w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee,ue,Y,X,se,Ce,Ae,ye,te,ae,Ue,Je,Ze,o,be,ce,pe,Ie,ke,Me,Se,Le,le,Z,ne,ct,ie,$e,xe,$,Te,Jt,Lt,fr,dr,pr,hr,_r,mr,gr,vr,br,yr,kr,wr,Cr,Sr,Ar,Tr,Ir,Pr,Lr,Or,Mr,Er,Rr,Nr,qr,jr,Dr,Br,Fr,Ur,Hr,Vr,zr,Jr,Gr,Wr,Qr,Kr,Yr,Zr,Xr,$r,xr,es,ts,ns,ls,os,is,rs,ss,as,cs,us,fs,ds,ps,et,hs]}class fu extends je{constructor(t){super(),qe(this,t,uu,au,Re,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Vi=Object.freeze({left:0,top:0,width:16,height:16}),rn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Vt=Object.freeze({...Vi,...rn}),Fn=Object.freeze({...Vt,body:"",hidden:!1}),du=Object.freeze({width:null,height:null}),zi=Object.freeze({...du,...rn});function pu(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function l(o){for(;o<0;)o+=4;return o%4}if(e===""){const o=parseInt(n);return isNaN(o)?0:l(o)}else if(e!==n){let o=0;switch(e){case"%":o=25;break;case"deg":o=90}if(o){let i=parseFloat(n.slice(0,n.length-e.length));return isNaN(i)?0:(i=i/o,i%1===0?l(i):0)}}return t}const hu=/[\s,]+/;function _u(n,t){t.split(hu).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Ji={...zi,preserveAspectRatio:""};function io(n){const t={...Ji},e=(l,o)=>n.getAttribute(l)||o;return t.width=e("width",null),t.height=e("height",null),t.rotate=pu(e("rotate","")),_u(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function mu(n,t){for(const e in Ji)if(n[e]!==t[e])return!0;return!1}const Rt=/^[a-z0-9]+(-[a-z0-9]+)*$/,zt=(n,t,e,l="")=>{const o=n.split(":");if(n.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;l=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const s=o.pop(),a=o.pop(),d={provider:o.length>0?o[0]:l,prefix:a,name:s};return t&&!xt(d)?null:d}const i=o[0],r=i.split("-");if(r.length>1){const s={provider:l,prefix:r.shift(),name:r.join("-")};return t&&!xt(s)?null:s}if(e&&l===""){const s={provider:l,prefix:"",name:i};return t&&!xt(s,e)?null:s}return null},xt=(n,t)=>n?!!((n.provider===""||n.provider.match(Rt))&&(t&&n.prefix===""||n.prefix.match(Rt))&&n.name.match(Rt)):!1;function gu(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const l=((n.rotate||0)+(t.rotate||0))%4;return l&&(e.rotate=l),e}function ro(n,t){const e=gu(n,t);for(const l in Fn)l in rn?l in n&&!(l in e)&&(e[l]=rn[l]):l in t?e[l]=t[l]:l in n&&(e[l]=n[l]);return e}function vu(n,t){const e=n.icons,l=n.aliases||Object.create(null),o=Object.create(null);function i(r){if(e[r])return o[r]=[];if(!(r in o)){o[r]=null;const s=l[r]&&l[r].parent,a=s&&i(s);a&&(o[r]=[s].concat(a))}return o[r]}return(t||Object.keys(e).concat(Object.keys(l))).forEach(i),o}function bu(n,t,e){const l=n.icons,o=n.aliases||Object.create(null);let i={};function r(s){i=ro(l[s]||o[s],i)}return r(t),e.forEach(r),ro(n,i)}function Gi(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(o=>{t(o,null),e.push(o)});const l=vu(n);for(const o in l){const i=l[o];i&&(t(o,bu(n,o,i)),e.push(o))}return e}const yu={provider:"",aliases:{},not_found:{},...Vi};function An(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Wi(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!An(n,yu))return null;const e=t.icons;for(const o in e){const i=e[o];if(!o.match(Rt)||typeof i.body!="string"||!An(i,Fn))return null}const l=t.aliases||Object.create(null);for(const o in l){const i=l[o],r=i.parent;if(!o.match(Rt)||typeof r!="string"||!e[r]&&!l[r]||!An(i,Fn))return null}return t}const sn=Object.create(null);function ku(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function mt(n,t){const e=sn[n]||(sn[n]=Object.create(null));return e[t]||(e[t]=ku(n,t))}function il(n,t){return Wi(t)?Gi(t,(e,l)=>{l?n.icons[e]=l:n.missing.add(e)}):[]}function wu(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function Cu(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(sn)).forEach(o=>{(typeof o=="string"&&typeof t=="string"?[t]:Object.keys(sn[o]||{})).forEach(r=>{const s=mt(o,r);e=e.concat(Object.keys(s.icons).map(a=>(o!==""?"@"+o+":":"")+r+":"+a))})}),e}let jt=!1;function Qi(n){return typeof n=="boolean"&&(jt=n),jt}function Dt(n){const t=typeof n=="string"?zt(n,!0,jt):n;if(t){const e=mt(t.provider,t.prefix),l=t.name;return e.icons[l]||(e.missing.has(l)?null:void 0)}}function Ki(n,t){const e=zt(n,!0,jt);if(!e)return!1;const l=mt(e.provider,e.prefix);return wu(l,e.name,t)}function so(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),jt&&!t&&!n.prefix){let o=!1;return Wi(n)&&(n.prefix="",Gi(n,(i,r)=>{r&&Ki(i,r)&&(o=!0)})),o}const e=n.prefix;if(!xt({provider:t,prefix:e,name:"a"}))return!1;const l=mt(t,e);return!!il(l,n)}function Su(n){return!!Dt(n)}function Au(n){const t=Dt(n);return t?{...Vt,...t}:null}function Tu(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((o,i)=>o.provider!==i.provider?o.provider.localeCompare(i.provider):o.prefix!==i.prefix?o.prefix.localeCompare(i.prefix):o.name.localeCompare(i.name));let l={provider:"",prefix:"",name:""};return n.forEach(o=>{if(l.name===o.name&&l.prefix===o.prefix&&l.provider===o.provider)return;l=o;const i=o.provider,r=o.prefix,s=o.name,a=e[i]||(e[i]=Object.create(null)),d=a[r]||(a[r]=mt(i,r));let f;s in d.icons?f=t.loaded:r===""||d.missing.has(s)?f=t.missing:f=t.pending;const h={provider:i,prefix:r,name:s};f.push(h)}),t}function Yi(n,t){n.forEach(e=>{const l=e.loaderCallbacks;l&&(e.loaderCallbacks=l.filter(o=>o.id!==t))})}function Iu(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const l=n.provider,o=n.prefix;t.forEach(i=>{const r=i.icons,s=r.pending.length;r.pending=r.pending.filter(a=>{if(a.prefix!==o)return!0;const d=a.name;if(n.icons[d])r.loaded.push({provider:l,prefix:o,name:d});else if(n.missing.has(d))r.missing.push({provider:l,prefix:o,name:d});else return e=!0,!0;return!1}),r.pending.length!==s&&(e||Yi([n],i.id),i.callback(r.loaded.slice(0),r.missing.slice(0),r.pending.slice(0),i.abort))})}))}let Pu=0;function Lu(n,t,e){const l=Pu++,o=Yi.bind(null,e,l);if(!t.pending.length)return o;const i={id:l,icons:t,callback:n,abort:o};return e.forEach(r=>{(r.loaderCallbacks||(r.loaderCallbacks=[])).push(i)}),o}const Un=Object.create(null);function ao(n,t){Un[n]=t}function Hn(n){return Un[n]||Un[""]}function Ou(n,t=!0,e=!1){const l=[];return n.forEach(o=>{const i=typeof o=="string"?zt(o,t,e):o;i&&l.push(i)}),l}var Mu={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Eu(n,t,e,l){const o=n.resources.length,i=n.random?Math.floor(Math.random()*o):n.index;let r;if(n.random){let w=n.resources.slice(0);for(r=[];w.length>1;){const A=Math.floor(Math.random()*w.length);r.push(w[A]),w=w.slice(0,A).concat(w.slice(A+1))}r=r.concat(w)}else r=n.resources.slice(i).concat(n.resources.slice(0,i));const s=Date.now();let a="pending",d=0,f,h=null,m=[],g=[];typeof l=="function"&&g.push(l);function _(){h&&(clearTimeout(h),h=null)}function v(){a==="pending"&&(a="aborted"),_(),m.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),m=[]}function b(w,A){A&&(g=[]),typeof w=="function"&&g.push(w)}function k(){return{startTime:s,payload:t,status:a,queriesSent:d,queriesPending:m.length,subscribe:b,abort:v}}function y(){a="failed",g.forEach(w=>{w(void 0,f)})}function S(){m.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),m=[]}function O(w,A,P){const j=A!=="success";switch(m=m.filter(N=>N!==w),a){case"pending":break;case"failed":if(j||!n.dataAfterTimeout)return;break;default:return}if(A==="abort"){f=P,y();return}if(j){f=P,m.length||(r.length?R():y());return}if(_(),S(),!n.random){const N=n.resources.indexOf(w.resource);N!==-1&&N!==n.index&&(n.index=N)}a="completed",g.forEach(N=>{N(P)})}function R(){if(a!=="pending")return;_();const w=r.shift();if(w===void 0){if(m.length){h=setTimeout(()=>{_(),a==="pending"&&(S(),y())},n.timeout);return}y();return}const A={status:"pending",resource:w,callback:(P,j)=>{O(A,P,j)}};m.push(A),d++,h=setTimeout(R,n.rotate),e(w,t,A.callback)}return setTimeout(R),k}function Zi(n){const t={...Mu,...n};let e=[];function l(){e=e.filter(s=>s().status==="pending")}function o(s,a,d){const f=Eu(t,s,a,(h,m)=>{l(),d&&d(h,m)});return e.push(f),f}function i(s){return e.find(a=>s(a))||null}return{query:o,find:i,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:l}}function rl(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const mn=Object.create(null),Mt=["https://api.simplesvg.com","https://api.unisvg.com"],en=[];for(;Mt.length>0;)Mt.length===1||Math.random()>.5?en.push(Mt.shift()):en.push(Mt.pop());mn[""]=rl({resources:["https://api.iconify.design"].concat(en)});function co(n,t){const e=rl(t);return e===null?!1:(mn[n]=e,!0)}function gn(n){return mn[n]}function Ru(){return Object.keys(mn)}function uo(){}const Tn=Object.create(null);function Nu(n){if(!Tn[n]){const t=gn(n);if(!t)return;const e=Zi(t),l={config:t,redundancy:e};Tn[n]=l}return Tn[n]}function Xi(n,t,e){let l,o;if(typeof n=="string"){const i=Hn(n);if(!i)return e(void 0,424),uo;o=i.send;const r=Nu(n);r&&(l=r.redundancy)}else{const i=rl(n);if(i){l=Zi(i);const r=n.resources?n.resources[0]:"",s=Hn(r);s&&(o=s.send)}}return!l||!o?(e(void 0,424),uo):l.query(t,o,e)().abort}const fo="iconify2",Bt="iconify",$i=Bt+"-count",po=Bt+"-version",xi=36e5,qu=168;function Vn(n,t){try{return n.getItem(t)}catch{}}function sl(n,t,e){try{return n.setItem(t,e),!0}catch{}}function ho(n,t){try{n.removeItem(t)}catch{}}function zn(n,t){return sl(n,$i,t.toString())}function Jn(n){return parseInt(Vn(n,$i))||0}const vt={local:!0,session:!0},er={local:new Set,session:new Set};let al=!1;function ju(n){al=n}let Yt=typeof window>"u"?{}:window;function tr(n){const t=n+"Storage";try{if(Yt&&Yt[t]&&typeof Yt[t].length=="number")return Yt[t]}catch{}vt[n]=!1}function nr(n,t){const e=tr(n);if(!e)return;const l=Vn(e,po);if(l!==fo){if(l){const s=Jn(e);for(let a=0;a<s;a++)ho(e,Bt+a.toString())}sl(e,po,fo),zn(e,0);return}const o=Math.floor(Date.now()/xi)-qu,i=s=>{const a=Bt+s.toString(),d=Vn(e,a);if(typeof d=="string"){try{const f=JSON.parse(d);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>o&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&t(f,s))return!0}catch{}ho(e,a)}};let r=Jn(e);for(let s=r-1;s>=0;s--)i(s)||(s===r-1?(r--,zn(e,r)):er[n].add(s))}function lr(){if(!al){ju(!0);for(const n in vt)nr(n,t=>{const e=t.data,l=t.provider,o=e.prefix,i=mt(l,o);if(!il(i,e).length)return!1;const r=e.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,r):r,!0})}}function Du(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const l in vt)nr(l,o=>{const i=o.data;return o.provider!==n.provider||i.prefix!==n.prefix||i.lastModified===t});return!0}function Bu(n,t){al||lr();function e(l){let o;if(!vt[l]||!(o=tr(l)))return;const i=er[l];let r;if(i.size)i.delete(r=Array.from(i).shift());else if(r=Jn(o),!zn(o,r+1))return;const s={cached:Math.floor(Date.now()/xi),provider:n.provider,data:t};return sl(o,Bt+r.toString(),JSON.stringify(s))}t.lastModified&&!Du(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function _o(){}function Fu(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,Iu(n)}))}function Uu(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:l}=n,o=n.iconsToLoad;delete n.iconsToLoad;let i;if(!o||!(i=Hn(e)))return;i.prepare(e,l,o).forEach(s=>{Xi(e,s,a=>{if(typeof a!="object")s.icons.forEach(d=>{n.missing.add(d)});else try{const d=il(n,a);if(!d.length)return;const f=n.pendingIcons;f&&d.forEach(h=>{f.delete(h)}),Bu(n,a)}catch(d){console.error(d)}Fu(n)})})}))}const cl=(n,t)=>{const e=Ou(n,!0,Qi()),l=Tu(e);if(!l.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(l.loaded,l.missing,l.pending,_o)}),()=>{a=!1}}const o=Object.create(null),i=[];let r,s;return l.pending.forEach(a=>{const{provider:d,prefix:f}=a;if(f===s&&d===r)return;r=d,s=f,i.push(mt(d,f));const h=o[d]||(o[d]=Object.create(null));h[f]||(h[f]=[])}),l.pending.forEach(a=>{const{provider:d,prefix:f,name:h}=a,m=mt(d,f),g=m.pendingIcons||(m.pendingIcons=new Set);g.has(h)||(g.add(h),o[d][f].push(h))}),i.forEach(a=>{const{provider:d,prefix:f}=a;o[d][f].length&&Uu(a,o[d][f])}),t?Lu(t,l,i):_o},Hu=n=>new Promise((t,e)=>{const l=typeof n=="string"?zt(n,!0):n;if(!l){e(n);return}cl([l||n],o=>{if(o.length&&l){const i=Dt(l);if(i){t({...Vt,...i});return}}e(n)})});function Vu(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function zu(n,t){const e=typeof n=="string"?zt(n,!0,!0):null;if(!e){const i=Vu(n);return{value:n,data:i}}const l=Dt(e);if(l!==void 0||!e.prefix)return{value:n,name:e,data:l};const o=cl([e],()=>t(n,e,Dt(e)));return{value:n,name:e,loading:o}}function In(n){return n.hasAttribute("inline")}let or=!1;try{or=navigator.vendor.indexOf("Apple")===0}catch{}function Ju(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(or||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Gu=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Wu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Gn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const l=n.split(Gu);if(l===null||!l.length)return n;const o=[];let i=l.shift(),r=Wu.test(i);for(;;){if(r){const s=parseFloat(i);isNaN(s)?o.push(i):o.push(Math.ceil(s*t*e)/e)}else o.push(i);if(i=l.shift(),i===void 0)return o.join("");r=!r}}const Qu=n=>n==="unset"||n==="undefined"||n==="none";function ir(n,t){const e={...Vt,...n},l={...zi,...t},o={left:e.left,top:e.top,width:e.width,height:e.height};let i=e.body;[e,l].forEach(_=>{const v=[],b=_.hFlip,k=_.vFlip;let y=_.rotate;b?k?y+=2:(v.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),v.push("scale(-1 1)"),o.top=o.left=0):k&&(v.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),v.push("scale(1 -1)"),o.top=o.left=0);let S;switch(y<0&&(y-=Math.floor(y/4)*4),y=y%4,y){case 1:S=o.height/2+o.top,v.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:v.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:S=o.width/2+o.left,v.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}y%2===1&&(o.left!==o.top&&(S=o.left,o.left=o.top,o.top=S),o.width!==o.height&&(S=o.width,o.width=o.height,o.height=S)),v.length&&(i='<g transform="'+v.join(" ")+'">'+i+"</g>")});const r=l.width,s=l.height,a=o.width,d=o.height;let f,h;r===null?(h=s===null?"1em":s==="auto"?d:s,f=Gn(h,a/d)):(f=r==="auto"?a:r,h=s===null?Gn(f,d/a):s==="auto"?d:s);const m={},g=(_,v)=>{Qu(v)||(m[_]=v.toString())};return g("width",f),g("height",h),m.viewBox=o.left.toString()+" "+o.top.toString()+" "+a.toString()+" "+d.toString(),{attributes:m,body:i}}const Ku=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let an=Ku();function Yu(n){an=n}function Zu(){return an}function Xu(n,t){const e=gn(n);if(!e)return 0;let l;if(!e.maxURL)l=0;else{let o=0;e.resources.forEach(r=>{o=Math.max(o,r.length)});const i=t+".json?icons=";l=e.maxURL-o-e.path.length-i.length}return l}function $u(n){return n===404}const xu=(n,t,e)=>{const l=[],o=Xu(n,t),i="icons";let r={type:i,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,d)=>{s+=a.length+1,s>=o&&d>0&&(l.push(r),r={type:i,provider:n,prefix:t,icons:[]},s=a.length),r.icons.push(a)}),l.push(r),l};function ef(n){if(typeof n=="string"){const t=gn(n);if(t)return t.path}return"/"}const tf=(n,t,e)=>{if(!an){e("abort",424);return}let l=ef(t.provider);switch(t.type){case"icons":{const i=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});l+=i+".json?"+a.toString();break}case"custom":{const i=t.uri;l+=i.slice(0,1)==="/"?i.slice(1):i;break}default:e("abort",400);return}let o=503;an(n+l).then(i=>{const r=i.status;if(r!==200){setTimeout(()=>{e($u(r)?"abort":"next",r)});return}return o=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?e("abort",i):e("next",o)});return}setTimeout(()=>{e("success",i)})}).catch(()=>{e("next",o)})},nf={prepare:xu,send:tf};function mo(n,t){switch(n){case"local":case"session":vt[n]=t;break;case"all":for(const e in vt)vt[e]=t;break}}const Pn="data-style";let rr="";function lf(n){rr=n}function go(n,t){let e=Array.from(n.childNodes).find(l=>l.hasAttribute&&l.hasAttribute(Pn));e||(e=document.createElement("style"),e.setAttribute(Pn,Pn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+rr}function sr(){ao("",nf),Qi(!0);let n;try{n=window}catch{}if(n){if(lr(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,l="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!so(o))&&console.error(l)}catch{console.error(l)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const l in e){const o="IconifyProviders["+l+"] is invalid.";try{const i=e[l];if(typeof i!="object"||!i||i.resources===void 0)continue;co(l,i)||console.error(o)}catch{console.error(o)}}}}return{enableCache:e=>mo(e,!0),disableCache:e=>mo(e,!1),iconExists:Su,getIcon:Au,listIcons:Cu,addIcon:Ki,addCollection:so,calculateSize:Gn,buildIcon:ir,loadIcons:cl,loadIcon:Hu,addAPIProvider:co,appendCustomStyle:lf,_api:{getAPIConfig:gn,setAPIModule:ao,sendAPIQuery:Xi,setFetch:Yu,getFetch:Zu,listAPIProviders:Ru}}}function ar(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const l in t)e+=" "+l+'="'+t[l]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function of(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function rf(n){return'url("data:image/svg+xml,'+of(n)+'")'}const Wn={"background-color":"currentColor"},cr={"background-color":"transparent"},vo={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},bo={"-webkit-mask":Wn,mask:Wn,background:cr};for(const n in bo){const t=bo[n];for(const e in vo)t[n+"-"+e]=vo[e]}function yo(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function sf(n,t,e){const l=document.createElement("span");let o=n.body;o.indexOf("<a")!==-1&&(o+="<!-- "+Date.now()+" -->");const i=n.attributes,r=ar(o,{...i,width:t.width+"",height:t.height+""}),s=rf(r),a=l.style,d={"--svg":s,width:yo(i.width),height:yo(i.height),...e?Wn:cr};for(const f in d)a.setProperty(f,d[f]);return l}function af(n){const t=document.createElement("span"),e=n.attributes;let l="";return e.width||(l="width: inherit;"),e.height||(l+="height: inherit;"),l&&(e.style=l),t.innerHTML=ar(n.body,e),t.firstChild}function ko(n,t){const e=t.icon.data,l=t.customisations,o=ir(e,l);l.preserveAspectRatio&&(o.attributes.preserveAspectRatio=l.preserveAspectRatio);const i=t.renderedMode;let r;switch(i){case"svg":r=af(o);break;default:r=sf(o,{...Vt,...e},i==="mask")}const s=Array.from(n.childNodes).find(a=>{const d=a.tagName&&a.tagName.toUpperCase();return d==="SPAN"||d==="SVG"});s?r.tagName==="SPAN"&&s.tagName===r.tagName?s.setAttribute("style",r.getAttribute("style")):n.replaceChild(r,s):n.appendChild(r)}function wo(n,t,e){const l=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:l}}function cf(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const l=t.get(n);if(l)return l;const o=["icon","mode","inline","width","height","rotate","flip"],i=class extends e{constructor(){super();Gt(this,"_shadowRoot");Gt(this,"_state");Gt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),d=In(this);go(a,d),this._state=wo({value:""},d),this._queueCheck()}static get observedAttributes(){return o.slice(0)}attributeChangedCallback(a){if(a==="inline"){const d=In(this),f=this._state;d!==f.inline&&(f.inline=d,go(this._shadowRoot,d))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return In(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const d=this._shadowRoot;if(a.renderedMode==="svg")try{d.lastChild.setCurrentTime(0);return}catch{}ko(d,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,d=this.getAttribute("icon");if(d!==a.icon.value){this._iconChanged(d);return}if(!a.rendered)return;const f=this.getAttribute("mode"),h=io(this);(a.attrMode!==f||mu(a.customisations,h))&&this._renderIcon(a.icon,h,f)}_iconChanged(a){const d=zu(a,(f,h,m)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==f)return;const _={value:f,name:h,data:m};_.data?this._gotIconData(_):g.icon=_});d.data?this._gotIconData(d):this._state=wo(d,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,io(this),this.getAttribute("mode"))}_renderIcon(a,d,f){const h=Ju(a.data.body,f),m=this._state.inline;ko(this._shadowRoot,this._state={rendered:!0,icon:a,inline:m,customisations:d,attrMode:f,renderedMode:h})}};o.forEach(s=>{s in i.prototype||Object.defineProperty(i.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const r=sr();for(const s in r)i[s]=i.prototype[s]=r[s];return t.define(n,i),i}cf()||sr();function Co(n,t,e){const l=n.slice();return l[19]=t[e],l}function So(n,t,e){const l=n.slice();return l[19]=t[e],l}function Ao(n,t,e){const l=n.slice();return l[63]=t[e],l}function uf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w=[],A=new Map,P,j,N,D,q,I,E=n[18];const F=V=>V[63].id;for(let V=0;V<E.length;V+=1){let G=Ao(n,E,V),ee=F(G);A.set(ee,w[V]=To(ee,G))}let U=n[14]&&Io(n),J=n[15]&&Lo(n),W=n[16]&&Mo(n);return{c(){t=p("div"),e=p("div"),l=p("select"),o=p("option"),o.textContent="All",i=p("option"),i.textContent="January",r=p("option"),r.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",m=p("option"),m.textContent="August",g=p("option"),g.textContent="September",_=p("option"),_.textContent="October",v=p("option"),v.textContent="November",b=p("option"),b.textContent="December",k=C(),y=p("input"),S=C(),O=p("button"),O.textContent="Add Log Entry",R=C();for(let V=0;V<w.length;V+=1)w[V].c();P=C(),U&&U.c(),j=C(),J&&J.c(),N=C(),W&&W.c(),D=ve(),o.__value="All",o.value=o.__value,i.__value="January",i.value=i.__value,r.__value="February",r.value=r.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,m.__value="August",m.value=m.__value,g.__value="September",g.value=g.__value,_.__value="October",_.value=_.__value,v.__value="November",v.value=v.__value,b.__value="December",b.value=b.__value,u(l,"class","svelte-1vms9yv"),n[6]===void 0&&De(()=>n[29].call(l)),u(y,"class","radius svelte-1vms9yv"),u(y,"type","search"),u(y,"placeholder","Filter logs..."),u(e,"class","flex svelte-1vms9yv"),u(O,"class","btn btn-primary svelte-1vms9yv"),u(t,"class","container svelte-1vms9yv")},m(V,G){M(V,t,G),c(t,e),c(e,l),c(l,o),c(l,i),c(l,r),c(l,s),c(l,a),c(l,d),c(l,f),c(l,h),c(l,m),c(l,g),c(l,_),c(l,v),c(l,b),Ne(l,n[6],!0),c(e,k),c(e,y),K(y,n[17]),c(t,S),c(t,O),c(t,R);for(let ee=0;ee<w.length;ee+=1)w[ee]&&w[ee].m(t,null);M(V,P,G),U&&U.m(V,G),M(V,j,G),J&&J.m(V,G),M(V,N,G),W&&W.m(V,G),M(V,D,G),q||(I=[T(l,"change",n[29]),T(l,"change",n[20]),T(y,"input",n[30]),T(O,"click",n[21])],q=!0)},p(V,G){G[0]&64&&Ne(l,V[6]),G[0]&131072&&y.value!==V[17]&&K(y,V[17]),G[0]&4468767&&(E=V[18],w=ze(w,G,F,1,V,E,A,t,Ge,To,null,Ao)),V[14]?U?U.p(V,G):(U=Io(V),U.c(),U.m(j.parentNode,j)):U&&(U.d(1),U=null),V[15]?J?J.p(V,G):(J=Lo(V),J.c(),J.m(N.parentNode,N)):J&&(J.d(1),J=null),V[16]?W?W.p(V,G):(W=Mo(V),W.c(),W.m(D.parentNode,D)):W&&(W.d(1),W=null)},d(V){V&&L(t);for(let G=0;G<w.length;G+=1)w[G].d();V&&L(P),U&&U.d(V),V&&L(j),J&&J.d(V),V&&L(N),W&&W.d(V),V&&L(D),q=!1,fe(I)}}}function To(n,t){let e,l,o,i,r=t[63].title+"",s,a,d=t[63].comment+"",f,h,m,g,_,v,b,k=Eo(t[63].date)+"",y,S,O,R=t[63].pages_read+"",w,A,P,j,N,D,q,I,E,F,U;return{key:n,first:null,c(){e=p("a"),l=p("article"),o=p("hgroup"),i=p("h4"),s=B(r),a=C(),f=B(d),h=C(),m=p("br"),g=C(),_=p("footer"),v=p("div"),b=p("div"),y=B(k),S=C(),O=p("div"),w=B(R),A=B(" pages"),P=C(),u(v,"class","pages svelte-1vms9yv"),u(e,"href","#edit"),u(e,"data-id",j=t[63].id),u(e,"data-date",N=t[63].date),u(e,"data-title",D=t[63].title),u(e,"data-pages",q=t[63].pages),u(e,"data-pagesread",I=t[63].pages_read),u(e,"data-comment",E=t[63].comment),u(e,"class","svelte-1vms9yv"),this.first=e},m(J,W){M(J,e,W),c(e,l),c(l,o),c(o,i),c(i,s),c(o,a),c(o,f),c(o,h),c(o,m),c(l,g),c(l,_),c(_,v),c(v,b),c(b,y),c(v,S),c(v,O),c(O,w),c(O,A),c(l,P),F||(U=[T(e,"click",t[31]),T(e,"click",t[32]),T(e,"click",t[33]),T(e,"click",t[34]),T(e,"click",t[35]),T(e,"click",t[36]),T(e,"click",t[37]),T(e,"click",t[22])],F=!0)},p(J,W){t=J,W[0]&262144&&r!==(r=t[63].title+"")&&re(s,r),W[0]&262144&&d!==(d=t[63].comment+"")&&re(f,d),W[0]&262144&&k!==(k=Eo(t[63].date)+"")&&re(y,k),W[0]&262144&&R!==(R=t[63].pages_read+"")&&re(w,R),W[0]&262144&&j!==(j=t[63].id)&&u(e,"data-id",j),W[0]&262144&&N!==(N=t[63].date)&&u(e,"data-date",N),W[0]&262144&&D!==(D=t[63].title)&&u(e,"data-title",D),W[0]&262144&&q!==(q=t[63].pages)&&u(e,"data-pages",q),W[0]&262144&&I!==(I=t[63].pages_read)&&u(e,"data-pagesread",I),W[0]&262144&&E!==(E=t[63].comment)&&u(e,"data-comment",E)},d(J){J&&L(e),F=!1,fe(U)}}}function Io(n){let t,e,l,o,i,r,s,a,d,f,h,m=[],g=new Map,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee=n[11];const ue=Y=>Y[19].id;for(let Y=0;Y<ee.length;Y+=1){let X=So(n,ee,Y),se=ue(X);g.set(se,m[Y]=Po(se,X))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Log Entry`),r=C(),s=p("form"),a=p("label"),a.textContent="Book",d=C(),f=p("select"),h=p("option"),h.textContent="Please select an option";for(let Y=0;Y<m.length;Y+=1)m[Y].c();_=C(),v=p("label"),b=B(`Date\r
            `),k=p("input"),y=C(),S=p("label"),O=B(`Pages Read\r
            `),R=p("input"),w=C(),A=p("label"),P=B(`Progress Value:\r
            `),j=p("input"),N=C(),D=p("label"),q=B(`Comment\r
            `),I=p("input"),E=C(),F=p("footer"),U=p("a"),U.textContent="Cancel",J=C(),W=p("a"),W.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-1vms9yv"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(f,"id","book"),n[19]===void 0&&De(()=>n[38].call(f)),u(k,"id","date"),u(k,"name","date"),u(k,"type","date"),k.required=!0,u(v,"for","date"),u(R,"id","pagesRead"),u(R,"name","pagesRead"),u(R,"type","number"),R.required=!0,u(S,"for","pagesRead"),u(j,"id","progressValue"),u(j,"name","progressValue"),u(j,"type","number"),j.required=!0,u(A,"for","progressValue"),u(I,"id","comment"),u(I,"name","comment"),u(I,"type","textarea"),I.required=!0,u(D,"for","comment"),u(U,"href","#cancel"),u(U,"role","button"),u(U,"class","secondary svelte-1vms9yv"),u(W,"href","#confirm"),u(W,"role","button"),u(W,"class","svelte-1vms9yv"),u(F,"class","svelte-1vms9yv"),t.open=!0},m(Y,X){M(Y,t,X),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h);for(let se=0;se<m.length;se+=1)m[se]&&m[se].m(f,null);Ne(f,n[19],!0),c(s,_),c(s,v),c(v,b),c(v,k),K(k,n[7]),c(s,y),c(s,S),c(S,O),c(S,R),K(R,n[8]),c(s,w),c(s,A),c(A,P),c(A,j),K(j,n[10]),c(s,N),c(s,D),c(D,q),c(D,I),K(I,n[9]),c(e,E),c(e,F),c(F,U),c(F,J),c(F,W),V||(G=[T(o,"click",n[21]),T(f,"change",n[38]),T(k,"input",n[39]),T(R,"input",n[40]),T(j,"input",n[41]),T(I,"input",n[42]),T(s,"submit",nt(n[28])),T(U,"click",n[21]),T(W,"click",n[25]),T(W,"click",n[21])],V=!0)},p(Y,X){X[0]&2048&&(ee=Y[11],m=ze(m,X,ue,1,Y,ee,g,f,Ge,Po,null,So)),X[0]&526336&&Ne(f,Y[19]),X[0]&128&&K(k,Y[7]),X[0]&256&&Ve(R.value)!==Y[8]&&K(R,Y[8]),X[0]&1024&&Ve(j.value)!==Y[10]&&K(j,Y[10]),X[0]&512&&K(I,Y[9])},d(Y){Y&&L(t);for(let X=0;X<m.length;X+=1)m[X].d();V=!1,fe(G)}}}function Po(n,t){let e,l=t[19].title+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[19].id,e.value=e.__value,this.first=e},m(r,s){M(r,e,s),c(e,o)},p(r,s){t=r,s[0]&2048&&l!==(l=t[19].title+"")&&re(o,l),s[0]&2048&&i!==(i=t[19].id)&&(e.__value=i,e.value=e.__value)},d(r){r&&L(e)}}}function Lo(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I=[],E=new Map,F,U,J,W,V,G,ee,ue,Y,X,se,be=n[11];const he=z=>z[19].id;for(let z=0;z<be.length;z+=1){let ce=Co(n,be,z),pe=he(ce);E.set(pe,I[z]=Oo(pe,ce))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Edit Entry Details`),r=C(),s=p("form"),a=p("label"),d=B(`Date\r
            `),f=p("input"),h=C(),m=p("label"),g=B(`Pages Read\r
            `),_=p("input"),v=C(),b=p("label"),k=B(`Progress Value:\r
            `),y=p("input"),S=C(),O=p("label"),R=B(`Comment\r
            `),w=p("input"),A=C(),P=p("label"),P.textContent="Book",j=C(),N=p("select"),D=p("option"),q=B(n[2]);for(let z=0;z<I.length;z+=1)I[z].c();F=C(),U=p("footer"),J=p("div"),W=p("a"),W.textContent="Delete",V=C(),G=p("div"),ee=p("a"),ee.textContent="Cancel",ue=C(),Y=p("a"),Y.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-1vms9yv"),u(f,"id","date"),u(f,"name","date"),u(f,"type","date"),u(f,"placeholder",n[1]),u(a,"for","date"),u(_,"id","pages"),u(_,"name","pages"),u(_,"placeholder","Pages"),u(_,"type","number"),u(m,"for","pages"),u(y,"id","progressValue"),u(y,"name","progressValue"),u(y,"type","number"),y.required=!0,u(b,"for","progressValue"),u(w,"id","comment"),u(w,"name","comment"),u(w,"type","text"),u(O,"for","comment"),u(P,"for","book"),D.__value=n[2],D.value=D.__value,D.selected=!0,N.disabled=!0,u(N,"id","book"),n[2]===void 0&&De(()=>n[47].call(N)),u(W,"href","#delete"),u(W,"role","button"),u(W,"class","delete svelte-1vms9yv"),u(ee,"href","#cancel"),u(ee,"role","button"),u(ee,"class","secondary svelte-1vms9yv"),u(Y,"href","#confirm"),u(Y,"role","button"),u(Y,"class","svelte-1vms9yv"),u(U,"data-button","spaceBetween"),u(U,"class","svelte-1vms9yv"),t.open=!0},m(z,ce){M(z,t,ce),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[1]),c(s,h),c(s,m),c(m,g),c(m,_),K(_,n[3]),c(s,v),c(s,b),c(b,k),c(b,y),K(y,n[5]),c(s,S),c(s,O),c(O,R),c(O,w),K(w,n[4]),c(s,A),c(s,P),c(s,j),c(s,N),c(N,D),c(D,q);for(let pe=0;pe<I.length;pe+=1)I[pe]&&I[pe].m(N,null);Ne(N,n[2],!0),c(e,F),c(e,U),c(U,J),c(J,W),c(U,V),c(U,G),c(G,ee),c(G,ue),c(G,Y),X||(se=[T(o,"click",n[22]),T(f,"input",n[43]),T(_,"input",n[44]),T(y,"input",n[45]),T(w,"input",n[46]),T(N,"change",n[47]),T(s,"submit",nt(n[27])),T(W,"click",n[23]),T(ee,"click",n[22]),T(Y,"click",n[26]),T(Y,"click",n[22])],X=!0)},p(z,ce){ce[0]&2&&u(f,"placeholder",z[1]),ce[0]&2&&K(f,z[1]),ce[0]&8&&Ve(_.value)!==z[3]&&K(_,z[3]),ce[0]&32&&Ve(y.value)!==z[5]&&K(y,z[5]),ce[0]&16&&w.value!==z[4]&&K(w,z[4]),ce[0]&4&&re(q,z[2]),ce[0]&2052&&(D.__value=z[2],D.value=D.__value),ce[0]&2048&&(be=z[11],I=ze(I,ce,he,1,z,be,E,N,Ge,Oo,null,Co)),ce[0]&2052&&Ne(N,z[2])},d(z){z&&L(t);for(let ce=0;ce<I.length;ce+=1)I[ce].d();X=!1,fe(se)}}}function Oo(n,t){let e,l=t[19].title+"",o,i;return{key:n,first:null,c(){e=p("option"),o=B(l),e.__value=i=t[19].id,e.value=e.__value,this.first=e},m(r,s){M(r,e,s),c(e,o)},p(r,s){t=r,s[0]&2048&&l!==(l=t[19].title+"")&&re(o,l),s[0]&2048&&i!==(i=t[19].id)&&(e.__value=i,e.value=e.__value)},d(r){r&&L(e)}}}function Mo(n){let t,e,l,o,i,r,s,a,d,f,h,m,g;return{c(){t=p("dialog"),e=p("article"),l=p("h3"),l.textContent="Confirm Delete",o=C(),i=p("p"),i.textContent="Are you sure you want to delete this entry?",r=C(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=C(),h=p("a"),h.textContent="Delete",u(l,"class","svelte-1vms9yv"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1vms9yv"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1vms9yv"),u(s,"class","svelte-1vms9yv"),t.open=!0},m(_,v){M(_,t,v),c(t,e),c(e,l),c(e,o),c(e,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),m||(g=[T(d,"click",n[23]),T(h,"click",n[24]),T(h,"click",n[23])],m=!0)},p:oe,d(_){_&&L(t),m=!1,fe(g)}}}function ff(n){let t,e=lt&&uf(n);return{c(){e&&e.c(),t=ve()},m(l,o){e&&e.m(l,o),M(l,t,o)},p(l,o){lt&&e.p(l,o)},i:oe,o:oe,d(l){e&&e.d(l),l&&L(t)}}}function Eo(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function df(n,t,e){let l;He(n,lt,ie=>e(50,l=ie));let o=[],i,r,s,a,d,f,h;const m=["January","February","March","April","May","June","July","August","September","October","November","December"],g=new Date;let _=m[g.getMonth()],v=g.getMonth()+1,b=g.getFullYear(),k="";v<10?v===9?k=`date >= '${b}-0${v}-01' && date < '${b}-${v+1}-01'`:k=`date >= '${b}-0${v}-01' && date < '${b}-0${v+1}-01'`:v===12?k=`date >= '${b}-${v}-01' && date < '${b+1}-01-01'`:k=`date >= '${b}-${v}-01' && date < '${b}-${v+1}-01'`;let y=_,S,O,R,w,A=[],P,j,N;async function D(){try{o=await de.collection("view_readingLog").getFullList({filter:k,sort:"-date"})}catch(ie){alert(ie)}try{const ie=await de.collection("books").getFullList({sort:"-created"});e(11,A=ie),Y()}catch(ie){alert(ie)}}gt(async()=>{D()});function q(){if(y&&g.getMonth()>4)switch(y){case"All":k="";break;case"January":k="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":k="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":k="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":k="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":k="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":k="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":k="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":k="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":k="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":k="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":k="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":k="date >= '2023-12-01' && date <= '2023-12-31'";break}o=[],D()}let I=!1;function E(){e(14,I=!I)}let F=!1;function U(){e(15,F=!F)}let J=!1;function W(){e(16,J=!J)}async function V(){try{console.log(i),await de.collection("reading").delete(i),we.success("Entry deleted!",{position:Ee}),D()}catch(ie){alert(ie)}}async function G(){if(S&&O){try{const ie={reader:l.id,book:P,date:S,pages_read:+O,progressValue:w,comment:R},$e=await de.collection("reading").create(ie);we.success("Log saved!",{position:Ee})}catch(ie){alert(ie)}e(7,S=null),e(8,O=""),e(19,P="")}D()}async function ee(){if(+d<+N)try{const ie=new FormData;ie.append("pages_read",d),ie.append("comment",f),ie.append("progressValue",h),s&&ie.append("date",s);const $e=await de.collection("reading").update(r,ie);we.success("Log entry updated!",{position:Ee}),e(2,a=""),e(3,d=""),e(1,s=null),D()}catch(ie){alert(ie)}else if(+d>+N)if(+d+ +N<=+j)try{const ie=new FormData;ie.append("pages_read",d),ie.append("comment",f),s&&ie.append("date",s);const $e=await de.collection("reading").update(r,ie);we.success("Log entry updated!",{position:Ee}),e(2,a=""),e(3,d=""),e(1,s=null),D()}catch(ie){alert(ie)}else we.error("Pages exceeded",{position:Ee});else try{const ie=new FormData;ie.append("comment",f),s&&ie.append("date",s);const $e=await de.collection("reading").update(r,ie);we.success("Log entry updated!",{position:Ee}),e(2,a=""),e(3,d=""),e(1,s=null),D()}catch(ie){alert(ie)}}let ue="";function Y(){const ie=ue.toLowerCase();e(18,X=o.filter($e=>$e.title.toLowerCase().includes(ie)||$e.reader_name.toLowerCase().includes(ie)||$e.date.toLowerCase().includes(ie)))}let X=o;Yn(()=>{Y()});function se(ie){tt.call(this,n,ie)}function be(ie){tt.call(this,n,ie)}function he(){y=it(this),e(6,y)}function z(){ue=this.value,e(17,ue)}const ce=ie=>{e(0,r=ie.currentTarget.getAttribute("data-id"))},pe=ie=>{e(1,s=ie.currentTarget.getAttribute("data-date"))},Ie=ie=>{e(2,a=ie.currentTarget.getAttribute("data-title"))},ke=ie=>{e(13,N=ie.currentTarget.getAttribute("data-pagesread"))},Me=ie=>{e(3,d=ie.currentTarget.getAttribute("data-pagesread"))},Ce=ie=>{e(12,j=ie.currentTarget.getAttribute("data-pages"))},Se=ie=>{e(4,f=ie.currentTarget.getAttribute("data-comment"))};function Ae(){P=it(this),e(19,P),e(11,A)}function Le(){S=this.value,e(7,S)}function ye(){O=Ve(this.value),e(8,O)}function le(){w=Ve(this.value),e(10,w)}function te(){R=this.value,e(9,R)}function Z(){s=this.value,e(1,s)}function ae(){d=Ve(this.value),e(3,d)}function ne(){h=Ve(this.value),e(5,h)}function Ue(){f=this.value,e(4,f)}function ct(){a=it(this),e(2,a),e(11,A)}return[r,s,a,d,f,h,y,S,O,R,w,A,j,N,I,F,J,ue,X,P,q,E,U,W,V,G,ee,se,be,he,z,ce,pe,Ie,ke,Me,Ce,Se,Ae,Le,ye,le,te,Z,ae,ne,Ue,ct]}class pf extends je{constructor(t){super(),qe(this,t,df,ff,Re,{},null,[-1,-1,-1])}}function Ro(n,t,e){const l=n.slice();return l[43]=t[e],l}function hf(n){let t;function e(i,r){return i[13]?mf:gf}let l=e(n),o=l(n);return{c(){o.c(),t=ve()},m(i,r){o.m(i,r),M(i,t,r)},p(i,r){l===(l=e(i))&&o?o.p(i,r):(o.d(1),o=l(i),o&&(o.c(),o.m(t.parentNode,t)))},d(i){o.d(i),i&&L(t)}}}function _f(n){let t,e,l,o,i=[],r=new Map,s,a,d,f=n[0];const h=g=>g[43].id;for(let g=0;g<f.length;g+=1){let _=Ro(n,f,g),v=h(_);r.set(v,i[g]=qo(v,_))}let m=n[14]&&jo(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",l=C(),o=p("div");for(let g=0;g<i.length;g+=1)i[g].c();s=C(),a=C(),m&&m.c(),d=ve(),Pe(e,"text-align","center"),u(o,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,_){M(g,t,_),c(t,e),c(t,l),c(t,o);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(o,null);M(g,s,_),M(g,a,_),m&&m.m(g,_),M(g,d,_)},p(g,_){_[0]&335871&&(f=g[0],i=ze(i,_,h,1,g,f,r,o,Ge,qo,null,Ro)),g[14]?m?m.p(g,_):(m=jo(g),m.c(),m.m(d.parentNode,d)):m&&(m.d(1),m=null)},d(g){g&&L(t);for(let _=0;_<i.length;_+=1)i[_].d();g&&L(s),g&&L(a),m&&m.d(g),g&&L(d)}}}function mf(n){let t,e,l,o=n[15].email+"",i,r;return{c(){t=p("div"),e=p("p"),l=B("A verification email has been sent to "),i=B(o),r=B("."),u(t,"class","container")},m(s,a){M(s,t,a),c(t,e),c(e,l),c(e,i),c(e,r)},p(s,a){a[0]&32768&&o!==(o=s[15].email+"")&&re(i,o)},d(s){s&&L(t)}}}function gf(n){let t,e,l,o,i,r;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",l=C(),o=p("a"),o.textContent="Verify Account",u(o,"href","#verify"),u(o,"role","button"),u(o,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){M(s,t,a),c(t,e),c(t,l),c(t,o),i||(r=T(o,"click",n[17]),i=!0)},p:oe,d(s){s&&L(t),i=!1,r()}}}function No(n){let t,e,l,o,i,r,s=n[43].title+"",a,d,f,h,m=n[43].author+"",g,_,v,b,k,y,S,O,R,w,A,P,j=n[43].reader_name+"",N,D,q,I,E,F,U,J;function W(X,se){return X[43].cover?bf:vf}let V=W(n),G=V(n);function ee(X,se){return X[43].pages_read?kf:yf}let ue=ee(n),Y=ue(n);return{c(){t=p("article"),e=p("div"),l=p("div"),G.c(),o=C(),i=p("hgroup"),r=p("h4"),a=B(s),d=C(),f=p("p"),h=B("By: "),g=B(m),_=C(),v=p("br"),b=C(),k=p("figure"),y=p("a"),S=p("img"),P=C(),N=B(j),D=C(),q=p("div"),I=C(),E=p("footer"),Y.c(),F=C(),u(l,"class","image-wrapper"),Oe(S.src,O=n[43].avatar_from_url)||u(S,"src",O),u(S,"alt","avatar"),u(S,"class","svelte-1vqx4aq"),u(y,"href","#profile"),u(y,"data-readerid",R=n[43].reader),u(y,"data-reader",w=n[43].reader_name),u(y,"data-avatar",A=n[43].avatar_from_url),u(y,"class","svelte-1vqx4aq"),u(k,"class","avatar avatar-sm svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(E,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(X,se){M(X,t,se),c(t,e),c(e,l),G.m(l,null),c(e,o),c(e,i),c(i,r),c(r,a),c(i,d),c(i,f),c(f,h),c(f,g),c(f,_),c(f,v),c(f,b),c(f,k),c(k,y),c(y,S),c(f,P),c(f,N),c(t,D),c(t,q),c(t,I),c(t,E),Y.m(E,null),c(t,F),U||(J=[T(y,"click",n[37]),T(y,"click",n[38]),T(y,"click",n[39]),T(y,"click",Of)],U=!0)},p(X,se){V===(V=W(X))&&G?G.p(X,se):(G.d(1),G=V(X),G&&(G.c(),G.m(l,null))),se[0]&1&&s!==(s=X[43].title+"")&&re(a,s),se[0]&1&&m!==(m=X[43].author+"")&&re(g,m),se[0]&1&&!Oe(S.src,O=X[43].avatar_from_url)&&u(S,"src",O),se[0]&1&&R!==(R=X[43].reader)&&u(y,"data-readerid",R),se[0]&1&&w!==(w=X[43].reader_name)&&u(y,"data-reader",w),se[0]&1&&A!==(A=X[43].avatar_from_url)&&u(y,"data-avatar",A),se[0]&1&&j!==(j=X[43].reader_name+"")&&re(N,j),ue===(ue=ee(X))&&Y?Y.p(X,se):(Y.d(1),Y=ue(X),Y&&(Y.c(),Y.m(E,null)))},d(X){X&&L(t),G.d(),Y.d(),U=!1,fe(J)}}}function vf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v;return{c(){t=p("a"),e=p("img"),Oe(e.src,l=n[43].googleCover)||u(e,"src",l),u(e,"alt",o=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",r=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",m=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(b,k){M(b,t,k),c(t,e),_||(v=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],_=!0)},p(b,k){k[0]&1&&!Oe(e.src,l=b[43].googleCover)&&u(e,"src",l),k[0]&1&&o!==(o=b[43].title)&&u(e,"alt",o),k[0]&1&&i!==(i=b[43].bookId)&&u(t,"data-id",i),k[0]&1&&r!==(r=b[43].reader_name)&&u(t,"data-reader",r),k[0]&1&&s!==(s=b[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=b[43].author)&&u(t,"data-author",a),k[0]&1&&d!==(d=b[43].pages)&&u(t,"data-pages",d),k[0]&1&&f!==(f=b[43].pages_read)&&u(t,"data-pagesread",f),k[0]&1&&h!==(h=b[43].review)&&u(t,"data-review",h),k[0]&1&&m!==(m=b[43].avatar_from_url)&&u(t,"data-avatar",m),k[0]&1&&g!==(g=b[43].googleCover)&&u(t,"data-cover",g)},d(b){b&&L(t),_=!1,fe(v)}}}function bf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v;return{c(){t=p("a"),e=p("img"),Oe(e.src,l=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",l),u(e,"alt",o=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",r=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",m=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(b,k){M(b,t,k),c(t,e),_||(v=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],_=!0)},p(b,k){k[0]&1&&!Oe(e.src,l=b[16]+b[43].bookId+"/"+b[43].cover)&&u(e,"src",l),k[0]&1&&o!==(o=b[43].title)&&u(e,"alt",o),k[0]&1&&i!==(i=b[43].bookId)&&u(t,"data-id",i),k[0]&1&&r!==(r=b[43].reader_name)&&u(t,"data-reader",r),k[0]&1&&s!==(s=b[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=b[43].author)&&u(t,"data-author",a),k[0]&1&&d!==(d=b[43].pages)&&u(t,"data-pages",d),k[0]&1&&f!==(f=b[43].pages_read)&&u(t,"data-pagesread",f),k[0]&1&&h!==(h=b[43].review)&&u(t,"data-review",h),k[0]&1&&m!==(m=b[43].avatar_from_url)&&u(t,"data-avatar",m),k[0]&1&&g!==(g=b[16]+b[43].bookId+"/"+b[43].cover)&&u(t,"data-cover",g)},d(b){b&&L(t),_=!1,fe(v)}}}function yf(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,l){M(e,t,l)},p:oe,d(e){e&&L(t)}}}function kf(n){let t,e;return{c(){t=p("progress"),t.value=e=Do(n[43].pages_read,n[43].pages),u(t,"max","100")},m(l,o){M(l,t,o)},p(l,o){o[0]&1&&e!==(e=Do(l[43].pages_read,l[43].pages))&&(t.value=e)},d(l){l&&L(t)}}}function qo(n,t){let e,l,o=t[43].pages_read&&No(t);return{key:n,first:null,c(){e=ve(),o&&o.c(),l=ve(),this.first=e},m(i,r){M(i,e,r),o&&o.m(i,r),M(i,l,r)},p(i,r){t=i,t[43].pages_read?o?o.p(t,r):(o=No(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&L(e),o&&o.d(i),i&&L(l)}}}function jo(n){let t,e,l,o,i,r,s,a,d,f,h;function m(v,b){if(v[11])return Cf;if(v[12])return wf}let g=m(n),_=g&&g(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Book Review`),r=C(),_&&_.c(),s=C(),a=p("footer"),d=p("a"),d.textContent="Close",u(o,"href","#close"),u(o,"class","close svelte-1vqx4aq"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(v,b){M(v,t,b),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),_&&_.m(e,null),c(e,s),c(e,a),c(a,d),f||(h=[T(o,"click",n[18]),T(d,"click",n[18])],f=!0)},p(v,b){g===(g=m(v))&&_?_.p(v,b):(_&&_.d(1),_=g&&g(v),_&&(_.c(),_.m(e,s)))},d(v){v&&L(t),_&&_.d(),f=!1,fe(h)}}}function wf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_;function v(y,S){return y[10]?Af:Sf}let b=v(n),k=b(n);return{c(){t=p("figure"),e=p("img"),o=C(),i=p("figcaption"),r=p("hgroup"),s=p("h4"),a=B(n[6]),d=C(),f=p("p"),h=B("By: "),m=B(n[7]),g=C(),k.c(),_=ve(),Oe(e.src,l=n[12])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(y,S){M(y,t,S),c(t,e),c(t,o),c(t,i),c(i,r),c(r,s),c(s,a),c(r,d),c(r,f),c(f,h),c(f,m),M(y,g,S),k.m(y,S),M(y,_,S)},p(y,S){S[0]&4096&&!Oe(e.src,l=y[12])&&u(e,"src",l),S[0]&64&&re(a,y[6]),S[0]&128&&re(m,y[7]),b===(b=v(y))&&k?k.p(y,S):(k.d(1),k=b(y),k&&(k.c(),k.m(_.parentNode,_)))},d(y){y&&L(t),y&&L(g),k.d(y),y&&L(_)}}}function Cf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_;function v(y,S){return y[10]?If:Tf}let b=v(n),k=b(n);return{c(){t=p("figure"),e=p("img"),o=C(),i=p("figcaption"),r=p("hgroup"),s=p("h4"),a=B(n[6]),d=C(),f=p("p"),h=B("By: "),m=B(n[7]),g=C(),k.c(),_=ve(),Oe(e.src,l=n[11])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(y,S){M(y,t,S),c(t,e),c(t,o),c(t,i),c(i,r),c(r,s),c(s,a),c(r,d),c(r,f),c(f,h),c(f,m),M(y,g,S),k.m(y,S),M(y,_,S)},p(y,S){S[0]&2048&&!Oe(e.src,l=y[11])&&u(e,"src",l),S[0]&64&&re(a,y[6]),S[0]&128&&re(m,y[7]),b===(b=v(y))&&k?k.p(y,S):(k.d(1),k=b(y),k&&(k.c(),k.m(_.parentNode,_)))},d(y){y&&L(t),y&&L(g),k.d(y),y&&L(_)}}}function Sf(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,l){M(e,t,l)},p:oe,d(e){e&&L(t)}}}function Af(n){let t,e,l,o,i,r,s;return{c(){t=p("blockquote"),e=B(n[10]),l=C(),o=p("footer"),i=p("cite"),r=B("- "),s=B(n[5]),u(o,"class","svelte-1vqx4aq")},m(a,d){M(a,t,d),c(t,e),c(t,l),c(t,o),c(o,i),c(i,r),c(i,s)},p(a,d){d[0]&1024&&re(e,a[10]),d[0]&32&&re(s,a[5])},d(a){a&&L(t)}}}function Tf(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,l){M(e,t,l)},p:oe,d(e){e&&L(t)}}}function If(n){let t,e,l,o,i,r,s;return{c(){t=p("blockquote"),e=B(n[10]),l=C(),o=p("footer"),i=p("cite"),r=B("- "),s=B(n[5]),u(o,"class","svelte-1vqx4aq")},m(a,d){M(a,t,d),c(t,e),c(t,l),c(t,o),c(o,i),c(i,r),c(i,s)},p(a,d){d[0]&1024&&re(e,a[10]),d[0]&32&&re(s,a[5])},d(a){a&&L(t)}}}function Pf(n){let t;function e(i,r){if(i[15]&&i[15].verified===!0)return _f;if(i[15]&&i[15].verified===!1)return hf}let l=e(n),o=l&&l(n);return{c(){o&&o.c(),t=ve()},m(i,r){o&&o.m(i,r),M(i,t,r)},p(i,r){l===(l=e(i))&&o?o.p(i,r):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(t.parentNode,t)))},i:oe,o:oe,d(i){o&&o.d(i),i&&L(t)}}}let Lf="/api/files/9hhair4kd0xa314/";function Do(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function Of(){}function Mf(n,t,e){let l;He(n,lt,z=>e(15,l=z));let o=[],i,r,s,a,d,f,h,m,g,_,v,b,k=!1,y=pn+Lf;async function S(){try{const z=await de.collection("view_classroom").getFullList({sort:"-id"});e(0,o=z);for(let ce=0;ce<o.length;ce++)console.log(o[ce].reader_name)}catch(z){alert(z)}}gt(async()=>{S()});async function O(){e(13,k=!0),await de.collection("users").requestVerification(l.email),await new Promise(z=>setTimeout(z,5e3)),de.authStore.clear(),el("/")}let R=!1;function w(){e(14,R=!R)}return[o,i,r,s,a,d,f,h,m,g,_,v,b,k,R,l,y,O,w,z=>{e(4,a=z.currentTarget.getAttribute("data-id"))},z=>{e(5,d=z.currentTarget.getAttribute("data-reader"))},z=>{e(6,f=z.currentTarget.getAttribute("data-title"))},z=>{e(7,h=z.currentTarget.getAttribute("data-author"))},z=>{e(8,m=z.currentTarget.getAttribute("data-pages"))},z=>{e(9,g=z.currentTarget.getAttribute("data-pagesread"))},z=>{e(10,_=z.currentTarget.getAttribute("data-review"))},z=>{e(11,v=z.currentTarget.getAttribute("data-cover"))},z=>{e(3,s=z.currentTarget.getAttribute("data-avatar"))},z=>{e(4,a=z.currentTarget.getAttribute("data-id"))},z=>{e(5,d=z.currentTarget.getAttribute("data-reader"))},z=>{e(6,f=z.currentTarget.getAttribute("data-title"))},z=>{e(7,h=z.currentTarget.getAttribute("data-author"))},z=>{e(8,m=z.currentTarget.getAttribute("data-pages"))},z=>{e(9,g=z.currentTarget.getAttribute("data-pagesread"))},z=>{e(10,_=z.currentTarget.getAttribute("data-review"))},z=>{e(12,b=z.currentTarget.getAttribute("data-cover"))},z=>{e(3,s=z.currentTarget.getAttribute("data-avatar"))},z=>{e(1,i=z.currentTarget.getAttribute("data-readerId"))},z=>{e(2,r=z.currentTarget.getAttribute("data-reader"))},z=>{e(3,s=z.currentTarget.getAttribute("data-avatar"))}]}class Ef extends je{constructor(t){super(),qe(this,t,Mf,Pf,Re,{},null,[-1,-1])}}function Bo(n,t,e){const l=n.slice();return l[24]=t[e],l}function Fo(n,t,e){const l=n.slice();return l[27]=t[e],l}function Uo(n,t,e){const l=n.slice();return l[30]=t[e],l}function Ho(n,t,e){const l=n.slice();return l[33]=t[e],l}function Rf(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O=[],R=new Map,w,A,P=n[2];const j=N=>N[24].id;for(let N=0;N<P.length;N+=1){let D=Bo(n,P,N),q=j(D);R.set(q,O[N]=Ko(q,D))}return{c(){t=p("div"),e=p("div"),l=p("select"),o=p("option"),o.textContent="All",i=p("option"),i.textContent="January",r=p("option"),r.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",m=p("option"),m.textContent="August",g=p("option"),g.textContent="September",_=p("option"),_.textContent="October",v=p("option"),v.textContent="November",b=p("option"),b.textContent="December",k=C(),y=p("input"),S=C();for(let N=0;N<O.length;N+=1)O[N].c();o.__value="All",o.value=o.__value,i.__value="January",i.value=i.__value,r.__value="February",r.value=r.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,m.__value="August",m.value=m.__value,g.__value="September",g.value=g.__value,_.__value="October",_.value=_.__value,v.__value="November",v.value=v.__value,b.__value="December",b.value=b.__value,u(l,"class","svelte-1nxnisb"),n[3]===void 0&&De(()=>n[8].call(l)),u(y,"type","search"),u(y,"placeholder","Filter logs..."),u(y,"class","svelte-1nxnisb"),u(e,"class","flex svelte-1nxnisb"),u(t,"class","container svelte-1nxnisb")},m(N,D){M(N,t,D),c(t,e),c(e,l),c(l,o),c(l,i),c(l,r),c(l,s),c(l,a),c(l,d),c(l,f),c(l,h),c(l,m),c(l,g),c(l,_),c(l,v),c(l,b),Ne(l,n[3],!0),c(e,k),c(e,y),K(y,n[4]),c(t,S);for(let q=0;q<O.length;q+=1)O[q]&&O[q].m(t,null);w||(A=[T(l,"change",n[8]),T(l,"change",n[7]),T(y,"input",n[9])],w=!0)},p(N,D){D[0]&8&&Ne(l,N[3]),D[0]&16&&y.value!==N[4]&&K(y,N[4]),D[0]&103&&(P=N[2],O=ze(O,D,j,1,N,P,R,t,Ge,Ko,null,Bo))},d(N){N&&L(t);for(let D=0;D<O.length;D+=1)O[D].d();w=!1,fe(A)}}}function Vo(n){var m;let t,e,l,o,i,r=((m=n[27].expand.student)==null?void 0:m.name)+"",s,a,d,f=n[1],h=[];for(let g=0;g<f.length;g+=1)h[g]=Wo(Uo(n,f,g));return{c(){var g;t=p("figure"),e=p("a"),l=p("img"),i=C(),s=B(r),a=C();for(let _=0;_<h.length;_+=1)h[_].c();d=ve(),Oe(l.src,o=(g=n[27].expand.student)==null?void 0:g.avatar_from_url)||u(l,"src",o),u(l,"alt","avatar"),u(e,"href","#profile"),u(t,"class","avatar avatar-lg")},m(g,_){M(g,t,_),c(t,e),c(e,l),M(g,i,_),M(g,s,_),M(g,a,_);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(g,_);M(g,d,_)},p(g,_){var v,b;if(_[0]&1&&!Oe(l.src,o=(v=g[27].expand.student)==null?void 0:v.avatar_from_url)&&u(l,"src",o),_[0]&1&&r!==(r=((b=g[27].expand.student)==null?void 0:b.name)+"")&&re(s,r),_[0]&99){f=g[1];let k;for(k=0;k<f.length;k+=1){const y=Uo(g,f,k);h[k]?h[k].p(y,_):(h[k]=Wo(y),h[k].c(),h[k].m(d.parentNode,d))}for(;k<h.length;k+=1)h[k].d(1);h.length=f.length}},d(g){g&&L(t),g&&L(i),g&&L(s),g&&L(a),Ss(h,g),g&&L(d)}}}function zo(n){let t,e=Zo(n[30].progressValue,n[30].goalValue)+"",l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A=[],P=new Map,j,N,D=n[5];const q=I=>I[33].id;for(let I=0;I<D.length;I+=1){let E=Ho(n,D,I),F=q(E);P.set(F,A[I]=Go(F,E))}return{c(){t=B(": "),l=B(e),o=B(`%\r
                `),i=p("br"),r=C(),s=p("br"),a=C(),d=p("details"),f=p("summary"),h=p("progress"),_=C(),v=p("article"),b=p("header"),k=p("a"),y=B(`\r
                      Logs`),S=C(),O=p("table"),R=p("thead"),R.innerHTML=`<tr><th scope="col" class="svelte-1nxnisb">Date</th> 
                          
                          <th scope="col" class="svelte-1nxnisb">Title</th> 
                          <th scope="col" class="svelte-1nxnisb">Pages</th> 
                          <th scope="col" class="svelte-1nxnisb">Comment</th></tr>`,w=C();for(let I=0;I<A.length;I+=1)A[I].c();h.value=m=n[30].progressValue,u(h,"max",g=n[30].goalValue),u(k,"href","#close"),u(k,"class","close"),u(O,"class","table-container svelte-1nxnisb"),u(O,"role","grid")},m(I,E){M(I,t,E),M(I,l,E),M(I,o,E),M(I,i,E),M(I,r,E),M(I,s,E),M(I,a,E),M(I,d,E),c(d,f),c(f,h),c(d,_),c(d,v),c(v,b),c(b,k),c(b,y),c(v,S),c(v,O),c(O,R),c(O,w);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(O,null);j||(N=T(k,"click",n[10]),j=!0)},p(I,E){E[0]&2&&e!==(e=Zo(I[30].progressValue,I[30].goalValue)+"")&&re(l,e),E[0]&2&&m!==(m=I[30].progressValue)&&(h.value=m),E[0]&2&&g!==(g=I[30].goalValue)&&u(h,"max",g),E[0]&33&&(D=I[5],A=ze(A,E,q,1,I,D,P,O,Ge,Go,null,Ho))},d(I){I&&L(t),I&&L(l),I&&L(o),I&&L(i),I&&L(r),I&&L(s),I&&L(a),I&&L(d);for(let E=0;E<A.length;E+=1)A[E].d();j=!1,N()}}}function Jo(n){let t,e,l,o=Yo(n[33].date)+"",i,r,s,a=n[33].title+"",d,f,h,m=n[33].pages_read+"",g,_,v,b=n[33].comment+"",k;return{c(){t=p("tbody"),e=p("tr"),l=p("td"),i=B(o),r=C(),s=p("td"),d=B(a),f=C(),h=p("td"),g=B(m),_=C(),v=p("td"),k=B(b),u(l,"class","svelte-1nxnisb"),u(s,"class","svelte-1nxnisb"),u(h,"class","svelte-1nxnisb"),u(v,"class","svelte-1nxnisb")},m(y,S){M(y,t,S),c(t,e),c(e,l),c(l,i),c(e,r),c(e,s),c(s,d),c(e,f),c(e,h),c(h,g),c(e,_),c(e,v),c(v,k)},p(y,S){S[0]&32&&o!==(o=Yo(y[33].date)+"")&&re(i,o),S[0]&32&&a!==(a=y[33].title+"")&&re(d,a),S[0]&32&&m!==(m=y[33].pages_read+"")&&re(g,m),S[0]&32&&b!==(b=y[33].comment+"")&&re(k,b)},d(y){y&&L(t)}}}function Go(n,t){var i;let e,l,o=t[33].reader===((i=t[27].expand.student)==null?void 0:i.id)&&t[33].classId===t[27].class&&Jo(t);return{key:n,first:null,c(){e=ve(),o&&o.c(),l=ve(),this.first=e},m(r,s){M(r,e,s),o&&o.m(r,s),M(r,l,s)},p(r,s){var a;t=r,t[33].reader===((a=t[27].expand.student)==null?void 0:a.id)&&t[33].classId===t[27].class?o?o.p(t,s):(o=Jo(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&L(e),o&&o.d(r),r&&L(l)}}}function Wo(n){var l;let t,e=n[30].reader===((l=n[27].expand.student)==null?void 0:l.id)&&n[30].class===n[27].class&&zo(n);return{c(){e&&e.c(),t=ve()},m(o,i){e&&e.m(o,i),M(o,t,i)},p(o,i){var r;o[30].reader===((r=o[27].expand.student)==null?void 0:r.id)&&o[30].class===o[27].class?e?e.p(o,i):(e=zo(o),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(o){e&&e.d(o),o&&L(t)}}}function Qo(n,t){let e,l,o=t[27].class===t[24].id&&Vo(t);return{key:n,first:null,c(){e=ve(),o&&o.c(),l=ve(),this.first=e},m(i,r){M(i,e,r),o&&o.m(i,r),M(i,l,r)},p(i,r){t=i,t[27].class===t[24].id?o?o.p(t,r):(o=Vo(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&L(e),o&&o.d(i),i&&L(l)}}}function Ko(n,t){let e,l,o,i=t[24].class+"",r,s,a=[],d=new Map,f,h=t[0];const m=g=>g[27].id;for(let g=0;g<h.length;g+=1){let _=Fo(t,h,g),v=m(_);d.set(v,a[g]=Qo(v,_))}return{key:n,first:null,c(){e=p("article"),l=p("header"),o=p("strong"),r=B(i),s=C();for(let g=0;g<a.length;g+=1)a[g].c();f=C(),this.first=e},m(g,_){M(g,e,_),c(e,l),c(l,o),c(o,r),c(e,s);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(e,null);c(e,f)},p(g,_){t=g,_[0]&4&&i!==(i=t[24].class+"")&&re(r,i),_[0]&103&&(h=t[0],a=ze(a,_,m,1,t,h,d,e,Ge,Qo,f,Fo))},d(g){g&&L(e);for(let _=0;_<a.length;_+=1)a[_].d()}}}function Nf(n){let t,e=lt&&Rf(n);return{c(){e&&e.c(),t=ve()},m(l,o){e&&e.m(l,o),M(l,t,o)},p(l,o){lt&&e.p(l,o)},i:oe,o:oe,d(l){e&&e.d(l),l&&L(t)}}}function Yo(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Zo(n,t){return Math.floor(n/t*100)}function qf(n,t,e){let l;He(n,lt,N=>e(15,l=N));let o=[],i=[],r=[],s=[],a=[],d=[];const f=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date;let m=f[h.getMonth()],g=h.getMonth()+1,_=h.getFullYear(),v="";g<10?g===9?v=`date >= '${_}-0${g}-01' && date < '${_}-${g+1}-01'`:v=`date >= '${_}-0${g}-01' && date < '${_}-0${g+1}-01'`:g===12?v=`date >= '${_}-${g}-01' && date < '${_+1}-01-01'`:v=`date >= '${_}-${g}-01' && date < '${_}-${g+1}-01'`;let b=m;async function k(){try{const D=await de.collection("view_readingLog").getFullList({filter:v,sort:"-date"});o=D,i=D,console.log(i);const q=await de.collection("classes").getFullList({filter:`managedBy = '${l.id}'`,sort:"-class"});e(2,d=q);for(let F=0;F<i.length;F++){let U=i[F],J=U.reader,W=U.classId,V=U.progressValue,G=U.goalValue;var N=a.findIndex(ee=>ee.reader===J&&ee.class===W);N!==-1?e(1,a[N].progressValue+=V,a):a.push({reader:J,progressValue:V,goalValue:G,class:W})}console.log(a);const I=await de.collection("enrollments").getFullList({expand:"student",sort:"-student"});e(0,s=I),r=await de.collection("users").getFullList({filter:"role = 'student'",sort:"-name"}),O()}catch(D){alert(D)}}gt(async()=>{k()});function y(){if(b&&h.getMonth()>4)switch(b){case"All":v="";break;case"January":v=`date >= '${_}-01-01' && date <= '${_}-01-31'`;break;case"February":v=`date >= '${_}-02-01' && date <= '${_}-02-28'`;break;case"March":v=`date >= '${_}-03-01' && date <= '${_}-03-31'`;break;case"April":v=`date >= '${_}-04-01' && date <= '${_}-04-30'`;break;case"May":v=`date >= '${_}-05-01' && date <= '${_}-05-31'`;break;case"June":v=`date >= '${_}-06-01' && date <= '${_}-06-30'`;break;case"July":v=`date >= '${_}-07-01' && date <= '${_}-07-31'`;break;case"August":v=`date >= '${_}-08-01' && date <= '${_}-08-31'`;break;case"September":v=`date >= '${_}-09-01' && date <= '${_}-09-30'`;break;case"October":v=`date >= '${_}-10-01' && date <= '${_}-10-31'`;break;case"November":v=`date >= '${_}-11-01' && date <= '${_}-11-30'`;break;case"December":v=`date >= '${_}-12-01' && date <= '${_}-12-31'`;break}o=[],i=[],r=[],e(1,a=[]),k()}let S="";function O(){const N=S.toLowerCase();e(5,R=o.filter(D=>D.title.toLowerCase().includes(N)||D.reader_name.toLowerCase().includes(N)||D.date.toLowerCase().includes(N)))}let R=o;Yn(()=>{O()});let w=!1;function A(){b=it(this),e(3,b)}function P(){S=this.value,e(4,S)}return[s,a,d,b,S,R,w,y,A,P,()=>{e(6,w=!1)}]}class jf extends je{constructor(t){super(),qe(this,t,qf,Nf,Re,{},null,[-1,-1])}}function Xo(n,t,e){const l=n.slice();return l[30]=t[e],l}function $o(n,t,e){const l=n.slice();return l[33]=t[e],l}function xo(n,t,e){const l=n.slice();return l[38]=t[e],l}function ei(n,t,e){const l=n.slice();return l[30]=t[e],l}function ti(n){let t,e,l,o,i,r,s,a;function d(b,k){return b[1].length===0?Bf:Df}let f=d(n),h=f(n),m=n[2].length>0&&ii(n),g=n[9]&&ai(n),_=n[10]&&ci(n),v=n[11]&&fi(n);return s=new _n({}),{c(){t=p("div"),h.c(),e=C(),m&&m.c(),l=C(),g&&g.c(),o=C(),_&&_.c(),i=C(),v&&v.c(),r=C(),ge(s.$$.fragment),u(t,"class","container")},m(b,k){M(b,t,k),h.m(t,null),c(t,e),m&&m.m(t,null),c(t,l),g&&g.m(t,null),c(t,o),_&&_.m(t,null),c(t,i),v&&v.m(t,null),c(t,r),_e(s,t,null),a=!0},p(b,k){f===(f=d(b))&&h?h.p(b,k):(h.d(1),h=f(b),h&&(h.c(),h.m(t,e))),b[2].length>0?m?m.p(b,k):(m=ii(b),m.c(),m.m(t,l)):m&&(m.d(1),m=null),b[9]?g?g.p(b,k):(g=ai(b),g.c(),g.m(t,o)):g&&(g.d(1),g=null),b[10]?_?_.p(b,k):(_=ci(b),_.c(),_.m(t,i)):_&&(_.d(1),_=null),b[11]?v?v.p(b,k):(v=fi(b),v.c(),v.m(t,r)):v&&(v.d(1),v=null)},i(b){a||(Q(s.$$.fragment,b),a=!0)},o(b){x(s.$$.fragment,b),a=!1},d(b){b&&L(t),h.d(),m&&m.d(),g&&g.d(),_&&_.d(),v&&v.d(),me(s)}}}function Df(n){let t,e,l,o;function i(h,m){return h[12].role==="student"?Uf:Ff}let r=i(n),s=r(n);function a(h,m){if(h[12].role==="student")return Vf;if(h[12].role==="teacher")return Hf}let d=a(n),f=d&&d(n);return{c(){t=p("h2"),t.textContent="Active Classes",e=C(),s.c(),l=C(),f&&f.c(),o=ve()},m(h,m){M(h,t,m),M(h,e,m),s.m(h,m),M(h,l,m),f&&f.m(h,m),M(h,o,m)},p(h,m){r===(r=i(h))&&s?s.p(h,m):(s.d(1),s=r(h),s&&(s.c(),s.m(l.parentNode,l))),d===(d=a(h))&&f?f.p(h,m):(f&&f.d(1),f=d&&d(h),f&&(f.c(),f.m(o.parentNode,o)))},d(h){h&&L(t),h&&L(e),s.d(h),h&&L(l),f&&f.d(h),h&&L(o)}}}function Bf(n){let t,e,l,o,i,r,s,a;function d(m,g){return m[12].role==="student"?Jf:zf}let f=d(n),h=f(n);return{c(){t=p("article"),e=p("div"),e.textContent="",l=C(),o=p("p"),o.textContent="Nothing here yet...",i=C(),r=p("p"),r.textContent="Click the button to add a class.",s=C(),a=p("div"),h.c(),u(e,"class","empty-icon"),u(o,"class","empty-title h5"),u(r,"class","empty-subtitle"),u(a,"class","empty-action"),u(t,"class","empty svelte-gzxtb1")},m(m,g){M(m,t,g),c(t,e),c(t,l),c(t,o),c(t,i),c(t,r),c(t,s),c(t,a),h.m(a,null)},p(m,g){f===(f=d(m))&&h?h.p(m,g):(h.d(1),h=f(m),h&&(h.c(),h.m(a,null)))},d(m){m&&L(t),h.d()}}}function Ff(n){let t,e,l;return{c(){t=p("button"),t.textContent="Add Class",u(t,"class","btn btn-primary")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[14]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function Uf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Request Access",u(t,"class","btn btn-primary")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[13]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function Hf(n){let t=[],e=new Map,l,o=n[0];const i=r=>r[38].id;for(let r=0;r<o.length;r+=1){let s=xo(n,o,r),a=i(s);e.set(a,t[r]=li(a,s))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=ve()},m(r,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,s);M(r,l,s)},p(r,s){s[0]&36873&&(o=r[0],t=ze(t,s,i,1,r,o,e,l.parentNode,Ge,li,l,xo))},d(r){for(let s=0;s<t.length;s+=1)t[s].d(r);r&&L(l)}}}function Vf(n){let t=[],e=new Map,l,o=n[1];const i=r=>r[30].id;for(let r=0;r<o.length;r+=1){let s=ei(n,o,r),a=i(s);e.set(a,t[r]=oi(a,s))}return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=ve()},m(r,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(r,s);M(r,l,s)},p(r,s){s[0]&2&&(o=r[1],t=ze(t,s,i,1,r,o,e,l.parentNode,Ge,oi,l,ei))},d(r){for(let s=0;s<t.length;s+=1)t[s].d(r);r&&L(l)}}}function ni(n){let t,e,l,o,i=n[38].class+"",r,s,a,d,f,h,m=n[38].id+"",g,_,v,b;function k(){return n[21](n[38])}return{c(){t=p("a"),e=p("article"),l=p("hgroup"),o=p("h3"),r=B(i),s=C(),a=p("p"),d=C(),f=p("footer"),h=B("Class ID: "),g=B(m),_=C(),u(f,"class","footerClasses svelte-gzxtb1"),u(e,"class","svelte-gzxtb1"),u(t,"href","#")},m(y,S){M(y,t,S),c(t,e),c(e,l),c(l,o),c(o,r),c(l,s),c(l,a),c(e,d),c(e,f),c(f,h),c(f,g),c(t,_),v||(b=T(t,"click",k),v=!0)},p(y,S){n=y,S[0]&1&&i!==(i=n[38].class+"")&&re(r,i),S[0]&1&&m!==(m=n[38].id+"")&&re(g,m)},d(y){y&&L(t),v=!1,b()}}}function li(n,t){let e,l,o=t[38].managedBy===t[12].id&&ni(t);return{key:n,first:null,c(){e=ve(),o&&o.c(),l=ve(),this.first=e},m(i,r){M(i,e,r),o&&o.m(i,r),M(i,l,r)},p(i,r){t=i,t[38].managedBy===t[12].id?o?o.p(t,r):(o=ni(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&L(e),o&&o.d(i),i&&L(l)}}}function oi(n,t){var g,_;let e,l,o,i=((g=t[30].expand.class)==null?void 0:g.class)+"",r,s,a,d,f=((_=t[30].expand.class)==null?void 0:_.expand.managedBy.name)+"",h,m;return{key:n,first:null,c(){e=p("article"),l=p("hgroup"),o=p("h3"),r=B(i),s=C(),a=p("p"),d=B("Managed By: "),h=B(f),m=C(),u(e,"class","svelte-gzxtb1"),this.first=e},m(v,b){M(v,e,b),c(e,l),c(l,o),c(o,r),c(l,s),c(l,a),c(a,d),c(a,h),c(e,m)},p(v,b){var k,y;t=v,b[0]&2&&i!==(i=((k=t[30].expand.class)==null?void 0:k.class)+"")&&re(r,i),b[0]&2&&f!==(f=((y=t[30].expand.class)==null?void 0:y.expand.managedBy.name)+"")&&re(h,f)},d(v){v&&L(e)}}}function zf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Add Classs",u(t,"class","btn btn-primary")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[14]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function Jf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Request Access",u(t,"class","btn btn-primary")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[13]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function ii(n){let t,e,l=[],o=new Map,i,r=n[2];const s=a=>a[33].id;for(let a=0;a<r.length;a+=1){let d=$o(n,r,a),f=s(d);o.set(f,l[a]=si(f,d))}return{c(){t=p("h2"),t.textContent="Pending Requests",e=C();for(let a=0;a<l.length;a+=1)l[a].c();i=ve()},m(a,d){M(a,t,d),M(a,e,d);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,d);M(a,i,d)},p(a,d){d[0]&266244&&(r=a[2],l=ze(l,d,s,1,a,r,o,i.parentNode,Ge,si,i,$o))},d(a){a&&L(t),a&&L(e);for(let d=0;d<l.length;d+=1)l[d].d(a);a&&L(i)}}}function Gf(n){var a;let t,e,l=((a=n[33].expand.student)==null?void 0:a.name)+"",o,i,r=hi(n[33].created)+"",s;return{c(){t=p("p"),e=B("Requested By: "),o=B(l),i=B(" on "),s=B(r)},m(d,f){M(d,t,f),c(t,e),c(t,o),c(t,i),c(t,s)},p(d,f){var h;f[0]&4&&l!==(l=((h=d[33].expand.student)==null?void 0:h.name)+"")&&re(o,l),f[0]&4&&r!==(r=hi(d[33].created)+"")&&re(s,r)},d(d){d&&L(t)}}}function Wf(n){var i;let t,e,l=((i=n[33].expand.class)==null?void 0:i.expand.managedBy.name)+"",o;return{c(){t=p("p"),e=B("Managed By: "),o=B(l)},m(r,s){M(r,t,s),c(t,e),c(t,o)},p(r,s){var a;s[0]&4&&l!==(l=((a=r[33].expand.class)==null?void 0:a.expand.managedBy.name)+"")&&re(o,l)},d(r){r&&L(t)}}}function ri(n){let t,e,l;return{c(){t=p("button"),t.textContent="Approve"},m(o,i){M(o,t,i),e||(l=T(t,"click",function(){st(n[18](n[33].id,n[33].student,n[33].class))&&n[18](n[33].id,n[33].student,n[33].class).apply(this,arguments)}),e=!0)},p(o,i){n=o},d(o){o&&L(t),e=!1,l()}}}function si(n,t){var _;let e,l,o,i=((_=t[33].expand.class)==null?void 0:_.class)+"",r,s,a,d;function f(v,b){if(v[12].role==="student")return Wf;if(v[12].role==="teacher")return Gf}let h=f(t),m=h&&h(t),g=t[12].role==="teacher"&&ri(t);return{key:n,first:null,c(){e=p("article"),l=p("hgroup"),o=p("h3"),r=B(i),s=C(),m&&m.c(),a=C(),g&&g.c(),d=C(),u(e,"class","svelte-gzxtb1"),this.first=e},m(v,b){M(v,e,b),c(e,l),c(l,o),c(o,r),c(l,s),m&&m.m(l,null),c(e,a),g&&g.m(e,null),c(e,d)},p(v,b){var k;t=v,b[0]&4&&i!==(i=((k=t[33].expand.class)==null?void 0:k.class)+"")&&re(r,i),h===(h=f(t))&&m?m.p(t,b):(m&&m.d(1),m=h&&h(t),m&&(m.c(),m.m(l,null))),t[12].role==="teacher"?g?g.p(t,b):(g=ri(t),g.c(),g.m(e,d)):g&&(g.d(1),g=null)},d(v){v&&L(e),m&&m.d(),g&&g.d()}}}function ai(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
            Request Access`),r=C(),s=p("form"),a=p("label"),d=B(`Class ID:\r
              `),f=p("input"),h=C(),m=p("footer"),g=p("a"),g.textContent="Cancel",_=C(),v=p("a"),v.textContent="Send Request",u(o,"href","#close"),u(o,"class","close"),u(f,"id","class"),u(f,"name","class"),u(f,"type","text"),f.required=!0,u(a,"for","class"),u(g,"href","#cancel"),u(g,"role","button"),u(g,"class","secondary"),u(v,"href","#confirm"),u(v,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(y,S){M(y,t,S),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[3]),n[23](s),c(e,h),c(e,m),c(m,g),c(m,_),c(m,v),b||(k=[T(o,"click",n[13]),T(f,"input",n[22]),T(s,"submit",nt(n[20])),T(g,"click",n[13]),T(v,"click",n[16])],b=!0)},p(y,S){S[0]&8&&f.value!==y[3]&&K(f,y[3])},d(y){y&&L(t),n[23](null),b=!1,fe(k)}}}function ci(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I=n[5]&&ui(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
            Add Class`),r=C(),s=p("form"),a=p("label"),d=B(`Class Name:\r
              `),f=p("input"),h=C(),m=p("div"),g=p("div"),_=p("label"),_.textContent="Goal Type",v=C(),b=p("select"),k=p("option"),k.textContent="Please select an option",y=p("option"),y.textContent="Chapters/Month",S=p("option"),S.textContent="Books/Month",O=C(),R=p("div"),I&&I.c(),w=C(),A=p("footer"),P=p("a"),P.textContent="Cancel",j=C(),N=p("a"),N.textContent="Add",u(o,"href","#close"),u(o,"class","close"),u(f,"id","class"),u(f,"name","class"),u(f,"type","text"),f.required=!0,u(a,"for","class"),u(_,"for","goaltype"),k.__value="",k.value=k.__value,k.selected=!0,y.__value="chapters",y.value=y.__value,S.__value="books",S.value=S.__value,u(b,"id","goaltype"),n[5]===void 0&&De(()=>n[25].call(b)),u(m,"class","grid"),u(P,"href","#cancel"),u(P,"role","button"),u(P,"class","secondary"),u(N,"href","#confirm"),u(N,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(E,F){M(E,t,F),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[4]),c(s,h),c(s,m),c(m,g),c(g,_),c(g,v),c(g,b),c(b,k),c(b,y),c(b,S),Ne(b,n[5],!0),c(m,O),c(m,R),I&&I.m(R,null),n[28](s),c(e,w),c(e,A),c(A,P),c(A,j),c(A,N),D||(q=[T(o,"click",n[14]),T(f,"input",n[24]),T(b,"change",n[25]),T(s,"submit",nt(n[19])),T(P,"click",n[14]),T(N,"click",n[17])],D=!0)},p(E,F){F[0]&16&&f.value!==E[4]&&K(f,E[4]),F[0]&32&&Ne(b,E[5]),E[5]?I?I.p(E,F):(I=ui(E),I.c(),I.m(R,null)):I&&(I.d(1),I=null)},d(E){E&&L(t),I&&I.d(),n[28](null),D=!1,fe(q)}}}function ui(n){let t;function e(i,r){if(i[5]==="chapters")return Kf;if(i[5]==="books")return Qf}let l=e(n),o=l&&l(n);return{c(){o&&o.c(),t=ve()},m(i,r){o&&o.m(i,r),M(i,t,r)},p(i,r){l===(l=e(i))&&o?o.p(i,r):(o&&o.d(1),o=l&&l(i),o&&(o.c(),o.m(t.parentNode,t)))},d(i){o&&o.d(i),i&&L(t)}}}function Qf(n){let t,e,l,o,i;return{c(){t=p("label"),e=B(`Books/Month:\r
                      `),l=p("input"),u(l,"id","goal"),u(l,"name","goal"),u(l,"type","number"),l.required=!0,u(t,"for","goal")},m(r,s){M(r,t,s),c(t,e),c(t,l),K(l,n[6]),o||(i=T(l,"input",n[27]),o=!0)},p(r,s){s[0]&64&&Ve(l.value)!==r[6]&&K(l,r[6])},d(r){r&&L(t),o=!1,i()}}}function Kf(n){let t,e,l,o,i;return{c(){t=p("label"),e=B(`Chapters/Month:\r
                      `),l=p("input"),u(l,"id","goal"),u(l,"name","goal"),u(l,"type","number"),l.required=!0,u(t,"for","goal")},m(r,s){M(r,t,s),c(t,e),c(t,l),K(l,n[6]),o||(i=T(l,"input",n[26]),o=!0)},p(r,s){s[0]&64&&Ve(l.value)!==r[6]&&K(l,r[6])},d(r){r&&L(t),o=!1,i()}}}function fi(n){let t,e,l,o,i,r,s,a,d,f,h=[],m=new Map,g,_,v,b,k,y,S,O=n[1];const R=w=>w[30].id;for(let w=0;w<O.length;w+=1){let A=Xo(n,O,w),P=R(A);m.set(P,h[w]=pi(P,A))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
            Manage Class`),r=C(),s=p("details"),a=p("summary"),a.textContent="Class Members",d=C(),f=p("ul");for(let w=0;w<h.length;w+=1)h[w].c();g=C(),_=p("footer"),v=p("a"),v.textContent="Cancel",b=C(),k=p("a"),k.textContent="Save",u(o,"href","#close"),u(o,"class","close"),s.open=!0,u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary"),u(k,"href","#confirm"),u(k,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(w,A){M(w,t,A),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(s,d),c(s,f);for(let P=0;P<h.length;P+=1)h[P]&&h[P].m(f,null);c(e,g),c(e,_),c(_,v),c(_,b),c(_,k),y||(S=[T(o,"click",n[15]),T(v,"click",n[15]),T(k,"click",n[17])],y=!0)},p(w,A){A[0]&10&&(O=w[1],h=ze(h,A,R,1,w,O,m,f,Ge,pi,null,Xo))},d(w){w&&L(t);for(let A=0;A<h.length;A+=1)h[A].d();y=!1,fe(S)}}}function di(n){var o;let t,e=((o=n[30].expand.student)==null?void 0:o.name)+"",l;return{c(){t=p("li"),l=B(e)},m(i,r){M(i,t,r),c(t,l)},p(i,r){var s;r[0]&2&&e!==(e=((s=i[30].expand.student)==null?void 0:s.name)+"")&&re(l,e)},d(i){i&&L(t)}}}function pi(n,t){let e,l,o=t[30].class===t[3]&&di(t);return{key:n,first:null,c(){e=ve(),o&&o.c(),l=ve(),this.first=e},m(i,r){M(i,e,r),o&&o.m(i,r),M(i,l,r)},p(i,r){t=i,t[30].class===t[3]?o?o.p(t,r):(o=di(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(i){i&&L(e),o&&o.d(i),i&&L(l)}}}function Yf(n){let t,e,l=n[12]&&n[12].verified===!0&&ti(n);return{c(){l&&l.c(),t=ve()},m(o,i){l&&l.m(o,i),M(o,t,i),e=!0},p(o,i){o[12]&&o[12].verified===!0?l?(l.p(o,i),i[0]&4096&&Q(l,1)):(l=ti(o),l.c(),Q(l,1),l.m(t.parentNode,t)):l&&(Be(),x(l,1,1,()=>{l=null}),Fe())},i(o){e||(Q(l),e=!0)},o(o){x(l),e=!1},d(o){l&&l.d(o),o&&L(t)}}}function hi(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Zf(n,t,e){let l;He(n,lt,J=>e(12,l=J));let o=[],i=[],r=[],s,a,d,f,h,m;async function g(){try{const J=await de.collection("classes").getFullList({sort:"-class"});e(0,o=J)}catch(J){alert(J)}try{const J=await de.collection("enrollments").getFullList({expand:"class, class.managedBy, student",sort:"-class"});e(1,i=J)}catch(J){alert(J)}try{const J=await de.collection("requests").getFullList({filter:"status = 'Pending'",expand:"class, class.managedBy, student",sort:"-class"});e(2,r=J),console.log(r)}catch(J){alert(J)}}gt(async()=>{g()});let _=!1;function v(){e(9,_=!_)}let b=!1;function k(){e(10,b=!b)}let y=!1;function S(){e(11,y=!y)}async function O(){if(h.reportValidity()){if(s){const J={student:l.id,class:s,status:"Pending"};await de.collection("requests").create(J)}we.success("Request sent!",{position:Ee}),v(),g()}}async function R(){if(m.reportValidity()){if(a){const J={managedBy:l.id,class:a,goalType:d,goalValue:f};await de.collection("classes").create(J)}we.success("Class Added Successfully!",{position:Ee}),k(),g()}}async function w(J,W,V){try{const G={status:"Approved"},ee=await de.collection("requests").update(J,G)}catch(G){alert(G)}try{const G={student:W,class:V},ee=await de.collection("enrollments").create(G)}catch(G){alert(G)}g()}function A(J){tt.call(this,n,J)}function P(J){tt.call(this,n,J)}const j=J=>{e(3,s=J.id),S()};function N(){s=this.value,e(3,s)}function D(J){bt[J?"unshift":"push"](()=>{h=J,e(7,h)})}function q(){a=this.value,e(4,a)}function I(){d=it(this),e(5,d)}function E(){f=Ve(this.value),e(6,f)}function F(){f=Ve(this.value),e(6,f)}function U(J){bt[J?"unshift":"push"](()=>{m=J,e(8,m)})}return[o,i,r,s,a,d,f,h,m,_,b,y,l,v,k,S,O,R,w,A,P,j,N,D,q,I,E,F,U]}class Xf extends je{constructor(t){super(),qe(this,t,Zf,Yf,Re,{},null,[-1,-1])}}function ur(n){const t=n-1;return t*t*t+1}function _i(n){return-n*(n-2)}function at(n,{delay:t=0,duration:e=400,easing:l=ur,x:o=0,y:i=0,opacity:r=0}={}){const s=getComputedStyle(n),a=+s.opacity,d=s.transform==="none"?"":s.transform,f=a*(1-r),[h,m]=dl(o),[g,_]=dl(i);return{delay:t,duration:e,easing:l,css:(v,b)=>`
			transform: ${d} translate(${(1-v)*h}${m}, ${(1-v)*g}${_});
			opacity: ${a-f*b}`}}function mi(n,{delay:t=0,duration:e=400,easing:l=ur,start:o=0,opacity:i=0}={}){const r=getComputedStyle(n),s=+r.opacity,a=r.transform==="none"?"":r.transform,d=1-o,f=s*(1-i);return{delay:t,duration:e,easing:l,css:(h,m)=>`
			transform: ${a} scale(${1-d*m});
			opacity: ${s-f*m}
		`}}function gi(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w=n[6].role==="teacher"&&vi(n),A=n[6].role==="student"&&bi(n);return{c(){t=p("article"),e=p("div"),l=p("p"),o=p("a"),o.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div class="text">Books</div></div>`,r=C(),w&&w.c(),s=C(),A&&A.c(),a=C(),d=p("p"),f=p("a"),f.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Discover</div></div>`,m=C(),g=p("p"),_=p("a"),_.innerHTML=`<div class="inline-container svelte-n0qmij"><iconify-icon id="edit" icon="ph:student-thin" width="24" height="24"></iconify-icon>

            Classes</div>`,b=C(),k=p("div"),u(o,"href","#"),u(o,"class","btn btn-link svelte-n0qmij"),u(l,"class","svelte-n0qmij"),u(f,"href","#"),u(f,"class","btn btn-link svelte-n0qmij"),u(d,"class","svelte-n0qmij"),u(_,"href","#"),u(_,"class","btn btn-link svelte-n0qmij"),u(g,"class","svelte-n0qmij"),u(e,"class","menu svelte-n0qmij"),u(k,"class","bar svelte-n0qmij")},m(P,j){M(P,t,j),c(t,e),c(e,l),c(l,o),c(e,r),w&&w.m(e,null),c(e,s),A&&A.m(e,null),c(e,a),c(e,d),c(d,f),c(e,m),c(e,g),c(g,_),c(t,b),c(t,k),S=!0,O||(R=[T(o,"click",function(){st(n[2])&&n[2].apply(this,arguments)}),T(f,"click",function(){st(n[3])&&n[3].apply(this,arguments)}),T(_,"click",function(){st(n[4])&&n[4].apply(this,arguments)})],O=!0)},p(P,j){n=P,n[6].role==="teacher"?w?(w.p(n,j),j&64&&Q(w,1)):(w=vi(n),w.c(),Q(w,1),w.m(e,s)):w&&(Be(),x(w,1,1,()=>{w=null}),Fe()),n[6].role==="student"?A?(A.p(n,j),j&64&&Q(A,1)):(A=bi(n),A.c(),Q(A,1),A.m(e,a)):A&&(Be(),x(A,1,1,()=>{A=null}),Fe())},i(P){S||(De(()=>{S&&(i||(i=ot(l,at,{y:-15,delay:50*1},!0)),i.run(1))}),Q(w),Q(A),De(()=>{S&&(h||(h=ot(d,at,{y:-15,delay:50*3},!0)),h.run(1))}),De(()=>{S&&(v||(v=ot(g,at,{y:-15,delay:50*4},!0)),v.run(1))}),De(()=>{S&&(y||(y=ot(k,mi,{duration:750,easing:_i,opacity:1},!0)),y.run(1))}),S=!0)},o(P){i||(i=ot(l,at,{y:-15,delay:50*1},!1)),i.run(0),x(w),x(A),h||(h=ot(d,at,{y:-15,delay:50*3},!1)),h.run(0),v||(v=ot(g,at,{y:-15,delay:50*4},!1)),v.run(0),y||(y=ot(k,mi,{duration:750,easing:_i,opacity:1},!1)),y.run(0),S=!1},d(P){P&&L(t),P&&i&&i.end(),w&&w.d(),A&&A.d(),P&&h&&h.end(),P&&v&&v.end(),P&&y&&y.end(),O=!1,fe(R)}}}function vi(n){let t,e,l,o,i,r;return{c(){t=p("p"),e=p("a"),e.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div></div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-n0qmij"),u(t,"class","svelte-n0qmij")},m(s,a){M(s,t,a),c(t,e),o=!0,i||(r=T(e,"click",function(){st(n[5])&&n[5].apply(this,arguments)}),i=!0)},p(s,a){n=s},i(s){o||(De(()=>{o&&(l||(l=ot(t,at,{y:-15,delay:50*5},!0)),l.run(1))}),o=!0)},o(s){l||(l=ot(t,at,{y:-15,delay:50*5},!1)),l.run(0),o=!1},d(s){s&&L(t),s&&l&&l.end(),i=!1,r()}}}function bi(n){let t,e,l,o,i,r;return{c(){t=p("p"),e=p("a"),e.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
              <div>Log</div></div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-n0qmij"),u(t,"class","svelte-n0qmij")},m(s,a){M(s,t,a),c(t,e),o=!0,i||(r=T(e,"click",function(){st(n[1])&&n[1].apply(this,arguments)}),i=!0)},p(s,a){n=s},i(s){o||(De(()=>{o&&(l||(l=ot(t,at,{y:-15,delay:50*2},!0)),l.run(1))}),o=!0)},o(s){l||(l=ot(t,at,{y:-15,delay:50*2},!1)),l.run(0),o=!1},d(s){s&&L(t),s&&l&&l.end(),i=!1,r()}}}function $f(n){let t,e,l=n[0]&&gi(n);return{c(){l&&l.c(),t=ve()},m(o,i){l&&l.m(o,i),M(o,t,i),e=!0},p(o,[i]){o[0]?l?(l.p(o,i),i&1&&Q(l,1)):(l=gi(o),l.c(),Q(l,1),l.m(t.parentNode,t)):l&&(Be(),x(l,1,1,()=>{l=null}),Fe())},i(o){e||(Q(l),e=!0)},o(o){x(l),e=!1},d(o){l&&l.d(o),o&&L(t)}}}function xf(n,t,e){let l;He(n,lt,f=>e(6,l=f));let{open:o}=t,{goToLog:i}=t,{goToBooks:r}=t,{goToClassroom:s}=t,{goToEnrollments:a}=t,{goToActivity:d}=t;return n.$$set=f=>{"open"in f&&e(0,o=f.open),"goToLog"in f&&e(1,i=f.goToLog),"goToBooks"in f&&e(2,r=f.goToBooks),"goToClassroom"in f&&e(3,s=f.goToClassroom),"goToEnrollments"in f&&e(4,a=f.goToEnrollments),"goToActivity"in f&&e(5,d=f.goToActivity)},[o,i,r,s,a,d,l]}class ed extends je{constructor(t){super(),qe(this,t,xf,$f,Re,{open:0,goToLog:1,goToBooks:2,goToClassroom:3,goToEnrollments:4,goToActivity:5})}}function yi(n,t,e){const l=n.slice();return l[59]=t[e],l}function td(n){let t,e;return t=new tl({props:{$$slots:{default:[ld]},$$scope:{ctx:n}}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o[2]&1&&(i.$$scope={dirty:o,ctx:l}),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function nd(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee,ue,Y,X,se,be,he,z,ce,pe,Ie,ke,Me,Ce,Se,Ae,Le;function ye($,Te){if($[16].role==="student")return id;if($[16].role==="teacher")return od}let le=ye(n),te=le&&le(n);function Z($){n[45]($)}let ae={goToBooks:n[27],goToLog:n[26],goToClassroom:n[28],goToEnrollments:n[30],goToActivity:n[29]};n[2]!==void 0&&(ae.open=n[2]),D=new ed({props:ae}),bt.push(()=>Vs(D,"open",Z));const ne=[ud,cd,ad,sd,rd],Ue=[];function ct($,Te){return $[5]==="Books"?0:$[5]==="Log"?1:$[5]==="Classroom"?2:$[5]==="Activity"?3:$[5]==="Enrollments"?4:-1}~(F=ct(n))&&(U=Ue[F]=ne[F](n));function ie($,Te){if($[16].role==="student")return dd;if($[16].role==="teacher")return fd}let $e=ie(n),xe=$e&&$e(n),Je=n[12]&&ki(n),Ze=n[13]&&wi(n),We=n[14]&&Ci(n),et=n[15]&&Ai(n);return Ce=new _n({}),{c(){t=p("div"),e=p("div"),l=p("header"),o=p("section"),i=p("div"),r=p("a"),r.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
              <div>Books</div>`,s=C(),te&&te.c(),a=C(),d=p("a"),d.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
              <div>Discover</div>`,f=C(),h=p("a"),h.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="ph:student-thin" width="24" height="24"></iconify-icon></div> 
              <div>Classes</div>`,m=C(),g=p("section"),_=C(),v=p("figure"),b=p("a"),k=p("img"),S=C(),O=p("section"),R=p("figure"),w=p("a"),A=p("img"),j=C(),N=p("div"),ge(D.$$.fragment),I=C(),E=p("div"),U&&U.c(),J=C(),W=p("nav"),V=p("ul"),G=p("li"),ee=p("a"),ee.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div>Books</div>`,ue=C(),xe&&xe.c(),Y=C(),X=p("li"),se=p("a"),se.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Discover</div>`,be=C(),he=p("li"),z=p("a"),z.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="ph:student-thin" width="24" height="24"></iconify-icon></div> 
            <div>Classes</div>`,ce=C(),Je&&Je.c(),pe=C(),Ze&&Ze.c(),Ie=C(),We&&We.c(),ke=C(),et&&et.c(),Me=C(),ge(Ce.$$.fragment),u(r,"href","#"),u(r,"class","btn btn-link svelte-1tgtxdi"),u(d,"href","#"),u(d,"class","btn btn-link svelte-1tgtxdi"),u(h,"href","#"),u(h,"class","btn btn-link svelte-1tgtxdi"),u(i,"class","navbar-items svelte-1tgtxdi"),u(o,"class","navbar-section svelte-1tgtxdi"),u(g,"class","navbar-center"),Oe(k.src,y=n[21])||u(k,"src",y),u(k,"alt","avatar"),u(k,"class","navbar-avatar"),u(b,"href","#profile"),u(b,"class","svelte-1tgtxdi"),u(v,"class","avatar avatar-xl mobile svelte-1tgtxdi"),Oe(A.src,P=n[21])||u(A,"src",P),u(A,"alt","avatar"),u(A,"class","navbar-avatar"),u(w,"href","#profile"),u(w,"class","svelte-1tgtxdi"),u(R,"class","avatar avatar-xl desktop svelte-1tgtxdi"),u(O,"class","navbar-section svelte-1tgtxdi"),u(l,"class","navbar svelte-1tgtxdi"),u(t,"class","container"),u(N,"class","hamburger-items"),u(E,"class","content svelte-1tgtxdi"),u(ee,"href","#"),u(ee,"class","btn btn-link svelte-1tgtxdi"),u(G,"class","svelte-1tgtxdi"),u(se,"href","#"),u(se,"class","btn btn-link svelte-1tgtxdi"),u(X,"class","svelte-1tgtxdi"),u(z,"href","#"),u(z,"class","btn btn-link svelte-1tgtxdi"),u(he,"class","svelte-1tgtxdi"),u(V,"class","svelte-1tgtxdi"),u(W,"class","bottom-navbar svelte-1tgtxdi")},m($,Te){M($,t,Te),c(t,e),c(e,l),c(l,o),c(o,i),c(i,r),c(i,s),te&&te.m(i,null),c(i,a),c(i,d),c(i,f),c(i,h),c(l,m),c(l,g),c(l,_),c(l,v),c(v,b),c(b,k),c(l,S),c(l,O),c(O,R),c(R,w),c(w,A),M($,j,Te),M($,N,Te),_e(D,N,null),M($,I,Te),M($,E,Te),~F&&Ue[F].m(E,null),M($,J,Te),M($,W,Te),c(W,V),c(V,G),c(G,ee),c(V,ue),xe&&xe.m(V,null),c(V,Y),c(V,X),c(X,se),c(V,be),c(V,he),c(he,z),M($,ce,Te),Je&&Je.m($,Te),M($,pe,Te),Ze&&Ze.m($,Te),M($,Ie,Te),We&&We.m($,Te),M($,ke,Te),et&&et.m($,Te),M($,Me,Te),_e(Ce,$,Te),Se=!0,Ae||(Le=[T(r,"click",n[32]),T(d,"click",n[33]),T(h,"click",n[35]),T(b,"click",n[37]),T(w,"click",n[37]),T(ee,"click",n[32]),T(se,"click",n[33]),T(z,"click",n[35])],Ae=!0)},p($,Te){le===(le=ye($))&&te?te.p($,Te):(te&&te.d(1),te=le&&le($),te&&(te.c(),te.m(i,a)));const Jt={};!q&&Te[0]&4&&(q=!0,Jt.open=$[2],qs(()=>q=!1)),D.$set(Jt);let Lt=F;F=ct($),F!==Lt&&(U&&(Be(),x(Ue[Lt],1,1,()=>{Ue[Lt]=null}),Fe()),~F?(U=Ue[F],U||(U=Ue[F]=ne[F]($),U.c()),Q(U,1),U.m(E,null)):U=null),$e===($e=ie($))&&xe?xe.p($,Te):(xe&&xe.d(1),xe=$e&&$e($),xe&&(xe.c(),xe.m(V,Y))),$[12]?Je?Je.p($,Te):(Je=ki($),Je.c(),Je.m(pe.parentNode,pe)):Je&&(Je.d(1),Je=null),$[13]?Ze?Ze.p($,Te):(Ze=wi($),Ze.c(),Ze.m(Ie.parentNode,Ie)):Ze&&(Ze.d(1),Ze=null),$[14]?We?We.p($,Te):(We=Ci($),We.c(),We.m(ke.parentNode,ke)):We&&(We.d(1),We=null),$[15]?et?et.p($,Te):(et=Ai($),et.c(),et.m(Me.parentNode,Me)):et&&(et.d(1),et=null)},i($){Se||(Q(D.$$.fragment,$),Q(U),Q(Ce.$$.fragment,$),Se=!0)},o($){x(D.$$.fragment,$),x(U),x(Ce.$$.fragment,$),Se=!1},d($){$&&L(t),te&&te.d(),$&&L(j),$&&L(N),me(D),$&&L(I),$&&L(E),~F&&Ue[F].d(),$&&L(J),$&&L(W),xe&&xe.d(),$&&L(ce),Je&&Je.d($),$&&L(pe),Ze&&Ze.d($),$&&L(Ie),We&&We.d($),$&&L(ke),et&&et.d($),$&&L(Me),me(Ce,$),Ae=!1,fe(Le)}}}function ld(n){let t,e;return t=new It({props:{path:"/",component:nl}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p:oe,i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function od(n){let t,e,l;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
                <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-1tgtxdi")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[34]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function id(n){let t,e,l;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
                <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-1tgtxdi")},m(o,i){M(o,t,i),e||(l=T(t,"click",n[31]),e=!0)},p:oe,d(o){o&&L(t),e=!1,l()}}}function rd(n){let t,e;return t=new Xf({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function sd(n){let t,e;return t=new jf({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function ad(n){let t,e;return t=new Ef({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function cd(n){let t,e;return t=new pf({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function ud(n){let t,e;return t=new fu({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function fd(n){let t,e,l,o;return{c(){t=p("li"),e=p("a"),e.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-1tgtxdi"),u(t,"class","svelte-1tgtxdi")},m(i,r){M(i,t,r),c(t,e),l||(o=T(e,"click",n[34]),l=!0)},p:oe,d(i){i&&L(t),l=!1,o()}}}function dd(n){let t,e,l,o;return{c(){t=p("li"),e=p("a"),e.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
              <div>Log</div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-1tgtxdi"),u(t,"class","svelte-1tgtxdi")},m(i,r){M(i,t,r),c(t,e),l||(o=T(e,"click",n[31]),l=!0)},p:oe,d(i){i&&L(t),l=!1,o()}}}function ki(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Settings`),r=C(),s=p("form"),a=p("label"),d=B(`Max Search Output\r
            `),f=p("input"),h=C(),m=p("footer"),g=p("div"),_=p("a"),_.textContent="Cancel",v=C(),b=p("a"),b.textContent="Save",u(o,"href","#close"),u(o,"class","close"),u(f,"id","maxOutput"),u(f,"name","maxOutput"),u(f,"type","text"),u(a,"for","maxOutput"),u(_,"href","#cancel"),u(_,"role","button"),u(_,"class","secondary svelte-1tgtxdi"),u(b,"href","#confirm"),u(b,"role","button"),u(b,"class","svelte-1tgtxdi"),u(m,"class","svelte-1tgtxdi"),t.open=!0},m(S,O){M(S,t,O),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[17]),c(e,h),c(e,m),c(m,g),c(g,_),c(g,v),c(g,b),k||(y=[T(o,"click",n[36]),T(f,"input",n[46]),T(s,"submit",nt(n[44])),T(_,"click",n[36]),T(b,"click",n[36])],k=!0)},p(S,O){O[0]&131072&&f.value!==S[17]&&K(f,S[17])},d(S){S&&L(t),k=!1,fe(y)}}}function wi(n){let t,e,l,o,i,r,s,a,d,f,h,m,g=n[16].name+"",_,v,b,k,y,S,O,R,w,A,P,j,N,D,q,I,E,F,U,J,W,V,G,ee,ue,Y,X,se,be,he,z,ce,pe,Ie,ke,Me,Ce,Se,Ae,Le,ye,le,te,Z;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("figure"),i=p("a"),r=p("img"),a=C(),d=p("i"),d.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',f=C(),h=p("a"),m=B(`\r
          `),_=B(g),v=B("'s Profile"),b=C(),k=p("details"),y=p("summary"),y.textContent="My Stats",S=C(),O=p("p"),R=B("Books: "),w=B(n[18]),A=B(" | Pages Read: "),P=B(n[19]),j=C(),N=p("details"),D=p("summary"),D.textContent="Account Info",q=C(),I=p("form"),E=p("label"),F=B(`Name\r
              `),U=p("input"),J=C(),W=p("label"),V=B(`Email\r
              `),G=p("input"),ee=C(),ue=p("details"),Y=p("summary"),Y.textContent="Security",X=C(),se=p("fieldset"),be=p("label"),he=p("input"),z=B(`\r
              Share my readings with classmates`),ce=C(),pe=p("a"),pe.textContent="Change Password",Ie=C(),ke=p("footer"),Me=p("div"),Ce=p("a"),Ce.textContent="Sign Out",Se=C(),Ae=p("div"),Le=p("a"),Le.textContent="Cancel",ye=C(),le=p("a"),le.textContent="Save",Oe(r.src,s=n[21])||u(r,"src",s),u(r,"alt","avatar"),u(d,"class","avatar-presence"),Pe(i,"color","white"),u(i,"href","#profile"),u(o,"class","avatar avatar-xl svelte-1tgtxdi"),u(h,"href","#close"),u(h,"class","close"),k.open=!0,u(U,"id","profileName"),u(U,"name","profileName"),u(U,"type","text"),u(E,"for","profileName"),u(G,"id","profileEmail"),u(G,"name","profileEmail"),u(G,"type","email"),G.disabled=!0,u(W,"for","profileEmail"),N.open=!0,u(he,"type","checkbox"),u(he,"id","switch"),u(he,"name","switch"),u(he,"role","switch"),u(be,"for","switch"),u(pe,"href","#update"),u(pe,"class","details"),u(Ce,"href","#signout"),u(Ce,"role","button"),u(Ce,"class","signout svelte-1tgtxdi"),u(Le,"href","#cancel"),u(Le,"role","button"),u(Le,"class","secondary svelte-1tgtxdi"),u(le,"href","#confirm"),u(le,"role","button"),u(le,"class","svelte-1tgtxdi"),u(ke,"data-button","spaceBetween"),u(ke,"class","svelte-1tgtxdi"),t.open=!0},m(ae,ne){M(ae,t,ne),c(t,e),c(e,l),c(l,o),c(o,i),c(i,r),c(i,a),c(i,d),c(l,f),c(l,h),c(l,m),c(l,_),c(l,v),c(e,b),c(e,k),c(k,y),c(k,S),c(k,O),c(O,R),c(O,w),c(O,A),c(O,P),c(e,j),c(e,N),c(N,D),c(N,q),c(N,I),c(I,E),c(E,F),c(E,U),K(U,n[7]),c(I,J),c(I,W),c(W,V),c(W,G),K(G,n[8]),c(e,ee),c(e,ue),c(ue,Y),c(ue,X),c(ue,se),c(se,be),c(be,he),he.checked=n[11],c(be,z),c(ue,ce),c(ue,pe),c(e,Ie),c(e,ke),c(ke,Me),c(Me,Ce),c(ke,Se),c(ke,Ae),c(Ae,Le),c(Ae,ye),c(Ae,le),te||(Z=[T(i,"click",n[38]),T(h,"click",n[37]),T(U,"input",n[47]),T(G,"input",n[48]),T(I,"submit",nt(n[43])),T(he,"change",n[49]),T(pe,"click",n[39]),T(Ce,"click",n[25]),T(Le,"click",n[37]),T(le,"click",n[22]),T(le,"click",n[37])],te=!0)},p(ae,ne){ne[0]&65536&&g!==(g=ae[16].name+"")&&re(_,g),ne[0]&262144&&re(w,ae[18]),ne[0]&524288&&re(P,ae[19]),ne[0]&128&&U.value!==ae[7]&&K(U,ae[7]),ne[0]&256&&G.value!==ae[8]&&K(G,ae[8]),ne[0]&2048&&(he.checked=ae[11])},d(ae){ae&&L(t),te=!1,fe(Z)}}}function Ci(n){let t,e,l,o,i,r,s,a,d,f,h,m=[],g=new Map,_,v,b,k,y,S,O,R=n[6];const w=A=>A[59].id;for(let A=0;A<R.length;A+=1){let P=yi(n,R,A),j=w(P);g.set(j,m[A]=Si(j,P))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("figure"),i=p("img"),s=C(),a=p("a"),d=B(`\r
          Change Avatar`),f=C(),h=p("section");for(let A=0;A<m.length;A+=1)m[A].c();_=C(),v=p("footer"),b=p("a"),b.textContent="Cancel",k=C(),y=p("a"),y.textContent="Save",Oe(i.src,r=n[21])||u(i,"src",r),u(i,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-1tgtxdi"),u(a,"href","#close"),u(a,"class","close"),u(b,"href","#cancel"),u(b,"role","button"),u(b,"class","secondary svelte-1tgtxdi"),u(y,"href","#confirm"),u(y,"role","button"),u(y,"class","svelte-1tgtxdi"),u(v,"class","svelte-1tgtxdi"),t.open=!0},m(A,P){M(A,t,P),c(t,e),c(e,l),c(l,o),c(o,i),c(l,s),c(l,a),c(l,d),c(e,f),c(e,h);for(let j=0;j<m.length;j+=1)m[j]&&m[j].m(h,null);c(e,_),c(e,v),c(v,b),c(v,k),c(v,y),S||(O=[T(a,"click",n[38]),T(b,"click",n[38]),T(y,"click",n[24]),T(y,"click",n[40])],S=!0)},p(A,P){P[0]&1049664&&(R=A[6],m=ze(m,P,w,1,A,R,g,h,Ge,Si,null,yi))},d(A){A&&L(t);for(let P=0;P<m.length;P+=1)m[P].d();S=!1,fe(O)}}}function Si(n,t){let e,l,o,i,r,s,a,d;return{key:n,first:null,c(){e=p("a"),l=p("figure"),o=p("img"),r=C(),u(o,"class","avatar-list svelte-1tgtxdi"),Oe(o.src,i=t[20]+t[59].id+"/"+t[59].field)||u(o,"src",i),u(o,"alt","avatar"),u(l,"class","avatar avatar-xl svelte-1tgtxdi"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-1tgtxdi"),u(e,"data-picture",s=t[20]+t[59].id+"/"+t[59].field),this.first=e},m(f,h){M(f,e,h),c(e,l),c(l,o),c(e,r),a||(d=T(e,"click",t[50]),a=!0)},p(f,h){t=f,h[0]&64&&!Oe(o.src,i=t[20]+t[59].id+"/"+t[59].field)&&u(o,"src",i),h[0]&64&&s!==(s=t[20]+t[59].id+"/"+t[59].field)&&u(e,"data-picture",s)},d(f){f&&L(e),a=!1,d()}}}function Ai(n){let t,e,l,o,i,r,s,a,d,f,h,m,g,_,v,b,k,y,S,O,R;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),i=B(`\r
          Change Password`),r=C(),s=p("form"),a=p("label"),d=B(`Change Password\r
            `),f=p("input"),h=C(),m=p("input"),g=C(),_=p("input"),v=C(),b=p("footer"),k=p("a"),k.textContent="Cancel",y=C(),S=p("a"),S.textContent="Update",u(o,"href","#close"),u(o,"class","close"),u(f,"id","oldPassword"),u(f,"name","oldPassword"),u(f,"type","password"),u(f,"placeholder","Old password"),u(a,"for","oldPassword"),u(m,"id","profilePassword"),u(m,"name","profilePassword"),u(m,"type","password"),u(m,"placeholder","New password"),u(m,"aria-invalid",n[3]),u(_,"id","profileConfirm"),u(_,"name","profileConfirm"),u(_,"type","password"),u(_,"placeholder","Confirm password"),u(_,"aria-invalid",n[4]),u(k,"href","#cancel"),u(k,"role","button"),u(k,"class","secondary svelte-1tgtxdi"),u(S,"href","#confirm"),u(S,"role","button"),u(S,"class","svelte-1tgtxdi"),u(b,"class","svelte-1tgtxdi"),t.open=!0},m(w,A){M(w,t,A),c(t,e),c(e,l),c(l,o),c(l,i),c(e,r),c(e,s),c(s,a),c(a,d),c(a,f),K(f,n[9]),c(s,h),c(s,m),K(m,n[0]),c(s,g),c(s,_),K(_,n[1]),c(e,v),c(e,b),c(b,k),c(b,y),c(b,S),O||(R=[T(o,"click",n[39]),T(f,"input",n[51]),T(m,"input",n[52]),T(_,"input",n[53]),T(s,"submit",nt(n[42])),T(k,"click",n[39]),T(S,"click",n[23]),T(S,"click",n[41])],O=!0)},p(w,A){A[0]&512&&f.value!==w[9]&&K(f,w[9]),A[0]&8&&u(m,"aria-invalid",w[3]),A[0]&1&&m.value!==w[0]&&K(m,w[0]),A[0]&16&&u(_,"aria-invalid",w[4]),A[0]&2&&_.value!==w[1]&&K(_,w[1])},d(w){w&&L(t),O=!1,fe(R)}}}function pd(n){let t,e,l,o;const i=[nd,td],r=[];function s(a,d){return a[16]?0:1}return t=s(n),e=r[t]=i[t](n),{c(){e.c(),l=ve()},m(a,d){r[t].m(a,d),M(a,l,d),o=!0},p(a,d){let f=t;t=s(a),t===f?r[t].p(a,d):(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe(),e=r[t],e?e.p(a,d):(e=r[t]=i[t](a),e.c()),Q(e,1),e.m(l.parentNode,l))},i(a){o||(Q(e),o=!0)},o(a){x(e),o=!1},d(a){r[t].d(a),a&&L(l)}}}let hd="/api/files/fhm2u4u1k405dr7/";function _d(n,t,e){let l,o,i,r;He(n,lt,ne=>e(16,l=ne)),He(n,qn,ne=>e(17,o=ne)),He(n,Bn,ne=>e(18,i=ne)),He(n,$t,ne=>e(19,r=ne));let s=!1,a,d,f,h=[],m=pn+hd,g=l.avatar_from_url;function _(){de.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),de.authStore.clear(),window.location.reload())}gt(async()=>{_(),l.role==="teacher"?q():R();try{const ne=await de.collection("avatars").getFullList({sort:"-created"});e(6,h=ne)}catch(ne){we.error(ne,{position:Ee})}});async function v(){try{const ne={name:E,email:F,isPublic:G},Ue=await de.collection("users").update(l.id,ne);we.success("Profile updated!",{position:Ee})}catch(ne){alert(ne)}}async function b(){if(!a&&!d)try{const ne=new FormData;ne.append("password",U),ne.append("passwordConfirm",J),ne.append("oldPassword",W);const Ue=await de.collection("users").update(l.id,ne);we.success("Password changed successfully!",{position:Ee})}catch(ne){we.error(ne,{position:Ee})}else a?we.error("Password should be at least 5 characters long",{position:Ee}):d&&we.error("Password mismatch",{position:Ee})}async function k(){try{const ne={avatar_from_url:V},Ue=await de.collection("users").update(l.id,ne);we.success("Avatar updated!",{position:Ee})}catch(ne){we.error(ne,{position:Ee})}window.location.reload(),e(10,V="")}function y(){de.authStore.clear(),el("/")}function S(){e(5,f="Log"),e(2,s=!s)}function O(){e(5,f="Books"),e(2,s=!s)}function R(){e(5,f="Books")}function w(){e(5,f="Classroom"),e(2,s=!s)}function A(){e(5,f="Activity"),e(2,s=!s)}function P(){e(5,f="Enrollments"),e(2,s=!s)}function j(){e(5,f="Log")}function N(){e(5,f="Books")}function D(){e(5,f="Classroom")}function q(){e(5,f="Activity")}function I(){e(5,f="Enrollments")}let E=l.name,F=l.email,U,J,W,V,G=l.isPublic,ee=!1;function ue(){e(12,ee=!ee)}let Y=!1;function X(){e(13,Y=!Y)}let se=!1;function be(){e(14,se=!se)}let he=!1;function z(){e(15,he=!he)}function ce(){be(),X()}function pe(){z(),X()}function Ie(ne){tt.call(this,n,ne)}function ke(ne){tt.call(this,n,ne)}function Me(ne){tt.call(this,n,ne)}function Ce(ne){s=ne,e(2,s)}function Se(){o=this.value,qn.set(o)}function Ae(){E=this.value,e(7,E)}function Le(){F=this.value,e(8,F)}function ye(){G=this.checked,e(11,G)}const le=ne=>{e(10,V=ne.currentTarget.getAttribute("data-picture"))};function te(){W=this.value,e(9,W)}function Z(){U=this.value,e(0,U)}function ae(){J=this.value,e(1,J)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(U&&(U.length>=5?e(3,a=!1):e(3,a=!0)),J&&(J===U?e(4,d=!1):e(4,d=!0)))},[U,J,s,a,d,f,h,E,F,W,V,G,ee,Y,se,he,l,o,i,r,m,g,v,b,k,y,S,O,w,A,P,j,N,D,q,I,ue,X,be,z,ce,pe,Ie,ke,Me,Ce,Se,Ae,Le,ye,le,te,Z,ae]}class md extends je{constructor(t){super(),qe(this,t,_d,pd,Re,{},null,[-1,-1,-1])}}function gd(n){let t,e;return t=new tl({props:{$$slots:{default:[bd]},$$scope:{ctx:n}}}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p(l,o){const i={};o&2&&(i.$$scope={dirty:o,ctx:l}),t.$set(i)},i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function vd(n){let t,e;return t=new md({}),{c(){ge(t.$$.fragment)},m(l,o){_e(t,l,o),e=!0},p:oe,i(l){e||(Q(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){me(t,l)}}}function bd(n){let t,e,l,o,i,r;return t=new It({props:{path:"/",component:nl}}),l=new It({props:{path:"/signup",component:Hi}}),i=new It({props:{path:"/reset",component:Vc}}),{c(){ge(t.$$.fragment),e=C(),ge(l.$$.fragment),o=C(),ge(i.$$.fragment)},m(s,a){_e(t,s,a),M(s,e,a),_e(l,s,a),M(s,o,a),_e(i,s,a),r=!0},p:oe,i(s){r||(Q(t.$$.fragment,s),Q(l.$$.fragment,s),Q(i.$$.fragment,s),r=!0)},o(s){x(t.$$.fragment,s),x(l.$$.fragment,s),x(i.$$.fragment,s),r=!1},d(s){me(t,s),s&&L(e),me(l,s),s&&L(o),me(i,s)}}}function yd(n){let t,e,l,o;const i=[vd,gd],r=[];function s(a,d){return a[0]?0:1}return t=s(n),e=r[t]=i[t](n),{c(){e.c(),l=ve()},m(a,d){r[t].m(a,d),M(a,l,d),o=!0},p(a,[d]){let f=t;t=s(a),t===f?r[t].p(a,d):(Be(),x(r[f],1,1,()=>{r[f]=null}),Fe(),e=r[t],e?e.p(a,d):(e=r[t]=i[t](a),e.c()),Q(e,1),e.m(l.parentNode,l))},i(a){o||(Q(e),o=!0)},o(a){x(e),o=!1},d(a){r[t].d(a),a&&L(l)}}}function kd(n,t,e){let l;return He(n,lt,o=>e(0,l=o)),[l]}class wd extends je{constructor(t){super(),qe(this,t,kd,yd,Re,{})}}new wd({target:document.getElementById("app")});
