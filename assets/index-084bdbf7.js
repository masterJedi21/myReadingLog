var ts=Object.defineProperty;var ns=(n,t,e)=>t in n?ts(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Nt=(n,t,e)=>(ns(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=e(l);fetch(l.href,r)}})();function te(){}const os=n=>n;function ot(n,t){for(const e in t)n[e]=t[e];return n}function ls(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function ir(n){return n()}function no(){return Object.create(null)}function ce(n){n.forEach(ir)}function Ze(n){return typeof n=="function"}function Le(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let qt;function Ie(n,t){return qt||(qt=document.createElement("a")),qt.href=t,n===qt.href}function rs(n){return Object.keys(n).length===0}function Bn(n,...t){if(n==null)return te;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function kn(n){let t;return Bn(n,e=>t=e)(),t}function Ne(n,t,e){n.$$.on_destroy.push(Bn(t,e))}function $t(n,t,e,o){if(n){const l=sr(n,t,e,o);return n[0](l)}}function sr(n,t,e,o){return n[1]&&o?ot(e.ctx.slice(),n[1](o(t))):e.ctx}function xt(n,t,e,o){if(n[2]&&o){const l=n[2](o(e));if(t.dirty===void 0)return l;if(typeof l=="object"){const r=[],i=Math.max(t.dirty.length,l.length);for(let s=0;s<i;s+=1)r[s]=t.dirty[s]|l[s];return r}return t.dirty|l}return t.dirty}function en(n,t,e,o,l,r){if(l){const i=sr(t,e,o,r);n.p(i,l)}}function tn(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function oo(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function un(n,t,e){return n.set(e),t}function lo(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const ar=typeof window<"u";let is=ar?()=>window.performance.now():()=>Date.now(),Fn=ar?n=>requestAnimationFrame(n):te;const gt=new Set;function cr(n){gt.forEach(t=>{t.c(n)||(gt.delete(t),t.f())}),gt.size!==0&&Fn(cr)}function ss(n){let t;return gt.size===0&&Fn(cr),{promise:new Promise(e=>{gt.add(t={c:n,f:e})}),abort(){gt.delete(t)}}}function c(n,t){n.appendChild(t)}function ur(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function as(n){const t=p("style");return cs(ur(n),t),t.sheet}function cs(n,t){return c(n.head||n,t),t.sheet}function j(n,t,e){n.insertBefore(t,e||null)}function R(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function C(){return B(" ")}function Ae(){return B("")}function T(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function Ge(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const us=["width","height"];function ro(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&us.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function fs(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function $e(n){return n===""?null:+n}function ds(n){return Array.from(n.childNodes)}function re(n,t){t=""+t,n.data!==t&&(n.data=t)}function $(n,t){n.value=t??""}function Se(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Re(n,t,e){for(let o=0;o<n.options.length;o+=1){const l=n.options[o];if(l.__value===t){l.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function Xe(n){const t=n.querySelector(":checked");return t&&t.__value}function ct(n,t,e){n.classList[e?"add":"remove"](t)}function ps(n,t,{bubbles:e=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(n,e,o,t),l}function lt(n,t){return new n(t)}const Gt=new Map;let Wt=0;function hs(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function _s(n,t){const e={stylesheet:as(t),rules:{}};return Gt.set(n,e),e}function io(n,t,e,o,l,r,i,s=0){const a=16.666/o;let d=`{
`;for(let k=0;k<=1;k+=a){const y=t+(e-t)*r(k);d+=k*100+`%{${i(y,1-y)}}
`}const f=d+`100% {${i(e,1-e)}}
}`,h=`__svelte_${hs(f)}_${s}`,_=ur(n),{stylesheet:m,rules:g}=Gt.get(_)||_s(_,n);g[h]||(g[h]=!0,m.insertRule(`@keyframes ${h} ${f}`,m.cssRules.length));const v=n.style.animation||"";return n.style.animation=`${v?`${v}, `:""}${h} ${o}ms linear ${l}ms 1 both`,Wt+=1,h}function ms(n,t){const e=(n.style.animation||"").split(", "),o=e.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),l=e.length-o.length;l&&(n.style.animation=o.join(", "),Wt-=l,Wt||gs())}function gs(){Fn(()=>{Wt||(Gt.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&R(t)}),Gt.clear())})}let St;function et(n){St=n}function kt(){if(!St)throw new Error("Function called outside component initialization");return St}function st(n){kt().$$.on_mount.push(n)}function Un(n){kt().$$.after_update.push(n)}function Hn(n){kt().$$.on_destroy.push(n)}function fn(n,t){return kt().$$.context.set(n,t),t}function yn(n){return kt().$$.context.get(n)}function Ve(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const mt=[],ft=[];let vt=[];const wn=[],vs=Promise.resolve();let Cn=!1;function bs(){Cn||(Cn=!0,vs.then(zn))}function je(n){vt.push(n)}function so(n){wn.push(n)}const dn=new Set;let ht=0;function zn(){if(ht!==0)return;const n=St;do{try{for(;ht<mt.length;){const t=mt[ht];ht++,et(t),ks(t.$$)}}catch(t){throw mt.length=0,ht=0,t}for(et(null),mt.length=0,ht=0;ft.length;)ft.pop()();for(let t=0;t<vt.length;t+=1){const e=vt[t];dn.has(e)||(dn.add(e),e())}vt.length=0}while(mt.length);for(;wn.length;)wn.pop()();Cn=!1,dn.clear(),et(n)}function ks(n){if(n.fragment!==null){n.update(),ce(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(je)}}function ys(n){const t=[],e=[];vt.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),vt=t}let yt;function ws(){return yt||(yt=Promise.resolve(),yt.then(()=>{yt=null})),yt}function pn(n,t,e){n.dispatchEvent(ps(`${t?"intro":"outro"}${e}`))}const Ut=new Set;let tt;function qe(){tt={r:0,c:[],p:tt}}function De(){tt.r||ce(tt.c),tt=tt.p}function Q(n,t){n&&n.i&&(Ut.delete(n),n.i(t))}function Y(n,t,e,o){if(n&&n.o){if(Ut.has(n))return;Ut.add(n),tt.c.push(()=>{Ut.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}const Cs={duration:0};function Qe(n,t,e,o){const l={direction:"both"};let r=t(n,e,l),i=o?0:1,s=null,a=null,d=null;function f(){d&&ms(n,d)}function h(m,g){const v=m.b-i;return g*=Math.abs(v),{a:i,b:m.b,d:v,duration:g,start:m.start,end:m.start+g,group:m.group}}function _(m){const{delay:g=0,duration:v=300,easing:k=os,tick:y=te,css:b}=r||Cs,S={start:is()+g,b:m};m||(S.group=tt,tt.r+=1),s||a?a=S:(b&&(f(),d=io(n,i,m,v,g,k,b)),m&&y(0,1),s=h(S,v),je(()=>pn(n,m,"start")),ss(E=>{if(a&&E>a.start&&(s=h(a,v),a=null,pn(n,s.b,"start"),b&&(f(),d=io(n,i,s.b,s.duration,0,k,r.css))),s){if(E>=s.end)y(i=s.b,1-i),pn(n,s.b,"end"),a||(s.b?f():--s.group.r||ce(s.group.c)),s=null;else if(E>=s.start){const O=E-s.start;i=s.a+s.d*k(O/s.duration),y(i,1-i)}}return!!(s||a)}))}return{run(m){Ze(r)?ws().then(()=>{r=r(l),_(m)}):_(m)},end(){f(),s=a=null}}}function ao(n,t){const e=t.token={};function o(l,r,i,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;i!==void 0&&(a=a.slice(),a[i]=s);const d=l&&(t.current=l)(a);let f=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==r&&h&&(qe(),Y(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),De())}):t.block.d(1),d.c(),Q(d,1),d.m(t.mount(),t.anchor),f=!0),t.block=d,t.blocks&&(t.blocks[r]=d),f&&zn()}if(ls(n)){const l=kt();if(n.then(r=>{et(l),o(t.then,1,t.value,r),et(null)},r=>{if(et(l),o(t.catch,2,t.error,r),et(null),!t.hasCatch)throw r}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function Ss(n,t,e){const o=t.slice(),{resolved:l}=n;n.current===n.then&&(o[n.value]=l),n.current===n.catch&&(o[n.error]=l),n.block.p(o,e)}function Je(n,t){n.d(1),t.delete(n.key)}function As(n,t){Y(n,1,1,()=>{t.delete(n.key)})}function Ue(n,t,e,o,l,r,i,s,a,d,f,h){let _=n.length,m=r.length,g=_;const v={};for(;g--;)v[n[g].key]=g;const k=[],y=new Map,b=new Map,S=[];for(g=m;g--;){const A=h(l,r,g),M=e(A);let I=i.get(M);I?o&&S.push(()=>I.p(A,t)):(I=d(M,A),I.c()),y.set(M,k[g]=I),M in v&&b.set(M,Math.abs(g-v[M]))}const E=new Set,O=new Set;function w(A){Q(A,1),A.m(s,f),i.set(A.key,A),f=A.first,m--}for(;_&&m;){const A=k[m-1],M=n[_-1],I=A.key,P=M.key;A===M?(f=A.first,_--,m--):y.has(P)?!i.has(I)||E.has(I)?w(A):O.has(P)?_--:b.get(I)>b.get(P)?(O.add(I),w(A)):(E.add(P),_--):(a(M,i),_--)}for(;_--;){const A=n[_];y.has(A.key)||a(A,i)}for(;m;)w(k[m-1]);return ce(S),k}function Lt(n,t){const e={},o={},l={$$scope:1};let r=n.length;for(;r--;){const i=n[r],s=t[r];if(s){for(const a in i)a in s||(o[a]=1);for(const a in s)l[a]||(e[a]=s[a],l[a]=1);n[r]=s}else for(const a in i)l[a]=1}for(const i in o)i in e||(e[i]=void 0);return e}function At(n){return typeof n=="object"&&n!==null?n:{}}function co(n,t,e){const o=n.$$.props[t];o!==void 0&&(n.$$.bound[o]=e,e(n.$$.ctx[o]))}function _e(n){n&&n.c()}function de(n,t,e,o){const{fragment:l,after_update:r}=n.$$;l&&l.m(t,e),o||je(()=>{const i=n.$$.on_mount.map(ir).filter(Ze);n.$$.on_destroy?n.$$.on_destroy.push(...i):ce(i),n.$$.on_mount=[]}),r.forEach(je)}function pe(n,t){const e=n.$$;e.fragment!==null&&(ys(e.after_update),ce(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Ts(n,t){n.$$.dirty[0]===-1&&(mt.push(n),bs(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Ee(n,t,e,o,l,r,i,s=[-1]){const a=St;et(n);const d=n.$$={fragment:null,ctx:[],props:r,update:te,not_equal:l,bound:no(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:no(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};i&&i(d.root);let f=!1;if(d.ctx=e?e(n,t.props||{},(h,_,...m)=>{const g=m.length?m[0]:_;return d.ctx&&l(d.ctx[h],d.ctx[h]=g)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](g),f&&Ts(n,h)),_}):[],d.update(),f=!0,ce(d.before_update),d.fragment=o?o(d.ctx):!1,t.target){if(t.hydrate){const h=ds(t.target);d.fragment&&d.fragment.l(h),h.forEach(R)}else d.fragment&&d.fragment.c();t.intro&&Q(n.$$.fragment),de(n,t.target,t.anchor,t.customElement),zn()}et(a)}class Me{$destroy(){pe(this,1),this.$destroy=te}$on(t,e){if(!Ze(e))return te;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const l=o.indexOf(e);l!==-1&&o.splice(l,1)}}$set(t){this.$$set&&!rs(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Sn=function(n,t){return Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])},Sn(n,t)};function He(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Sn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var An=function(){return An=Object.assign||function(t){for(var e,o=1,l=arguments.length;o<l;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},An.apply(this,arguments)};function Be(n,t,e,o){return new(e||(e=Promise))(function(l,r){function i(d){try{a(o.next(d))}catch(f){r(f)}}function s(d){try{a(o.throw(d))}catch(f){r(f)}}function a(d){d.done?l(d.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(d.value).then(i,s)}a((o=o.apply(n,t||[])).next())})}function Fe(n,t){var e,o,l,r,i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(a){return function(d){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,h[0]&&(i=0)),i;)try{if(e=1,o&&(l=2&h[0]?o.return:h[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,h[1])).done)return l;switch(o=0,l&&(h=[2&h[0],l.value]),h[0]){case 0:case 1:l=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,o=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(l=i.trys,!((l=l.length>0&&l[l.length-1])||h[0]!==6&&h[0]!==2)){i=0;continue}if(h[0]===3&&(!l||h[1]>l[0]&&h[1]<l[3])){i.label=h[1];break}if(h[0]===6&&i.label<l[1]){i.label=l[1],l=h;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(h);break}l[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(n,i)}catch(_){h=[6,_],o=0}finally{e=l=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,d])}}}var fr,nt=function(n){function t(e){var o,l,r,i,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((i=(r=(l=s.originalError)===null||l===void 0?void 0:l.cause)===null||r===void 0?void 0:r.message)===null||i===void 0)&&i.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return He(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return An({},this)},t}(Error),Dt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function uo(n,t,e){var o=Object.assign({},e||{}),l=o.encode||Ps;if(!Dt.test(n))throw new TypeError("argument name is invalid");var r=l(t);if(r&&!Dt.test(r))throw new TypeError("argument val is invalid");var i=n+"="+r;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Dt.test(o.domain))throw new TypeError("option domain is invalid");i+="; Domain="+o.domain}if(o.path){if(!Dt.test(o.path))throw new TypeError("option path is invalid");i+="; Path="+o.path}if(o.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(i+="; HttpOnly"),o.secure&&(i+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function Is(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Ps(n){return encodeURIComponent(n)}function dr(n){if(n)try{var t=decodeURIComponent(fr(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Ls(n,t){t===void 0&&(t=0);var e=dr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}fr=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,l=0,r=0,i="";o=t.charAt(r++);~o&&(e=l%4?64*e+o:o,l++%4)?i+=String.fromCharCode(255&e>>(-2*l&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};var Ot=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var l=o[e],r=l[0],i=l[1];this[r]=i}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Qt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(l){return new t(l||{})}):this.expand[o]=new t(e[o]||{})},t}(Ot),Jn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Ot),fo="pb_auth",Os=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Ls(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Qt(e):new Jn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=fo);var o=function(i,s){var a={};if(typeof i!="string")return a;for(var d=Object.assign({},s||{}).decode||Is,f=0;f<i.length;){var h=i.indexOf("=",f);if(h===-1)break;var _=i.indexOf(";",f);if(_===-1)_=i.length;else if(_<h){f=i.lastIndexOf(";",h-1)+1;continue}var m=i.slice(f,h).trim();if(a[m]===void 0){var g=i.slice(h+1,_).trim();g.charCodeAt(0)===34&&(g=g.slice(1,-1));try{a[m]=d(g)}catch{a[m]=g}}f=_+1}return a}(t||"")[e]||"",l={};try{(typeof(l=JSON.parse(o))===null||typeof l!="object"||Array.isArray(l))&&(l={})}catch{}this.save(l.token||"",l.model||null)},n.prototype.exportToCookie=function(t,e){var o,l,r;e===void 0&&(e=fo);var i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=dr(this.token);s!=null&&s.exp?i.expires=new Date(1e3*s.exp):i.expires=new Date("1970-01-01"),t=Object.assign({},i,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},d=uo(e,JSON.stringify(a),t),f=typeof Blob<"u"?new Blob([d]).size:d.length;return a.model&&f>4096&&(a.model={id:(l=a==null?void 0:a.model)===null||l===void 0?void 0:l.id,email:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.email},this.model instanceof Qt&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),d=uo(e,JSON.stringify(a),t)),d},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var l=o._onChangeCallbacks.length-1;l>=0;l--)if(o._onChangeCallbacks[l]==t)return delete o._onChangeCallbacks[l],void o._onChangeCallbacks.splice(l,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Es=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return He(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new Jn(o.model):new Qt(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var l=o;typeof o!="string"&&(l=JSON.stringify(o)),window.localStorage.setItem(e,l)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Os),dt=function(t){this.client=t},Ms=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(l){return l||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var l={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.testEmail=function(e,o,l){l===void 0&&(l={});var r={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:l,body:r}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,l,r,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:l,privateKey:r,duration:i},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(dt),pr=function(t,e,o,l,r){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=l>=0?l:0,this.items=r||[]},Vn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var l=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,l.batch||200,l)},t.prototype.getList=function(e,o,l){return e===void 0&&(e=1),o===void 0&&(o=30),l===void 0&&(l={}),this._getList(this.baseCrudPath,e,o,l)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),this._update(this.baseCrudPath,e,o,l)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype._getFullList=function(e,o,l){var r=this;o===void 0&&(o=200),l===void 0&&(l={});var i=[],s=function(a){return Be(r,void 0,void 0,function(){return Fe(this,function(d){return[2,this._getList(e,a,o||200,l).then(function(f){var h=f,_=h.items,m=h.totalItems;return i=i.concat(_),_.length&&m>i.length?s(a+1):i})]})})};return s(1)},t.prototype._getList=function(e,o,l,r){var i=this;return o===void 0&&(o=1),l===void 0&&(l=30),r===void 0&&(r={}),r=Object.assign({page:o,perPage:l},r),this.client.send(e,{method:"GET",params:r}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var d=0,f=s.items;d<f.length;d++){var h=f[d];a.push(i.decode(h))}}return new pr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,l){var r=this;return l===void 0&&(l={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:l}).then(function(i){return r.decode(i)})},t.prototype._getFirstListItem=function(e,o,l){return l===void 0&&(l={}),l=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},l),this._getList(e,1,1,l).then(function(r){var i;if(!(!((i=r==null?void 0:r.items)===null||i===void 0)&&i.length))throw new nt({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},t.prototype._create=function(e,o,l){var r=this;return o===void 0&&(o={}),l===void 0&&(l={}),this.client.send(e,{method:"POST",params:l,body:o}).then(function(i){return r.decode(i)})},t.prototype._update=function(e,o,l,r){var i=this;return l===void 0&&(l={}),r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:r,body:l}).then(function(s){return i.decode(s)})},t.prototype._delete=function(e,o,l){return l===void 0&&(l={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:l}).then(function(){return!0})},t}(dt)),Rs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.decode=function(e){return new Jn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,l){var r=this;return o===void 0&&(o={}),l===void 0&&(l={}),n.prototype.update.call(this,e,o,l).then(function(i){var s,a;return r.client.authStore.model&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.id)===(i==null?void 0:i.id)&&r.client.authStore.save(r.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var l=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(r){var i,s;return r&&l.client.authStore.model&&((i=l.client.authStore.model)===null||i===void 0?void 0:i.collectionId)===void 0&&((s=l.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&l.client.authStore.clear(),r})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({identity:e,password:o},l),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:l}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,l,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:o,passwordConfirm:l},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},t}(Vn),js=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Ot),Ns=function(n){function t(e,o){var l=n.call(this,e)||this;return l.collectionIdOrName=o,l}return He(t,n),t.prototype.decode=function(e){return new Qt(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Be(this,void 0,void 0,function(){return Fe(this,function(l){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Be(this,void 0,void 0,function(){var l;return Fe(this,function(r){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return l=this.collectionIdOrName,e!=="*"&&(l+="/"+e),[2,this.client.realtime.subscribe(l,o)]})})},t.prototype.unsubscribe=function(e){return Be(this,void 0,void 0,function(){return Fe(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var l=Object.assign({},e,o);return n.prototype.getFullList.call(this,l)},t.prototype.getList=function(e,o,l){return e===void 0&&(e=1),o===void 0&&(o=30),l===void 0&&(l={}),n.prototype.getList.call(this,e,o,l)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,l){var r=this;return o===void 0&&(o={}),l===void 0&&(l={}),n.prototype.update.call(this,e,o,l).then(function(i){var s,a,d;return((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)!==(i==null?void 0:i.id)||((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==r.collectionIdOrName&&((d=r.client.authStore.model)===null||d===void 0?void 0:d.collectionName)!==r.collectionIdOrName||r.client.authStore.save(r.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var l=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(r){var i,s,a;return!r||((i=l.client.authStore.model)===null||i===void 0?void 0:i.id)!==e||((s=l.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==l.collectionIdOrName&&((a=l.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==l.collectionIdOrName||l.client.authStore.clear(),r})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,l,r){var i=this;return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({identity:e,password:o},l),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:l}).then(function(s){return i.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,l,r,i,s,a){var d=this;return i===void 0&&(i={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:l,redirectUrl:r,createData:i},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(f){return d.authResponse(f)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Be(this,void 0,void 0,function(){var l,r,i,s,a=this;return Fe(this,function(d){switch(d.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(l=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(r=d.sent(),!(i=r.authProviders.find(function(f){return f.name===l.provider})))throw new nt(new Error('Missing or invalid provider "'.concat(l.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(f,h){return Be(a,void 0,void 0,function(){var _,m,g,v,k=this;return Fe(this,function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(b){return Be(k,void 0,void 0,function(){var S,E,O;return Fe(this,function(w){switch(w.label){case 0:S=this.client.realtime.clientId,w.label=1;case 1:if(w.trys.push([1,3,,4]),_(),!b.state||S!==b.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(i.name,b.code,i.codeVerifier,s,l.createData,l.body,l.query)];case 2:return E=w.sent(),f(E),[3,4];case 3:return O=w.sent(),h(new nt(O)),[3,4];case 4:return[2]}})})})];case 1:return _=y.sent(),(m=new URL(i.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((v=l.scopes)===null||v===void 0)&&v.length&&m.searchParams.set("scope",l.scopes.join(" ")),[4,l.urlCallback?l.urlCallback(m.toString()):this._defaultUrlCallback(m.toString())];case 2:return y.sent(),[3,4];case 3:return g=y.sent(),h(new nt(g)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var l=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(r){return l.authResponse(r)})},t.prototype.requestPasswordReset=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,l,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:o,passwordConfirm:l},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,l){return o===void 0&&(o={}),l===void 0&&(l={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,l,r){return l===void 0&&(l={}),r===void 0&&(r={}),l=Object.assign({token:e,password:o},l),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:l}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(l){var r=[];if(Array.isArray(l))for(var i=0,s=l;i<s.length;i++){var a=s[i];r.push(new js(a))}return r})},t.prototype.unlinkExternalAuth=function(e,o,l){return l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:l}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new nt(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,l=768,r=window.innerWidth,i=window.innerHeight,s=r/2-(o=o>r?r:o)/2,a=i/2-(l=l>i?i:l)/2;window.open(e,"oauth2-popup","width="+o+",height="+l+",top="+a+",left="+s+",resizable,menubar=no")},t}(Vn),qs=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ds=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,l=e.schema;o<l.length;o++){var r=l[o];this.schema.push(new qs(r))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Ot),Bs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.decode=function(e){return new Ds(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,l){return o===void 0&&(o=!1),l===void 0&&(l={}),Be(this,void 0,void 0,function(){return Fe(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:l,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Vn),po=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Ot),Fs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.getRequestsList=function(e,o,l){return e===void 0&&(e=1),o===void 0&&(o=30),l===void 0&&(l={}),l=Object.assign({page:e,perPage:o},l),this.client.send("/api/logs/requests",{method:"GET",params:l}).then(function(r){var i=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var s=0,a=r.items;s<a.length;s++){var d=a[s];i.push(new po(d))}}return new pr((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,i)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(l){return new po(l)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(dt),Us=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return He(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var l;return Be(this,void 0,void 0,function(){var r,i=this;return Fe(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return r=function(a){var d,f=a;try{d=JSON.parse(f==null?void 0:f.data)}catch{}o(d||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(l=this.eventSource)===null||l===void 0||l.addEventListener(e,r),s.label=5;case 5:return[2,function(){return Be(i,void 0,void 0,function(){return Fe(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,r)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Be(this,void 0,void 0,function(){var l,r,i;return Fe(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(l=0,r=this.subscriptions[e];l<r.length;l++)i=r[l],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,i);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Be(this,void 0,void 0,function(){var l,r,i,s,a;return Fe(this,function(d){switch(d.label){case 0:for(r in l=!1,this.subscriptions)if(r.startsWith(e)){for(l=!0,i=0,s=this.subscriptions[r];i<s.length;i++)a=s[i],(o=this.eventSource)===null||o===void 0||o.removeEventListener(r,a);delete this.subscriptions[r]}return l?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var l;return Be(this,void 0,void 0,function(){var r,i;return Fe(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(r=!1,i=this.subscriptions[e].length-1;i>=0;i--)this.subscriptions[e][i]===o&&(r=!0,delete this.subscriptions[e][i],this.subscriptions[e].splice(i,1),(l=this.eventSource)===null||l===void 0||l.removeEventListener(e,o));return r?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,l;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var r in this.subscriptions)if(!((l=this.subscriptions[r])===null||l===void 0)&&l.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Be(this,void 0,void 0,function(){return Fe(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,l=this.subscriptions[e];o<l.length;o++){var r=l[o];this.eventSource.addEventListener(e,r)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,l=this.subscriptions[e];o<l.length;o++){var r=l[o];this.eventSource.removeEventListener(e,r)}},t.prototype.connect=function(){return Be(this,void 0,void 0,function(){var e=this;return Fe(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(l,r){e.pendingConnects.push({resolve:l,reject:r}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var l=o;e.clientId=l==null?void 0:l.lastEventId,e.submitSubscriptions().then(function(){return Be(e,void 0,void 0,function(){var r;return Fe(this,function(i){switch(i.label){case 0:r=3,i.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return i.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,i=e.pendingConnects;r<i.length;r++)i[r].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(r){e.clientId="",e.connectErrorHandler(r)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,l=e;o<l.length;o++){var r=l[o];if(!this.lastSentTopics.includes(r))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var l=0,r=this.pendingConnects;l<r.length;l++)r[l].reject(new nt(e));this.disconnect()}else{this.disconnect(!0);var i=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},i)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var l=new nt(new Error("Realtime disconnected.")),r=0,i=this.pendingConnects;r<i.length;r++)i[r].reject(l);this.pendingConnects=[]}},t}(dt),Hs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(dt),zs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.getUrl=function(e,o,l){l===void 0&&(l={});var r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(o));var i=this.client.buildUrl(r.join("/"));if(Object.keys(l).length){var s=new URLSearchParams(l);i+=(i.includes("?")?"&":"?")+s}return i},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(dt),Js=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return He(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var l={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(dt),Vs=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Es,this.admins=new Rs(this),this.collections=new Bs(this),this.files=new zs(this),this.logs=new Fs(this),this.settings=new Ms(this),this.realtime=new Us(this),this.health=new Hs(this),this.backups=new Js(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Ns(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,l,r,i,s,a,d,f;return Be(this,void 0,void 0,function(){var h,_,m,g,v,k,y,b,S,E=this;return Fe(this,function(O){switch(O.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((i=h==null?void 0:h.headers)===null||i===void 0?void 0:i.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),m=new AbortController,this.cancelControllers[_]=m,h.signal=m.signal),(d=h.params)===null||d===void 0||delete d.$autoCancel,(f=h.params)===null||f===void 0||delete f.$cancelKey,g=this.buildUrl(t),h.params!==void 0&&((v=this.serializeQueryParams(h.params))&&(g+=(g.includes("?")?"&":"?")+v),delete h.params),this.beforeSend?(b=(y=Object).assign,S=[{}],[4,this.beforeSend(g,h)]):[3,2];case 1:(k=b.apply(y,S.concat([O.sent()]))).url!==void 0||k.options!==void 0?(g=k.url||g,h=k.options||h):Object.keys(k).length&&(h=k,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),O.label=2;case 2:return[2,fetch(g,h).then(function(w){return Be(E,void 0,void 0,function(){var A;return Fe(this,function(M){switch(M.label){case 0:A={},M.label=1;case 1:return M.trys.push([1,3,,4]),[4,w.json()];case 2:return A=M.sent(),[3,4];case 3:return M.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(w,A)]:[3,6];case 5:A=M.sent(),M.label=6;case 6:if(w.status>=400)throw new nt({url:w.url,status:w.status,data:A});return[2,A]}})})}).catch(function(w){throw new nt(w)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var l=t[o],r=encodeURIComponent(o);if(Array.isArray(l))for(var i=0,s=l;i<s.length;i++){var a=s[i];e.push(r+"="+encodeURIComponent(a))}else l instanceof Date?e.push(r+"="+encodeURIComponent(l.toISOString())):typeof l!==null&&typeof l=="object"?e.push(r+"="+encodeURIComponent(JSON.stringify(l))):e.push(r+"="+encodeURIComponent(l))}return e.join("&")},n}();const _t=[];function Gs(n,t){return{subscribe:Ke(n,t).subscribe}}function Ke(n,t=te){let e;const o=new Set;function l(s){if(Le(n,s)&&(n=s,e)){const a=!_t.length;for(const d of o)d[1](),_t.push(d,n);if(a){for(let d=0;d<_t.length;d+=2)_t[d][0](_t[d+1]);_t.length=0}}}function r(s){l(s(n))}function i(s,a=te){const d=[s,a];return o.add(d),o.size===1&&(e=t(l)||te),s(n),()=>{o.delete(d),o.size===0&&e&&(e(),e=null)}}return{set:l,update:r,subscribe:i}}function hr(n,t,e){const o=!Array.isArray(n),l=o?[n]:n,r=t.length<2;return Gs(e,i=>{let s=!1;const a=[];let d=0,f=te;const h=()=>{if(d)return;f();const m=t(o?a[0]:a,i);r?i(m):f=Ze(m)?m:te},_=l.map((m,g)=>Bn(m,v=>{a[g]=v,d&=~(1<<g),s&&h()},()=>{d|=1<<g}));return s=!0,h(),function(){ce(_),f(),s=!1}})}const nn="https://pb.readinglog.fun:4444",ge=new Vs(nn),We=Ke(ge.authStore.model);ge.authStore.onChange(n=>{console.log("authStore changed",n),We.set(ge.authStore.model)});const Tn=Ke("10"),Oe="bottom-center",ho={},In={},Ws={},_r=/^:(.+)/,_o=4,Qs=3,Ks=2,Ys=1,Xs=1,Pn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),hn=n=>n.replace(/(^\/+|\/+$)/g,""),Zs=(n,t)=>{const e=n.default?0:Pn(n.path).reduce((o,l)=>(o+=_o,l===""?o+=Xs:_r.test(l)?o+=Ks:l[0]==="*"?o-=_o+Ys:o+=Qs,o),0);return{route:n,score:e,index:t}},$s=n=>n.map(Zs).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),mo=(n,t)=>{let e,o;const[l]=t.split("?"),r=Pn(l),i=r[0]==="",s=$s(n);for(let a=0,d=s.length;a<d;a++){const f=s[a].route;let h=!1;if(f.default){o={route:f,params:{},uri:t};continue}const _=Pn(f.path),m={},g=Math.max(r.length,_.length);let v=0;for(;v<g;v++){const k=_[v],y=r[v];if(k&&k[0]==="*"){const S=k==="*"?"*":k.slice(1);m[S]=r.slice(v).map(decodeURIComponent).join("/");break}if(typeof y>"u"){h=!0;break}const b=_r.exec(k);if(b&&!i){const S=decodeURIComponent(y);m[b[1]]=S}else if(k!==y){h=!0;break}}if(!h){e={route:f,params:m,uri:"/"+r.slice(0,v).join("/")};break}}return e||o||null},go=(n,t)=>`${hn(t==="/"?n:`${hn(n)}/${hn(t)}`)}/`,mr=typeof window<"u"&&"document"in window,_n=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),xs=n=>{const t=[];let e=_n(n);return{get location(){return e},listen(o){t.push(o);const l=()=>{e=_n(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",l),()=>{n.removeEventListener("popstate",l);const r=t.indexOf(o);t.splice(r,1)}},navigate(o,{state:l,replace:r=!1}={}){l={...l,key:Date.now()+""};try{r?n.history.replaceState(l,"",o):n.history.pushState(l,"",o)}catch{n.location[r?"replace":"assign"](o)}e=_n(n),t.forEach(i=>i({location:e,action:"PUSH"})),document.activeElement.blur()}}},ea=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(l,r){},removeEventListener(l,r){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(l,r,i){const[s,a=""]=i.split("?");t++,e.push({pathname:s,search:a}),o.push(l)},replaceState(l,r,i){const[s,a=""]=i.split("?");e[t]={pathname:s,search:a},o[t]=l}}}},gr=xs(mr?window:ea()),{navigate:Gn}=gr,ta=n=>({route:n&2,location:n&1}),vo=n=>({route:n[1]&&n[1].uri,location:n[0]});function na(n){let t;const e=n[12].default,o=$t(e,n,n[11],vo);return{c(){o&&o.c()},m(l,r){o&&o.m(l,r),t=!0},p(l,[r]){o&&o.p&&(!t||r&2051)&&en(o,e,l,l[11],t?xt(e,l[11],r,ta):tn(l[11]),vo)},i(l){t||(Q(o,l),t=!0)},o(l){Y(o,l),t=!1},d(l){o&&o.d(l)}}}function oa(n,t,e){let o,l,r,i,{$$slots:s={},$$scope:a}=t,{basepath:d="/"}=t,{url:f=null}=t,{history:h=gr}=t;fn(Ws,h);const _=yn(ho),m=yn(In),g=Ke([]);Ne(n,g,w=>e(9,l=w));const v=Ke(null);Ne(n,v,w=>e(1,i=w));let k=!1;const y=_||Ke(f?{pathname:f}:h.location);Ne(n,y,w=>e(0,o=w));const b=m?m.routerBase:Ke({path:d,uri:d});Ne(n,b,w=>e(10,r=w));const S=hr([b,v],([w,A])=>{if(!A)return w;const{path:M}=w,{route:I,uri:P}=A;return{path:I.default?M:I.path.replace(/\*.*$/,""),uri:P}}),E=w=>{const{path:A}=r;let{path:M}=w;if(w._path=M,w.path=go(A,M),typeof window>"u"){if(k)return;const I=mo([w],o.pathname);I&&(v.set(I),k=!0)}else g.update(I=>[...I,w])},O=w=>{g.update(A=>A.filter(M=>M!==w))};return _||(st(()=>h.listen(A=>{y.set(A.location)})),fn(ho,y)),fn(In,{activeRoute:v,base:b,routerBase:S,registerRoute:E,unregisterRoute:O}),n.$$set=w=>{"basepath"in w&&e(6,d=w.basepath),"url"in w&&e(7,f=w.url),"history"in w&&e(8,h=w.history),"$$scope"in w&&e(11,a=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:w}=r;g.update(A=>A.map(M=>({...M,path:go(w,M._path)})))}if(n.$$.dirty&513){const w=mo(l,o.pathname);v.set(w)}},[o,i,g,v,y,b,d,f,h,l,r,a,s]}class Wn extends Me{constructor(t){super(),Ee(this,t,oa,na,Le,{basepath:6,url:7,history:8})}}const la=n=>({params:n&4}),bo=n=>({params:n[2]});function ko(n){let t,e,o,l;const r=[ia,ra],i=[];function s(a,d){return a[0]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),o=Ae()},m(a,d){i[t].m(a,d),j(a,o,d),l=!0},p(a,d){let f=t;t=s(a),t===f?i[t].p(a,d):(qe(),Y(i[f],1,1,()=>{i[f]=null}),De(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),Q(e,1),e.m(o.parentNode,o))},i(a){l||(Q(e),l=!0)},o(a){Y(e),l=!1},d(a){i[t].d(a),a&&R(o)}}}function ra(n){let t;const e=n[8].default,o=$t(e,n,n[7],bo);return{c(){o&&o.c()},m(l,r){o&&o.m(l,r),t=!0},p(l,r){o&&o.p&&(!t||r&132)&&en(o,e,l,l[7],t?xt(e,l[7],r,la):tn(l[7]),bo)},i(l){t||(Q(o,l),t=!0)},o(l){Y(o,l),t=!1},d(l){o&&o.d(l)}}}function ia(n){let t,e,o,l={ctx:n,current:null,token:null,hasCatch:!1,pending:ca,then:aa,catch:sa,value:12,blocks:[,,,]};return ao(e=n[0],l),{c(){t=Ae(),l.block.c()},m(r,i){j(r,t,i),l.block.m(r,l.anchor=i),l.mount=()=>t.parentNode,l.anchor=t,o=!0},p(r,i){n=r,l.ctx=n,i&1&&e!==(e=n[0])&&ao(e,l)||Ss(l,n,i)},i(r){o||(Q(l.block),o=!0)},o(r){for(let i=0;i<3;i+=1){const s=l.blocks[i];Y(s)}o=!1},d(r){r&&R(t),l.block.d(r),l.token=null,l=null}}}function sa(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function aa(n){var s;let t,e,o;const l=[n[2],n[3]];var r=((s=n[12])==null?void 0:s.default)||n[12];function i(a){let d={};for(let f=0;f<l.length;f+=1)d=ot(d,l[f]);return{props:d}}return r&&(t=lt(r,i())),{c(){t&&_e(t.$$.fragment),e=Ae()},m(a,d){t&&de(t,a,d),j(a,e,d),o=!0},p(a,d){var h;const f=d&12?Lt(l,[d&4&&At(a[2]),d&8&&At(a[3])]):{};if(d&1&&r!==(r=((h=a[12])==null?void 0:h.default)||a[12])){if(t){qe();const _=t;Y(_.$$.fragment,1,0,()=>{pe(_,1)}),De()}r?(t=lt(r,i()),_e(t.$$.fragment),Q(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else r&&t.$set(f)},i(a){o||(t&&Q(t.$$.fragment,a),o=!0)},o(a){t&&Y(t.$$.fragment,a),o=!1},d(a){a&&R(e),t&&pe(t,a)}}}function ca(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function ua(n){let t,e,o=n[1]&&n[1].route===n[5]&&ko(n);return{c(){o&&o.c(),t=Ae()},m(l,r){o&&o.m(l,r),j(l,t,r),e=!0},p(l,[r]){l[1]&&l[1].route===l[5]?o?(o.p(l,r),r&2&&Q(o,1)):(o=ko(l),o.c(),Q(o,1),o.m(t.parentNode,t)):o&&(qe(),Y(o,1,1,()=>{o=null}),De())},i(l){e||(Q(o),e=!0)},o(l){Y(o),e=!1},d(l){o&&o.d(l),l&&R(t)}}}function fa(n,t,e){let o,{$$slots:l={},$$scope:r}=t,{path:i=""}=t,{component:s=null}=t,a={},d={};const{registerRoute:f,unregisterRoute:h,activeRoute:_}=yn(In);Ne(n,_,g=>e(1,o=g));const m={path:i,default:i===""};return f(m),Hn(()=>{h(m)}),n.$$set=g=>{e(11,t=ot(ot({},t),oo(g))),"path"in g&&e(6,i=g.path),"component"in g&&e(0,s=g.component),"$$scope"in g&&e(7,r=g.$$scope)},n.$$.update=()=>{{o&&o.route===m&&e(2,a=o.params);const{component:g,path:v,...k}=t;e(3,d=k),mr&&(window==null||window.scrollTo(0,0)),g&&(g.toString().startsWith("class ")?e(0,s=g):e(0,s=g()))}},t=oo(t),[s,o,a,d,_,m,i,r,l]}class bt extends Me{constructor(t){super(),Ee(this,t,fa,ua,Le,{path:6,component:0})}}function da(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(l,r){j(l,t,r),e||(o=T(t,"click",n[0]),e=!0)},p:te,i:te,o:te,d(l){l&&R(t),e=!1,o()}}}function pa(n){function t(){Gn("/signup")}return[t]}class ha extends Me{constructor(t){super(),Ee(this,t,pa,da,Le,{})}}function _a(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O;return g=new ha({}),{c(){t=p("body"),e=p("main"),o=p("article"),l=p("div"),r=p("hgroup"),r.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,i=C(),s=p("form"),a=p("input"),d=C(),f=p("input"),h=C(),_=p("button"),_.textContent="Login",m=C(),_e(g.$$.fragment),v=C(),k=p("br"),y=C(),b=p("a"),b.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(f,"placeholder","Password"),u(f,"type","password"),u(_,"class","svelte-unkkz3"),u(b,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,A){j(w,t,A),c(t,e),c(e,o),c(o,l),c(l,r),c(l,i),c(l,s),c(s,a),$(a,n[0]),c(s,d),c(s,f),$(f,n[1]),c(s,h),c(s,_),c(l,m),de(g,l,null),c(l,v),c(l,k),c(l,y),c(l,b),S=!0,E||(O=[T(a,"input",n[4]),T(f,"input",n[5]),T(_,"click",n[2]),T(s,"submit",Ge(n[3]))],E=!0)},p(w,[A]){A&1&&a.value!==w[0]&&$(a,w[0]),A&2&&f.value!==w[1]&&$(f,w[1])},i(w){S||(Q(g.$$.fragment,w),S=!0)},o(w){Y(g.$$.fragment,w),S=!1},d(w){w&&R(t),pe(g),E=!1,ce(O)}}}function ma(n,t,e){let o,l;async function r(){try{const d=await ge.collection("users").authWithPassword(o,l);console.log(d)}catch(d){alert(d)}}function i(d){Ve.call(this,n,d)}function s(){o=this.value,e(0,o)}function a(){l=this.value,e(1,l)}return[o,l,r,i,s,a]}class Qn extends Me{constructor(t){super(),Ee(this,t,ma,_a,Le,{})}}function ga(n,t,e,o){var l,r,i=!1,s=e.length>=2,a=(g,v,k)=>{if(l=v,s&&(r=g),!i){let y=t(g,v,k);if(t.length<2)v(y);else return y}i=!1},d=hr(n,a,o),f=!Array.isArray(n);function h(g){var v=e(g,r);f?(i=!0,n.set(v)):v.forEach((k,y)=>{i=!0,n[y].set(k)}),i=!1}var _=!1;function m(g){var v,k,y,b;if(_){b=g(kn(d)),l(b);return}var S=d.subscribe(E=>{_?v?k=!0:v=!0:y=E});b=g(y),_=!0,l(b),S(),_=!1,k&&(b=kn(d)),v&&h(b)}return{subscribe:d.subscribe,set(g){m(()=>g)},update:m}}const va=20,pt=Ke([]),Kn=Ke(null),Ht=new Map,yo=n=>{if(Ht.has(n))return;const t=setTimeout(()=>{Ht.delete(n),br(n)},1e3);Ht.set(n,t)},ba=n=>{const t=Ht.get(n);t&&clearTimeout(t)};function vr(n){n.id&&ba(n.id),pt.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function ka(n){pt.update(t=>[n,...t].slice(0,va))}function ya(n){kn(pt).find(t=>t.id===n.id)?vr(n):ka(n)}function wa(n){pt.update(t=>(n?yo(n):t.forEach(e=>{yo(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function br(n){pt.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function Ca(n){Kn.set(n)}function Sa(n){let t;Kn.update(e=>(t=n-(e||0),null)),pt.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const Aa={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function Ta(n={}){return{toasts:ga(pt,e=>e.map(o=>{var l,r;return{...n,...n[o.type],...o,duration:o.duration||((l=n[o.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||Aa[o.type],style:[n.style,(r=n[o.type])==null?void 0:r.style,o.style].join(";")}}),e=>e),pausedAt:Kn}}const Ia=n=>typeof n=="function",wo=(n,t)=>Ia(n)?n(t):n,Pa=(()=>{let n=0;return()=>(n+=1,n.toString())})(),kr=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),La=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Pa()}),Et=n=>(t,e)=>{const o=La(t,n,e);return ya(o),o.id},ke=(n,t)=>Et("blank")(n,t);ke.error=Et("error");ke.success=Et("success");ke.loading=Et("loading");ke.custom=Et("custom");ke.dismiss=n=>{wa(n)};ke.remove=n=>br(n);ke.promise=(n,t,e)=>{const o=ke.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(l=>(ke.success(wo(t.success,l),{id:o,...e,...e==null?void 0:e.success}),l)).catch(l=>{ke.error(wo(t.error,l),{id:o,...e,...e==null?void 0:e.error})}),n};function Oa(n,t,e){const{reverseOrder:o,gutter:l=8,defaultPosition:r}=e||{},i=t.filter(f=>(f.position||r)===(n.position||r)&&f.height),s=i.findIndex(f=>f.id===n.id),a=i.filter((f,h)=>h<s&&f.visible).length;return i.filter(f=>f.visible).slice(...o?[a+1]:[0,a]).reduce((f,h)=>f+(h.height||0)+l,0)}const Ea={startPause(){Ca(Date.now())},endPause(){Sa(Date.now())},updateHeight:(n,t)=>{vr({id:n,height:t})},calculateOffset:Oa};function Ma(n){const{toasts:t,pausedAt:e}=Ta(n),o=new Map;let l;const r=[e.subscribe(i=>{if(i){for(const[,s]of o)clearTimeout(s);o.clear()}l=i}),t.subscribe(i=>{if(l)return;const s=Date.now();for(const a of i){if(o.has(a.id)||a.duration===1/0)continue;const d=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(d<0)return a.visible&&ke.dismiss(a.id),null;o.set(a.id,setTimeout(()=>ke.dismiss(a.id),d))}})];return Hn(()=>{for(const i of r)i()}),{toasts:t,handlers:Ea}}function Ra(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),Se(t,"--primary",n[0]),Se(t,"--secondary",n[1])},m(e,o){j(e,t,o)},p(e,[o]){o&1&&Se(t,"--primary",e[0]),o&2&&Se(t,"--secondary",e[1])},i:te,o:te,d(e){e&&R(t)}}}function ja(n,t,e){let{primary:o="#61d345"}=t,{secondary:l="#fff"}=t;return n.$$set=r=>{"primary"in r&&e(0,o=r.primary),"secondary"in r&&e(1,l=r.secondary)},[o,l]}class Na extends Me{constructor(t){super(),Ee(this,t,ja,Ra,Le,{primary:0,secondary:1})}}function qa(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),Se(t,"--primary",n[0]),Se(t,"--secondary",n[1])},m(e,o){j(e,t,o)},p(e,[o]){o&1&&Se(t,"--primary",e[0]),o&2&&Se(t,"--secondary",e[1])},i:te,o:te,d(e){e&&R(t)}}}function Da(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:l="#fff"}=t;return n.$$set=r=>{"primary"in r&&e(0,o=r.primary),"secondary"in r&&e(1,l=r.secondary)},[o,l]}class Ba extends Me{constructor(t){super(),Ee(this,t,Da,qa,Le,{primary:0,secondary:1})}}function Fa(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),Se(t,"--primary",n[0]),Se(t,"--secondary",n[1])},m(e,o){j(e,t,o)},p(e,[o]){o&1&&Se(t,"--primary",e[0]),o&2&&Se(t,"--secondary",e[1])},i:te,o:te,d(e){e&&R(t)}}}function Ua(n,t,e){let{primary:o="#616161"}=t,{secondary:l="#e0e0e0"}=t;return n.$$set=r=>{"primary"in r&&e(0,o=r.primary),"secondary"in r&&e(1,l=r.secondary)},[o,l]}class Ha extends Me{constructor(t){super(),Ee(this,t,Ua,Fa,Le,{primary:0,secondary:1})}}function za(n){let t,e,o,l;const r=[n[0]];let i={};for(let a=0;a<r.length;a+=1)i=ot(i,r[a]);e=new Ha({props:i});let s=n[2]!=="loading"&&Co(n);return{c(){t=p("div"),_e(e.$$.fragment),o=C(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,d){j(a,t,d),de(e,t,null),c(t,o),s&&s.m(t,null),l=!0},p(a,d){const f=d&1?Lt(r,[At(a[0])]):{};e.$set(f),a[2]!=="loading"?s?(s.p(a,d),d&4&&Q(s,1)):(s=Co(a),s.c(),Q(s,1),s.m(t,null)):s&&(qe(),Y(s,1,1,()=>{s=null}),De())},i(a){l||(Q(e.$$.fragment,a),Q(s),l=!0)},o(a){Y(e.$$.fragment,a),Y(s),l=!1},d(a){a&&R(t),pe(e),s&&s.d()}}}function Ja(n){let t,e,o;var l=n[1];function r(i){return{}}return l&&(t=lt(l,r())),{c(){t&&_e(t.$$.fragment),e=Ae()},m(i,s){t&&de(t,i,s),j(i,e,s),o=!0},p(i,s){if(s&2&&l!==(l=i[1])){if(t){qe();const a=t;Y(a.$$.fragment,1,0,()=>{pe(a,1)}),De()}l?(t=lt(l,r()),_e(t.$$.fragment),Q(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}},i(i){o||(t&&Q(t.$$.fragment,i),o=!0)},o(i){t&&Y(t.$$.fragment,i),o=!1},d(i){i&&R(e),t&&pe(t,i)}}}function Va(n){let t,e;return{c(){t=p("div"),e=B(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,l){j(o,t,l),c(t,e)},p(o,l){l&2&&re(e,o[1])},i:te,o:te,d(o){o&&R(t)}}}function Co(n){let t,e,o,l;const r=[Wa,Ga],i=[];function s(a,d){return a[2]==="error"?0:1}return e=s(n),o=i[e]=r[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,d){j(a,t,d),i[e].m(t,null),l=!0},p(a,d){let f=e;e=s(a),e===f?i[e].p(a,d):(qe(),Y(i[f],1,1,()=>{i[f]=null}),De(),o=i[e],o?o.p(a,d):(o=i[e]=r[e](a),o.c()),Q(o,1),o.m(t,null))},i(a){l||(Q(o),l=!0)},o(a){Y(o),l=!1},d(a){a&&R(t),i[e].d()}}}function Ga(n){let t,e;const o=[n[0]];let l={};for(let r=0;r<o.length;r+=1)l=ot(l,o[r]);return t=new Na({props:l}),{c(){_e(t.$$.fragment)},m(r,i){de(t,r,i),e=!0},p(r,i){const s=i&1?Lt(o,[At(r[0])]):{};t.$set(s)},i(r){e||(Q(t.$$.fragment,r),e=!0)},o(r){Y(t.$$.fragment,r),e=!1},d(r){pe(t,r)}}}function Wa(n){let t,e;const o=[n[0]];let l={};for(let r=0;r<o.length;r+=1)l=ot(l,o[r]);return t=new Ba({props:l}),{c(){_e(t.$$.fragment)},m(r,i){de(t,r,i),e=!0},p(r,i){const s=i&1?Lt(o,[At(r[0])]):{};t.$set(s)},i(r){e||(Q(t.$$.fragment,r),e=!0)},o(r){Y(t.$$.fragment,r),e=!1},d(r){pe(t,r)}}}function Qa(n){let t,e,o,l;const r=[Va,Ja,za],i=[];function s(a,d){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=i[t]=r[t](n)),{c(){e&&e.c(),o=Ae()},m(a,d){~t&&i[t].m(a,d),j(a,o,d),l=!0},p(a,[d]){let f=t;t=s(a),t===f?~t&&i[t].p(a,d):(e&&(qe(),Y(i[f],1,1,()=>{i[f]=null}),De()),~t?(e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),Q(e,1),e.m(o.parentNode,o)):e=null)},i(a){l||(Q(e),l=!0)},o(a){Y(e),l=!1},d(a){~t&&i[t].d(a),a&&R(o)}}}function Ka(n,t,e){let o,l,r,{toast:i}=t;return n.$$set=s=>{"toast"in s&&e(3,i=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:l,iconTheme:r}=i,o,(e(1,l),e(3,i)),(e(0,r),e(3,i)))},[r,l,o,i]}class Yn extends Me{constructor(t){super(),Ee(this,t,Ka,Qa,Le,{toast:3})}}function Ya(n){let t,e,o;var l=n[0].message;function r(i){return{props:{toast:i[0]}}}return l&&(t=lt(l,r(n))),{c(){t&&_e(t.$$.fragment),e=Ae()},m(i,s){t&&de(t,i,s),j(i,e,s),o=!0},p(i,s){const a={};if(s&1&&(a.toast=i[0]),s&1&&l!==(l=i[0].message)){if(t){qe();const d=t;Y(d.$$.fragment,1,0,()=>{pe(d,1)}),De()}l?(t=lt(l,r(i)),_e(t.$$.fragment),Q(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else l&&t.$set(a)},i(i){o||(t&&Q(t.$$.fragment,i),o=!0)},o(i){t&&Y(t.$$.fragment,i),o=!1},d(i){i&&R(e),t&&pe(t,i)}}}function Xa(n){let t=n[0].message+"",e;return{c(){e=B(t)},m(o,l){j(o,e,l)},p(o,l){l&1&&t!==(t=o[0].message+"")&&re(e,t)},i:te,o:te,d(o){o&&R(e)}}}function Za(n){let t,e,o,l;const r=[Xa,Ya],i=[];function s(f,h){return typeof f[0].message=="string"?0:1}e=s(n),o=i[e]=r[e](n);let a=[{class:"message"},n[0].ariaProps],d={};for(let f=0;f<a.length;f+=1)d=ot(d,a[f]);return{c(){t=p("div"),o.c(),ro(t,d),ct(t,"svelte-1nauejd",!0)},m(f,h){j(f,t,h),i[e].m(t,null),l=!0},p(f,[h]){let _=e;e=s(f),e===_?i[e].p(f,h):(qe(),Y(i[_],1,1,()=>{i[_]=null}),De(),o=i[e],o?o.p(f,h):(o=i[e]=r[e](f),o.c()),Q(o,1),o.m(t,null)),ro(t,d=Lt(a,[{class:"message"},h&1&&f[0].ariaProps])),ct(t,"svelte-1nauejd",!0)},i(f){l||(Q(o),l=!0)},o(f){Y(o),l=!1},d(f){f&&R(t),i[e].d()}}}function $a(n,t,e){let{toast:o}=t;return n.$$set=l=>{"toast"in l&&e(0,o=l.toast)},[o]}class on extends Me{constructor(t){super(),Ee(this,t,$a,Za,Le,{toast:0})}}const xa=n=>({toast:n&1}),So=n=>({ToastIcon:Yn,ToastMessage:on,toast:n[0]});function ec(n){let t;const e=n[6].default,o=$t(e,n,n[7],So),l=o||nc(n);return{c(){l&&l.c()},m(r,i){l&&l.m(r,i),t=!0},p(r,i){o?o.p&&(!t||i&129)&&en(o,e,r,r[7],t?xt(e,r[7],i,xa):tn(r[7]),So):l&&l.p&&(!t||i&1)&&l.p(r,t?i:-1)},i(r){t||(Q(l,r),t=!0)},o(r){Y(l,r),t=!1},d(r){l&&l.d(r)}}}function tc(n){let t,e,o;var l=n[2];function r(i){return{props:{$$slots:{message:[lc],icon:[oc]},$$scope:{ctx:i}}}}return l&&(t=lt(l,r(n))),{c(){t&&_e(t.$$.fragment),e=Ae()},m(i,s){t&&de(t,i,s),j(i,e,s),o=!0},p(i,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:i}),s&4&&l!==(l=i[2])){if(t){qe();const d=t;Y(d.$$.fragment,1,0,()=>{pe(d,1)}),De()}l?(t=lt(l,r(i)),_e(t.$$.fragment),Q(t.$$.fragment,1),de(t,e.parentNode,e)):t=null}else l&&t.$set(a)},i(i){o||(t&&Q(t.$$.fragment,i),o=!0)},o(i){t&&Y(t.$$.fragment,i),o=!1},d(i){i&&R(e),t&&pe(t,i)}}}function nc(n){let t,e,o,l;return t=new Yn({props:{toast:n[0]}}),o=new on({props:{toast:n[0]}}),{c(){_e(t.$$.fragment),e=C(),_e(o.$$.fragment)},m(r,i){de(t,r,i),j(r,e,i),de(o,r,i),l=!0},p(r,i){const s={};i&1&&(s.toast=r[0]),t.$set(s);const a={};i&1&&(a.toast=r[0]),o.$set(a)},i(r){l||(Q(t.$$.fragment,r),Q(o.$$.fragment,r),l=!0)},o(r){Y(t.$$.fragment,r),Y(o.$$.fragment,r),l=!1},d(r){pe(t,r),r&&R(e),pe(o,r)}}}function oc(n){let t,e;return t=new Yn({props:{toast:n[0],slot:"icon"}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l&1&&(r.toast=o[0]),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function lc(n){let t,e;return t=new on({props:{toast:n[0],slot:"message"}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l&1&&(r.toast=o[0]),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function rc(n){let t,e,o,l,r,i;const s=[tc,ec],a=[];function d(f,h){return f[2]?0:1}return e=d(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",l="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",r=n[1]+"; "+n[0].style),Se(t,"--factor",n[3])},m(f,h){j(f,t,h),a[e].m(t,null),i=!0},p(f,[h]){let _=e;e=d(f),e===_?a[e].p(f,h):(qe(),Y(a[_],1,1,()=>{a[_]=null}),De(),o=a[e],o?o.p(f,h):(o=a[e]=s[e](f),o.c()),Q(o,1),o.m(t,null)),(!i||h&17&&l!==(l="base "+(f[0].height?f[4]:"transparent")+" "+(f[0].className||"")+" svelte-ug60r4"))&&u(t,"class",l),(!i||h&3&&r!==(r=f[1]+"; "+f[0].style))&&u(t,"style",r),(h&3||h&11)&&Se(t,"--factor",f[3])},i(f){i||(Q(o),i=!0)},o(f){Y(o),i=!1},d(f){f&&R(t),a[e].d()}}}function ic(n,t,e){let{$$slots:o={},$$scope:l}=t,{toast:r}=t,{position:i=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,d,f;return n.$$set=h=>{"toast"in h&&e(0,r=h.toast),"position"in h&&e(5,i=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,l=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(r.position||i||"top-center").includes("top");e(3,d=h?1:-1);const[_,m]=kr()?["fadeIn","fadeOut"]:["enter","exit"];e(4,f=r.visible?_:m)}},[r,s,a,d,f,i,o,l]}class sc extends Me{constructor(t){super(),Ee(this,t,ic,rc,Le,{toast:0,position:5,style:1,Component:2})}}const ac=n=>({toast:n&1}),Ao=n=>({toast:n[0]});function cc(n){let t;const e=n[8].default,o=$t(e,n,n[7],Ao),l=o||fc(n);return{c(){l&&l.c()},m(r,i){l&&l.m(r,i),t=!0},p(r,i){o?o.p&&(!t||i&129)&&en(o,e,r,r[7],t?xt(e,r[7],i,ac):tn(r[7]),Ao):l&&l.p&&(!t||i&1)&&l.p(r,t?i:-1)},i(r){t||(Q(l,r),t=!0)},o(r){Y(l,r),t=!1},d(r){l&&l.d(r)}}}function uc(n){let t,e;return t=new on({props:{toast:n[0]}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l&1&&(r.toast=o[0]),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function fc(n){let t,e;return t=new sc({props:{toast:n[0],position:n[0].position}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l&1&&(r.toast=o[0]),l&1&&(r.position=o[0].position),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function dc(n){let t,e,o,l;const r=[uc,cc],i=[];function s(a,d){return a[0].type==="custom"?0:1}return e=s(n),o=i[e]=r[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),ct(t,"active",n[0].visible),ct(t,"transition",!kr()),Se(t,"--factor",n[3]),Se(t,"--offset",n[0].offset),Se(t,"top",n[5]),Se(t,"bottom",n[4]),Se(t,"justify-content",n[2])},m(a,d){j(a,t,d),i[e].m(t,null),n[9](t),l=!0},p(a,[d]){let f=e;e=s(a),e===f?i[e].p(a,d):(qe(),Y(i[f],1,1,()=>{i[f]=null}),De(),o=i[e],o?o.p(a,d):(o=i[e]=r[e](a),o.c()),Q(o,1),o.m(t,null)),(!l||d&1)&&ct(t,"active",a[0].visible),d&8&&Se(t,"--factor",a[3]),d&1&&Se(t,"--offset",a[0].offset),d&32&&Se(t,"top",a[5]),d&16&&Se(t,"bottom",a[4]),d&4&&Se(t,"justify-content",a[2])},i(a){l||(Q(o),l=!0)},o(a){Y(o),l=!1},d(a){a&&R(t),i[e].d(),n[9](null)}}}function pc(n,t,e){let o,l,r,i,{$$slots:s={},$$scope:a}=t,{toast:d}=t,{setHeight:f}=t,h;st(()=>{f(h.getBoundingClientRect().height)});function _(m){ft[m?"unshift":"push"](()=>{h=m,e(1,h)})}return n.$$set=m=>{"toast"in m&&e(0,d=m.toast),"setHeight"in m&&e(6,f=m.setHeight),"$$scope"in m&&e(7,a=m.$$scope)},n.$$.update=()=>{var m,g,v,k,y;n.$$.dirty&1&&e(5,o=(m=d.position)!=null&&m.includes("top")?0:null),n.$$.dirty&1&&e(4,l=(g=d.position)!=null&&g.includes("bottom")?0:null),n.$$.dirty&1&&e(3,r=(v=d.position)!=null&&v.includes("top")?1:-1),n.$$.dirty&1&&e(2,i=((k=d.position)==null?void 0:k.includes("center"))&&"center"||((y=d.position)==null?void 0:y.includes("right"))&&"flex-end"||null)},[d,h,i,r,l,o,f,a,s,_]}class hc extends Me{constructor(t){super(),Ee(this,t,pc,dc,Le,{toast:0,setHeight:6})}}function To(n,t,e){const o=n.slice();return o[11]=t[e],o}function Io(n,t){let e,o,l;function r(...i){return t[10](t[11],...i)}return o=new hc({props:{toast:t[11],setHeight:r}}),{key:n,first:null,c(){e=Ae(),_e(o.$$.fragment),this.first=e},m(i,s){j(i,e,s),de(o,i,s),l=!0},p(i,s){t=i;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=r),o.$set(a)},i(i){l||(Q(o.$$.fragment,i),l=!0)},o(i){Y(o.$$.fragment,i),l=!1},d(i){i&&R(e),pe(o,i)}}}function _c(n){let t,e=[],o=new Map,l,r,i,s,a=n[2];const d=f=>f[11].id;for(let f=0;f<a.length;f+=1){let h=To(n,a,f),_=d(h);o.set(_,e[f]=Io(_,h))}return{c(){t=p("div");for(let f=0;f<e.length;f+=1)e[f].c();u(t,"class",l="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(f,h){j(f,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);r=!0,i||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],i=!0)},p(f,[h]){h&20&&(a=f[2],qe(),e=Ue(e,h,d,1,f,a,o,t,As,Io,null,To),De()),(!r||h&2&&l!==(l="toaster "+(f[1]||"")+" svelte-1phplh9"))&&u(t,"class",l),(!r||h&1)&&u(t,"style",f[0])},i(f){if(!r){for(let h=0;h<a.length;h+=1)Q(e[h]);r=!0}},o(f){for(let h=0;h<e.length;h+=1)Y(e[h]);r=!1},d(f){f&&R(t);for(let h=0;h<e.length;h+=1)e[h].d();i=!1,ce(s)}}}function mc(n,t,e){let o,{reverseOrder:l=!1}=t,{position:r="top-center"}=t,{toastOptions:i=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:d=void 0}=t;const{toasts:f,handlers:h}=Ma(i);Ne(n,f,g=>e(9,o=g));let _;const m=(g,v)=>h.updateHeight(g.id,v);return n.$$set=g=>{"reverseOrder"in g&&e(5,l=g.reverseOrder),"position"in g&&e(6,r=g.position),"toastOptions"in g&&e(7,i=g.toastOptions),"gutter"in g&&e(8,s=g.gutter),"containerStyle"in g&&e(0,a=g.containerStyle),"containerClassName"in g&&e(1,d=g.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(g=>({...g,position:g.position||r,offset:h.calculateOffset(g,o,{reverseOrder:l,gutter:s,defaultPosition:r})})))},[a,d,_,f,h,l,r,i,s,o,m]}class ln extends Me{constructor(t){super(),Ee(this,t,mc,_c,Le,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function Po(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G,x,X,H,J,ee,ie,le,K,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he,se,fe,me,be,V,ne,D,U,ue;return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=C(),i=p("strong"),i.textContent="Terms and Conditions",s=C(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,d=C(),f=p("p"),f.innerHTML="<strong>1. Acceptance of Terms</strong>",h=C(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,m=C(),g=p("p"),g.innerHTML="<strong>2. User Accounts</strong>",v=C(),k=p("p"),k.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,y=C(),b=p("p"),b.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,S=C(),E=p("p"),E.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,O=C(),w=p("p"),w.innerHTML="<strong>3. Use of the App</strong>",A=C(),M=p("p"),M.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,I=C(),P=p("p"),P.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,N=C(),L=p("p"),L.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,F=C(),q=p("p"),q.innerHTML="<strong>4. Privacy and Data Security</strong>",W=C(),G=p("p"),G.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,x=C(),X=p("p"),X.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,H=C(),J=p("p"),J.innerHTML="<strong>5. Limitation of Liability</strong>",ee=C(),ie=p("p"),ie.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,le=C(),K=p("p"),K.innerHTML="<strong>6. Modification of Terms</strong>",oe=C(),ae=p("p"),ae.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,Te=C(),Z=p("p"),Z.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",we=C(),ye=p("p"),ye.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,ve=C(),Ce=p("p"),Ce.innerHTML="<strong>8. Severability</strong>",Pe=C(),he=p("p"),he.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,se=C(),fe=p("p"),fe.innerHTML="<strong>9. Entire Agreement</strong>",me=C(),be=p("p"),be.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,V=C(),ne=p("footer"),D=p("a"),D.textContent="Close",u(l,"href","#close"),u(l,"class","close"),u(D,"href","#close"),u(D,"role","button"),u(D,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(xe,at){j(xe,t,at),c(t,e),c(e,o),c(o,l),c(o,r),c(o,i),c(e,s),c(e,a),c(e,d),c(e,f),c(e,h),c(e,_),c(e,m),c(e,g),c(e,v),c(e,k),c(e,y),c(e,b),c(e,S),c(e,E),c(e,O),c(e,w),c(e,A),c(e,M),c(e,I),c(e,P),c(e,N),c(e,L),c(e,F),c(e,q),c(e,W),c(e,G),c(e,x),c(e,X),c(e,H),c(e,J),c(e,ee),c(e,ie),c(e,le),c(e,K),c(e,oe),c(e,ae),c(e,Te),c(e,Z),c(e,we),c(e,ye),c(e,ve),c(e,Ce),c(e,Pe),c(e,he),c(e,se),c(e,fe),c(e,me),c(e,be),c(e,V),c(e,ne),c(ne,D),U||(ue=[T(l,"click",n[10]),T(D,"click",n[10])],U=!0)},p:te,d(xe){xe&&R(t),U=!1,ce(ue)}}}function gc(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F=n[8]&&Po(n);return I=new ln({}),{c(){t=p("body"),e=p("main"),o=p("article"),l=p("div"),r=p("hgroup"),r.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,i=C(),s=p("form"),a=p("input"),d=C(),f=p("input"),h=C(),_=p("input"),m=C(),g=p("input"),v=C(),k=p("fieldset"),y=p("label"),b=p("input"),S=B(`\r
              I agree to the\r
              `),E=p("a"),E.textContent="Terms and Conditions",O=C(),F&&F.c(),w=C(),A=p("button"),A.textContent="Sign Up",M=C(),_e(I.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(f,"placeholder","Email"),u(f,"type","email"),u(f,"aria-invalid",n[5]),f.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(g,"placeholder","Confirm Password"),u(g,"type","password"),u(g,"aria-invalid",n[7]),g.required=!0,u(b,"type","checkbox"),u(b,"id","terms"),u(b,"name","terms"),b.required=!0,u(E,"href","#terms"),u(y,"for","terms"),u(A,"type","submit"),u(A,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(q,W){j(q,t,W),c(t,e),c(e,o),c(o,l),c(l,r),c(l,i),c(l,s),c(s,a),$(a,n[3]),c(s,d),c(s,f),$(f,n[0]),c(s,h),c(s,_),$(_,n[1]),c(s,m),c(s,g),$(g,n[2]),c(s,v),c(s,k),c(k,y),c(y,b),b.checked=n[4],c(y,S),c(y,E),c(s,O),F&&F.m(s,null),c(s,w),c(s,A),c(t,M),de(I,t,null),P=!0,N||(L=[T(a,"input",n[12]),T(f,"input",n[13]),T(_,"input",n[14]),T(g,"input",n[15]),T(b,"change",n[16]),T(E,"click",n[10]),T(A,"click",n[9]),T(s,"submit",Ge(n[11]))],N=!0)},p(q,[W]){W&8&&a.value!==q[3]&&$(a,q[3]),(!P||W&32)&&u(f,"aria-invalid",q[5]),W&1&&f.value!==q[0]&&$(f,q[0]),(!P||W&64)&&u(_,"aria-invalid",q[6]),W&2&&_.value!==q[1]&&$(_,q[1]),(!P||W&128)&&u(g,"aria-invalid",q[7]),W&4&&g.value!==q[2]&&$(g,q[2]),W&16&&(b.checked=q[4]),q[8]?F?F.p(q,W):(F=Po(q),F.c(),F.m(s,w)):F&&(F.d(1),F=null)},i(q){P||(Q(I.$$.fragment,q),P=!0)},o(q){Y(I.$$.fragment,q),P=!1},d(q){q&&R(t),F&&F.d(),pe(I),N=!1,ce(L)}}}let vc="student",bc=!0;function kc(n,t,e){let o,l,r,i,s=!1,a,d,f;async function h(){const O=await ge.collection("users").authWithPassword(l,r);console.log(O)}async function _(){if(!a&&!d&&!f&&s)try{const O={name:o,username:o.toLowerCase(),email:l,password:r,passwordConfirm:i,role:vc,isPublic:bc,language:"en",avatar_from_url:"https://pb.readinglog.fun:4444/api/files/fhm2u4u1k405dr7/h7rqwbiahhxwujr/robot_ToTI6ga0AY.png"},w=await ge.collection("users").create(O);await h()}catch(O){O.data.data.email.code&&ke.error("Email already exist",{position:Oe})}}let m=!1;function g(){e(8,m=!m)}function v(O){Ve.call(this,n,O)}function k(){o=this.value,e(3,o)}function y(){l=this.value,e(0,l)}function b(){r=this.value,e(1,r)}function S(){i=this.value,e(2,i)}function E(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(l&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(l).toLowerCase())?e(5,a=!1):e(5,a=!0)),r&&(r.length>=5?e(6,d=!1):e(6,d=!0)),i&&(i===r?e(7,f=!1):e(7,f=!0)))},[l,r,i,o,s,a,d,f,m,_,g,v,k,y,b,S,E]}class yr extends Me{constructor(t){super(),Ee(this,t,kc,gc,Le,{})}}function yc(n){let t,e,o,l,r,i;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=C(),o=p("p"),l=B("An email with a reset link has been sent to "),r=p("strong"),i=B(n[0])},m(s,a){j(s,t,a),j(s,e,a),j(s,o,a),c(o,l),c(o,r),c(r,i)},p(s,a){a&1&&re(i,s[0])},d(s){s&&R(t),s&&R(e),s&&R(o)}}}function wc(n){let t,e,o,l,r,i,s,a,d,f;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=C(),o=p("form"),l=p("label"),r=B(`Email\r
              `),i=p("input"),s=C(),a=p("button"),a.textContent="Reset",u(i,"id","email"),u(i,"name","email"),u(i,"type","email"),u(i,"aria-invalid",n[2]),i.required=!0,u(l,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){j(h,t,_),j(h,e,_),j(h,o,_),c(o,l),c(l,r),c(l,i),$(i,n[0]),c(o,s),c(o,a),d||(f=[T(i,"input",n[5]),T(a,"click",n[3]),T(o,"submit",Ge(n[4]))],d=!0)},p(h,_){_&4&&u(i,"aria-invalid",h[2]),_&1&&i.value!==h[0]&&$(i,h[0])},d(h){h&&R(t),h&&R(e),h&&R(o),d=!1,ce(f)}}}function Cc(n){let t,e,o,l,r,i,s,a;function d(_,m){return _[1]===!1?wc:yc}let f=d(n),h=f(n);return{c(){t=p("body"),e=p("main"),o=p("article"),l=p("div"),h.c(),r=C(),i=p("a"),i.textContent="Back to Login Screen",u(i,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,m){j(_,t,m),c(t,e),c(e,o),c(o,l),h.m(l,null),c(l,r),c(l,i),s||(a=T(i,"click",n[6]),s=!0)},p(_,[m]){f===(f=d(_))&&h?h.p(_,m):(h.d(1),h=f(_),h&&(h.c(),h.m(l,r)))},i:te,o:te,d(_){_&&R(t),h.d(),s=!1,a()}}}function Sc(n,t,e){let o=!1,l,r;async function i(){r||(await ge.collection("users").requestPasswordReset(l),e(1,o=!0))}function s(f){Ve.call(this,n,f)}function a(){l=this.value,e(0,l)}const d=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&l&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(l).toLowerCase())?e(2,r=!1):e(2,r=!0))},[l,o,r,i,s,a,d]}class Ac extends Me{constructor(t){super(),Ee(this,t,Sc,Cc,Le,{})}}const Ln=Ke(0),zt=Ke(0),Tc=Ke(500);function Lo(n,t,e){const o=n.slice();return o[128]=t[e],o}function Oo(n,t,e){const o=n.slice();return o[131]=t[e],o}function Eo(n,t,e){const o=n.slice();return o[128]=t[e],o}function Mo(n,t,e){const o=n.slice();return o[128]=t[e],o}function Ro(n,t,e){const o=n.slice();return o[131]=t[e],o}function jo(n,t,e){const o=n.slice();return o[140]=t[e],o}function No(n,t,e){const o=n.slice();return o[143]=t[e],o}function Ic(n){let t,e;return t=new Wn({props:{$$slots:{default:[Lc]},$$scope:{ctx:n}}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l[4]&4194304&&(r.$$scope={dirty:l,ctx:o}),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Pc(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b;function S(L,F){return L[8].length===0?Ec:Oc}let E=S(n),O=E(n),w=n[34]&&Do(n),A=n[35]&&Uo(n),M=n[36]&&Go(n),I=n[37]&&Ko(n),P=n[38]&&$o(n),N=n[33]&&xo(n);return v=new ln({}),{c(){t=p("div"),e=p("div"),o=C(),l=p("input"),r=C(),i=p("button"),i.textContent="Add Book",s=C(),O.c(),a=C(),w&&w.c(),d=C(),A&&A.c(),f=C(),M&&M.c(),h=C(),I&&I.c(),_=C(),P&&P.c(),m=C(),N&&N.c(),g=C(),_e(v.$$.fragment),u(e,"class","grid svelte-ms60gu"),u(l,"class","search svelte-ms60gu"),u(l,"type","search"),u(l,"placeholder","Filter by Book Title, Author, or Status..."),u(i,"class","btn btn-primary"),u(t,"class","container")},m(L,F){j(L,t,F),c(t,e),c(t,o),c(t,l),$(l,n[39]),c(t,r),c(t,i),c(t,s),O.m(t,null),j(L,a,F),w&&w.m(L,F),j(L,d,F),A&&A.m(L,F),j(L,f,F),M&&M.m(L,F),j(L,h,F),I&&I.m(L,F),j(L,_,F),P&&P.m(L,F),j(L,m,F),N&&N.m(L,F),j(L,g,F),de(v,L,F),k=!0,y||(b=[T(l,"input",n[63]),T(i,"click",n[49])],y=!0)},p(L,F){F[1]&256&&l.value!==L[39]&&$(l,L[39]),E===(E=S(L))&&O?O.p(L,F):(O.d(1),O=E(L),O&&(O.c(),O.m(t,null))),L[34]?w?w.p(L,F):(w=Do(L),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null),L[35]?A?A.p(L,F):(A=Uo(L),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),L[36]?M?M.p(L,F):(M=Go(L),M.c(),M.m(h.parentNode,h)):M&&(M.d(1),M=null),L[37]?I?I.p(L,F):(I=Ko(L),I.c(),I.m(_.parentNode,_)):I&&(I.d(1),I=null),L[38]?P?P.p(L,F):(P=$o(L),P.c(),P.m(m.parentNode,m)):P&&(P.d(1),P=null),L[33]?N?N.p(L,F):(N=xo(L),N.c(),N.m(g.parentNode,g)):N&&(N.d(1),N=null)},i(L){k||(Q(v.$$.fragment,L),k=!0)},o(L){Y(v.$$.fragment,L),k=!1},d(L){L&&R(t),O.d(),L&&R(a),w&&w.d(L),L&&R(d),A&&A.d(L),L&&R(f),M&&M.d(L),L&&R(h),I&&I.d(L),L&&R(_),P&&P.d(L),L&&R(m),N&&N.d(L),L&&R(g),pe(v,L),y=!1,ce(b)}}}function Lc(n){let t,e,o,l;return t=new bt({props:{path:"/",component:Qn}}),o=new bt({props:{path:"/signup",component:yr}}),{c(){_e(t.$$.fragment),e=C(),_e(o.$$.fragment)},m(r,i){de(t,r,i),j(r,e,i),de(o,r,i),l=!0},p:te,i(r){l||(Q(t.$$.fragment,r),Q(o.$$.fragment,r),l=!0)},o(r){Y(t.$$.fragment,r),Y(o.$$.fragment,r),l=!1},d(r){pe(t,r),r&&R(e),pe(o,r)}}}function Oc(n){let t,e=[],o=new Map,l=n[40];const r=i=>i[143].id;for(let i=0;i<l.length;i+=1){let s=No(n,l,i),a=r(s);o.set(a,e[i]=qo(a,s))}return{c(){t=p("div");for(let i=0;i<e.length;i+=1)e[i].c();u(t,"class","grid svelte-ms60gu")},m(i,s){j(i,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(i,s){s[0]&1073217536|s[1]&1051136&&(l=i[40],e=Ue(e,s,r,1,i,l,o,t,Je,qo,null,No))},d(i){i&&R(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Ec(n){let t,e,o,l,r,i,s,a,d,f,h;function _(O,w){return O[41].language==="en"?Dc:qc}let m=_(n),g=m(n);function v(O,w){return O[41].language==="en"?Fc:Bc}let k=v(n),y=k(n);function b(O,w){return O[41].language==="en"?Hc:Uc}let S=b(n),E=S(n);return{c(){t=p("article"),e=p("div"),e.textContent="👀",o=C(),l=p("p"),g.c(),r=C(),i=p("p"),y.c(),s=C(),a=p("div"),d=p("button"),E.c(),u(e,"class","empty-icon"),u(l,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(d,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-ms60gu")},m(O,w){j(O,t,w),c(t,e),c(t,o),c(t,l),g.m(l,null),c(t,r),c(t,i),y.m(i,null),c(t,s),c(t,a),c(a,d),E.m(d,null),f||(h=T(d,"click",n[50]),f=!0)},p(O,w){m!==(m=_(O))&&(g.d(1),g=m(O),g&&(g.c(),g.m(l,null))),k!==(k=v(O))&&(y.d(1),y=k(O),y&&(y.c(),y.m(i,null))),S!==(S=b(O))&&(E.d(1),E=S(O),E&&(E.c(),E.m(d,null)))},d(O){O&&R(t),g.d(),y.d(),E.d(),f=!1,h()}}}function Mc(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y;return{c(){t=p("a"),e=p("img"),Ie(e.src,o=n[143].googleCover)||u(e,"src",o),u(e,"alt",l=n[143].title),u(e,"class","svelte-ms60gu"),u(t,"href","#update"),u(t,"data-id",r=n[143].bookId),u(t,"data-title",i=n[143].title),u(t,"data-author",s=n[143].author),u(t,"data-pages",a=n[143].pages),u(t,"data-pagesread",d=n[143].pages_read),u(t,"data-review",f=n[143].review),u(t,"data-collection",h=n[143].collection),u(t,"data-cover",_=n[143].googleCover),u(t,"data-status",m=n[143].status),u(t,"data-class",g=n[143].classId),u(t,"data-classname",v=n[143].className),u(t,"class","svelte-ms60gu")},m(b,S){j(b,t,S),c(t,e),k||(y=[T(t,"click",n[75]),T(t,"click",n[76]),T(t,"click",n[77]),T(t,"click",n[78]),T(t,"click",n[79]),T(t,"click",n[80]),T(t,"click",n[81]),T(t,"click",n[82]),T(t,"click",n[83]),T(t,"click",n[84]),T(t,"click",n[85]),T(t,"click",n[51])],k=!0)},p(b,S){S[1]&512&&!Ie(e.src,o=b[143].googleCover)&&u(e,"src",o),S[1]&512&&l!==(l=b[143].title)&&u(e,"alt",l),S[1]&512&&r!==(r=b[143].bookId)&&u(t,"data-id",r),S[1]&512&&i!==(i=b[143].title)&&u(t,"data-title",i),S[1]&512&&s!==(s=b[143].author)&&u(t,"data-author",s),S[1]&512&&a!==(a=b[143].pages)&&u(t,"data-pages",a),S[1]&512&&d!==(d=b[143].pages_read)&&u(t,"data-pagesread",d),S[1]&512&&f!==(f=b[143].review)&&u(t,"data-review",f),S[1]&512&&h!==(h=b[143].collection)&&u(t,"data-collection",h),S[1]&512&&_!==(_=b[143].googleCover)&&u(t,"data-cover",_),S[1]&512&&m!==(m=b[143].status)&&u(t,"data-status",m),S[1]&512&&g!==(g=b[143].classId)&&u(t,"data-class",g),S[1]&512&&v!==(v=b[143].className)&&u(t,"data-classname",v)},d(b){b&&R(t),k=!1,ce(y)}}}function Rc(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y;return{c(){t=p("a"),e=p("img"),Ie(e.src,o=n[42]+n[143].bookId+"/"+n[143].cover)||u(e,"src",o),u(e,"alt",l=n[143].title),u(e,"class","svelte-ms60gu"),u(t,"href","#update"),u(t,"data-id",r=n[143].bookId),u(t,"data-title",i=n[143].title),u(t,"data-author",s=n[143].author),u(t,"data-pages",a=n[143].pages),u(t,"data-pagesread",d=n[143].pages_read),u(t,"data-review",f=n[143].review),u(t,"data-collection",h=n[143].collection),u(t,"data-cover",_=n[143].googleCover),u(t,"data-status",m=n[143].status),u(t,"data-class",g=n[143].classId),u(t,"data-classname",v=n[143].className),u(t,"class","svelte-ms60gu")},m(b,S){j(b,t,S),c(t,e),k||(y=[T(t,"click",n[64]),T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[51])],k=!0)},p(b,S){S[1]&512&&!Ie(e.src,o=b[42]+b[143].bookId+"/"+b[143].cover)&&u(e,"src",o),S[1]&512&&l!==(l=b[143].title)&&u(e,"alt",l),S[1]&512&&r!==(r=b[143].bookId)&&u(t,"data-id",r),S[1]&512&&i!==(i=b[143].title)&&u(t,"data-title",i),S[1]&512&&s!==(s=b[143].author)&&u(t,"data-author",s),S[1]&512&&a!==(a=b[143].pages)&&u(t,"data-pages",a),S[1]&512&&d!==(d=b[143].pages_read)&&u(t,"data-pagesread",d),S[1]&512&&f!==(f=b[143].review)&&u(t,"data-review",f),S[1]&512&&h!==(h=b[143].collection)&&u(t,"data-collection",h),S[1]&512&&_!==(_=b[143].googleCover)&&u(t,"data-cover",_),S[1]&512&&m!==(m=b[143].status)&&u(t,"data-status",m),S[1]&512&&g!==(g=b[143].classId)&&u(t,"data-class",g),S[1]&512&&v!==(v=b[143].className)&&u(t,"data-classname",v)},d(b){b&&R(t),k=!1,ce(y)}}}function jc(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){j(e,t,o)},p:te,d(e){e&&R(t)}}}function Nc(n){let t,e;return{c(){t=p("progress"),t.value=e=rt(n[143].pages_read,n[143].pages),u(t,"max","100")},m(o,l){j(o,t,l)},p(o,l){l[1]&512&&e!==(e=rt(o[143].pages_read,o[143].pages))&&(t.value=e)},d(o){o&&R(t)}}}function qo(n,t){let e,o,l,r,i,s,a=t[143].title+"",d,f,h,_,m=t[143].author+"",g,v,k,y,b=t[143].status+"",S,E,O,w;function A(F,q){return F[143].cover?Rc:Mc}let M=A(t),I=M(t);function P(F,q){return F[143].pages_read?Nc:jc}let N=P(t),L=N(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),l=p("div"),I.c(),r=C(),i=p("hgroup"),s=p("h4"),d=B(a),f=C(),h=p("p"),_=B("By: "),g=B(m),v=C(),k=p("br"),y=C(),S=B(b),E=C(),O=p("footer"),L.c(),w=C(),u(l,"class","image-wrapper"),u(i,"class","svelte-ms60gu"),u(o,"class","content-wrapper svelte-ms60gu"),u(O,"class","svelte-ms60gu"),u(e,"data-hover","article"),u(e,"class","svelte-ms60gu"),this.first=e},m(F,q){j(F,e,q),c(e,o),c(o,l),I.m(l,null),c(o,r),c(o,i),c(i,s),c(s,d),c(i,f),c(i,h),c(h,_),c(h,g),c(h,v),c(h,k),c(h,y),c(h,S),c(e,E),c(e,O),L.m(O,null),c(e,w)},p(F,q){t=F,M===(M=A(t))&&I?I.p(t,q):(I.d(1),I=M(t),I&&(I.c(),I.m(l,null))),q[1]&512&&a!==(a=t[143].title+"")&&re(d,a),q[1]&512&&m!==(m=t[143].author+"")&&re(g,m),q[1]&512&&b!==(b=t[143].status+"")&&re(S,b),N===(N=P(t))&&L?L.p(t,q):(L.d(1),L=N(t),L&&(L.c(),L.m(O,null)))},d(F){F&&R(e),I.d(),L.d()}}}function qc(n){let t;return{c(){t=B(`Nada por\r
            aquí...`)},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Dc(n){let t;return{c(){t=B("Nothing here yet...")},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Bc(n){let t;return{c(){t=B(`Presione\r
            el botón para añadir un libro.`)},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Fc(n){let t;return{c(){t=B("Click the button to add a book.")},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Uc(n){let t;return{c(){t=B("Añadir Libro")},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Hc(n){let t;return{c(){t=B("Add Book")},m(e,o){j(e,t,o)},d(e){e&&R(t)}}}function Do(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v=[],k=new Map,y,b,S=n[31];const E=O=>O[140].id;for(let O=0;O<S.length;O+=1){let w=jo(n,S,O),A=E(w);k.set(A,v[O]=Fo(A,w))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Search`),i=C(),s=p("form"),a=p("input"),d=C(),f=p("button"),h=B("Search"),_=C(),m=p("button"),m.textContent="Add Manually",g=C();for(let O=0;O<v.length;O+=1)v[O].c();u(l,"href","#close"),u(l,"class","close svelte-ms60gu"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(f,"aria-busy",n[32]),u(e,"class","svelte-ms60gu"),t.open=!0},m(O,w){j(O,t,w),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h),c(s,_),c(s,m),c(e,g);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(e,null);y||(b=[T(l,"click",n[49]),T(a,"keyup",n[86]),T(f,"click",function(){Ze(n[54](n[30]))&&n[54](n[30]).apply(this,arguments)}),T(m,"click",n[50]),T(s,"submit",Ge(n[62]))],y=!0)},p(O,w){n=O,w[1]&2&&u(f,"aria-busy",n[32]),w[0]&211968|w[1]&524289&&(S=n[31],v=Ue(v,w,E,1,n,S,k,e,Je,Fo,null,jo))},d(O){O&&R(t);for(let w=0;w<v.length;w+=1)v[w].d();y=!1,ce(b)}}}function Bo(n){let t,e,o;return{c(){t=p("img"),Ie(t.src,e=Kt(n[140].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[140].volumeInfo.title),u(t,"class","svelte-ms60gu")},m(l,r){j(l,t,r)},p(l,r){r[1]&1&&!Ie(t.src,e=Kt(l[140].volumeInfo.imageLinks))&&u(t,"src",e),r[1]&1&&o!==(o=l[140].volumeInfo.title)&&u(t,"alt",o)},d(l){l&&R(t)}}}function Fo(n,t){let e,o,l,r,i,s,a=t[140].volumeInfo.title+"",d,f,h,_,m=Bt(t[140].volumeInfo.authors)+"",g,v,k,y,b=t[140].volumeInfo.language+"",S,E,O,w,A,M,I,P,N,L,F,q=t[140].volumeInfo.imageLinks&&Bo(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),l=p("figure"),q&&q.c(),r=C(),i=p("figcaption"),s=p("strong"),d=B(a),f=C(),h=p("br"),_=B(`\r
                  By `),g=B(m),v=C(),k=p("br"),y=B(`\r
                  Language: `),S=B(b),E=C(),u(i,"class","svelte-ms60gu"),u(o,"data-hover",""),u(o,"class","svelte-ms60gu"),u(e,"href","#search"),u(e,"data-id",O=t[140].id),u(e,"data-title",w=t[140].volumeInfo.title),u(e,"data-author",A=Bt(t[140].volumeInfo.authors)),u(e,"data-img",M=Kt(t[140].volumeInfo.imageLinks)),u(e,"data-pages",I=t[140].volumeInfo.pageCount),u(e,"data-description",P=t[140].volumeInfo.description),u(e,"data-language",N=t[140].volumeInfo.language),u(e,"class","svelte-ms60gu"),this.first=e},m(W,G){j(W,e,G),c(e,o),c(o,l),q&&q.m(l,null),c(l,r),c(l,i),c(i,s),c(s,d),c(i,f),c(i,h),c(i,_),c(i,g),c(i,v),c(i,k),c(i,y),c(i,S),c(e,E),L||(F=[T(e,"click",t[87]),T(e,"click",t[88]),T(e,"click",t[89]),T(e,"click",t[90]),T(e,"click",t[91]),T(e,"click",t[92]),T(e,"click",t[50])],L=!0)},p(W,G){t=W,t[140].volumeInfo.imageLinks?q?q.p(t,G):(q=Bo(t),q.c(),q.m(l,r)):q&&(q.d(1),q=null),G[1]&1&&a!==(a=t[140].volumeInfo.title+"")&&re(d,a),G[1]&1&&m!==(m=Bt(t[140].volumeInfo.authors)+"")&&re(g,m),G[1]&1&&b!==(b=t[140].volumeInfo.language+"")&&re(S,b),G[1]&1&&O!==(O=t[140].id)&&u(e,"data-id",O),G[1]&1&&w!==(w=t[140].volumeInfo.title)&&u(e,"data-title",w),G[1]&1&&A!==(A=Bt(t[140].volumeInfo.authors))&&u(e,"data-author",A),G[1]&1&&M!==(M=Kt(t[140].volumeInfo.imageLinks))&&u(e,"data-img",M),G[1]&1&&I!==(I=t[140].volumeInfo.pageCount)&&u(e,"data-pages",I),G[1]&1&&P!==(P=t[140].volumeInfo.description)&&u(e,"data-description",P),G[1]&1&&N!==(N=t[140].volumeInfo.language)&&u(e,"data-language",N)},d(W){W&&R(e),q&&q.d(),L=!1,ce(F)}}}function Uo(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G=[],x=new Map,X,H,J,ee,ie,le=[],K=new Map,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he,se=n[16]&&Ho(n),fe=n[7];const me=D=>D[131].id;for(let D=0;D<fe.length;D+=1){let U=Ro(n,fe,D),ue=me(U);x.set(ue,G[D]=zo(ue,U))}let be=n[9];const V=D=>D[128].id;for(let D=0;D<be.length;D+=1){let U=Mo(n,be,D),ue=V(U);K.set(ue,le[D]=Jo(ue,U))}let ne=!n[16]&&Vo(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Add Book`),i=C(),se&&se.c(),s=C(),a=p("form"),d=p("label"),f=B(`Title\r
            `),h=p("input"),_=C(),m=p("label"),g=B(`Author\r
            `),v=p("input"),k=C(),y=p("label"),b=B(`Pages\r
            `),S=p("input"),E=C(),O=p("label"),O.textContent="Language",w=C(),A=p("select"),M=p("option"),M.textContent="Please select an option",I=p("option"),I.textContent="English",P=p("option"),P.textContent="Spanish",N=C(),L=p("label"),L.textContent="Collection",F=C(),q=p("select"),W=p("option"),W.textContent="Please select an option";for(let D=0;D<G.length;D+=1)G[D].c();X=C(),H=p("label"),H.textContent="Class",J=C(),ee=p("select"),ie=p("option"),ie.textContent="Please select an option";for(let D=0;D<le.length;D+=1)le[D].c();oe=C(),ae=p("button"),Te=C(),ne&&ne.c(),Z=C(),we=p("footer"),ye=p("a"),ye.textContent="Cancel",ve=C(),Ce=p("a"),Ce.textContent="Add Book",u(l,"href","#close"),u(l,"class","close svelte-ms60gu"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(d,"for","title"),u(d,"class","svelte-ms60gu"),u(v,"id","author"),u(v,"name","author"),u(v,"placeholder","Author"),u(v,"type","text"),u(m,"for","author"),u(m,"class","svelte-ms60gu"),u(S,"id","pages"),u(S,"name","pages"),u(S,"placeholder","Pages"),u(S,"type","number"),u(y,"for","pages"),u(y,"class","svelte-ms60gu"),u(O,"for","language"),u(O,"class","svelte-ms60gu"),M.__value="",M.value=M.__value,M.selected=!0,I.__value="en",I.value=I.__value,P.__value="es",P.value=P.__value,u(A,"id","language"),n[17]===void 0&&je(()=>n[96].call(A)),u(L,"for","collection"),u(L,"class","svelte-ms60gu"),W.__value="",W.value=W.__value,W.selected=!0,u(q,"id","collection"),n[14]===void 0&&je(()=>n[97].call(q)),u(H,"for","class"),u(H,"class","svelte-ms60gu"),ie.__value="",ie.value=ie.__value,ie.selected=!0,u(ee,"id","class"),n[18]===void 0&&je(()=>n[98].call(ee)),u(ye,"href","#cancel"),u(ye,"role","button"),u(ye,"class","secondary svelte-ms60gu"),u(Ce,"href","#confirm"),u(Ce,"role","button"),u(Ce,"class","svelte-ms60gu"),u(we,"class","svelte-ms60gu"),u(e,"class","svelte-ms60gu"),t.open=!0},m(D,U){j(D,t,U),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),se&&se.m(e,null),c(e,s),c(e,a),c(a,d),c(d,f),c(d,h),$(h,n[10]),c(a,_),c(a,m),c(m,g),c(m,v),$(v,n[11]),c(a,k),c(a,y),c(y,b),c(y,S),$(S,n[13]),c(a,E),c(a,O),c(a,w),c(a,A),c(A,M),c(A,I),c(A,P),Re(A,n[17],!0),c(a,N),c(a,L),c(a,F),c(a,q),c(q,W);for(let ue=0;ue<G.length;ue+=1)G[ue]&&G[ue].m(q,null);Re(q,n[14],!0),c(a,X),c(a,H),c(a,J),c(a,ee),c(ee,ie);for(let ue=0;ue<le.length;ue+=1)le[ue]&&le[ue].m(ee,null);Re(ee,n[18],!0),c(a,oe),c(a,ae),c(a,Te),ne&&ne.m(a,null),c(e,Z),c(e,we),c(we,ye),c(we,ve),c(we,Ce),Pe||(he=[T(l,"click",n[50]),T(h,"input",n[93]),T(v,"input",n[94]),T(S,"input",n[95]),T(A,"change",n[96]),T(q,"change",n[97]),T(ee,"change",n[98]),T(ae,"click",n[99]),T(a,"submit",Ge(n[61])),T(ye,"click",n[55]),T(Ce,"click",n[44]),T(Ce,"click",n[55])],Pe=!0)},p(D,U){D[16]?se?se.p(D,U):(se=Ho(D),se.c(),se.m(e,s)):se&&(se.d(1),se=null),U[0]&1024&&h.value!==D[10]&&$(h,D[10]),U[0]&2048&&v.value!==D[11]&&$(v,D[11]),U[0]&8192&&$e(S.value)!==D[13]&&$(S,D[13]),U[0]&131072&&Re(A,D[17]),U[0]&128&&(fe=D[7],G=Ue(G,U,me,1,D,fe,x,q,Je,zo,null,Ro)),U[0]&16512&&Re(q,D[14]),U[0]&512&&(be=D[9],le=Ue(le,U,V,1,D,be,K,ee,Je,Jo,null,Mo)),U[0]&262656&&Re(ee,D[18]),D[16]?ne&&(ne.d(1),ne=null):ne?ne.p(D,U):(ne=Vo(D),ne.c(),ne.m(a,null))},d(D){D&&R(t),se&&se.d();for(let U=0;U<G.length;U+=1)G[U].d();for(let U=0;U<le.length;U+=1)le[U].d();ne&&ne.d(),Pe=!1,ce(he)}}}function Ho(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g;return{c(){t=p("figure"),e=p("img"),l=C(),r=p("figcaption"),i=B("By "),s=B(n[11]),a=C(),d=p("br"),f=C(),h=p("br"),_=C(),m=p("p"),g=B(n[12]),Ie(e.src,o=n[16])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-ms60gu"),u(r,"class","svelte-ms60gu")},m(v,k){j(v,t,k),c(t,e),c(t,l),c(t,r),c(r,i),c(r,s),c(r,a),c(r,d),c(r,f),c(r,h),c(r,_),c(r,m),c(m,g)},p(v,k){k[0]&65536&&!Ie(e.src,o=v[16])&&u(e,"src",o),k[0]&2048&&re(s,v[11]),k[0]&4096&&re(g,v[12])},d(v){v&&R(t)}}}function zo(n,t){let e,o=t[131].collection+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[131].id,e.value=e.__value,this.first=e},m(i,s){j(i,e,s),c(e,l)},p(i,s){t=i,s[0]&128&&o!==(o=t[131].collection+"")&&re(l,o),s[0]&128&&r!==(r=t[131].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&R(e)}}}function Jo(n,t){var i;let e,o=((i=t[128].expand.class)==null?void 0:i.class)+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[128].class,e.value=e.__value,this.first=e},m(s,a){j(s,e,a),c(e,l)},p(s,a){var d;t=s,a[0]&512&&o!==(o=((d=t[128].expand.class)==null?void 0:d.class)+"")&&re(l,o),a[0]&512&&r!==(r=t[128].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&R(e)}}}function Vo(n){let t,e,o,l,r;return{c(){t=p("label"),e=B(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-ms60gu")},m(i,s){j(i,t,s),c(t,e),c(t,o),l||(r=T(o,"change",n[100]),l=!0)},p:te,d(i){i&&R(t),l=!1,r()}}}function Go(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A;function M(W,G){return W[23]?Jc:zc}let I=M(n),P=I(n),N=(n[27]==="🚀 reading"||n[27]==="⏳ not started")&&Wo(n);function L(W,G){if(W[27]==="🚀 reading"||W[27]==="⏳ not started")return Gc;if(W[27]==="✅ completed")return Vc}let F=L(n),q=F&&F(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=C(),i=p("strong"),s=B(n[19]),a=C(),P.c(),d=C(),f=p("progress"),_=C(),m=p("p"),g=B(n[27]),v=C(),k=p("br"),y=p("br"),b=C(),N&&N.c(),S=C(),E=p("a"),E.textContent="Edit Book Details",O=C(),q&&q.c(),u(l,"href","#close"),u(l,"class","close svelte-ms60gu"),u(f,"id","progressbar"),f.value=h=rt(n[23],n[22]),u(f,"max","100"),u(E,"href","#update"),u(E,"class","details svelte-ms60gu"),u(e,"class","svelte-ms60gu"),t.open=!0},m(W,G){j(W,t,G),c(t,e),c(e,o),c(o,l),c(o,r),c(o,i),c(i,s),c(e,a),P.m(e,null),c(e,d),c(e,f),c(e,_),c(e,m),c(m,g),c(e,v),c(e,k),c(e,y),c(e,b),N&&N.m(e,null),c(e,S),c(e,E),c(e,O),q&&q.m(e,null),w||(A=[T(l,"click",n[51]),T(E,"click",n[52])],w=!0)},p(W,G){G[0]&524288&&re(s,W[19]),I===(I=M(W))&&P?P.p(W,G):(P.d(1),P=I(W),P&&(P.c(),P.m(e,d))),G[0]&12582912&&h!==(h=rt(W[23],W[22]))&&(f.value=h),G[0]&134217728&&re(g,W[27]),W[27]==="🚀 reading"||W[27]==="⏳ not started"?N?N.p(W,G):(N=Wo(W),N.c(),N.m(e,S)):N&&(N.d(1),N=null),F===(F=L(W))&&q?q.p(W,G):(q&&q.d(1),q=F&&F(W),q&&(q.c(),q.m(e,null)))},d(W){W&&R(t),P.d(),N&&N.d(),q&&q.d(),w=!1,ce(A)}}}function zc(n){let t,e,o,l=rt(n[23],n[22])+"",r,i,s,a,d;return{c(){t=p("label"),e=B("Reading Progress: "),o=p("strong"),r=B(l),i=B("%"),s=B(`\r
            (0/`),a=B(n[22]),d=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-ms60gu")},m(f,h){j(f,t,h),c(t,e),c(t,o),c(o,r),c(o,i),c(t,s),c(t,a),c(t,d)},p(f,h){h[0]&12582912&&l!==(l=rt(f[23],f[22])+"")&&re(r,l),h[0]&4194304&&re(a,f[22])},d(f){f&&R(t)}}}function Jc(n){let t,e,o,l=rt(n[23],n[22])+"",r,i,s,a,d,f,h;return{c(){t=p("label"),e=B("Reading Progress: "),o=p("strong"),r=B(l),i=B("%"),s=B(`\r
            (`),a=B(n[23]),d=B("/"),f=B(n[22]),h=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-ms60gu")},m(_,m){j(_,t,m),c(t,e),c(t,o),c(o,r),c(o,i),c(t,s),c(t,a),c(t,d),c(t,f),c(t,h)},p(_,m){m[0]&12582912&&l!==(l=rt(_[23],_[22])+"")&&re(r,l),m[0]&8388608&&re(a,_[23]),m[0]&4194304&&re(f,_[22])},d(_){_&&R(t)}}}function Wo(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S=[],E=new Map,O,w,A=n[9];const M=I=>I[128].id;for(let I=0;I<A.length;I+=1){let P=Eo(n,A,I),N=M(P);E.set(N,S[I]=Qo(N,P))}return{c(){t=p("form"),e=p("input"),o=C(),l=p("label"),r=B(`Date\r
              `),i=p("input"),s=C(),a=p("label"),d=B(`Pages Read\r
              `),f=p("input"),h=C(),_=p("label"),m=B(`Comment\r
              `),g=p("input"),v=C(),k=p("label"),k.textContent="Class",y=C(),b=p("select");for(let I=0;I<S.length;I+=1)S[I].c();Se(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),e.required=!0,u(i,"placeholder","07/14/2023"),u(i,"id","date"),u(i,"name","date"),u(i,"type","date"),i.required=!0,u(l,"for","date"),u(l,"class","svelte-ms60gu"),u(f,"id","pagesRead"),u(f,"name","pagesRead"),u(f,"type","number"),f.required=!0,u(a,"for","pagesRead"),u(a,"class","svelte-ms60gu"),u(g,"id","comment"),u(g,"name","comment"),u(g,"placeholder","Tell the teacher about today's read."),u(g,"type","text"),g.required=!0,u(_,"for","comment"),u(_,"class","svelte-ms60gu"),u(k,"for","classId"),u(k,"class","svelte-ms60gu"),b.required=!0,u(b,"id","classId"),n[28]===void 0&&je(()=>n[105].call(b))},m(I,P){j(I,t,P),c(t,e),$(e,n[19]),c(t,o),c(t,l),c(l,r),c(l,i),$(i,n[0]),c(t,s),c(t,a),c(a,d),c(a,f),$(f,n[1]),c(t,h),c(t,_),c(_,m),c(_,g),$(g,n[2]),c(t,v),c(t,k),c(t,y),c(t,b);for(let N=0;N<S.length;N+=1)S[N]&&S[N].m(b,null);Re(b,n[28],!0),n[106](t),O||(w=[T(e,"input",n[101]),T(i,"input",n[102]),T(f,"input",n[103]),T(g,"input",n[104]),T(b,"change",n[105]),T(t,"submit",Ge(n[60]))],O=!0)},p(I,P){P[0]&524288&&e.value!==I[19]&&$(e,I[19]),P[0]&1&&$(i,I[0]),P[0]&2&&$e(f.value)!==I[1]&&$(f,I[1]),P[0]&4&&g.value!==I[2]&&$(g,I[2]),P[0]&512&&(A=I[9],S=Ue(S,P,M,1,I,A,E,b,Je,Qo,null,Eo)),P[0]&268435968&&Re(b,I[28])},d(I){I&&R(t);for(let P=0;P<S.length;P+=1)S[P].d();n[106](null),O=!1,ce(w)}}}function Qo(n,t){var i;let e,o=((i=t[128].expand.class)==null?void 0:i.class)+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[128].class,e.value=e.__value,this.first=e},m(s,a){j(s,e,a),c(e,l)},p(s,a){var d;t=s,a[0]&512&&o!==(o=((d=t[128].expand.class)==null?void 0:d.class)+"")&&re(l,o),a[0]&512&&r!==(r=t[128].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&R(e)}}}function Vc(n){let t,e,o,l;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-ms60gu"),u(t,"class","svelte-ms60gu")},m(r,i){j(r,t,i),c(t,e),o||(l=T(e,"click",n[51]),o=!0)},p:te,d(r){r&&R(t),o=!1,l()}}}function Gc(n){let t,e,o,l,r,i;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=C(),l=p("a"),l.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-ms60gu"),u(l,"href","#confirm"),u(l,"role","button"),u(l,"class","svelte-ms60gu"),u(t,"class","svelte-ms60gu")},m(s,a){j(s,t,a),c(t,e),c(t,o),c(t,l),r||(i=[T(e,"click",n[51]),T(l,"click",n[45])],r=!0)},p:te,d(s){s&&R(t),r=!1,ce(i)}}}function Ko(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q=[],W=new Map,G,x,X,H,J=[],ee=new Map,ie,le,K,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he=n[7];const se=V=>V[131].id;for(let V=0;V<he.length;V+=1){let ne=Oo(n,he,V),D=se(ne);W.set(D,q[V]=Yo(D,ne))}let fe=n[9];const me=V=>V[128].id;for(let V=0;V<fe.length;V+=1){let ne=Lo(n,fe,V),D=me(ne);ee.set(D,J[V]=Xo(D,ne))}let be=!n[25]&&Zo(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Edit Book Details`),i=C(),s=p("form"),a=p("label"),d=B(`Title\r
            `),f=p("input"),h=C(),_=p("div"),m=p("label"),g=B(`Author\r
              `),v=p("input"),k=C(),y=p("div"),b=p("label"),S=B(`Pages\r
              `),E=p("input"),O=C(),w=p("label"),A=B(`Review\r
            `),M=p("input"),I=C(),P=p("label"),P.textContent="Collection",N=C(),L=p("select"),F=p("option"),F.textContent="Please select an option";for(let V=0;V<q.length;V+=1)q[V].c();G=C(),x=p("label"),x.textContent="Class",X=C(),H=p("select");for(let V=0;V<J.length;V+=1)J[V].c();ie=C(),be&&be.c(),le=C(),K=p("footer"),oe=p("div"),ae=p("a"),ae.textContent="Delete",Te=C(),Z=p("div"),we=p("a"),we.textContent="Cancel",ye=C(),ve=p("a"),ve.textContent="Save",u(l,"href","#close"),u(l,"class","close svelte-ms60gu"),u(f,"id","title"),u(f,"name","title"),u(f,"type","text"),u(a,"for","title"),u(a,"class","svelte-ms60gu"),u(v,"id","author"),u(v,"name","author"),u(v,"type","text"),u(m,"for","author"),u(m,"class","svelte-ms60gu"),u(E,"id","pages"),u(E,"name","pages"),u(E,"placeholder","Pages"),u(E,"type","number"),u(b,"for","pages"),u(b,"class","svelte-ms60gu"),u(y,"class","grid svelte-ms60gu"),u(M,"id","review"),u(M,"name","review"),u(M,"type","textarea"),u(w,"for","review"),u(w,"class","svelte-ms60gu"),u(P,"for","collection"),u(P,"class","svelte-ms60gu"),F.__value="",F.value=F.__value,F.selected=!0,u(L,"id","collection"),n[24]===void 0&&je(()=>n[111].call(L)),u(x,"for","classId"),u(x,"class","svelte-ms60gu"),H.required=!0,u(H,"id","classId"),n[28]===void 0&&je(()=>n[112].call(H)),u(ae,"href","#delete"),u(ae,"role","button"),u(ae,"class","delete svelte-ms60gu"),u(we,"href","#cancel"),u(we,"role","button"),u(we,"class","secondary svelte-ms60gu"),u(ve,"href","#confirm"),u(ve,"role","button"),u(ve,"class","svelte-ms60gu"),u(K,"data-button","spaceBetween"),u(K,"class","svelte-ms60gu"),u(e,"class","svelte-ms60gu"),t.open=!0},m(V,ne){j(V,t,ne),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[19]),c(s,h),c(s,_),c(_,m),c(m,g),c(m,v),$(v,n[20]),c(s,k),c(s,y),c(y,b),c(b,S),c(b,E),$(E,n[22]),c(s,O),c(s,w),c(w,A),c(w,M),$(M,n[21]),c(s,I),c(s,P),c(s,N),c(s,L),c(L,F);for(let D=0;D<q.length;D+=1)q[D]&&q[D].m(L,null);Re(L,n[24],!0),c(s,G),c(s,x),c(s,X),c(s,H);for(let D=0;D<J.length;D+=1)J[D]&&J[D].m(H,null);Re(H,n[28],!0),c(e,ie),be&&be.m(e,null),c(e,le),c(e,K),c(K,oe),c(oe,ae),c(K,Te),c(K,Z),c(Z,we),c(Z,ye),c(Z,ve),Ce||(Pe=[T(l,"click",n[52]),T(f,"input",n[107]),T(v,"input",n[108]),T(E,"input",n[109]),T(M,"input",n[110]),T(L,"change",n[111]),T(H,"change",n[112]),T(s,"submit",Ge(n[59])),T(ae,"click",n[56]),T(we,"click",n[52]),T(ve,"click",n[46])],Ce=!0)},p(V,ne){ne[0]&524288&&f.value!==V[19]&&$(f,V[19]),ne[0]&1048576&&v.value!==V[20]&&$(v,V[20]),ne[0]&4194304&&$e(E.value)!==V[22]&&$(E,V[22]),ne[0]&2097152&&$(M,V[21]),ne[0]&128&&(he=V[7],q=Ue(q,ne,se,1,V,he,W,L,Je,Yo,null,Oo)),ne[0]&16777344&&Re(L,V[24]),ne[0]&512&&(fe=V[9],J=Ue(J,ne,me,1,V,fe,ee,H,Je,Xo,null,Lo)),ne[0]&268435968&&Re(H,V[28]),V[25]?be&&(be.d(1),be=null):be?be.p(V,ne):(be=Zo(V),be.c(),be.m(e,le))},d(V){V&&R(t);for(let ne=0;ne<q.length;ne+=1)q[ne].d();for(let ne=0;ne<J.length;ne+=1)J[ne].d();be&&be.d(),Ce=!1,ce(Pe)}}}function Yo(n,t){let e,o=t[131].collection+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[131].id,e.value=e.__value,this.first=e},m(i,s){j(i,e,s),c(e,l)},p(i,s){t=i,s[0]&128&&o!==(o=t[131].collection+"")&&re(l,o),s[0]&128&&r!==(r=t[131].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&R(e)}}}function Xo(n,t){var i;let e,o=((i=t[128].expand.class)==null?void 0:i.class)+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[128].class,e.value=e.__value,this.first=e},m(s,a){j(s,e,a),c(e,l)},p(s,a){var d;t=s,a[0]&512&&o!==(o=((d=t[128].expand.class)==null?void 0:d.class)+"")&&re(l,o),a[0]&512&&r!==(r=t[128].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&R(e)}}}function Zo(n){let t,e,o,l,r,i;return{c(){t=p("form"),e=p("label"),o=B(`Cover Art\r
              `),l=p("input"),u(l,"type","file"),u(l,"id","file"),u(l,"name","file"),u(l,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-ms60gu")},m(s,a){j(s,t,a),c(t,e),c(e,o),c(e,l),r||(i=[T(l,"change",n[113]),T(t,"submit",Ge(n[58]))],r=!0)},p:te,d(s){s&&R(t),r=!1,ce(i)}}}function $o(n){let t,e,o,l,r,i,s,a,d,f,h,_,m;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",l=C(),r=p("p"),r.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,i=C(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=C(),h=p("a"),h.textContent="Delete",u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-ms60gu"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-ms60gu"),u(s,"class","svelte-ms60gu"),u(e,"class","svelte-ms60gu"),t.open=!0},m(g,v){j(g,t,v),c(t,e),c(e,o),c(e,l),c(e,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),_||(m=[T(d,"click",n[53]),T(h,"click",n[47]),T(h,"click",n[51]),T(h,"click",n[53])],_=!0)},p:te,d(g){g&&R(t),_=!1,ce(m)}}}function xo(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G,x,X;return G=fs(n[117][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Add Collection`),i=C(),s=p("form"),a=p("label"),d=B(`Collection\r
            `),f=p("input"),h=C(),_=p("label"),m=B(`Description\r
            `),g=p("input"),v=C(),k=p("fieldset"),y=p("legend"),y.textContent="Collection for:",b=C(),S=p("label"),E=p("input"),O=B(`\r
              Books`),w=C(),A=p("label"),M=p("input"),I=B(`\r
              Movies`),P=C(),N=p("footer"),L=p("div"),F=p("a"),F.textContent="Cancel",q=C(),W=p("a"),W.textContent="Add Collection",u(l,"href","#close"),u(l,"class","close svelte-ms60gu"),u(f,"id","collection"),u(f,"name","collection"),u(f,"placeholder","Collection"),u(f,"type","text"),u(a,"for","collection"),u(a,"class","svelte-ms60gu"),u(g,"id","description"),u(g,"name","description"),u(g,"placeholder","Description"),u(g,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-ms60gu"),u(E,"type","radio"),u(E,"id","books"),u(E,"name","role"),E.__value="book",E.value=E.__value,E.checked=!0,u(S,"for","books"),u(S,"class","svelte-ms60gu"),u(M,"type","radio"),u(M,"id","movies"),u(M,"name","role"),M.__value="movie",M.value=M.__value,u(A,"for","movies"),u(A,"class","svelte-ms60gu"),u(k,"class","svelte-ms60gu"),u(F,"href","#cancel"),u(F,"role","button"),u(F,"class","secondary svelte-ms60gu"),u(W,"href","#confirm"),u(W,"role","button"),u(W,"class","svelte-ms60gu"),u(N,"class","svelte-ms60gu"),u(e,"class","svelte-ms60gu"),t.open=!0,G.p(E,M)},m(H,J){j(H,t,J),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[4]),c(s,h),c(s,_),c(_,m),c(_,g),$(g,n[5]),c(s,v),c(s,k),c(k,y),c(k,b),c(k,S),c(S,E),E.checked=E.__value===n[6],c(S,O),c(k,w),c(k,A),c(A,M),M.checked=M.__value===n[6],c(A,I),c(e,P),c(e,N),c(N,L),c(L,F),c(L,q),c(L,W),x||(X=[T(l,"click",n[48]),T(f,"input",n[114]),T(g,"input",n[115]),T(E,"change",n[116]),T(M,"change",n[118]),T(s,"submit",Ge(n[57])),T(F,"click",n[48]),T(W,"click",n[43]),T(W,"click",n[48])],x=!0)},p(H,J){J[0]&16&&f.value!==H[4]&&$(f,H[4]),J[0]&32&&$(g,H[5]),J[0]&64&&(E.checked=E.__value===H[6]),J[0]&64&&(M.checked=M.__value===H[6])},d(H){H&&R(t),G.r(),x=!1,ce(X)}}}function Wc(n){let t,e,o,l;const r=[Pc,Ic],i=[];function s(a,d){return We?0:1}return t=s(),e=i[t]=r[t](n),{c(){e.c(),o=Ae()},m(a,d){i[t].m(a,d),j(a,o,d),l=!0},p(a,d){e.p(a,d)},i(a){l||(Q(e),l=!0)},o(a){Y(e),l=!1},d(a){i[t].d(a),a&&R(o)}}}let Qc="/api/files/9hhair4kd0xa314/";function Bt(n){let t;return n&&(t=n[0]),t}function Kt(n){let t;return n&&(t=n.thumbnail),t}function rt(n,t){return Math.floor(n/t*100)}function Kc(n,t,e){let o,l,r,i;Ne(n,Tn,z=>e(120,o=z)),Ne(n,We,z=>e(41,l=z)),Ne(n,zt,z=>e(121,r=z)),Ne(n,Ln,z=>e(122,i=z));let s,a,d,f,h,_,m,g=[],v=[],k=[],y,b,S,E="",O,w,A,M,I,P,N,L,F,q,W,G,x,X,H,J,ee,ie="",le=[],K=!1,oe=nn+Qc;async function ae(){const z=await ge.collection("view_everything").getFullList({sort:"-id"});e(8,v=z),Te(),an();try{const ze=await ge.collection("collections").getFullList({sort:"-created"});e(7,g=ze)}catch(ze){alert(ze)}try{const ze=await ge.collection("enrollments").getFullList({expand:"class, class.managedBy",sort:"-class"});e(9,k=ze)}catch(ze){alert(ze)}}st(async()=>{ae(),Te(),an()}),Hn(()=>{ge.collection("view_everything").unsubscribe("*")});function Te(){un(Ln,i=v.length,i),un(zt,r=0,r);for(const z of v)z.pages_read&&un(zt,r+=z.pages_read,r)}async function Z(){try{const z={collection:h,reader:l.id,type:m},ze=await ge.collection("collections").create(z);ae()}catch(z){alert(z)}}async function we(){try{const z=new FormData;z.append("title",y),z.append("author",b),z.append("reader",l.id),z.append("review",E),z.append("collection",w),z.append("language",I),z.append("pages",O),z.append("class",P),A?z.append("cover",A[0]):z.append("googleCover",M);const ze=await ge.collection("books").create(z);ke.success("Book added successfully!",{position:Oe}),e(10,y=null),e(11,b=null),E=null,e(13,O=null),e(15,A=null),e(17,I=null),e(30,ie=""),e(31,le=[]),ae()}catch(z){alert(z)}}async function ye(){if(f.reportValidity()){if(s&&a&&d)if(+W+ +a<=+q)try{const z={reader:l.id,book:X,date:s,pages_read:+a,comment:d,class:J},ze=await ge.collection("reading").create(z);ke.success("Log entry saved!",{position:Oe}),ne()}catch(z){alert(z)}else+W+ +a>+q&&ke.error("Pages exceeded",{position:Oe});else ke.error("All fields required",{position:Oe});e(0,s=""),e(1,a=""),e(2,d=""),e(28,J=""),ae()}}async function ve(){try{const z=new FormData;z.append("title",N),z.append("author",L),z.append("reader",l.id),z.append("review",F),z.append("pages",q),z.append("collection",G),z.append("class",J),A&&z.append("cover",A[0]);const ze=await ge.collection("books").update(X,z);ke.success("Book updated!",{position:Oe}),ne(),U(),e(19,N=null),e(20,L=null),e(21,F=null),e(15,A=null),e(24,G=null),e(28,J=""),ae()}catch(z){alert(z)}}async function Ce(){try{await ge.collection("books").delete(X),ke.success("Book deleted!",{position:Oe}),ae()}catch(z){alert(z)}}let Pe=!1;function he(){e(33,Pe=!Pe)}let se=!1;function fe(){e(34,se=!se),se||(e(30,ie=""),e(31,le=[]))}let me=!1;function be(){e(35,me=!me)}let V=!1;function ne(){e(36,V=!V),console.log(V)}let D=!1;function U(){e(37,D=!D)}let ue=!1;function xe(){e(38,ue=!ue)}async function at(z){if(z.length>3){e(32,K=!0);let ze="https://www.googleapis.com/books/v1/volumes?q="+z+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const cn=await fetch(ze);e(31,le=await cn.json()),e(31,le=le.items),e(32,K=!1)}catch(cn){alert(cn)}}else ke.error("input required",{position:Oe})}function Gr(){be(),fe()}function Wr(){U(),xe()}let jt="",to=v;function an(){const z=jt.toLowerCase();e(40,to=v.filter(ze=>ze.title.toLowerCase().includes(z)||ze.author.toLowerCase().includes(z)||ze.status.toLowerCase().includes(z)))}Un(()=>{an()});const Qr=[[]];function Kr(z){Ve.call(this,n,z)}function Yr(z){Ve.call(this,n,z)}function Xr(z){Ve.call(this,n,z)}function Zr(z){Ve.call(this,n,z)}function $r(z){Ve.call(this,n,z)}function xr(z){Ve.call(this,n,z)}function ei(){jt=this.value,e(39,jt)}const ti=z=>{e(26,X=z.currentTarget.getAttribute("data-id"))},ni=z=>{e(19,N=z.currentTarget.getAttribute("data-title"))},oi=z=>{e(20,L=z.currentTarget.getAttribute("data-author"))},li=z=>{e(22,q=z.currentTarget.getAttribute("data-pages"))},ri=z=>{e(23,W=z.currentTarget.getAttribute("data-pagesread"))},ii=z=>{e(21,F=z.currentTarget.getAttribute("data-review"))},si=z=>{e(24,G=z.currentTarget.getAttribute("data-collection"))},ai=z=>{e(25,x=z.currentTarget.getAttribute("data-cover"))},ci=z=>{e(27,H=z.currentTarget.getAttribute("data-status"))},ui=z=>{e(28,J=z.currentTarget.getAttribute("data-class"))},fi=z=>{e(29,ee=z.currentTarget.getAttribute("data-className"))},di=z=>{e(26,X=z.currentTarget.getAttribute("data-id"))},pi=z=>{e(19,N=z.currentTarget.getAttribute("data-title"))},hi=z=>{e(20,L=z.currentTarget.getAttribute("data-author"))},_i=z=>{e(22,q=z.currentTarget.getAttribute("data-pages"))},mi=z=>{e(23,W=z.currentTarget.getAttribute("data-pagesread"))},gi=z=>{e(21,F=z.currentTarget.getAttribute("data-review"))},vi=z=>{e(24,G=z.currentTarget.getAttribute("data-collection"))},bi=z=>{e(25,x=z.currentTarget.getAttribute("data-cover"))},ki=z=>{e(27,H=z.currentTarget.getAttribute("data-status"))},yi=z=>{e(28,J=z.currentTarget.getAttribute("data-class"))},wi=z=>{e(29,ee=z.currentTarget.getAttribute("data-className"))},Ci=z=>{e(30,ie=z.currentTarget.value)},Si=z=>{e(10,y=z.currentTarget.getAttribute("data-title"))},Ai=z=>{e(11,b=z.currentTarget.getAttribute("data-author"))},Ti=z=>{e(13,O=z.currentTarget.getAttribute("data-pages"))},Ii=z=>{e(16,M=z.currentTarget.getAttribute("data-img"))},Pi=z=>{e(12,S=z.currentTarget.getAttribute("data-description"))},Li=z=>{e(17,I=z.currentTarget.getAttribute("data-language"))};function Oi(){y=this.value,e(10,y)}function Ei(){b=this.value,e(11,b)}function Mi(){O=$e(this.value),e(13,O)}function Ri(){I=Xe(this),e(17,I)}function ji(){w=Xe(this),e(14,w),e(7,g)}function Ni(){P=Xe(this),e(18,P),e(9,k)}const qi=()=>{console.log(P)};function Di(){A=this.files,e(15,A)}function Bi(){N=this.value,e(19,N)}function Fi(){s=this.value,e(0,s)}function Ui(){a=$e(this.value),e(1,a)}function Hi(){d=this.value,e(2,d)}function zi(){J=Xe(this),e(28,J),e(9,k)}function Ji(z){ft[z?"unshift":"push"](()=>{f=z,e(3,f)})}function Vi(){N=this.value,e(19,N)}function Gi(){L=this.value,e(20,L)}function Wi(){q=$e(this.value),e(22,q)}function Qi(){F=this.value,e(21,F)}function Ki(){G=Xe(this),e(24,G),e(7,g)}function Yi(){J=Xe(this),e(28,J),e(9,k)}function Xi(){A=this.files,e(15,A)}function Zi(){h=this.value,e(4,h)}function $i(){_=this.value,e(5,_)}function xi(){m=this.__value,e(6,m)}function es(){m=this.__value,e(6,m)}return[s,a,d,f,h,_,m,g,v,k,y,b,S,O,w,A,M,I,P,N,L,F,q,W,G,x,X,H,J,ee,ie,le,K,Pe,se,me,V,D,ue,jt,to,l,oe,Z,we,ye,ve,Ce,he,fe,be,ne,U,xe,at,Gr,Wr,Kr,Yr,Xr,Zr,$r,xr,ei,ti,ni,oi,li,ri,ii,si,ai,ci,ui,fi,di,pi,hi,_i,mi,gi,vi,bi,ki,yi,wi,Ci,Si,Ai,Ti,Ii,Pi,Li,Oi,Ei,Mi,Ri,ji,Ni,qi,Di,Bi,Fi,Ui,Hi,zi,Ji,Vi,Gi,Wi,Qi,Ki,Yi,Xi,Zi,$i,xi,Qr,es]}class Yc extends Me{constructor(t){super(),Ee(this,t,Kc,Wc,Le,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const wr=Object.freeze({left:0,top:0,width:16,height:16}),Yt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Mt=Object.freeze({...wr,...Yt}),On=Object.freeze({...Mt,body:"",hidden:!1}),Xc=Object.freeze({width:null,height:null}),Cr=Object.freeze({...Xc,...Yt});function Zc(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(l){for(;l<0;)l+=4;return l%4}if(e===""){const l=parseInt(n);return isNaN(l)?0:o(l)}else if(e!==n){let l=0;switch(e){case"%":l=25;break;case"deg":l=90}if(l){let r=parseFloat(n.slice(0,n.length-e.length));return isNaN(r)?0:(r=r/l,r%1===0?o(r):0)}}return t}const $c=/[\s,]+/;function xc(n,t){t.split($c).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Sr={...Cr,preserveAspectRatio:""};function el(n){const t={...Sr},e=(o,l)=>n.getAttribute(o)||l;return t.width=e("width",null),t.height=e("height",null),t.rotate=Zc(e("rotate","")),xc(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function eu(n,t){for(const e in Sr)if(n[e]!==t[e])return!0;return!1}const Ct=/^[a-z0-9]+(-[a-z0-9]+)*$/,Rt=(n,t,e,o="")=>{const l=n.split(":");if(n.slice(0,1)==="@"){if(l.length<2||l.length>3)return null;o=l.shift().slice(1)}if(l.length>3||!l.length)return null;if(l.length>1){const s=l.pop(),a=l.pop(),d={provider:l.length>0?l[0]:o,prefix:a,name:s};return t&&!Jt(d)?null:d}const r=l[0],i=r.split("-");if(i.length>1){const s={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!Jt(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:r};return t&&!Jt(s,e)?null:s}return null},Jt=(n,t)=>n?!!((n.provider===""||n.provider.match(Ct))&&(t&&n.prefix===""||n.prefix.match(Ct))&&n.name.match(Ct)):!1;function tu(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function tl(n,t){const e=tu(n,t);for(const o in On)o in Yt?o in n&&!(o in e)&&(e[o]=Yt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function nu(n,t){const e=n.icons,o=n.aliases||Object.create(null),l=Object.create(null);function r(i){if(e[i])return l[i]=[];if(!(i in l)){l[i]=null;const s=o[i]&&o[i].parent,a=s&&r(s);a&&(l[i]=[s].concat(a))}return l[i]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(r),l}function ou(n,t,e){const o=n.icons,l=n.aliases||Object.create(null);let r={};function i(s){r=tl(o[s]||l[s],r)}return i(t),e.forEach(i),tl(n,r)}function Ar(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(l=>{t(l,null),e.push(l)});const o=nu(n);for(const l in o){const r=o[l];r&&(t(l,ou(n,l,r)),e.push(l))}return e}const lu={provider:"",aliases:{},not_found:{},...wr};function mn(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Tr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!mn(n,lu))return null;const e=t.icons;for(const l in e){const r=e[l];if(!l.match(Ct)||typeof r.body!="string"||!mn(r,On))return null}const o=t.aliases||Object.create(null);for(const l in o){const r=o[l],i=r.parent;if(!l.match(Ct)||typeof i!="string"||!e[i]&&!o[i]||!mn(r,On))return null}return t}const Xt=Object.create(null);function ru(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function it(n,t){const e=Xt[n]||(Xt[n]=Object.create(null));return e[t]||(e[t]=ru(n,t))}function Xn(n,t){return Tr(t)?Ar(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function iu(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function su(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Xt)).forEach(l=>{(typeof l=="string"&&typeof t=="string"?[t]:Object.keys(Xt[l]||{})).forEach(i=>{const s=it(l,i);e=e.concat(Object.keys(s.icons).map(a=>(l!==""?"@"+l+":":"")+i+":"+a))})}),e}let Tt=!1;function Ir(n){return typeof n=="boolean"&&(Tt=n),Tt}function It(n){const t=typeof n=="string"?Rt(n,!0,Tt):n;if(t){const e=it(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Pr(n,t){const e=Rt(n,!0,Tt);if(!e)return!1;const o=it(e.provider,e.prefix);return iu(o,e.name,t)}function nl(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),Tt&&!t&&!n.prefix){let l=!1;return Tr(n)&&(n.prefix="",Ar(n,(r,i)=>{i&&Pr(r,i)&&(l=!0)})),l}const e=n.prefix;if(!Jt({provider:t,prefix:e,name:"a"}))return!1;const o=it(t,e);return!!Xn(o,n)}function au(n){return!!It(n)}function cu(n){const t=It(n);return t?{...Mt,...t}:null}function uu(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((l,r)=>l.provider!==r.provider?l.provider.localeCompare(r.provider):l.prefix!==r.prefix?l.prefix.localeCompare(r.prefix):l.name.localeCompare(r.name));let o={provider:"",prefix:"",name:""};return n.forEach(l=>{if(o.name===l.name&&o.prefix===l.prefix&&o.provider===l.provider)return;o=l;const r=l.provider,i=l.prefix,s=l.name,a=e[r]||(e[r]=Object.create(null)),d=a[i]||(a[i]=it(r,i));let f;s in d.icons?f=t.loaded:i===""||d.missing.has(s)?f=t.missing:f=t.pending;const h={provider:r,prefix:i,name:s};f.push(h)}),t}function Lr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(l=>l.id!==t))})}function fu(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,l=n.prefix;t.forEach(r=>{const i=r.icons,s=i.pending.length;i.pending=i.pending.filter(a=>{if(a.prefix!==l)return!0;const d=a.name;if(n.icons[d])i.loaded.push({provider:o,prefix:l,name:d});else if(n.missing.has(d))i.missing.push({provider:o,prefix:l,name:d});else return e=!0,!0;return!1}),i.pending.length!==s&&(e||Lr([n],r.id),r.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),r.abort))})}))}let du=0;function pu(n,t,e){const o=du++,l=Lr.bind(null,e,o);if(!t.pending.length)return l;const r={id:o,icons:t,callback:n,abort:l};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(r)}),l}const En=Object.create(null);function ol(n,t){En[n]=t}function Mn(n){return En[n]||En[""]}function hu(n,t=!0,e=!1){const o=[];return n.forEach(l=>{const r=typeof l=="string"?Rt(l,t,e):l;r&&o.push(r)}),o}var _u={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function mu(n,t,e,o){const l=n.resources.length,r=n.random?Math.floor(Math.random()*l):n.index;let i;if(n.random){let w=n.resources.slice(0);for(i=[];w.length>1;){const A=Math.floor(Math.random()*w.length);i.push(w[A]),w=w.slice(0,A).concat(w.slice(A+1))}i=i.concat(w)}else i=n.resources.slice(r).concat(n.resources.slice(0,r));const s=Date.now();let a="pending",d=0,f,h=null,_=[],m=[];typeof o=="function"&&m.push(o);function g(){h&&(clearTimeout(h),h=null)}function v(){a==="pending"&&(a="aborted"),g(),_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function k(w,A){A&&(m=[]),typeof w=="function"&&m.push(w)}function y(){return{startTime:s,payload:t,status:a,queriesSent:d,queriesPending:_.length,subscribe:k,abort:v}}function b(){a="failed",m.forEach(w=>{w(void 0,f)})}function S(){_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function E(w,A,M){const I=A!=="success";switch(_=_.filter(P=>P!==w),a){case"pending":break;case"failed":if(I||!n.dataAfterTimeout)return;break;default:return}if(A==="abort"){f=M,b();return}if(I){f=M,_.length||(i.length?O():b());return}if(g(),S(),!n.random){const P=n.resources.indexOf(w.resource);P!==-1&&P!==n.index&&(n.index=P)}a="completed",m.forEach(P=>{P(M)})}function O(){if(a!=="pending")return;g();const w=i.shift();if(w===void 0){if(_.length){h=setTimeout(()=>{g(),a==="pending"&&(S(),b())},n.timeout);return}b();return}const A={status:"pending",resource:w,callback:(M,I)=>{E(A,M,I)}};_.push(A),d++,h=setTimeout(O,n.rotate),e(w,t,A.callback)}return setTimeout(O),y}function Or(n){const t={..._u,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function l(s,a,d){const f=mu(t,s,a,(h,_)=>{o(),d&&d(h,_)});return e.push(f),f}function r(s){return e.find(a=>s(a))||null}return{query:l,find:r,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function Zn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const rn=Object.create(null),wt=["https://api.simplesvg.com","https://api.unisvg.com"],Vt=[];for(;wt.length>0;)wt.length===1||Math.random()>.5?Vt.push(wt.shift()):Vt.push(wt.pop());rn[""]=Zn({resources:["https://api.iconify.design"].concat(Vt)});function ll(n,t){const e=Zn(t);return e===null?!1:(rn[n]=e,!0)}function sn(n){return rn[n]}function gu(){return Object.keys(rn)}function rl(){}const gn=Object.create(null);function vu(n){if(!gn[n]){const t=sn(n);if(!t)return;const e=Or(t),o={config:t,redundancy:e};gn[n]=o}return gn[n]}function Er(n,t,e){let o,l;if(typeof n=="string"){const r=Mn(n);if(!r)return e(void 0,424),rl;l=r.send;const i=vu(n);i&&(o=i.redundancy)}else{const r=Zn(n);if(r){o=Or(r);const i=n.resources?n.resources[0]:"",s=Mn(i);s&&(l=s.send)}}return!o||!l?(e(void 0,424),rl):o.query(t,l,e)().abort}const il="iconify2",Pt="iconify",Mr=Pt+"-count",sl=Pt+"-version",Rr=36e5,bu=168;function Rn(n,t){try{return n.getItem(t)}catch{}}function $n(n,t,e){try{return n.setItem(t,e),!0}catch{}}function al(n,t){try{n.removeItem(t)}catch{}}function jn(n,t){return $n(n,Mr,t.toString())}function Nn(n){return parseInt(Rn(n,Mr))||0}const ut={local:!0,session:!0},jr={local:new Set,session:new Set};let xn=!1;function ku(n){xn=n}let Ft=typeof window>"u"?{}:window;function Nr(n){const t=n+"Storage";try{if(Ft&&Ft[t]&&typeof Ft[t].length=="number")return Ft[t]}catch{}ut[n]=!1}function qr(n,t){const e=Nr(n);if(!e)return;const o=Rn(e,sl);if(o!==il){if(o){const s=Nn(e);for(let a=0;a<s;a++)al(e,Pt+a.toString())}$n(e,sl,il),jn(e,0);return}const l=Math.floor(Date.now()/Rr)-bu,r=s=>{const a=Pt+s.toString(),d=Rn(e,a);if(typeof d=="string"){try{const f=JSON.parse(d);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>l&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&t(f,s))return!0}catch{}al(e,a)}};let i=Nn(e);for(let s=i-1;s>=0;s--)r(s)||(s===i-1?(i--,jn(e,i)):jr[n].add(s))}function Dr(){if(!xn){ku(!0);for(const n in ut)qr(n,t=>{const e=t.data,o=t.provider,l=e.prefix,r=it(o,l);if(!Xn(r,e).length)return!1;const i=e.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,i):i,!0})}}function yu(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in ut)qr(o,l=>{const r=l.data;return l.provider!==n.provider||r.prefix!==n.prefix||r.lastModified===t});return!0}function wu(n,t){xn||Dr();function e(o){let l;if(!ut[o]||!(l=Nr(o)))return;const r=jr[o];let i;if(r.size)r.delete(i=Array.from(r).shift());else if(i=Nn(l),!jn(l,i+1))return;const s={cached:Math.floor(Date.now()/Rr),provider:n.provider,data:t};return $n(l,Pt+i.toString(),JSON.stringify(s))}t.lastModified&&!yu(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function cl(){}function Cu(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,fu(n)}))}function Su(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,l=n.iconsToLoad;delete n.iconsToLoad;let r;if(!l||!(r=Mn(e)))return;r.prepare(e,o,l).forEach(s=>{Er(e,s,a=>{if(typeof a!="object")s.icons.forEach(d=>{n.missing.add(d)});else try{const d=Xn(n,a);if(!d.length)return;const f=n.pendingIcons;f&&d.forEach(h=>{f.delete(h)}),wu(n,a)}catch(d){console.error(d)}Cu(n)})})}))}const eo=(n,t)=>{const e=hu(n,!0,Ir()),o=uu(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,cl)}),()=>{a=!1}}const l=Object.create(null),r=[];let i,s;return o.pending.forEach(a=>{const{provider:d,prefix:f}=a;if(f===s&&d===i)return;i=d,s=f,r.push(it(d,f));const h=l[d]||(l[d]=Object.create(null));h[f]||(h[f]=[])}),o.pending.forEach(a=>{const{provider:d,prefix:f,name:h}=a,_=it(d,f),m=_.pendingIcons||(_.pendingIcons=new Set);m.has(h)||(m.add(h),l[d][f].push(h))}),r.forEach(a=>{const{provider:d,prefix:f}=a;l[d][f].length&&Su(a,l[d][f])}),t?pu(t,o,r):cl},Au=n=>new Promise((t,e)=>{const o=typeof n=="string"?Rt(n,!0):n;if(!o){e(n);return}eo([o||n],l=>{if(l.length&&o){const r=It(o);if(r){t({...Mt,...r});return}}e(n)})});function Tu(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function Iu(n,t){const e=typeof n=="string"?Rt(n,!0,!0):null;if(!e){const r=Tu(n);return{value:n,data:r}}const o=It(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const l=eo([e],()=>t(n,e,It(e)));return{value:n,name:e,loading:l}}function vn(n){return n.hasAttribute("inline")}let Br=!1;try{Br=navigator.vendor.indexOf("Apple")===0}catch{}function Pu(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(Br||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Lu=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ou=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function qn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(Lu);if(o===null||!o.length)return n;const l=[];let r=o.shift(),i=Ou.test(r);for(;;){if(i){const s=parseFloat(r);isNaN(s)?l.push(r):l.push(Math.ceil(s*t*e)/e)}else l.push(r);if(r=o.shift(),r===void 0)return l.join("");i=!i}}const Eu=n=>n==="unset"||n==="undefined"||n==="none";function Fr(n,t){const e={...Mt,...n},o={...Cr,...t},l={left:e.left,top:e.top,width:e.width,height:e.height};let r=e.body;[e,o].forEach(g=>{const v=[],k=g.hFlip,y=g.vFlip;let b=g.rotate;k?y?b+=2:(v.push("translate("+(l.width+l.left).toString()+" "+(0-l.top).toString()+")"),v.push("scale(-1 1)"),l.top=l.left=0):y&&(v.push("translate("+(0-l.left).toString()+" "+(l.height+l.top).toString()+")"),v.push("scale(1 -1)"),l.top=l.left=0);let S;switch(b<0&&(b-=Math.floor(b/4)*4),b=b%4,b){case 1:S=l.height/2+l.top,v.unshift("rotate(90 "+S.toString()+" "+S.toString()+")");break;case 2:v.unshift("rotate(180 "+(l.width/2+l.left).toString()+" "+(l.height/2+l.top).toString()+")");break;case 3:S=l.width/2+l.left,v.unshift("rotate(-90 "+S.toString()+" "+S.toString()+")");break}b%2===1&&(l.left!==l.top&&(S=l.left,l.left=l.top,l.top=S),l.width!==l.height&&(S=l.width,l.width=l.height,l.height=S)),v.length&&(r='<g transform="'+v.join(" ")+'">'+r+"</g>")});const i=o.width,s=o.height,a=l.width,d=l.height;let f,h;i===null?(h=s===null?"1em":s==="auto"?d:s,f=qn(h,a/d)):(f=i==="auto"?a:i,h=s===null?qn(f,d/a):s==="auto"?d:s);const _={},m=(g,v)=>{Eu(v)||(_[g]=v.toString())};return m("width",f),m("height",h),_.viewBox=l.left.toString()+" "+l.top.toString()+" "+a.toString()+" "+d.toString(),{attributes:_,body:r}}const Mu=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Zt=Mu();function Ru(n){Zt=n}function ju(){return Zt}function Nu(n,t){const e=sn(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let l=0;e.resources.forEach(i=>{l=Math.max(l,i.length)});const r=t+".json?icons=";o=e.maxURL-l-e.path.length-r.length}return o}function qu(n){return n===404}const Du=(n,t,e)=>{const o=[],l=Nu(n,t),r="icons";let i={type:r,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,d)=>{s+=a.length+1,s>=l&&d>0&&(o.push(i),i={type:r,provider:n,prefix:t,icons:[]},s=a.length),i.icons.push(a)}),o.push(i),o};function Bu(n){if(typeof n=="string"){const t=sn(n);if(t)return t.path}return"/"}const Fu=(n,t,e)=>{if(!Zt){e("abort",424);return}let o=Bu(t.provider);switch(t.type){case"icons":{const r=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=r+".json?"+a.toString();break}case"custom":{const r=t.uri;o+=r.slice(0,1)==="/"?r.slice(1):r;break}default:e("abort",400);return}let l=503;Zt(n+o).then(r=>{const i=r.status;if(i!==200){setTimeout(()=>{e(qu(i)?"abort":"next",i)});return}return l=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?e("abort",r):e("next",l)});return}setTimeout(()=>{e("success",r)})}).catch(()=>{e("next",l)})},Uu={prepare:Du,send:Fu};function ul(n,t){switch(n){case"local":case"session":ut[n]=t;break;case"all":for(const e in ut)ut[e]=t;break}}const bn="data-style";let Ur="";function Hu(n){Ur=n}function fl(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(bn));e||(e=document.createElement("style"),e.setAttribute(bn,bn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+Ur}function Hr(){ol("",Uu),Ir(!0);let n;try{n=window}catch{}if(n){if(Dr(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(l=>{try{(typeof l!="object"||l===null||l instanceof Array||typeof l.icons!="object"||typeof l.prefix!="string"||!nl(l))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const l="IconifyProviders["+o+"] is invalid.";try{const r=e[o];if(typeof r!="object"||!r||r.resources===void 0)continue;ll(o,r)||console.error(l)}catch{console.error(l)}}}}return{enableCache:e=>ul(e,!0),disableCache:e=>ul(e,!1),iconExists:au,getIcon:cu,listIcons:su,addIcon:Pr,addCollection:nl,calculateSize:qn,buildIcon:Fr,loadIcons:eo,loadIcon:Au,addAPIProvider:ll,appendCustomStyle:Hu,_api:{getAPIConfig:sn,setAPIModule:ol,sendAPIQuery:Er,setFetch:Ru,getFetch:ju,listAPIProviders:gu}}}function zr(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function zu(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Ju(n){return'url("data:image/svg+xml,'+zu(n)+'")'}const Dn={"background-color":"currentColor"},Jr={"background-color":"transparent"},dl={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},pl={"-webkit-mask":Dn,mask:Dn,background:Jr};for(const n in pl){const t=pl[n];for(const e in dl)t[n+"-"+e]=dl[e]}function hl(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Vu(n,t,e){const o=document.createElement("span");let l=n.body;l.indexOf("<a")!==-1&&(l+="<!-- "+Date.now()+" -->");const r=n.attributes,i=zr(l,{...r,width:t.width+"",height:t.height+""}),s=Ju(i),a=o.style,d={"--svg":s,width:hl(r.width),height:hl(r.height),...e?Dn:Jr};for(const f in d)a.setProperty(f,d[f]);return o}function Gu(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=zr(n.body,e),t.firstChild}function _l(n,t){const e=t.icon.data,o=t.customisations,l=Fr(e,o);o.preserveAspectRatio&&(l.attributes.preserveAspectRatio=o.preserveAspectRatio);const r=t.renderedMode;let i;switch(r){case"svg":i=Gu(l);break;default:i=Vu(l,{...Mt,...e},r==="mask")}const s=Array.from(n.childNodes).find(a=>{const d=a.tagName&&a.tagName.toUpperCase();return d==="SPAN"||d==="SVG"});s?i.tagName==="SPAN"&&s.tagName===i.tagName?s.setAttribute("style",i.getAttribute("style")):n.replaceChild(i,s):n.appendChild(i)}function ml(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function Wu(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const l=["icon","mode","inline","width","height","rotate","flip"],r=class extends e{constructor(){super();Nt(this,"_shadowRoot");Nt(this,"_state");Nt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),d=vn(this);fl(a,d),this._state=ml({value:""},d),this._queueCheck()}static get observedAttributes(){return l.slice(0)}attributeChangedCallback(a){if(a==="inline"){const d=vn(this),f=this._state;d!==f.inline&&(f.inline=d,fl(this._shadowRoot,d))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return vn(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const d=this._shadowRoot;if(a.renderedMode==="svg")try{d.lastChild.setCurrentTime(0);return}catch{}_l(d,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,d=this.getAttribute("icon");if(d!==a.icon.value){this._iconChanged(d);return}if(!a.rendered)return;const f=this.getAttribute("mode"),h=el(this);(a.attrMode!==f||eu(a.customisations,h))&&this._renderIcon(a.icon,h,f)}_iconChanged(a){const d=Iu(a,(f,h,_)=>{const m=this._state;if(m.rendered||this.getAttribute("icon")!==f)return;const g={value:f,name:h,data:_};g.data?this._gotIconData(g):m.icon=g});d.data?this._gotIconData(d):this._state=ml(d,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,el(this),this.getAttribute("mode"))}_renderIcon(a,d,f){const h=Pu(a.data.body,f),_=this._state.inline;_l(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:d,attrMode:f,renderedMode:h})}};l.forEach(s=>{s in r.prototype||Object.defineProperty(r.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const i=Hr();for(const s in i)r[s]=r.prototype[s]=i[s];return t.define(n,r),r}Wu()||Hr();function gl(n,t,e){const o=n.slice();return o[17]=t[e],o}function vl(n,t,e){const o=n.slice();return o[17]=t[e],o}function bl(n,t,e){const o=n.slice();return o[59]=t[e],o}function Qu(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w=[],A=new Map,M,I,P,N,L,F,q=n[16];const W=H=>H[59].id;for(let H=0;H<q.length;H+=1){let J=bl(n,q,H),ee=W(J);A.set(ee,w[H]=kl(ee,J))}let G=n[12]&&yl(n),x=n[13]&&Cl(n),X=n[14]&&Al(n);return{c(){t=p("div"),e=p("div"),o=p("select"),l=p("option"),l.textContent="All",r=p("option"),r.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",m=p("option"),m.textContent="September",g=p("option"),g.textContent="October",v=p("option"),v.textContent="November",k=p("option"),k.textContent="December",y=C(),b=p("input"),S=C(),E=p("button"),E.textContent="Add Log Entry",O=C();for(let H=0;H<w.length;H+=1)w[H].c();M=C(),G&&G.c(),I=C(),x&&x.c(),P=C(),X&&X.c(),N=Ae(),l.__value="All",l.value=l.__value,r.__value="January",r.value=r.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,m.__value="September",m.value=m.__value,g.__value="October",g.value=g.__value,v.__value="November",v.value=v.__value,k.__value="December",k.value=k.__value,u(o,"class","svelte-1lnkfej"),n[5]===void 0&&je(()=>n[27].call(o)),u(b,"class","radius svelte-1lnkfej"),u(b,"type","search"),u(b,"placeholder","Filter logs..."),u(e,"class","flex svelte-1lnkfej"),u(E,"class","btn btn-primary svelte-1lnkfej"),u(t,"class","container svelte-1lnkfej")},m(H,J){j(H,t,J),c(t,e),c(e,o),c(o,l),c(o,r),c(o,i),c(o,s),c(o,a),c(o,d),c(o,f),c(o,h),c(o,_),c(o,m),c(o,g),c(o,v),c(o,k),Re(o,n[5],!0),c(e,y),c(e,b),$(b,n[15]),c(t,S),c(t,E),c(t,O);for(let ee=0;ee<w.length;ee+=1)w[ee]&&w[ee].m(t,null);j(H,M,J),G&&G.m(H,J),j(H,I,J),x&&x.m(H,J),j(H,P,J),X&&X.m(H,J),j(H,N,J),L||(F=[T(o,"change",n[27]),T(o,"change",n[18]),T(b,"input",n[28]),T(E,"click",n[19])],L=!0)},p(H,J){J[0]&32&&Re(o,H[5]),J[0]&32768&&b.value!==H[15]&&$(b,H[15]),J[0]&1117215&&(q=H[16],w=Ue(w,J,W,1,H,q,A,t,Je,kl,null,bl)),H[12]?G?G.p(H,J):(G=yl(H),G.c(),G.m(I.parentNode,I)):G&&(G.d(1),G=null),H[13]?x?x.p(H,J):(x=Cl(H),x.c(),x.m(P.parentNode,P)):x&&(x.d(1),x=null),H[14]?X?X.p(H,J):(X=Al(H),X.c(),X.m(N.parentNode,N)):X&&(X.d(1),X=null)},d(H){H&&R(t);for(let J=0;J<w.length;J+=1)w[J].d();H&&R(M),G&&G.d(H),H&&R(I),x&&x.d(H),H&&R(P),X&&X.d(H),H&&R(N),L=!1,ce(F)}}}function kl(n,t){let e,o,l,r,i=t[59].title+"",s,a,d=t[59].comment+"",f,h,_,m,g,v,k,y=Tl(t[59].date)+"",b,S,E,O=t[59].pages_read+"",w,A,M,I,P,N,L,F,q,W,G;return{key:n,first:null,c(){e=p("a"),o=p("article"),l=p("hgroup"),r=p("h4"),s=B(i),a=C(),f=B(d),h=C(),_=p("br"),m=C(),g=p("footer"),v=p("div"),k=p("div"),b=B(y),S=C(),E=p("div"),w=B(O),A=B(" pages"),M=C(),u(v,"class","pages svelte-1lnkfej"),u(e,"href","#edit"),u(e,"data-id",I=t[59].id),u(e,"data-date",P=t[59].date),u(e,"data-title",N=t[59].title),u(e,"data-pages",L=t[59].pages),u(e,"data-pagesread",F=t[59].pages_read),u(e,"data-comment",q=t[59].comment),u(e,"class","svelte-1lnkfej"),this.first=e},m(x,X){j(x,e,X),c(e,o),c(o,l),c(l,r),c(r,s),c(l,a),c(l,f),c(l,h),c(l,_),c(o,m),c(o,g),c(g,v),c(v,k),c(k,b),c(v,S),c(v,E),c(E,w),c(E,A),c(o,M),W||(G=[T(e,"click",t[29]),T(e,"click",t[30]),T(e,"click",t[31]),T(e,"click",t[32]),T(e,"click",t[33]),T(e,"click",t[34]),T(e,"click",t[35]),T(e,"click",t[20])],W=!0)},p(x,X){t=x,X[0]&65536&&i!==(i=t[59].title+"")&&re(s,i),X[0]&65536&&d!==(d=t[59].comment+"")&&re(f,d),X[0]&65536&&y!==(y=Tl(t[59].date)+"")&&re(b,y),X[0]&65536&&O!==(O=t[59].pages_read+"")&&re(w,O),X[0]&65536&&I!==(I=t[59].id)&&u(e,"data-id",I),X[0]&65536&&P!==(P=t[59].date)&&u(e,"data-date",P),X[0]&65536&&N!==(N=t[59].title)&&u(e,"data-title",N),X[0]&65536&&L!==(L=t[59].pages)&&u(e,"data-pages",L),X[0]&65536&&F!==(F=t[59].pages_read)&&u(e,"data-pagesread",F),X[0]&65536&&q!==(q=t[59].comment)&&u(e,"data-comment",q)},d(x){x&&R(e),W=!1,ce(G)}}}function yl(n){let t,e,o,l,r,i,s,a,d,f,h,_=[],m=new Map,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G,x=n[9];const X=H=>H[17].id;for(let H=0;H<x.length;H+=1){let J=vl(n,x,H),ee=X(J);m.set(ee,_[H]=wl(ee,J))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Log Entry`),i=C(),s=p("form"),a=p("label"),a.textContent="Book",d=C(),f=p("select"),h=p("option"),h.textContent="Please select an option";for(let H=0;H<_.length;H+=1)_[H].c();g=C(),v=p("label"),k=B(`Date\r
            `),y=p("input"),b=C(),S=p("label"),E=B(`Pages Read\r
            `),O=p("input"),w=C(),A=p("label"),M=B(`Comment\r
            `),I=p("input"),P=C(),N=p("footer"),L=p("a"),L.textContent="Cancel",F=C(),q=p("a"),q.textContent="Save",u(l,"href","#close"),u(l,"class","close svelte-1lnkfej"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(f,"id","book"),n[17]===void 0&&je(()=>n[36].call(f)),u(y,"id","date"),u(y,"name","date"),u(y,"type","date"),y.required=!0,u(v,"for","date"),u(O,"id","pagesRead"),u(O,"name","pagesRead"),u(O,"type","number"),O.required=!0,u(S,"for","pagesRead"),u(I,"id","comment"),u(I,"name","comment"),u(I,"type","textarea"),I.required=!0,u(A,"for","comment"),u(L,"href","#cancel"),u(L,"role","button"),u(L,"class","secondary svelte-1lnkfej"),u(q,"href","#confirm"),u(q,"role","button"),u(q,"class","svelte-1lnkfej"),u(N,"class","svelte-1lnkfej"),t.open=!0},m(H,J){j(H,t,J),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h);for(let ee=0;ee<_.length;ee+=1)_[ee]&&_[ee].m(f,null);Re(f,n[17],!0),c(s,g),c(s,v),c(v,k),c(v,y),$(y,n[6]),c(s,b),c(s,S),c(S,E),c(S,O),$(O,n[7]),c(s,w),c(s,A),c(A,M),c(A,I),$(I,n[8]),c(e,P),c(e,N),c(N,L),c(N,F),c(N,q),W||(G=[T(l,"click",n[19]),T(f,"change",n[36]),T(y,"input",n[37]),T(O,"input",n[38]),T(I,"input",n[39]),T(s,"submit",Ge(n[26])),T(L,"click",n[19]),T(q,"click",n[23]),T(q,"click",n[19])],W=!0)},p(H,J){J[0]&512&&(x=H[9],_=Ue(_,J,X,1,H,x,m,f,Je,wl,null,vl)),J[0]&131584&&Re(f,H[17]),J[0]&64&&$(y,H[6]),J[0]&128&&$e(O.value)!==H[7]&&$(O,H[7]),J[0]&256&&$(I,H[8])},d(H){H&&R(t);for(let J=0;J<_.length;J+=1)_[J].d();W=!1,ce(G)}}}function wl(n,t){let e,o=t[17].title+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[17].id,e.value=e.__value,this.first=e},m(i,s){j(i,e,s),c(e,l)},p(i,s){t=i,s[0]&512&&o!==(o=t[17].title+"")&&re(l,o),s[0]&512&&r!==(r=t[17].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&R(e)}}}function Cl(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I=[],P=new Map,N,L,F,q,W,G,x,X,H,J,ee,ie=n[9];const le=K=>K[17].id;for(let K=0;K<ie.length;K+=1){let oe=gl(n,ie,K),ae=le(oe);P.set(ae,I[K]=Sl(ae,oe))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Edit Entry Details`),i=C(),s=p("form"),a=p("label"),d=B(`Date\r
            `),f=p("input"),h=C(),_=p("label"),m=B(`Pages Read\r
            `),g=p("input"),v=C(),k=p("label"),y=B(`Comment\r
            `),b=p("input"),S=C(),E=p("label"),E.textContent="Book",O=C(),w=p("select"),A=p("option"),M=B(n[2]);for(let K=0;K<I.length;K+=1)I[K].c();N=C(),L=p("footer"),F=p("div"),q=p("a"),q.textContent="Delete",W=C(),G=p("div"),x=p("a"),x.textContent="Cancel",X=C(),H=p("a"),H.textContent="Save",u(l,"href","#close"),u(l,"class","close svelte-1lnkfej"),u(f,"id","date"),u(f,"name","date"),u(f,"type","date"),u(f,"placeholder",n[1]),u(a,"for","date"),u(g,"id","pages"),u(g,"name","pages"),u(g,"placeholder","Pages"),u(g,"type","number"),u(_,"for","pages"),u(b,"id","comment"),u(b,"name","comment"),u(b,"type","text"),u(k,"for","comment"),u(E,"for","book"),A.__value=n[2],A.value=A.__value,A.selected=!0,w.disabled=!0,u(w,"id","book"),n[2]===void 0&&je(()=>n[43].call(w)),u(q,"href","#delete"),u(q,"role","button"),u(q,"class","delete svelte-1lnkfej"),u(x,"href","#cancel"),u(x,"role","button"),u(x,"class","secondary svelte-1lnkfej"),u(H,"href","#confirm"),u(H,"role","button"),u(H,"class","svelte-1lnkfej"),u(L,"data-button","spaceBetween"),u(L,"class","svelte-1lnkfej"),t.open=!0},m(K,oe){j(K,t,oe),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[1]),c(s,h),c(s,_),c(_,m),c(_,g),$(g,n[3]),c(s,v),c(s,k),c(k,y),c(k,b),$(b,n[4]),c(s,S),c(s,E),c(s,O),c(s,w),c(w,A),c(A,M);for(let ae=0;ae<I.length;ae+=1)I[ae]&&I[ae].m(w,null);Re(w,n[2],!0),c(e,N),c(e,L),c(L,F),c(F,q),c(L,W),c(L,G),c(G,x),c(G,X),c(G,H),J||(ee=[T(l,"click",n[20]),T(f,"input",n[40]),T(g,"input",n[41]),T(b,"input",n[42]),T(w,"change",n[43]),T(s,"submit",Ge(n[25])),T(q,"click",n[21]),T(x,"click",n[20]),T(H,"click",n[24]),T(H,"click",n[20])],J=!0)},p(K,oe){oe[0]&2&&u(f,"placeholder",K[1]),oe[0]&2&&$(f,K[1]),oe[0]&8&&$e(g.value)!==K[3]&&$(g,K[3]),oe[0]&16&&b.value!==K[4]&&$(b,K[4]),oe[0]&4&&re(M,K[2]),oe[0]&516&&(A.__value=K[2],A.value=A.__value),oe[0]&512&&(ie=K[9],I=Ue(I,oe,le,1,K,ie,P,w,Je,Sl,null,gl)),oe[0]&516&&Re(w,K[2])},d(K){K&&R(t);for(let oe=0;oe<I.length;oe+=1)I[oe].d();J=!1,ce(ee)}}}function Sl(n,t){let e,o=t[17].title+"",l,r;return{key:n,first:null,c(){e=p("option"),l=B(o),e.__value=r=t[17].id,e.value=e.__value,this.first=e},m(i,s){j(i,e,s),c(e,l)},p(i,s){t=i,s[0]&512&&o!==(o=t[17].title+"")&&re(l,o),s[0]&512&&r!==(r=t[17].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&R(e)}}}function Al(n){let t,e,o,l,r,i,s,a,d,f,h,_,m;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",l=C(),r=p("p"),r.textContent="Are you sure you want to delete this entry?",i=C(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=C(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-1lnkfej"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1lnkfej"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1lnkfej"),u(s,"class","svelte-1lnkfej"),t.open=!0},m(g,v){j(g,t,v),c(t,e),c(e,o),c(e,l),c(e,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),_||(m=[T(d,"click",n[21]),T(h,"click",n[22]),T(h,"click",n[21])],_=!0)},p:te,d(g){g&&R(t),_=!1,ce(m)}}}function Ku(n){let t,e=We&&Qu(n);return{c(){e&&e.c(),t=Ae()},m(o,l){e&&e.m(o,l),j(o,t,l)},p(o,l){We&&e.p(o,l)},i:te,o:te,d(o){e&&e.d(o),o&&R(t)}}}function Tl(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Yu(n,t,e){let o;Ne(n,We,U=>e(46,o=U));let l=[],r,i,s,a,d,f;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let m=h[_.getMonth()],g=_.getMonth()+1,v=_.getFullYear(),k="";g<10?g===9?k=`date >= '${v}-0${g}-01' && date < '${v}-${g+1}-01'`:k=`date >= '${v}-0${g}-01' && date < '${v}-0${g+1}-01'`:g===12?k=`date >= '${v}-${g}-01' && date < '${v+1}-01-01'`:k=`date >= '${v}-${g}-01' && date < '${v}-${g+1}-01'`;let y=m,b,S,E,O=[],w,A,M;async function I(){try{l=await ge.collection("view_readingLog").getFullList({filter:k,sort:"-date"})}catch(U){alert(U)}try{const U=await ge.collection("books").getFullList({sort:"-created"});e(9,O=U),ee()}catch(U){alert(U)}}st(async()=>{I()});function P(){if(y&&_.getMonth()>4)switch(y){case"All":k="";break;case"January":k="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":k="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":k="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":k="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":k="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":k="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":k="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":k="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":k="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":k="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":k="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":k="date >= '2023-12-01' && date <= '2023-12-31'";break}l=[],I()}let N=!1;function L(){e(12,N=!N)}let F=!1;function q(){e(13,F=!F)}let W=!1;function G(){e(14,W=!W)}async function x(){try{console.log(r),await ge.collection("reading").delete(r),ke.success("Entry deleted!",{position:Oe}),I()}catch(U){alert(U)}}async function X(){if(b&&S){try{const U={reader:o.id,book:w,date:b,pages_read:+S,comment:E},ue=await ge.collection("reading").create(U);ke.success("Log saved!",{position:Oe})}catch(U){alert(U)}e(6,b=null),e(7,S=""),e(17,w="")}I()}async function H(){if(+d<+M)try{const U=new FormData;U.append("pages_read",d),U.append("comment",f),s&&U.append("date",s);const ue=await ge.collection("reading").update(i,U);ke.success("Log entry updated!",{position:Oe}),e(2,a=""),e(3,d=""),e(1,s=null),I()}catch(U){alert(U)}else if(+d>+M)if(+d+ +M<=+A)try{const U=new FormData;U.append("pages_read",d),U.append("comment",f),s&&U.append("date",s);const ue=await ge.collection("reading").update(i,U);ke.success("Log entry updated!",{position:Oe}),e(2,a=""),e(3,d=""),e(1,s=null),I()}catch(U){alert(U)}else ke.error("Pages exceeded",{position:Oe});else try{const U=new FormData;U.append("comment",f),s&&U.append("date",s);const ue=await ge.collection("reading").update(i,U);ke.success("Log entry updated!",{position:Oe}),e(2,a=""),e(3,d=""),e(1,s=null),I()}catch(U){alert(U)}}let J="";function ee(){const U=J.toLowerCase();e(16,ie=l.filter(ue=>ue.title.toLowerCase().includes(U)||ue.reader_name.toLowerCase().includes(U)||ue.date.toLowerCase().includes(U)))}let ie=l;Un(()=>{ee()});function le(U){Ve.call(this,n,U)}function K(U){Ve.call(this,n,U)}function oe(){y=Xe(this),e(5,y)}function ae(){J=this.value,e(15,J)}const Te=U=>{e(0,i=U.currentTarget.getAttribute("data-id"))},Z=U=>{e(1,s=U.currentTarget.getAttribute("data-date"))},we=U=>{e(2,a=U.currentTarget.getAttribute("data-title"))},ye=U=>{e(11,M=U.currentTarget.getAttribute("data-pagesread"))},ve=U=>{e(3,d=U.currentTarget.getAttribute("data-pagesread"))},Ce=U=>{e(10,A=U.currentTarget.getAttribute("data-pages"))},Pe=U=>{e(4,f=U.currentTarget.getAttribute("data-comment"))};function he(){w=Xe(this),e(17,w),e(9,O)}function se(){b=this.value,e(6,b)}function fe(){S=$e(this.value),e(7,S)}function me(){E=this.value,e(8,E)}function be(){s=this.value,e(1,s)}function V(){d=$e(this.value),e(3,d)}function ne(){f=this.value,e(4,f)}function D(){a=Xe(this),e(2,a),e(9,O)}return[i,s,a,d,f,y,b,S,E,O,A,M,N,F,W,J,ie,w,P,L,q,G,x,X,H,le,K,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he,se,fe,me,be,V,ne,D]}class Xu extends Me{constructor(t){super(),Ee(this,t,Yu,Ku,Le,{},null,[-1,-1])}}function Il(n,t,e){const o=n.slice();return o[43]=t[e],o}function Zu(n){let t;function e(r,i){return r[13]?xu:ef}let o=e(n),l=o(n);return{c(){l.c(),t=Ae()},m(r,i){l.m(r,i),j(r,t,i)},p(r,i){o===(o=e(r))&&l?l.p(r,i):(l.d(1),l=o(r),l&&(l.c(),l.m(t.parentNode,t)))},d(r){l.d(r),r&&R(t)}}}function $u(n){let t,e,o,l,r=[],i=new Map,s,a,d,f=n[0];const h=m=>m[43].id;for(let m=0;m<f.length;m+=1){let g=Il(n,f,m),v=h(g);i.set(v,r[m]=Ll(v,g))}let _=n[14]&&Ol(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=C(),l=p("div");for(let m=0;m<r.length;m+=1)r[m].c();s=C(),a=C(),_&&_.c(),d=Ae(),Se(e,"text-align","center"),u(l,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(m,g){j(m,t,g),c(t,e),c(t,o),c(t,l);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(l,null);j(m,s,g),j(m,a,g),_&&_.m(m,g),j(m,d,g)},p(m,g){g[0]&335871&&(f=m[0],r=Ue(r,g,h,1,m,f,i,l,Je,Ll,null,Il)),m[14]?_?_.p(m,g):(_=Ol(m),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null)},d(m){m&&R(t);for(let g=0;g<r.length;g+=1)r[g].d();m&&R(s),m&&R(a),_&&_.d(m),m&&R(d)}}}function xu(n){let t,e,o,l=n[15].email+"",r,i;return{c(){t=p("div"),e=p("p"),o=B("A verification email has been sent to "),r=B(l),i=B("."),u(t,"class","container")},m(s,a){j(s,t,a),c(t,e),c(e,o),c(e,r),c(e,i)},p(s,a){a[0]&32768&&l!==(l=s[15].email+"")&&re(r,l)},d(s){s&&R(t)}}}function ef(n){let t,e,o,l,r,i;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=C(),l=p("a"),l.textContent="Verify Account",u(l,"href","#verify"),u(l,"role","button"),u(l,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){j(s,t,a),c(t,e),c(t,o),c(t,l),r||(i=T(l,"click",n[17]),r=!0)},p:te,d(s){s&&R(t),r=!1,i()}}}function Pl(n){let t,e,o,l,r,i,s=n[43].title+"",a,d,f,h,_=n[43].author+"",m,g,v,k,y,b,S,E,O,w,A,M,I=n[43].reader_name+"",P,N,L,F,q,W,G,x;function X(K,oe){return K[43].cover?nf:tf}let H=X(n),J=H(n);function ee(K,oe){return K[43].pages_read?lf:of}let ie=ee(n),le=ie(n);return{c(){t=p("article"),e=p("div"),o=p("div"),J.c(),l=C(),r=p("hgroup"),i=p("h4"),a=B(s),d=C(),f=p("p"),h=B("By: "),m=B(_),g=C(),v=p("br"),k=C(),y=p("figure"),b=p("a"),S=p("img"),M=C(),P=B(I),N=C(),L=p("div"),F=C(),q=p("footer"),le.c(),W=C(),u(o,"class","image-wrapper"),Ie(S.src,E=n[43].avatar_from_url)||u(S,"src",E),u(S,"alt","avatar"),u(S,"class","svelte-1vqx4aq"),u(b,"href","#profile"),u(b,"data-readerid",O=n[43].reader),u(b,"data-reader",w=n[43].reader_name),u(b,"data-avatar",A=n[43].avatar_from_url),u(b,"class","svelte-1vqx4aq"),u(y,"class","avatar avatar-sm svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(q,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(K,oe){j(K,t,oe),c(t,e),c(e,o),J.m(o,null),c(e,l),c(e,r),c(r,i),c(i,a),c(r,d),c(r,f),c(f,h),c(f,m),c(f,g),c(f,v),c(f,k),c(f,y),c(y,b),c(b,S),c(f,M),c(f,P),c(t,N),c(t,L),c(t,F),c(t,q),le.m(q,null),c(t,W),G||(x=[T(b,"click",n[37]),T(b,"click",n[38]),T(b,"click",n[39]),T(b,"click",hf)],G=!0)},p(K,oe){H===(H=X(K))&&J?J.p(K,oe):(J.d(1),J=H(K),J&&(J.c(),J.m(o,null))),oe[0]&1&&s!==(s=K[43].title+"")&&re(a,s),oe[0]&1&&_!==(_=K[43].author+"")&&re(m,_),oe[0]&1&&!Ie(S.src,E=K[43].avatar_from_url)&&u(S,"src",E),oe[0]&1&&O!==(O=K[43].reader)&&u(b,"data-readerid",O),oe[0]&1&&w!==(w=K[43].reader_name)&&u(b,"data-reader",w),oe[0]&1&&A!==(A=K[43].avatar_from_url)&&u(b,"data-avatar",A),oe[0]&1&&I!==(I=K[43].reader_name+"")&&re(P,I),ie===(ie=ee(K))&&le?le.p(K,oe):(le.d(1),le=ie(K),le&&(le.c(),le.m(q,null)))},d(K){K&&R(t),J.d(),le.d(),G=!1,ce(x)}}}function tf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v;return{c(){t=p("a"),e=p("img"),Ie(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",l=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",r=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",m=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(k,y){j(k,t,y),c(t,e),g||(v=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],g=!0)},p(k,y){y[0]&1&&!Ie(e.src,o=k[43].googleCover)&&u(e,"src",o),y[0]&1&&l!==(l=k[43].title)&&u(e,"alt",l),y[0]&1&&r!==(r=k[43].bookId)&&u(t,"data-id",r),y[0]&1&&i!==(i=k[43].reader_name)&&u(t,"data-reader",i),y[0]&1&&s!==(s=k[43].title)&&u(t,"data-title",s),y[0]&1&&a!==(a=k[43].author)&&u(t,"data-author",a),y[0]&1&&d!==(d=k[43].pages)&&u(t,"data-pages",d),y[0]&1&&f!==(f=k[43].pages_read)&&u(t,"data-pagesread",f),y[0]&1&&h!==(h=k[43].review)&&u(t,"data-review",h),y[0]&1&&_!==(_=k[43].avatar_from_url)&&u(t,"data-avatar",_),y[0]&1&&m!==(m=k[43].googleCover)&&u(t,"data-cover",m)},d(k){k&&R(t),g=!1,ce(v)}}}function nf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v;return{c(){t=p("a"),e=p("img"),Ie(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",l=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",r=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",m=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(k,y){j(k,t,y),c(t,e),g||(v=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],g=!0)},p(k,y){y[0]&1&&!Ie(e.src,o=k[16]+k[43].bookId+"/"+k[43].cover)&&u(e,"src",o),y[0]&1&&l!==(l=k[43].title)&&u(e,"alt",l),y[0]&1&&r!==(r=k[43].bookId)&&u(t,"data-id",r),y[0]&1&&i!==(i=k[43].reader_name)&&u(t,"data-reader",i),y[0]&1&&s!==(s=k[43].title)&&u(t,"data-title",s),y[0]&1&&a!==(a=k[43].author)&&u(t,"data-author",a),y[0]&1&&d!==(d=k[43].pages)&&u(t,"data-pages",d),y[0]&1&&f!==(f=k[43].pages_read)&&u(t,"data-pagesread",f),y[0]&1&&h!==(h=k[43].review)&&u(t,"data-review",h),y[0]&1&&_!==(_=k[43].avatar_from_url)&&u(t,"data-avatar",_),y[0]&1&&m!==(m=k[16]+k[43].bookId+"/"+k[43].cover)&&u(t,"data-cover",m)},d(k){k&&R(t),g=!1,ce(v)}}}function of(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){j(e,t,o)},p:te,d(e){e&&R(t)}}}function lf(n){let t,e;return{c(){t=p("progress"),t.value=e=El(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,l){j(o,t,l)},p(o,l){l[0]&1&&e!==(e=El(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&R(t)}}}function Ll(n,t){let e,o,l=t[43].pages_read&&Pl(t);return{key:n,first:null,c(){e=Ae(),l&&l.c(),o=Ae(),this.first=e},m(r,i){j(r,e,i),l&&l.m(r,i),j(r,o,i)},p(r,i){t=r,t[43].pages_read?l?l.p(t,i):(l=Pl(t),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(r){r&&R(e),l&&l.d(r),r&&R(o)}}}function Ol(n){let t,e,o,l,r,i,s,a,d,f,h;function _(v,k){if(v[11])return sf;if(v[12])return rf}let m=_(n),g=m&&m(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
          Book Review`),i=C(),g&&g.c(),s=C(),a=p("footer"),d=p("a"),d.textContent="Close",u(l,"href","#close"),u(l,"class","close svelte-1vqx4aq"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(v,k){j(v,t,k),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),g&&g.m(e,null),c(e,s),c(e,a),c(a,d),f||(h=[T(l,"click",n[18]),T(d,"click",n[18])],f=!0)},p(v,k){m===(m=_(v))&&g?g.p(v,k):(g&&g.d(1),g=m&&m(v),g&&(g.c(),g.m(e,s)))},d(v){v&&R(t),g&&g.d(),f=!1,ce(h)}}}function rf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g;function v(b,S){return b[10]?cf:af}let k=v(n),y=k(n);return{c(){t=p("figure"),e=p("img"),l=C(),r=p("figcaption"),i=p("hgroup"),s=p("h4"),a=B(n[6]),d=C(),f=p("p"),h=B("By: "),_=B(n[7]),m=C(),y.c(),g=Ae(),Ie(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(b,S){j(b,t,S),c(t,e),c(t,l),c(t,r),c(r,i),c(i,s),c(s,a),c(i,d),c(i,f),c(f,h),c(f,_),j(b,m,S),y.m(b,S),j(b,g,S)},p(b,S){S[0]&4096&&!Ie(e.src,o=b[12])&&u(e,"src",o),S[0]&64&&re(a,b[6]),S[0]&128&&re(_,b[7]),k===(k=v(b))&&y?y.p(b,S):(y.d(1),y=k(b),y&&(y.c(),y.m(g.parentNode,g)))},d(b){b&&R(t),b&&R(m),y.d(b),b&&R(g)}}}function sf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g;function v(b,S){return b[10]?ff:uf}let k=v(n),y=k(n);return{c(){t=p("figure"),e=p("img"),l=C(),r=p("figcaption"),i=p("hgroup"),s=p("h4"),a=B(n[6]),d=C(),f=p("p"),h=B("By: "),_=B(n[7]),m=C(),y.c(),g=Ae(),Ie(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(b,S){j(b,t,S),c(t,e),c(t,l),c(t,r),c(r,i),c(i,s),c(s,a),c(i,d),c(i,f),c(f,h),c(f,_),j(b,m,S),y.m(b,S),j(b,g,S)},p(b,S){S[0]&2048&&!Ie(e.src,o=b[11])&&u(e,"src",o),S[0]&64&&re(a,b[6]),S[0]&128&&re(_,b[7]),k===(k=v(b))&&y?y.p(b,S):(y.d(1),y=k(b),y&&(y.c(),y.m(g.parentNode,g)))},d(b){b&&R(t),b&&R(m),y.d(b),b&&R(g)}}}function af(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){j(e,t,o)},p:te,d(e){e&&R(t)}}}function cf(n){let t,e,o,l,r,i,s;return{c(){t=p("blockquote"),e=B(n[10]),o=C(),l=p("footer"),r=p("cite"),i=B("- "),s=B(n[5]),u(l,"class","svelte-1vqx4aq")},m(a,d){j(a,t,d),c(t,e),c(t,o),c(t,l),c(l,r),c(r,i),c(r,s)},p(a,d){d[0]&1024&&re(e,a[10]),d[0]&32&&re(s,a[5])},d(a){a&&R(t)}}}function uf(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){j(e,t,o)},p:te,d(e){e&&R(t)}}}function ff(n){let t,e,o,l,r,i,s;return{c(){t=p("blockquote"),e=B(n[10]),o=C(),l=p("footer"),r=p("cite"),i=B("- "),s=B(n[5]),u(l,"class","svelte-1vqx4aq")},m(a,d){j(a,t,d),c(t,e),c(t,o),c(t,l),c(l,r),c(r,i),c(r,s)},p(a,d){d[0]&1024&&re(e,a[10]),d[0]&32&&re(s,a[5])},d(a){a&&R(t)}}}function df(n){let t;function e(r,i){if(r[15]&&r[15].verified===!0)return $u;if(r[15]&&r[15].verified===!1)return Zu}let o=e(n),l=o&&o(n);return{c(){l&&l.c(),t=Ae()},m(r,i){l&&l.m(r,i),j(r,t,i)},p(r,i){o===(o=e(r))&&l?l.p(r,i):(l&&l.d(1),l=o&&o(r),l&&(l.c(),l.m(t.parentNode,t)))},i:te,o:te,d(r){l&&l.d(r),r&&R(t)}}}let pf="/api/files/9hhair4kd0xa314/";function El(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function hf(){}function _f(n,t,e){let o;Ne(n,We,Z=>e(15,o=Z));let l=[],r,i,s,a,d,f,h,_,m,g,v,k,y=!1,b=nn+pf;async function S(){try{const Z=await ge.collection("view_classroom").getFullList({sort:"-id"});e(0,l=Z);for(let we=0;we<l.length;we++)console.log(l[we].reader_name)}catch(Z){alert(Z)}}st(async()=>{S()});async function E(){e(13,y=!0),await ge.collection("users").requestVerification(o.email),await new Promise(Z=>setTimeout(Z,5e3)),ge.authStore.clear(),Gn("/")}let O=!1;function w(){e(14,O=!O)}return[l,r,i,s,a,d,f,h,_,m,g,v,k,y,O,o,b,E,w,Z=>{e(4,a=Z.currentTarget.getAttribute("data-id"))},Z=>{e(5,d=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(6,f=Z.currentTarget.getAttribute("data-title"))},Z=>{e(7,h=Z.currentTarget.getAttribute("data-author"))},Z=>{e(8,_=Z.currentTarget.getAttribute("data-pages"))},Z=>{e(9,m=Z.currentTarget.getAttribute("data-pagesread"))},Z=>{e(10,g=Z.currentTarget.getAttribute("data-review"))},Z=>{e(11,v=Z.currentTarget.getAttribute("data-cover"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))},Z=>{e(4,a=Z.currentTarget.getAttribute("data-id"))},Z=>{e(5,d=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(6,f=Z.currentTarget.getAttribute("data-title"))},Z=>{e(7,h=Z.currentTarget.getAttribute("data-author"))},Z=>{e(8,_=Z.currentTarget.getAttribute("data-pages"))},Z=>{e(9,m=Z.currentTarget.getAttribute("data-pagesread"))},Z=>{e(10,g=Z.currentTarget.getAttribute("data-review"))},Z=>{e(12,k=Z.currentTarget.getAttribute("data-cover"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))},Z=>{e(1,r=Z.currentTarget.getAttribute("data-readerId"))},Z=>{e(2,i=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))}]}class mf extends Me{constructor(t){super(),Ee(this,t,_f,df,Le,{},null,[-1,-1])}}function Ml(n,t,e){const o=n.slice();return o[19]=t[e],o}function Rl(n,t,e){const o=n.slice();return o[22]=t[e],o}function jl(n,t,e){const o=n.slice();return o[25]=t[e],o}function gf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E=[],O=new Map,w,A,M=n[0];const I=P=>P[19].id;for(let P=0;P<M.length;P+=1){let N=Ml(n,M,P),L=I(N);O.set(L,E[P]=Fl(L,N))}return{c(){t=p("div"),e=p("div"),o=p("select"),l=p("option"),l.textContent="All",r=p("option"),r.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",m=p("option"),m.textContent="September",g=p("option"),g.textContent="October",v=p("option"),v.textContent="November",k=p("option"),k.textContent="December",y=C(),b=p("input"),S=C();for(let P=0;P<E.length;P+=1)E[P].c();l.__value="All",l.value=l.__value,r.__value="January",r.value=r.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,m.__value="September",m.value=m.__value,g.__value="October",g.value=g.__value,v.__value="November",v.value=v.__value,k.__value="December",k.value=k.__value,u(o,"class","svelte-1mnjxzx"),n[2]===void 0&&je(()=>n[7].call(o)),u(b,"type","search"),u(b,"placeholder","Filter logs..."),u(b,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(P,N){j(P,t,N),c(t,e),c(e,o),c(o,l),c(o,r),c(o,i),c(o,s),c(o,a),c(o,d),c(o,f),c(o,h),c(o,_),c(o,m),c(o,g),c(o,v),c(o,k),Re(o,n[2],!0),c(e,y),c(e,b),$(b,n[3]),c(t,S);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(t,null);w||(A=[T(o,"change",n[7]),T(o,"change",n[6]),T(b,"input",n[8])],w=!0)},p(P,N){N&4&&Re(o,P[2]),N&8&&b.value!==P[3]&&$(b,P[3]),N&51&&(M=P[0],E=Ue(E,N,I,1,P,M,O,t,Je,Fl,null,Ml))},d(P){P&&R(t);for(let N=0;N<E.length;N+=1)E[N].d();w=!1,ce(A)}}}function Nl(n){let t,e,o=Hl(n[25].pagesRead,n[5])+"",l,r,i,s,a,d,f,h;return{c(){t=p("br"),e=B(`\r
                Monthly Goal: `),l=B(o),r=B(`%\r
                `),i=p("br"),s=C(),a=p("br"),d=C(),f=p("progress"),f.value=h=n[25].pagesRead,u(f,"max",n[5])},m(_,m){j(_,t,m),j(_,e,m),j(_,l,m),j(_,r,m),j(_,i,m),j(_,s,m),j(_,a,m),j(_,d,m),j(_,f,m)},p(_,m){m&34&&o!==(o=Hl(_[25].pagesRead,_[5])+"")&&re(l,o),m&2&&h!==(h=_[25].pagesRead)&&(f.value=h),m&32&&u(f,"max",_[5])},d(_){_&&R(t),_&&R(e),_&&R(l),_&&R(r),_&&R(i),_&&R(s),_&&R(a),_&&R(d),_&&R(f)}}}function ql(n,t){let e,o,l=t[25].reader===t[19].id&&Nl(t);return{key:n,first:null,c(){e=Ae(),l&&l.c(),o=Ae(),this.first=e},m(r,i){j(r,e,i),l&&l.m(r,i),j(r,o,i)},p(r,i){t=r,t[25].reader===t[19].id?l?l.p(t,i):(l=Nl(t),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(r){r&&R(e),l&&l.d(r),r&&R(o)}}}function Dl(n){let t,e,o,l=Ul(n[22].date)+"",r,i,s,a,d,f,h,_=n[22].title+"",m,g,v,k=n[22].pages_read+"",y,b,S,E=n[22].comment+"",O,w;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),r=B(l),i=C(),s=p("td"),a=p("img"),f=C(),h=p("td"),m=B(_),g=C(),v=p("td"),y=B(k),b=C(),S=p("td"),O=B(E),w=C(),u(o,"class","svelte-1mnjxzx"),Ie(a.src,d=zl(n[22].googleCover))||u(a,"src",d),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(v,"class","svelte-1mnjxzx"),u(S,"class","svelte-1mnjxzx")},m(A,M){j(A,t,M),c(t,e),c(e,o),c(o,r),c(e,i),c(e,s),c(s,a),c(e,f),c(e,h),c(h,m),c(e,g),c(e,v),c(v,y),c(e,b),c(e,S),c(S,O),c(t,w)},p(A,M){M&16&&l!==(l=Ul(A[22].date)+"")&&re(r,l),M&16&&!Ie(a.src,d=zl(A[22].googleCover))&&u(a,"src",d),M&16&&_!==(_=A[22].title+"")&&re(m,_),M&16&&k!==(k=A[22].pages_read+"")&&re(y,k),M&16&&E!==(E=A[22].comment+"")&&re(O,E)},d(A){A&&R(t)}}}function Bl(n,t){let e,o,l=t[22].reader===t[19].id&&Dl(t);return{key:n,first:null,c(){e=Ae(),l&&l.c(),o=Ae(),this.first=e},m(r,i){j(r,e,i),l&&l.m(r,i),j(r,o,i)},p(r,i){t=r,t[22].reader===t[19].id?l?l.p(t,i):(l=Dl(t),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},d(r){r&&R(e),l&&l.d(r),r&&R(o)}}}function Fl(n,t){let e,o,l,r,i,s,a,d,f=t[19].name+"",h,_,m=[],g=new Map,v,k,y,b,S=[],E=new Map,O,w=t[1];const A=P=>P[25].reader;for(let P=0;P<w.length;P+=1){let N=jl(t,w,P),L=A(N);g.set(L,m[P]=ql(L,N))}let M=t[4];const I=P=>P[22].id;for(let P=0;P<M.length;P+=1){let N=Rl(t,M,P),L=I(N);E.set(L,S[P]=Bl(L,N))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),l=p("figure"),r=p("a"),i=p("img"),a=C(),d=p("strong"),h=B(f),_=C();for(let P=0;P<m.length;P+=1)m[P].c();v=C(),k=p("table"),y=p("thead"),y.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,b=C();for(let P=0;P<S.length;P+=1)S[P].c();O=C(),Ie(i.src,s=t[19].avatar_from_url)||u(i,"src",s),u(i,"alt","avatar"),u(r,"href","#profile"),u(l,"class","avatar avatar-lg"),u(k,"class","table-container svelte-1mnjxzx"),u(k,"role","grid"),this.first=e},m(P,N){j(P,e,N),c(e,o),c(o,l),c(l,r),c(r,i),c(o,a),c(o,d),c(d,h),c(o,_);for(let L=0;L<m.length;L+=1)m[L]&&m[L].m(o,null);c(e,v),c(e,k),c(k,y),c(k,b);for(let L=0;L<S.length;L+=1)S[L]&&S[L].m(k,null);c(e,O)},p(P,N){t=P,N&1&&!Ie(i.src,s=t[19].avatar_from_url)&&u(i,"src",s),N&1&&f!==(f=t[19].name+"")&&re(h,f),N&35&&(w=t[1],m=Ue(m,N,A,1,t,w,g,o,Je,ql,null,jl)),N&17&&(M=t[4],S=Ue(S,N,I,1,t,M,E,k,Je,Bl,null,Rl))},d(P){P&&R(e);for(let N=0;N<m.length;N+=1)m[N].d();for(let N=0;N<S.length;N+=1)S[N].d()}}}function vf(n){let t,e=We&&gf(n);return{c(){e&&e.c(),t=Ae()},m(o,l){e&&e.m(o,l),j(o,t,l)},p(o,[l]){We&&e.p(o,l)},i:te,o:te,d(o){e&&e.d(o),o&&R(t)}}}function Ul(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Hl(n,t){return Math.floor(n/t*100)}function zl(n){return n.replace("zoom=1","zoom=5")}function bf(n,t,e){let o;Ne(n,Tc,w=>e(5,o=w));let l=[],r=[],i=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date;let f=a[d.getMonth()],h=d.getMonth()+1,_=d.getFullYear(),m="";h<10?h===9?m=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:m=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?m=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:m=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let g=f;async function v(){try{const A=await ge.collection("view_readingLog").getFullList({filter:m,sort:"-date"});l=A;const M=await ge.collection("view_classroom").getFullList({sort:"-reader_name"});r=A,console.log(r);for(let P=0;P<r.length;P++){let N=r[P],L=N.reader,F=N.pages_read;var w=s.findIndex(q=>q.reader===L);w!==-1?e(1,s[w].pagesRead+=F,s):s.push({reader:L,pagesRead:F})}const I=await ge.collection("users").getFullList({filter:'role = "student"'});e(0,i=I),b()}catch(A){alert(A)}}st(async()=>{v()});function k(){if(g&&d.getMonth()>4)switch(g){case"All":m="";break;case"January":m="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":m="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":m="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":m="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":m="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":m="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":m="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":m="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":m="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":m="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":m="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":m="date >= '2023-12-01' && date <= '2023-12-31'";break}l=[],r=[],e(0,i=[]),e(1,s=[]),v()}let y="";function b(){const w=y.toLowerCase();e(4,S=l.filter(A=>A.title.toLowerCase().includes(w)||A.reader_name.toLowerCase().includes(w)||A.date.toLowerCase().includes(w)))}let S=l;Un(()=>{b()});function E(){g=Xe(this),e(2,g)}function O(){y=this.value,e(3,y)}return[i,s,g,y,S,o,k,E,O]}class kf extends Me{constructor(t){super(),Ee(this,t,bf,vf,Le,{})}}function Jl(n,t,e){const o=n.slice();return o[12]=t[e],o}function Vl(n,t,e){const o=n.slice();return o[15]=t[e],o}function Gl(n){let t,e,o,l,r,i;function s(_,m){return _[0].length===0?wf:yf}let a=s(n),d=a(n),f=n[1].length>0&&Ql(n),h=n[4]&&Yl(n);return r=new ln({}),{c(){t=p("div"),d.c(),e=C(),f&&f.c(),o=C(),h&&h.c(),l=C(),_e(r.$$.fragment),u(t,"class","container")},m(_,m){j(_,t,m),d.m(t,null),c(t,e),f&&f.m(t,null),c(t,o),h&&h.m(t,null),c(t,l),de(r,t,null),i=!0},p(_,m){a===(a=s(_))&&d?d.p(_,m):(d.d(1),d=a(_),d&&(d.c(),d.m(t,e))),_[1].length>0?f?f.p(_,m):(f=Ql(_),f.c(),f.m(t,o)):f&&(f.d(1),f=null),_[4]?h?h.p(_,m):(h=Yl(_),h.c(),h.m(t,l)):h&&(h.d(1),h=null)},i(_){i||(Q(r.$$.fragment,_),i=!0)},o(_){Y(r.$$.fragment,_),i=!1},d(_){_&&R(t),d.d(),f&&f.d(),h&&h.d(),pe(r)}}}function yf(n){let t,e,o=[],l=new Map,r,i,s,a,d=n[0];const f=h=>h[15].id;for(let h=0;h<d.length;h+=1){let _=Vl(n,d,h),m=f(_);l.set(m,o[h]=Wl(m,_))}return{c(){t=p("h2"),t.textContent="Active Classes",e=C();for(let h=0;h<o.length;h+=1)o[h].c();r=C(),i=p("button"),i.textContent="Request Access",u(i,"class","btn btn-primary")},m(h,_){j(h,t,_),j(h,e,_);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(h,_);j(h,r,_),j(h,i,_),s||(a=T(i,"click",n[6]),s=!0)},p(h,_){_&1&&(d=h[0],o=Ue(o,_,f,1,h,d,l,r.parentNode,Je,Wl,r,Vl))},d(h){h&&R(t),h&&R(e);for(let _=0;_<o.length;_+=1)o[_].d(h);h&&R(r),h&&R(i),s=!1,a()}}}function wf(n){let t,e,o,l,r,i,s,a,d,f,h;return{c(){t=p("article"),e=p("div"),e.textContent="👀",o=C(),l=p("p"),l.textContent="Nothing here yet...",r=C(),i=p("p"),i.textContent="Click the button to add a class.",s=C(),a=p("div"),d=p("button"),d.textContent="Request Access",u(e,"class","empty-icon"),u(l,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(d,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty")},m(_,m){j(_,t,m),c(t,e),c(t,o),c(t,l),c(t,r),c(t,i),c(t,s),c(t,a),c(a,d),f||(h=T(d,"click",n[6]),f=!0)},p:te,d(_){_&&R(t),f=!1,h()}}}function Wl(n,t){var _,m;let e,o,l,r=((_=t[15].expand.class)==null?void 0:_.class)+"",i,s,a,d,f=((m=t[15].expand.class)==null?void 0:m.expand.managedBy.name)+"",h;return{key:n,first:null,c(){e=p("article"),o=p("hgroup"),l=p("h3"),i=B(r),s=C(),a=p("p"),d=B("Managed By: "),h=B(f),this.first=e},m(g,v){j(g,e,v),c(e,o),c(o,l),c(l,i),c(o,s),c(o,a),c(a,d),c(a,h)},p(g,v){var k,y;t=g,v&1&&r!==(r=((k=t[15].expand.class)==null?void 0:k.class)+"")&&re(i,r),v&1&&f!==(f=((y=t[15].expand.class)==null?void 0:y.expand.managedBy.name)+"")&&re(h,f)},d(g){g&&R(e)}}}function Ql(n){let t,e,o=[],l=new Map,r,i=n[1];const s=a=>a[12].id;for(let a=0;a<i.length;a+=1){let d=Jl(n,i,a),f=s(d);l.set(f,o[a]=Kl(f,d))}return{c(){t=p("h2"),t.textContent="Pending Requests",e=C();for(let a=0;a<o.length;a+=1)o[a].c();r=Ae()},m(a,d){j(a,t,d),j(a,e,d);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(a,d);j(a,r,d)},p(a,d){d&2&&(i=a[1],o=Ue(o,d,s,1,a,i,l,r.parentNode,Je,Kl,r,Jl))},d(a){a&&R(t),a&&R(e);for(let d=0;d<o.length;d+=1)o[d].d(a);a&&R(r)}}}function Kl(n,t){var m,g;let e,o,l,r=((m=t[12].expand.class)==null?void 0:m.class)+"",i,s,a,d,f=((g=t[12].expand.class)==null?void 0:g.expand.managedBy.name)+"",h,_;return{key:n,first:null,c(){e=p("article"),o=p("hgroup"),l=p("h3"),i=B(r),s=C(),a=p("p"),d=B("Managed By: "),h=B(f),_=C(),this.first=e},m(v,k){j(v,e,k),c(e,o),c(o,l),c(l,i),c(o,s),c(o,a),c(a,d),c(a,h),c(e,_)},p(v,k){var y,b;t=v,k&2&&r!==(r=((y=t[12].expand.class)==null?void 0:y.class)+"")&&re(i,r),k&2&&f!==(f=((b=t[12].expand.class)==null?void 0:b.expand.managedBy.name)+"")&&re(h,f)},d(v){v&&R(e)}}}function Yl(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y;return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
            Request Access`),i=C(),s=p("form"),a=p("label"),d=B(`Class ID:\r
              `),f=p("input"),h=C(),_=p("footer"),m=p("a"),m.textContent="Cancel",g=C(),v=p("a"),v.textContent="Send Request",u(l,"href","#close"),u(l,"class","close"),u(f,"id","class"),u(f,"name","class"),u(f,"type","text"),f.required=!0,u(a,"for","class"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary"),u(v,"href","#confirm"),u(v,"role","button"),t.open=!0},m(b,S){j(b,t,S),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[2]),n[10](s),c(e,h),c(e,_),c(_,m),c(_,g),c(_,v),k||(y=[T(l,"click",n[6]),T(f,"input",n[9]),T(s,"submit",Ge(n[8])),T(m,"click",n[6]),T(v,"click",n[7])],k=!0)},p(b,S){S&4&&f.value!==b[2]&&$(f,b[2])},d(b){b&&R(t),n[10](null),k=!1,ce(y)}}}function Cf(n){let t,e,o=n[5]&&n[5].verified===!0&&Gl(n);return{c(){o&&o.c(),t=Ae()},m(l,r){o&&o.m(l,r),j(l,t,r),e=!0},p(l,[r]){l[5]&&l[5].verified===!0?o?(o.p(l,r),r&32&&Q(o,1)):(o=Gl(l),o.c(),Q(o,1),o.m(t.parentNode,t)):o&&(qe(),Y(o,1,1,()=>{o=null}),De())},i(l){e||(Q(o),e=!0)},o(l){Y(o),e=!1},d(l){o&&o.d(l),l&&R(t)}}}function Sf(n,t,e){let o;Ne(n,We,v=>e(5,o=v));let l=[],r=[],i,s;async function a(){try{const v=await ge.collection("enrollments").getFullList({expand:"class, class.managedBy",sort:"-class"});e(0,l=v)}catch(v){alert(v)}try{const v=await ge.collection("requests").getFullList({filter:"status = 'Pending'",expand:"class, class.managedBy",sort:"-class"});e(1,r=v),console.log(r)}catch(v){alert(v)}}st(async()=>{a()});let d=!1;function f(){e(4,d=!d)}async function h(){if(s.reportValidity()){if(i){const v={student:o.id,class:i,status:"Pending"};await ge.collection("requests").create(v)}ke.success("Request sent!",{position:Oe}),f()}}function _(v){Ve.call(this,n,v)}function m(){i=this.value,e(2,i)}function g(v){ft[v?"unshift":"push"](()=>{s=v,e(3,s)})}return[l,r,i,s,d,o,f,h,_,m,g]}class Af extends Me{constructor(t){super(),Ee(this,t,Sf,Cf,Le,{})}}function Tf(n){let t,e,o,l,r;return{c(){t=p("div"),e=p("span"),e.innerHTML='<span class="hamburger-inner svelte-1jnuven"></span>',u(e,"class","hamburger-box svelte-1jnuven"),u(t,"class",o="hamburger hamburger--"+n[1]+" svelte-1jnuven"),u(t,"aria-label",n[2]),ct(t,"is-active",n[0])},m(i,s){j(i,t,s),c(t,e),l||(r=[T(t,"click",n[3]),T(t,"click",n[4])],l=!0)},p(i,[s]){s&2&&o!==(o="hamburger hamburger--"+i[1]+" svelte-1jnuven")&&u(t,"class",o),s&4&&u(t,"aria-label",i[2]),s&3&&ct(t,"is-active",i[0])},i:te,o:te,d(i){i&&R(t),l=!1,ce(r)}}}function If(n,t,e){let{open:o=!1}=t,{type:l="spin"}=t,{ariaLabel:r="Hamburger menu"}=t;function i(a){Ve.call(this,n,a)}const s=()=>e(0,o=!o);return n.$$set=a=>{"open"in a&&e(0,o=a.open),"type"in a&&e(1,l=a.type),"ariaLabel"in a&&e(2,r=a.ariaLabel)},[o,l,r,i,s]}class Pf extends Me{constructor(t){super(),Ee(this,t,If,Tf,Le,{open:0,type:1,ariaLabel:2})}}function Vr(n){const t=n-1;return t*t*t+1}function Xl(n){return-n*(n-2)}function Ye(n,{delay:t=0,duration:e=400,easing:o=Vr,x:l=0,y:r=0,opacity:i=0}={}){const s=getComputedStyle(n),a=+s.opacity,d=s.transform==="none"?"":s.transform,f=a*(1-i),[h,_]=lo(l),[m,g]=lo(r);return{delay:t,duration:e,easing:o,css:(v,k)=>`
			transform: ${d} translate(${(1-v)*h}${_}, ${(1-v)*m}${g});
			opacity: ${a-f*k}`}}function Zl(n,{delay:t=0,duration:e=400,easing:o=Vr,start:l=0,opacity:r=0}={}){const i=getComputedStyle(n),s=+i.opacity,a=i.transform==="none"?"":i.transform,d=1-l,f=s*(1-r);return{delay:t,duration:e,easing:o,css:(h,_)=>`
			transform: ${a} scale(${1-d*_});
			opacity: ${s-f*_}
		`}}function $l(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I=n[6].role==="teacher"&&xl(n);return{c(){t=p("article"),e=p("div"),o=p("p"),l=p("a"),l.innerHTML=`<div class="inline-container svelte-1u56o39"><div><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div class="text">Books</div></div>`,i=C(),s=p("p"),a=p("a"),a.innerHTML=`<div class="inline-container svelte-1u56o39"><div><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
            <div>Log</div></div>`,f=C(),h=p("p"),_=p("a"),_.innerHTML=`<div class="inline-container svelte-1u56o39"><div><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Discover</div></div>`,g=C(),v=p("p"),k=p("a"),k.innerHTML=`<div class="inline-container svelte-1u56o39"><iconify-icon id="edit" icon="ph:student-thin" width="24" height="24"></iconify-icon>
            
            Classes</div>`,b=C(),I&&I.c(),S=C(),E=p("div"),u(l,"href","#"),u(l,"class","btn btn-link svelte-1u56o39"),u(o,"class","svelte-1u56o39"),u(a,"href","#"),u(a,"class","btn btn-link svelte-1u56o39"),u(s,"class","svelte-1u56o39"),u(_,"href","#"),u(_,"class","btn btn-link svelte-1u56o39"),u(h,"class","svelte-1u56o39"),u(k,"href","#"),u(k,"class","btn btn-link svelte-1u56o39"),u(v,"class","svelte-1u56o39"),u(e,"class","menu svelte-1u56o39"),u(E,"class","bar svelte-1u56o39")},m(P,N){j(P,t,N),c(t,e),c(e,o),c(o,l),c(e,i),c(e,s),c(s,a),c(e,f),c(e,h),c(h,_),c(e,g),c(e,v),c(v,k),c(e,b),I&&I.m(e,null),c(t,S),c(t,E),w=!0,A||(M=[T(l,"click",function(){Ze(n[2])&&n[2].apply(this,arguments)}),T(a,"click",function(){Ze(n[1])&&n[1].apply(this,arguments)}),T(_,"click",function(){Ze(n[3])&&n[3].apply(this,arguments)}),T(k,"click",function(){Ze(n[4])&&n[4].apply(this,arguments)})],A=!0)},p(P,N){n=P,n[6].role==="teacher"?I?(I.p(n,N),N&64&&Q(I,1)):(I=xl(n),I.c(),Q(I,1),I.m(e,null)):I&&(qe(),Y(I,1,1,()=>{I=null}),De())},i(P){w||(je(()=>{w&&(r||(r=Qe(o,Ye,{y:-15,delay:50*1},!0)),r.run(1))}),je(()=>{w&&(d||(d=Qe(s,Ye,{y:-15,delay:50*2},!0)),d.run(1))}),je(()=>{w&&(m||(m=Qe(h,Ye,{y:-15,delay:50*3},!0)),m.run(1))}),je(()=>{w&&(y||(y=Qe(v,Ye,{y:-15,delay:50*4},!0)),y.run(1))}),Q(I),je(()=>{w&&(O||(O=Qe(E,Zl,{duration:750,easing:Xl,opacity:1},!0)),O.run(1))}),w=!0)},o(P){r||(r=Qe(o,Ye,{y:-15,delay:50*1},!1)),r.run(0),d||(d=Qe(s,Ye,{y:-15,delay:50*2},!1)),d.run(0),m||(m=Qe(h,Ye,{y:-15,delay:50*3},!1)),m.run(0),y||(y=Qe(v,Ye,{y:-15,delay:50*4},!1)),y.run(0),Y(I),O||(O=Qe(E,Zl,{duration:750,easing:Xl,opacity:1},!1)),O.run(0),w=!1},d(P){P&&R(t),P&&r&&r.end(),P&&d&&d.end(),P&&m&&m.end(),P&&y&&y.end(),I&&I.d(),P&&O&&O.end(),A=!1,ce(M)}}}function xl(n){let t,e,o,l,r,i;return{c(){t=p("p"),e=p("a"),e.innerHTML=`<div class="inline-container svelte-1u56o39"><div><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div></div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-1u56o39"),u(t,"class","svelte-1u56o39")},m(s,a){j(s,t,a),c(t,e),l=!0,r||(i=T(e,"click",function(){Ze(n[5])&&n[5].apply(this,arguments)}),r=!0)},p(s,a){n=s},i(s){l||(je(()=>{l&&(o||(o=Qe(t,Ye,{y:-15,delay:50*5},!0)),o.run(1))}),l=!0)},o(s){o||(o=Qe(t,Ye,{y:-15,delay:50*5},!1)),o.run(0),l=!1},d(s){s&&R(t),s&&o&&o.end(),r=!1,i()}}}function Lf(n){let t,e,o=n[0]&&$l(n);return{c(){o&&o.c(),t=Ae()},m(l,r){o&&o.m(l,r),j(l,t,r),e=!0},p(l,[r]){l[0]?o?(o.p(l,r),r&1&&Q(o,1)):(o=$l(l),o.c(),Q(o,1),o.m(t.parentNode,t)):o&&(qe(),Y(o,1,1,()=>{o=null}),De())},i(l){e||(Q(o),e=!0)},o(l){Y(o),e=!1},d(l){o&&o.d(l),l&&R(t)}}}function Of(n,t,e){let o;Ne(n,We,f=>e(6,o=f));let{open:l}=t,{goToLog:r}=t,{goToBooks:i}=t,{goToClassroom:s}=t,{goToEnrollments:a}=t,{goToActivity:d}=t;return n.$$set=f=>{"open"in f&&e(0,l=f.open),"goToLog"in f&&e(1,r=f.goToLog),"goToBooks"in f&&e(2,i=f.goToBooks),"goToClassroom"in f&&e(3,s=f.goToClassroom),"goToEnrollments"in f&&e(4,a=f.goToEnrollments),"goToActivity"in f&&e(5,d=f.goToActivity)},[l,r,i,s,a,d,o]}class Ef extends Me{constructor(t){super(),Ee(this,t,Of,Lf,Le,{open:0,goToLog:1,goToBooks:2,goToClassroom:3,goToEnrollments:4,goToActivity:5})}}function er(n,t,e){const o=n.slice();return o[55]=t[e],o}function Mf(n){let t,e;return t=new Wn({props:{$$slots:{default:[jf]},$$scope:{ctx:n}}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l[1]&134217728&&(r.$$scope={dirty:l,ctx:o}),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Rf(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G,x,X,H,J,ee,ie,le,K,oe,ae;function Te(D){n[40](D)}let Z={};n[2]!==void 0&&(Z.open=n[2]),s=new Pf({props:Z}),ft.push(()=>co(s,"open",Te));function we(D,U){if(D[16].role==="student")return qf;if(D[16].role==="teacher")return Nf}let ye=we(n),ve=ye&&ye(n);function Ce(D){n[41](D)}let Pe={goToBooks:n[27],goToLog:n[26],goToClassroom:n[28],goToEnrollments:n[30],goToActivity:n[29]};n[2]!==void 0&&(Pe.open=n[2]),L=new Ef({props:Pe}),ft.push(()=>co(L,"open",Ce));let he=n[12]&&tr(n),se=n[13]&&nr(n),fe=n[14]&&or(n),me=n[15]&&rr(n);const be=[Hf,Uf,Ff,Bf,Df],V=[];function ne(D,U){return D[5]==="Books"?0:D[5]==="Log"?1:D[5]==="Classroom"?2:D[5]==="Activity"?3:D[5]==="Enrollments"?4:-1}return~(J=ne(n))&&(ee=V[J]=be[J](n)),le=new ln({}),{c(){t=p("div"),e=p("div"),o=p("header"),l=p("section"),r=p("div"),i=p("div"),a=p("div"),_e(s.$$.fragment),f=C(),h=p("div"),_=p("a"),_.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
              <div>Books</div>`,m=C(),ve&&ve.c(),g=C(),v=p("a"),v.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
              <div>Discover</div>`,k=C(),y=p("a"),y.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Classes</div>`,b=C(),S=p("section"),E=C(),O=p("section"),w=p("figure"),A=p("a"),M=p("img"),P=C(),N=p("div"),_e(L.$$.fragment),q=C(),he&&he.c(),W=C(),se&&se.c(),G=C(),fe&&fe.c(),x=C(),me&&me.c(),X=C(),H=p("div"),ee&&ee.c(),ie=C(),_e(le.$$.fragment),Se(a,"display","contents"),Se(a,"--color","#1095c1"),u(i,"class","hamburger-icon"),u(r,"class","hamburger svelte-kwidul"),u(_,"href","#"),u(_,"class","btn btn-link svelte-kwidul"),u(v,"href","#"),u(v,"class","btn btn-link svelte-kwidul"),u(y,"href","#"),u(y,"class","btn btn-link svelte-kwidul"),u(h,"class","navbar-items svelte-kwidul"),u(l,"class","navbar-section svelte-kwidul"),u(S,"class","navbar-center"),Ie(M.src,I=n[21])||u(M,"src",I),u(M,"alt","avatar"),u(M,"class","navbar-avatar"),u(A,"href","#profile"),u(A,"class","svelte-kwidul"),u(w,"class","avatar avatar-xl svelte-kwidul"),u(O,"class","navbar-section svelte-kwidul"),u(o,"class","navbar svelte-kwidul"),u(t,"class","container"),u(N,"class","hamburger-items svelte-kwidul"),u(H,"class","content")},m(D,U){j(D,t,U),c(t,e),c(e,o),c(o,l),c(l,r),c(r,i),c(i,a),de(s,a,null),c(l,f),c(l,h),c(h,_),c(h,m),ve&&ve.m(h,null),c(h,g),c(h,v),c(h,k),c(h,y),c(o,b),c(o,S),c(o,E),c(o,O),c(O,w),c(w,A),c(A,M),j(D,P,U),j(D,N,U),de(L,N,null),j(D,q,U),he&&he.m(D,U),j(D,W,U),se&&se.m(D,U),j(D,G,U),fe&&fe.m(D,U),j(D,x,U),me&&me.m(D,U),j(D,X,U),j(D,H,U),~J&&V[J].m(H,null),j(D,ie,U),de(le,D,U),K=!0,oe||(ae=[T(_,"click",n[27]),T(v,"click",n[28]),T(y,"click",n[30]),T(A,"click",n[32])],oe=!0)},p(D,U){const ue={};!d&&U[0]&4&&(d=!0,ue.open=D[2],so(()=>d=!1)),s.$set(ue),ye===(ye=we(D))&&ve?ve.p(D,U):(ve&&ve.d(1),ve=ye&&ye(D),ve&&(ve.c(),ve.m(h,g)));const xe={};!F&&U[0]&4&&(F=!0,xe.open=D[2],so(()=>F=!1)),L.$set(xe),D[12]?he?he.p(D,U):(he=tr(D),he.c(),he.m(W.parentNode,W)):he&&(he.d(1),he=null),D[13]?se?se.p(D,U):(se=nr(D),se.c(),se.m(G.parentNode,G)):se&&(se.d(1),se=null),D[14]?fe?fe.p(D,U):(fe=or(D),fe.c(),fe.m(x.parentNode,x)):fe&&(fe.d(1),fe=null),D[15]?me?me.p(D,U):(me=rr(D),me.c(),me.m(X.parentNode,X)):me&&(me.d(1),me=null);let at=J;J=ne(D),J!==at&&(ee&&(qe(),Y(V[at],1,1,()=>{V[at]=null}),De()),~J?(ee=V[J],ee||(ee=V[J]=be[J](D),ee.c()),Q(ee,1),ee.m(H,null)):ee=null)},i(D){K||(Q(s.$$.fragment,D),Q(L.$$.fragment,D),Q(ee),Q(le.$$.fragment,D),K=!0)},o(D){Y(s.$$.fragment,D),Y(L.$$.fragment,D),Y(ee),Y(le.$$.fragment,D),K=!1},d(D){D&&R(t),pe(s),ve&&ve.d(),D&&R(P),D&&R(N),pe(L),D&&R(q),he&&he.d(D),D&&R(W),se&&se.d(D),D&&R(G),fe&&fe.d(D),D&&R(x),me&&me.d(D),D&&R(X),D&&R(H),~J&&V[J].d(),D&&R(ie),pe(le,D),oe=!1,ce(ae)}}}function jf(n){let t,e;return t=new bt({props:{path:"/",component:Qn}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p:te,i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Nf(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
                <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-kwidul")},m(l,r){j(l,t,r),e||(o=T(t,"click",n[29]),e=!0)},p:te,d(l){l&&R(t),e=!1,o()}}}function qf(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
                <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-kwidul")},m(l,r){j(l,t,r),e||(o=T(t,"click",n[26]),e=!0)},p:te,d(l){l&&R(t),e=!1,o()}}}function tr(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b;return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
            Settings`),i=C(),s=p("form"),a=p("label"),d=B(`Max Search Output\r
              `),f=p("input"),h=C(),_=p("footer"),m=p("div"),g=p("a"),g.textContent="Cancel",v=C(),k=p("a"),k.textContent="Save",u(l,"href","#close"),u(l,"class","close"),u(f,"id","maxOutput"),u(f,"name","maxOutput"),u(f,"type","text"),u(a,"for","maxOutput"),u(g,"href","#cancel"),u(g,"role","button"),u(g,"class","secondary svelte-kwidul"),u(k,"href","#confirm"),u(k,"role","button"),u(k,"class","svelte-kwidul"),u(_,"class","svelte-kwidul"),t.open=!0},m(S,E){j(S,t,E),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[17]),c(e,h),c(e,_),c(_,m),c(m,g),c(m,v),c(m,k),y||(b=[T(l,"click",n[31]),T(f,"input",n[42]),T(s,"submit",Ge(n[39])),T(g,"click",n[31]),T(k,"click",n[31])],y=!0)},p(S,E){E[0]&131072&&f.value!==S[17]&&$(f,S[17])},d(S){S&&R(t),y=!1,ce(b)}}}function nr(n){let t,e,o,l,r,i,s,a,d,f,h,_,m=n[16].name+"",g,v,k,y,b,S,E,O,w,A,M,I,P,N,L,F,q,W,G,x,X,H,J,ee,ie,le,K,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he,se,fe,me,be,V,ne,D;return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("figure"),r=p("a"),i=p("img"),a=C(),d=p("i"),d.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',f=C(),h=p("a"),_=B(`\r
               `),g=B(m),v=B("'s Profile"),k=C(),y=p("details"),b=p("summary"),b.textContent="My Stats",S=C(),E=p("p"),O=B("Books: "),w=B(n[18]),A=B(" | Pages Read: "),M=B(n[19]),I=C(),P=p("details"),N=p("summary"),N.textContent="Account Info",L=C(),F=p("form"),q=p("label"),W=B(`Name\r
                `),G=p("input"),x=C(),X=p("label"),H=B(`Email\r
                `),J=p("input"),ee=C(),ie=p("details"),le=p("summary"),le.textContent="Security",K=C(),oe=p("fieldset"),ae=p("label"),Te=p("input"),Z=B(`\r
                Share my readings with classmates`),we=C(),ye=p("a"),ye.textContent="Change Password",ve=C(),Ce=p("footer"),Pe=p("div"),he=p("a"),he.textContent="Sign Out",se=C(),fe=p("div"),me=p("a"),me.textContent="Cancel",be=C(),V=p("a"),V.textContent="Save",Ie(i.src,s=n[21])||u(i,"src",s),u(i,"alt","avatar"),u(d,"class","avatar-presence"),Se(r,"color","white"),u(r,"href","#profile"),u(l,"class","avatar avatar-xl svelte-kwidul"),u(h,"href","#close"),u(h,"class","close"),y.open=!0,u(G,"id","profileName"),u(G,"name","profileName"),u(G,"type","text"),u(q,"for","profileName"),u(J,"id","profileEmail"),u(J,"name","profileEmail"),u(J,"type","email"),J.disabled=!0,u(X,"for","profileEmail"),P.open=!0,u(Te,"type","checkbox"),u(Te,"id","switch"),u(Te,"name","switch"),u(Te,"role","switch"),u(ae,"for","switch"),u(ye,"href","#update"),u(ye,"class","details"),u(he,"href","#signout"),u(he,"role","button"),u(he,"class","signout svelte-kwidul"),u(me,"href","#cancel"),u(me,"role","button"),u(me,"class","secondary svelte-kwidul"),u(V,"href","#confirm"),u(V,"role","button"),u(V,"class","svelte-kwidul"),u(Ce,"data-button","spaceBetween"),u(Ce,"class","svelte-kwidul"),t.open=!0},m(U,ue){j(U,t,ue),c(t,e),c(e,o),c(o,l),c(l,r),c(r,i),c(r,a),c(r,d),c(o,f),c(o,h),c(o,_),c(o,g),c(o,v),c(e,k),c(e,y),c(y,b),c(y,S),c(y,E),c(E,O),c(E,w),c(E,A),c(E,M),c(e,I),c(e,P),c(P,N),c(P,L),c(P,F),c(F,q),c(q,W),c(q,G),$(G,n[7]),c(F,x),c(F,X),c(X,H),c(X,J),$(J,n[8]),c(e,ee),c(e,ie),c(ie,le),c(ie,K),c(ie,oe),c(oe,ae),c(ae,Te),Te.checked=n[11],c(ae,Z),c(ie,we),c(ie,ye),c(e,ve),c(e,Ce),c(Ce,Pe),c(Pe,he),c(Ce,se),c(Ce,fe),c(fe,me),c(fe,be),c(fe,V),ne||(D=[T(r,"click",n[33]),T(h,"click",n[32]),T(G,"input",n[43]),T(J,"input",n[44]),T(F,"submit",Ge(n[38])),T(Te,"change",n[45]),T(ye,"click",n[34]),T(he,"click",n[25]),T(me,"click",n[32]),T(V,"click",n[22]),T(V,"click",n[32])],ne=!0)},p(U,ue){ue[0]&65536&&m!==(m=U[16].name+"")&&re(g,m),ue[0]&262144&&re(w,U[18]),ue[0]&524288&&re(M,U[19]),ue[0]&128&&G.value!==U[7]&&$(G,U[7]),ue[0]&256&&J.value!==U[8]&&$(J,U[8]),ue[0]&2048&&(Te.checked=U[11])},d(U){U&&R(t),ne=!1,ce(D)}}}function or(n){let t,e,o,l,r,i,s,a,d,f,h,_=[],m=new Map,g,v,k,y,b,S,E,O=n[6];const w=A=>A[55].id;for(let A=0;A<O.length;A+=1){let M=er(n,O,A),I=w(M);m.set(I,_[A]=lr(I,M))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("figure"),r=p("img"),s=C(),a=p("a"),d=B(`\r
            Change Avatar`),f=C(),h=p("section");for(let A=0;A<_.length;A+=1)_[A].c();g=C(),v=p("footer"),k=p("a"),k.textContent="Cancel",y=C(),b=p("a"),b.textContent="Save",Ie(r.src,i=n[21])||u(r,"src",i),u(r,"alt","avatar"),u(l,"class","avatar avatar-xl svelte-kwidul"),u(a,"href","#close"),u(a,"class","close"),u(k,"href","#cancel"),u(k,"role","button"),u(k,"class","secondary svelte-kwidul"),u(b,"href","#confirm"),u(b,"role","button"),u(b,"class","svelte-kwidul"),u(v,"class","svelte-kwidul"),t.open=!0},m(A,M){j(A,t,M),c(t,e),c(e,o),c(o,l),c(l,r),c(o,s),c(o,a),c(o,d),c(e,f),c(e,h);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(h,null);c(e,g),c(e,v),c(v,k),c(v,y),c(v,b),S||(E=[T(a,"click",n[33]),T(k,"click",n[33]),T(b,"click",n[24]),T(b,"click",n[35])],S=!0)},p(A,M){M[0]&1049664&&(O=A[6],_=Ue(_,M,w,1,A,O,m,h,Je,lr,null,er))},d(A){A&&R(t);for(let M=0;M<_.length;M+=1)_[M].d();S=!1,ce(E)}}}function lr(n,t){let e,o,l,r,i,s,a,d;return{key:n,first:null,c(){e=p("a"),o=p("figure"),l=p("img"),i=C(),u(l,"class","avatar-list svelte-kwidul"),Ie(l.src,r=t[20]+t[55].id+"/"+t[55].field)||u(l,"src",r),u(l,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-kwidul"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-kwidul"),u(e,"data-picture",s=t[20]+t[55].id+"/"+t[55].field),this.first=e},m(f,h){j(f,e,h),c(e,o),c(o,l),c(e,i),a||(d=T(e,"click",t[46]),a=!0)},p(f,h){t=f,h[0]&64&&!Ie(l.src,r=t[20]+t[55].id+"/"+t[55].field)&&u(l,"src",r),h[0]&64&&s!==(s=t[20]+t[55].id+"/"+t[55].field)&&u(e,"data-picture",s)},d(f){f&&R(e),a=!1,d()}}}function rr(n){let t,e,o,l,r,i,s,a,d,f,h,_,m,g,v,k,y,b,S,E,O;return{c(){t=p("dialog"),e=p("article"),o=p("header"),l=p("a"),r=B(`\r
            Change Password`),i=C(),s=p("form"),a=p("label"),d=B(`Change Password\r
              `),f=p("input"),h=C(),_=p("input"),m=C(),g=p("input"),v=C(),k=p("footer"),y=p("a"),y.textContent="Cancel",b=C(),S=p("a"),S.textContent="Update",u(l,"href","#close"),u(l,"class","close"),u(f,"id","oldPassword"),u(f,"name","oldPassword"),u(f,"type","password"),u(f,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[3]),u(g,"id","profileConfirm"),u(g,"name","profileConfirm"),u(g,"type","password"),u(g,"placeholder","Confirm password"),u(g,"aria-invalid",n[4]),u(y,"href","#cancel"),u(y,"role","button"),u(y,"class","secondary svelte-kwidul"),u(S,"href","#confirm"),u(S,"role","button"),u(S,"class","svelte-kwidul"),u(k,"class","svelte-kwidul"),t.open=!0},m(w,A){j(w,t,A),c(t,e),c(e,o),c(o,l),c(o,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),$(f,n[9]),c(s,h),c(s,_),$(_,n[0]),c(s,m),c(s,g),$(g,n[1]),c(e,v),c(e,k),c(k,y),c(k,b),c(k,S),E||(O=[T(l,"click",n[34]),T(f,"input",n[47]),T(_,"input",n[48]),T(g,"input",n[49]),T(s,"submit",Ge(n[37])),T(y,"click",n[34]),T(S,"click",n[23]),T(S,"click",n[36])],E=!0)},p(w,A){A[0]&512&&f.value!==w[9]&&$(f,w[9]),A[0]&8&&u(_,"aria-invalid",w[3]),A[0]&1&&_.value!==w[0]&&$(_,w[0]),A[0]&16&&u(g,"aria-invalid",w[4]),A[0]&2&&g.value!==w[1]&&$(g,w[1])},d(w){w&&R(t),E=!1,ce(O)}}}function Df(n){let t,e;return t=new Af({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Bf(n){let t,e;return t=new kf({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Ff(n){let t,e;return t=new mf({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Uf(n){let t,e;return t=new Xu({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Hf(n){let t,e;return t=new Yc({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function zf(n){let t,e,o,l;const r=[Rf,Mf],i=[];function s(a,d){return a[16]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),o=Ae()},m(a,d){i[t].m(a,d),j(a,o,d),l=!0},p(a,d){let f=t;t=s(a),t===f?i[t].p(a,d):(qe(),Y(i[f],1,1,()=>{i[f]=null}),De(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),Q(e,1),e.m(o.parentNode,o))},i(a){l||(Q(e),l=!0)},o(a){Y(e),l=!1},d(a){i[t].d(a),a&&R(o)}}}let Jf="/api/files/fhm2u4u1k405dr7/";function Vf(n,t,e){let o,l,r,i;Ne(n,We,V=>e(16,o=V)),Ne(n,Tn,V=>e(17,l=V)),Ne(n,Ln,V=>e(18,r=V)),Ne(n,zt,V=>e(19,i=V));let s=!1,a,d,f,h=[],_=nn+Jf,m=o.avatar_from_url;function g(){ge.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),ge.authStore.clear(),window.location.reload())}st(async()=>{g(),o.role==="teacher"?A():O();try{const V=await ge.collection("avatars").getFullList({sort:"-created"});e(6,h=V)}catch(V){ke.error(V,{position:Oe})}});async function v(){try{const V={name:I,email:P,isPublic:W},ne=await ge.collection("users").update(o.id,V);ke.success("Profile updated!",{position:Oe})}catch(V){alert(V)}}async function k(){if(!a&&!d)try{const V=new FormData;V.append("password",N),V.append("passwordConfirm",L),V.append("oldPassword",F);const ne=await ge.collection("users").update(o.id,V);ke.success("Password changed successfully!",{position:Oe})}catch(V){ke.error(V,{position:Oe})}else a?ke.error("Password should be at least 5 characters long",{position:Oe}):d&&ke.error("Password mismatch",{position:Oe})}async function y(){try{const V={avatar_from_url:q},ne=await ge.collection("users").update(o.id,V);ke.success("Avatar updated!",{position:Oe})}catch(V){ke.error(V,{position:Oe})}window.location.reload(),e(10,q="")}function b(){ge.authStore.clear(),Gn("/")}function S(){e(5,f="Log"),e(2,s=!s)}function E(){e(5,f="Books"),e(2,s=!s)}function O(){e(5,f="Books")}function w(){e(5,f="Classroom"),e(2,s=!s)}function A(){e(5,f="Activity"),e(2,s=!s)}function M(){e(5,f="Enrollments"),e(2,s=!s)}let I=o.name,P=o.email,N,L,F,q,W=o.isPublic,G=!1;function x(){e(12,G=!G)}let X=!1;function H(){e(13,X=!X)}let J=!1;function ee(){e(14,J=!J)}let ie=!1;function le(){e(15,ie=!ie)}function K(){ee(),H()}function oe(){le(),H()}function ae(V){Ve.call(this,n,V)}function Te(V){Ve.call(this,n,V)}function Z(V){Ve.call(this,n,V)}function we(V){s=V,e(2,s)}function ye(V){s=V,e(2,s)}function ve(){l=this.value,Tn.set(l)}function Ce(){I=this.value,e(7,I)}function Pe(){P=this.value,e(8,P)}function he(){W=this.checked,e(11,W)}const se=V=>{e(10,q=V.currentTarget.getAttribute("data-picture"))};function fe(){F=this.value,e(9,F)}function me(){N=this.value,e(0,N)}function be(){L=this.value,e(1,L)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(N&&(N.length>=5?e(3,a=!1):e(3,a=!0)),L&&(L===N?e(4,d=!1):e(4,d=!0)))},[N,L,s,a,d,f,h,I,P,F,q,W,G,X,J,ie,o,l,r,i,_,m,v,k,y,b,S,E,w,A,M,x,H,ee,le,K,oe,ae,Te,Z,we,ye,ve,Ce,Pe,he,se,fe,me,be]}class Gf extends Me{constructor(t){super(),Ee(this,t,Vf,zf,Le,{},null,[-1,-1])}}function Wf(n){let t,e;return t=new Wn({props:{$$slots:{default:[Kf]},$$scope:{ctx:n}}}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p(o,l){const r={};l&2&&(r.$$scope={dirty:l,ctx:o}),t.$set(r)},i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Qf(n){let t,e;return t=new Gf({}),{c(){_e(t.$$.fragment)},m(o,l){de(t,o,l),e=!0},p:te,i(o){e||(Q(t.$$.fragment,o),e=!0)},o(o){Y(t.$$.fragment,o),e=!1},d(o){pe(t,o)}}}function Kf(n){let t,e,o,l,r,i;return t=new bt({props:{path:"/",component:Qn}}),o=new bt({props:{path:"/signup",component:yr}}),r=new bt({props:{path:"/reset",component:Ac}}),{c(){_e(t.$$.fragment),e=C(),_e(o.$$.fragment),l=C(),_e(r.$$.fragment)},m(s,a){de(t,s,a),j(s,e,a),de(o,s,a),j(s,l,a),de(r,s,a),i=!0},p:te,i(s){i||(Q(t.$$.fragment,s),Q(o.$$.fragment,s),Q(r.$$.fragment,s),i=!0)},o(s){Y(t.$$.fragment,s),Y(o.$$.fragment,s),Y(r.$$.fragment,s),i=!1},d(s){pe(t,s),s&&R(e),pe(o,s),s&&R(l),pe(r,s)}}}function Yf(n){let t,e,o,l;const r=[Qf,Wf],i=[];function s(a,d){return a[0]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),o=Ae()},m(a,d){i[t].m(a,d),j(a,o,d),l=!0},p(a,[d]){let f=t;t=s(a),t===f?i[t].p(a,d):(qe(),Y(i[f],1,1,()=>{i[f]=null}),De(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),Q(e,1),e.m(o.parentNode,o))},i(a){l||(Q(e),l=!0)},o(a){Y(e),l=!1},d(a){i[t].d(a),a&&R(o)}}}function Xf(n,t,e){let o;return Ne(n,We,l=>e(0,o=l)),[o]}class Zf extends Me{constructor(t){super(),Ee(this,t,Xf,Yf,Le,{})}}new Zf({target:document.getElementById("app")});
