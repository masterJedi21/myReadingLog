var ai=Object.defineProperty;var ci=(n,t,e)=>t in n?ai(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Pt=(n,t,e)=>(ci(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function te(){}function Ze(n,t){for(const e in t)n[e]=t[e];return n}function ui(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Or(n){return n()}function Vn(){return Object.create(null)}function se(n){n.forEach(Or)}function Gt(n){return typeof n=="function"}function be(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Ot;function _e(n,t){return Ot||(Ot=document.createElement("a")),Ot.href=t,n===Ot.href}function fi(n){return Object.keys(n).length===0}function Pn(n,...t){if(n==null)return te;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function un(n){let t;return Pn(n,e=>t=e)(),t}function Pe(n,t,e){n.$$.on_destroy.push(Pn(t,e))}function Vt(n,t,e,o){if(n){const r=Lr(n,t,e,o);return n[0](r)}}function Lr(n,t,e,o){return n[1]&&o?Ze(e.ctx.slice(),n[1](o(t))):e.ctx}function Wt(n,t,e,o){if(n[2]&&o){const r=n[2](o(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const l=[],i=Math.max(t.dirty.length,r.length);for(let s=0;s<i;s+=1)l[s]=t.dirty[s]|r[s];return l}return t.dirty|r}return t.dirty}function Qt(n,t,e,o,r,l){if(r){const i=Lr(t,e,o,l);n.p(i,r)}}function Kt(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function Wn(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function en(n,t,e){return n.set(e),t}function c(n,t){n.appendChild(t)}function D(n,t,e){n.insertBefore(t,e||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function F(n){return document.createTextNode(n)}function S(){return F(" ")}function me(){return F("")}function T(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function qe(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const di=["width","height"];function Qn(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&di.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function Lt(n,t,e){t in n?n[t]=typeof n[t]=="boolean"&&e===""?!0:e:u(n,t,e)}function pi(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Qe(n){return n===""?null:+n}function hi(n){return Array.from(n.childNodes)}function le(n,t){t=""+t,n.data!==t&&(n.data=t)}function Z(n,t){n.value=t??""}function ve(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Je(n,t,e){for(let o=0;o<n.options.length;o+=1){const r=n.options[o];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function ut(n){const t=n.querySelector(":checked");return t&&t.__value}function mt(n,t,e){n.classList[e?"add":"remove"](t)}function $e(n,t){return new n(t)}let vt;function Ke(n){vt=n}function pt(){if(!vt)throw new Error("Function called outside component initialization");return vt}function rt(n){pt().$$.on_mount.push(n)}function On(n){pt().$$.after_update.push(n)}function Ln(n){pt().$$.on_destroy.push(n)}function tn(n,t){return pt().$$.context.set(n,t),t}function fn(n){return pt().$$.context.get(n)}function De(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const ct=[],dn=[];let ft=[];const Kn=[],_i=Promise.resolve();let pn=!1;function mi(){pn||(pn=!0,_i.then(En))}function Xe(n){ft.push(n)}const nn=new Set;let st=0;function En(){if(st!==0)return;const n=vt;do{try{for(;st<ct.length;){const t=ct[st];st++,Ke(t),gi(t.$$)}}catch(t){throw ct.length=0,st=0,t}for(Ke(null),ct.length=0,st=0;dn.length;)dn.pop()();for(let t=0;t<ft.length;t+=1){const e=ft[t];nn.has(e)||(nn.add(e),e())}ft.length=0}while(ct.length);for(;Kn.length;)Kn.pop()();pn=!1,nn.clear(),Ke(n)}function gi(n){if(n.fragment!==null){n.update(),se(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Xe)}}function vi(n){const t=[],e=[];ft.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),ft=t}const jt=new Set;let nt;function Le(){nt={r:0,c:[],p:nt}}function Ee(){nt.r||se(nt.c),nt=nt.p}function $(n,t){n&&n.i&&(jt.delete(n),n.i(t))}function x(n,t,e,o){if(n&&n.o){if(jt.has(n))return;jt.add(n),nt.c.push(()=>{jt.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function Yn(n,t){const e=t.token={};function o(r,l,i,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;i!==void 0&&(a=a.slice(),a[i]=s);const f=r&&(t.current=r)(a);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==l&&h&&(Le(),x(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),Ee())}):t.block.d(1),f.c(),$(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[l]=f),d&&En()}if(ui(n)){const r=pt();if(n.then(l=>{Ke(r),o(t.then,1,t.value,l),Ke(null)},l=>{if(Ke(r),o(t.catch,2,t.error,l),Ke(null),!t.hasCatch)throw l}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function bi(n,t,e){const o=t.slice(),{resolved:r}=n;n.current===n.then&&(o[n.value]=r),n.current===n.catch&&(o[n.error]=r),n.block.p(o,e)}function Ge(n,t){n.d(1),t.delete(n.key)}function yi(n,t){x(n,1,1,()=>{t.delete(n.key)})}function Ue(n,t,e,o,r,l,i,s,a,f,d,h){let _=n.length,g=l.length,m=_;const y={};for(;m--;)y[n[m].key]=m;const v=[],b=new Map,k=new Map,A=[];for(m=g;m--;){const C=h(r,l,m),O=e(C);let M=i.get(O);M?o&&A.push(()=>M.p(C,t)):(M=f(O,C),M.c()),b.set(O,v[m]=M),O in y&&k.set(O,Math.abs(m-y[O]))}const I=new Set,P=new Set;function w(C){$(C,1),C.m(s,d),i.set(C.key,C),d=C.first,g--}for(;_&&g;){const C=v[g-1],O=n[_-1],M=C.key,E=O.key;C===O?(d=C.first,_--,g--):b.has(E)?!i.has(M)||I.has(M)?w(C):P.has(E)?_--:k.get(M)>k.get(E)?(P.add(M),w(C)):(I.add(E),_--):(a(O,i),_--)}for(;_--;){const C=n[_];b.has(C.key)||a(C,i)}for(;g;)w(v[g-1]);return se(A),v}function Ct(n,t){const e={},o={},r={$$scope:1};let l=n.length;for(;l--;){const i=n[l],s=t[l];if(s){for(const a in i)a in s||(o[a]=1);for(const a in s)r[a]||(e[a]=s[a],r[a]=1);n[l]=s}else for(const a in i)r[a]=1}for(const i in o)i in e||(e[i]=void 0);return e}function bt(n){return typeof n=="object"&&n!==null?n:{}}function de(n){n&&n.c()}function ue(n,t,e,o){const{fragment:r,after_update:l}=n.$$;r&&r.m(t,e),o||Xe(()=>{const i=n.$$.on_mount.map(Or).filter(Gt);n.$$.on_destroy?n.$$.on_destroy.push(...i):se(i),n.$$.on_mount=[]}),l.forEach(Xe)}function fe(n,t){const e=n.$$;e.fragment!==null&&(vi(e.after_update),se(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function ki(n,t){n.$$.dirty[0]===-1&&(ct.push(n),mi(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function we(n,t,e,o,r,l,i,s=[-1]){const a=vt;Ke(n);const f=n.$$={fragment:null,ctx:[],props:l,update:te,not_equal:r,bound:Vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Vn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};i&&i(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return f.ctx&&r(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&ki(n,h)),_}):[],f.update(),d=!0,se(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const h=hi(t.target);f.fragment&&f.fragment.l(h),h.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&$(n.$$.fragment),ue(n,t.target,t.anchor,t.customElement),En()}Ke(a)}class Ce{$destroy(){fe(this,1),this.$destroy=te}$on(t,e){if(!Gt(e))return te;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const r=o.indexOf(e);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!fi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var hn=function(n,t){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},hn(n,t)};function Oe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}hn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var _n=function(){return _n=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var l in e=arguments[o])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t},_n.apply(this,arguments)};function Te(n,t,e,o){return new(e||(e=Promise))(function(r,l){function i(f){try{a(o.next(f))}catch(d){l(d)}}function s(f){try{a(o.throw(f))}catch(d){l(d)}}function a(f){f.done?r(f.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(f.value).then(i,s)}a((o=o.apply(n,t||[])).next())})}function Ie(n,t){var e,o,r,l,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(a){return function(f){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(i=0)),i;)try{if(e=1,o&&(r=2&h[0]?o.return:h[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,h[1])).done)return r;switch(o=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,o=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!((r=r.length>0&&r[r.length-1])||h[0]!==6&&h[0]!==2)){i=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){i.label=h[1];break}if(h[0]===6&&i.label<r[1]){i.label=r[1],r=h;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(h);break}r[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(n,i)}catch(_){h=[6,_],o=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,f])}}}var Er,Ye=function(n){function t(e){var o,r,l,i,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((i=(l=(r=s.originalError)===null||r===void 0?void 0:r.cause)===null||l===void 0?void 0:l.message)===null||i===void 0)&&i.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Oe(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return _n({},this)},t}(Error),Et=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Xn(n,t,e){var o=Object.assign({},e||{}),r=o.encode||Ci;if(!Et.test(n))throw new TypeError("argument name is invalid");var l=r(t);if(l&&!Et.test(l))throw new TypeError("argument val is invalid");var i=n+"="+l;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Et.test(o.domain))throw new TypeError("option domain is invalid");i+="; Domain="+o.domain}if(o.path){if(!Et.test(o.path))throw new TypeError("option path is invalid");i+="; Path="+o.path}if(o.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(i+="; HttpOnly"),o.secure&&(i+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function wi(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Ci(n){return encodeURIComponent(n)}function Mr(n){if(n)try{var t=decodeURIComponent(Er(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Si(n,t){t===void 0&&(t=0);var e=Mr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Er=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,r=0,l=0,i="";o=t.charAt(l++);~o&&(e=r%4?64*e+o:o,r++%4)?i+=String.fromCharCode(255&e>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};var St=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var r=o[e],l=r[0],i=r[1];this[l]=i}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Ft=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(r){return new t(r||{})}):this.expand[o]=new t(e[o]||{})},t}(St),Mn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(St),Zn="pb_auth",Ai=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Si(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Ft(e):new Mn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=Zn);var o=function(i,s){var a={};if(typeof i!="string")return a;for(var f=Object.assign({},s||{}).decode||wi,d=0;d<i.length;){var h=i.indexOf("=",d);if(h===-1)break;var _=i.indexOf(";",d);if(_===-1)_=i.length;else if(_<h){d=i.lastIndexOf(";",h-1)+1;continue}var g=i.slice(d,h).trim();if(a[g]===void 0){var m=i.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=f(m)}catch{a[g]=m}}d=_+1}return a}(t||"")[e]||"",r={};try{(typeof(r=JSON.parse(o))===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)},n.prototype.exportToCookie=function(t,e){var o,r,l;e===void 0&&(e=Zn);var i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Mr(this.token);s!=null&&s.exp?i.expires=new Date(1e3*s.exp):i.expires=new Date("1970-01-01"),t=Object.assign({},i,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},f=Xn(e,JSON.stringify(a),t),d=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&d>4096&&(a.model={id:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.id,email:(l=a==null?void 0:a.model)===null||l===void 0?void 0:l.email},this.model instanceof Ft&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=Xn(e,JSON.stringify(a),t)),f},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var r=o._onChangeCallbacks.length-1;r>=0;r--)if(o._onChangeCallbacks[r]==t)return delete o._onChangeCallbacks[r],void o._onChangeCallbacks.splice(r,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Ti=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return Oe(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new Mn(o.model):new Ft(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=o;typeof o!="string"&&(r=JSON.stringify(o)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Ai),lt=function(t){this.client=t},Ii=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(r){return r||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var r={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.testEmail=function(e,o,r){r===void 0&&(r={});var l={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:r,body:l}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,r,l,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:r,privateKey:l,duration:i},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(lt),Rr=function(t,e,o,r,l){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=r>=0?r:0,this.items=l||[]},Rn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var r=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,r.batch||200,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),this._getList(this.baseCrudPath,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),this._update(this.baseCrudPath,e,o,r)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype._getFullList=function(e,o,r){var l=this;o===void 0&&(o=200),r===void 0&&(r={});var i=[],s=function(a){return Te(l,void 0,void 0,function(){return Ie(this,function(f){return[2,this._getList(e,a,o||200,r).then(function(d){var h=d,_=h.items,g=h.totalItems;return i=i.concat(_),_.length&&g>i.length?s(a+1):i})]})})};return s(1)},t.prototype._getList=function(e,o,r,l){var i=this;return o===void 0&&(o=1),r===void 0&&(r=30),l===void 0&&(l={}),l=Object.assign({page:o,perPage:r},l),this.client.send(e,{method:"GET",params:l}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var f=0,d=s.items;f<d.length;f++){var h=d[f];a.push(i.decode(h))}}return new Rr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,r){var l=this;return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:r}).then(function(i){return l.decode(i)})},t.prototype._getFirstListItem=function(e,o,r){return r===void 0&&(r={}),r=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},r),this._getList(e,1,1,r).then(function(l){var i;if(!(!((i=l==null?void 0:l.items)===null||i===void 0)&&i.length))throw new Ye({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return l.items[0]})},t.prototype._create=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e,{method:"POST",params:r,body:o}).then(function(i){return l.decode(i)})},t.prototype._update=function(e,o,r,l){var i=this;return r===void 0&&(r={}),l===void 0&&(l={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:l,body:r}).then(function(s){return i.decode(s)})},t.prototype._delete=function(e,o,r){return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t}(lt)),Pi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.decode=function(e){return new Mn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(i){var s,a;return l.client.authStore.model&&((s=l.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=l.client.authStore.model)===null||a===void 0?void 0:a.id)===(i==null?void 0:i.id)&&l.client.authStore.save(l.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(l){var i,s;return l&&r.client.authStore.model&&((i=r.client.authStore.model)===null||i===void 0?void 0:i.collectionId)===void 0&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&r.client.authStore.clear(),l})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,r,l){return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:l,body:r}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:o,passwordConfirm:r},l),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},t}(Rn),Oi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(St),Li=function(n){function t(e,o){var r=n.call(this,e)||this;return r.collectionIdOrName=o,r}return Oe(t,n),t.prototype.decode=function(e){return new Ft(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Te(this,void 0,void 0,function(){return Ie(this,function(r){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Te(this,void 0,void 0,function(){var r;return Ie(this,function(l){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return r=this.collectionIdOrName,e!=="*"&&(r+="/"+e),[2,this.client.realtime.subscribe(r,o)]})})},t.prototype.unsubscribe=function(e){return Te(this,void 0,void 0,function(){return Ie(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var r=Object.assign({},e,o);return n.prototype.getFullList.call(this,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),n.prototype.getList.call(this,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,r){var l=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(i){var s,a,f;return((s=l.client.authStore.model)===null||s===void 0?void 0:s.id)!==(i==null?void 0:i.id)||((a=l.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==l.collectionIdOrName&&((f=l.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==l.collectionIdOrName||l.client.authStore.save(l.client.authStore.token,i),i})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(l){var i,s,a;return!l||((i=r.client.authStore.model)===null||i===void 0?void 0:i.id)!==e||((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==r.collectionIdOrName&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==r.collectionIdOrName||r.client.authStore.clear(),l})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,r,l){var i=this;return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:l,body:r}).then(function(s){return i.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,r,l,i,s,a){var f=this;return i===void 0&&(i={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:r,redirectUrl:l,createData:i},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(d){return f.authResponse(d)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Te(this,void 0,void 0,function(){var r,l,i,s,a=this;return Ie(this,function(f){switch(f.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(r=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(l=f.sent(),!(i=l.authProviders.find(function(d){return d.name===r.provider})))throw new Ye(new Error('Missing or invalid provider "'.concat(r.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,h){return Te(a,void 0,void 0,function(){var _,g,m,y,v=this;return Ie(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(k){return Te(v,void 0,void 0,function(){var A,I,P;return Ie(this,function(w){switch(w.label){case 0:A=this.client.realtime.clientId,w.label=1;case 1:if(w.trys.push([1,3,,4]),_(),!k.state||A!==k.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(i.name,k.code,i.codeVerifier,s,r.createData,r.body,r.query)];case 2:return I=w.sent(),d(I),[3,4];case 3:return P=w.sent(),h(new Ye(P)),[3,4];case 4:return[2]}})})})];case 1:return _=b.sent(),(g=new URL(i.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((y=r.scopes)===null||y===void 0)&&y.length&&g.searchParams.set("scope",r.scopes.join(" ")),[4,r.urlCallback?r.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),h(new Ye(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var r=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(l){return r.authResponse(l)})},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,l,i){return l===void 0&&(l={}),i===void 0&&(i={}),l=Object.assign({token:e,password:o,passwordConfirm:r},l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:i,body:l}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,r,l){return r===void 0&&(r={}),l===void 0&&(l={}),r=Object.assign({token:e,password:o},r),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:l,body:r}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(r){var l=[];if(Array.isArray(r))for(var i=0,s=r;i<s.length;i++){var a=s[i];l.push(new Oi(a))}return l})},t.prototype.unlinkExternalAuth=function(e,o,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new Ye(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,r=768,l=window.innerWidth,i=window.innerHeight,s=l/2-(o=o>l?l:o)/2,a=i/2-(r=r>i?i:r)/2;window.open(e,"oauth2-popup","width="+o+",height="+r+",top="+a+",left="+s+",resizable,menubar=no")},t}(Rn),Ei=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Mi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,r=e.schema;o<r.length;o++){var l=r[o];this.schema.push(new Ei(l))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(St),Ri=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.decode=function(e){return new Mi(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,r){return o===void 0&&(o=!1),r===void 0&&(r={}),Te(this,void 0,void 0,function(){return Ie(this,function(l){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:r,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Rn),$n=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(St),ji=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getRequestsList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:o},r),this.client.send("/api/logs/requests",{method:"GET",params:r}).then(function(l){var i=[];if(l!=null&&l.items){l.items=(l==null?void 0:l.items)||[];for(var s=0,a=l.items;s<a.length;s++){var f=a[s];i.push(new $n(f))}}return new Rr((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,i)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(r){return new $n(r)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(lt),Ni=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Oe(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var r;return Te(this,void 0,void 0,function(){var l,i=this;return Ie(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return l=function(a){var f,d=a;try{f=JSON.parse(d==null?void 0:d.data)}catch{}o(f||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(l),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(r=this.eventSource)===null||r===void 0||r.addEventListener(e,l),s.label=5;case 5:return[2,function(){return Te(i,void 0,void 0,function(){return Ie(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,l)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Te(this,void 0,void 0,function(){var r,l,i;return Ie(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(r=0,l=this.subscriptions[e];r<l.length;r++)i=l[r],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,i);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Te(this,void 0,void 0,function(){var r,l,i,s,a;return Ie(this,function(f){switch(f.label){case 0:for(l in r=!1,this.subscriptions)if(l.startsWith(e)){for(r=!0,i=0,s=this.subscriptions[l];i<s.length;i++)a=s[i],(o=this.eventSource)===null||o===void 0||o.removeEventListener(l,a);delete this.subscriptions[l]}return r?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var r;return Te(this,void 0,void 0,function(){var l,i;return Ie(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(l=!1,i=this.subscriptions[e].length-1;i>=0;i--)this.subscriptions[e][i]===o&&(l=!0,delete this.subscriptions[e][i],this.subscriptions[e].splice(i,1),(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,o));return l?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,r;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var l in this.subscriptions)if(!((r=this.subscriptions[l])===null||r===void 0)&&r.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Te(this,void 0,void 0,function(){return Ie(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var l=r[o];this.eventSource.addEventListener(e,l)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var l=r[o];this.eventSource.removeEventListener(e,l)}},t.prototype.connect=function(){return Te(this,void 0,void 0,function(){var e=this;return Ie(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(r,l){e.pendingConnects.push({resolve:r,reject:l}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var r=o;e.clientId=r==null?void 0:r.lastEventId,e.submitSubscriptions().then(function(){return Te(e,void 0,void 0,function(){var l;return Ie(this,function(i){switch(i.label){case 0:l=3,i.label=1;case 1:return this.hasUnsentSubscriptions()&&l>0?(l--,[4,this.submitSubscriptions()]):[3,3];case 2:return i.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var l=0,i=e.pendingConnects;l<i.length;l++)i[l].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(l){e.clientId="",e.connectErrorHandler(l)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,r=e;o<r.length;o++){var l=r[o];if(!this.lastSentTopics.includes(l))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var r=0,l=this.pendingConnects;r<l.length;r++)l[r].reject(new Ye(e));this.disconnect()}else{this.disconnect(!0);var i=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},i)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var r=new Ye(new Error("Realtime disconnected.")),l=0,i=this.pendingConnects;l<i.length;l++)i[l].reject(r);this.pendingConnects=[]}},t}(lt),Di=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(lt),qi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getUrl=function(e,o,r){r===void 0&&(r={});var l=[];l.push("api"),l.push("files"),l.push(encodeURIComponent(e.collectionId||e.collectionName)),l.push(encodeURIComponent(e.id)),l.push(encodeURIComponent(o));var i=this.client.buildUrl(l.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+s}return i},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(lt),Bi=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var r={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(lt),Fi=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Ti,this.admins=new Pi(this),this.collections=new Ri(this),this.files=new qi(this),this.logs=new ji(this),this.settings=new Ii(this),this.realtime=new Ni(this),this.health=new Di(this),this.backups=new Bi(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Li(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,r,l,i,s,a,f,d;return Te(this,void 0,void 0,function(){var h,_,g,m,y,v,b,k,A,I=this;return Ie(this,function(P){switch(P.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((l=this.authStore)===null||l===void 0)&&l.token&&((i=h==null?void 0:h.headers)===null||i===void 0?void 0:i.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(f=h.params)===null||f===void 0||delete f.$autoCancel,(d=h.params)===null||d===void 0||delete d.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((y=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+y),delete h.params),this.beforeSend?(k=(b=Object).assign,A=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(v=k.apply(b,A.concat([P.sent()]))).url!==void 0||v.options!==void 0?(m=v.url||m,h=v.options||h):Object.keys(v).length&&(h=v,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),P.label=2;case 2:return[2,fetch(m,h).then(function(w){return Te(I,void 0,void 0,function(){var C;return Ie(this,function(O){switch(O.label){case 0:C={},O.label=1;case 1:return O.trys.push([1,3,,4]),[4,w.json()];case 2:return C=O.sent(),[3,4];case 3:return O.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(w,C)]:[3,6];case 5:C=O.sent(),O.label=6;case 6:if(w.status>=400)throw new Ye({url:w.url,status:w.status,data:C});return[2,C]}})})}).catch(function(w){throw new Ye(w)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var r=t[o],l=encodeURIComponent(o);if(Array.isArray(r))for(var i=0,s=r;i<s.length;i++){var a=s[i];e.push(l+"="+encodeURIComponent(a))}else r instanceof Date?e.push(l+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?e.push(l+"="+encodeURIComponent(JSON.stringify(r))):e.push(l+"="+encodeURIComponent(r))}return e.join("&")},n}();const at=[];function Ui(n,t){return{subscribe:He(n,t).subscribe}}function He(n,t=te){let e;const o=new Set;function r(s){if(be(n,s)&&(n=s,e)){const a=!at.length;for(const f of o)f[1](),at.push(f,n);if(a){for(let f=0;f<at.length;f+=2)at[f][0](at[f+1]);at.length=0}}}function l(s){r(s(n))}function i(s,a=te){const f=[s,a];return o.add(f),o.size===1&&(e=t(r)||te),s(n),()=>{o.delete(f),o.size===0&&e&&(e(),e=null)}}return{set:r,update:l,subscribe:i}}function jr(n,t,e){const o=!Array.isArray(n),r=o?[n]:n,l=t.length<2;return Ui(e,i=>{let s=!1;const a=[];let f=0,d=te;const h=()=>{if(f)return;d();const g=t(o?a[0]:a,i);l?i(g):d=Gt(g)?g:te},_=r.map((g,m)=>Pn(g,y=>{a[m]=y,f&=~(1<<m),s&&h()},()=>{f|=1<<m}));return s=!0,h(),function(){se(_),d(),s=!1}})}const Yt="https://pb.readinglog.fun:4444",he=new Fi(Yt),Ve=He(he.authStore.model);he.authStore.onChange(n=>{console.log("authStore changed",n),Ve.set(he.authStore.model)});const mn=He("10"),ce="bottom-center",xn={},gn={},zi={},Nr=/^:(.+)/,eo=4,Hi=3,Ji=2,Gi=1,Vi=1,vn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),on=n=>n.replace(/(^\/+|\/+$)/g,""),Wi=(n,t)=>{const e=n.default?0:vn(n.path).reduce((o,r)=>(o+=eo,r===""?o+=Vi:Nr.test(r)?o+=Ji:r[0]==="*"?o-=eo+Gi:o+=Hi,o),0);return{route:n,score:e,index:t}},Qi=n=>n.map(Wi).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),to=(n,t)=>{let e,o;const[r]=t.split("?"),l=vn(r),i=l[0]==="",s=Qi(n);for(let a=0,f=s.length;a<f;a++){const d=s[a].route;let h=!1;if(d.default){o={route:d,params:{},uri:t};continue}const _=vn(d.path),g={},m=Math.max(l.length,_.length);let y=0;for(;y<m;y++){const v=_[y],b=l[y];if(v&&v[0]==="*"){const A=v==="*"?"*":v.slice(1);g[A]=l.slice(y).map(decodeURIComponent).join("/");break}if(typeof b>"u"){h=!0;break}const k=Nr.exec(v);if(k&&!i){const A=decodeURIComponent(b);g[k[1]]=A}else if(v!==b){h=!0;break}}if(!h){e={route:d,params:g,uri:"/"+l.slice(0,y).join("/")};break}}return e||o||null},no=(n,t)=>`${on(t==="/"?n:`${on(n)}/${on(t)}`)}/`,Dr=typeof window<"u"&&"document"in window,rn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Ki=n=>{const t=[];let e=rn(n);return{get location(){return e},listen(o){t.push(o);const r=()=>{e=rn(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",r),()=>{n.removeEventListener("popstate",r);const l=t.indexOf(o);t.splice(l,1)}},navigate(o,{state:r,replace:l=!1}={}){r={...r,key:Date.now()+""};try{l?n.history.replaceState(r,"",o):n.history.pushState(r,"",o)}catch{n.location[l?"replace":"assign"](o)}e=rn(n),t.forEach(i=>i({location:e,action:"PUSH"})),document.activeElement.blur()}}},Yi=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(r,l){},removeEventListener(r,l){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(r,l,i){const[s,a=""]=i.split("?");t++,e.push({pathname:s,search:a}),o.push(r)},replaceState(r,l,i){const[s,a=""]=i.split("?");e[t]={pathname:s,search:a},o[t]=r}}}},qr=Ki(Dr?window:Yi()),{navigate:jn}=qr,Xi=n=>({route:n&2,location:n&1}),oo=n=>({route:n[1]&&n[1].uri,location:n[0]});function Zi(n){let t;const e=n[12].default,o=Vt(e,n,n[11],oo);return{c(){o&&o.c()},m(r,l){o&&o.m(r,l),t=!0},p(r,[l]){o&&o.p&&(!t||l&2051)&&Qt(o,e,r,r[11],t?Wt(e,r[11],l,Xi):Kt(r[11]),oo)},i(r){t||($(o,r),t=!0)},o(r){x(o,r),t=!1},d(r){o&&o.d(r)}}}function $i(n,t,e){let o,r,l,i,{$$slots:s={},$$scope:a}=t,{basepath:f="/"}=t,{url:d=null}=t,{history:h=qr}=t;tn(zi,h);const _=fn(xn),g=fn(gn),m=He([]);Pe(n,m,w=>e(9,r=w));const y=He(null);Pe(n,y,w=>e(1,i=w));let v=!1;const b=_||He(d?{pathname:d}:h.location);Pe(n,b,w=>e(0,o=w));const k=g?g.routerBase:He({path:f,uri:f});Pe(n,k,w=>e(10,l=w));const A=jr([k,y],([w,C])=>{if(!C)return w;const{path:O}=w,{route:M,uri:E}=C;return{path:M.default?O:M.path.replace(/\*.*$/,""),uri:E}}),I=w=>{const{path:C}=l;let{path:O}=w;if(w._path=O,w.path=no(C,O),typeof window>"u"){if(v)return;const M=to([w],o.pathname);M&&(y.set(M),v=!0)}else m.update(M=>[...M,w])},P=w=>{m.update(C=>C.filter(O=>O!==w))};return _||(rt(()=>h.listen(C=>{b.set(C.location)})),tn(xn,b)),tn(gn,{activeRoute:y,base:k,routerBase:A,registerRoute:I,unregisterRoute:P}),n.$$set=w=>{"basepath"in w&&e(6,f=w.basepath),"url"in w&&e(7,d=w.url),"history"in w&&e(8,h=w.history),"$$scope"in w&&e(11,a=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:w}=l;m.update(C=>C.map(O=>({...O,path:no(w,O._path)})))}if(n.$$.dirty&513){const w=to(r,o.pathname);y.set(w)}},[o,i,m,y,b,k,f,d,h,r,l,a,s]}class Nn extends Ce{constructor(t){super(),we(this,t,$i,Zi,be,{basepath:6,url:7,history:8})}}const xi=n=>({params:n&4}),ro=n=>({params:n[2]});function lo(n){let t,e,o,r;const l=[ts,es],i=[];function s(a,f){return a[0]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=me()},m(a,f){i[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?i[t].p(a,f):(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){x(e),r=!1},d(a){i[t].d(a),a&&N(o)}}}function es(n){let t;const e=n[8].default,o=Vt(e,n,n[7],ro);return{c(){o&&o.c()},m(r,l){o&&o.m(r,l),t=!0},p(r,l){o&&o.p&&(!t||l&132)&&Qt(o,e,r,r[7],t?Wt(e,r[7],l,xi):Kt(r[7]),ro)},i(r){t||($(o,r),t=!0)},o(r){x(o,r),t=!1},d(r){o&&o.d(r)}}}function ts(n){let t,e,o,r={ctx:n,current:null,token:null,hasCatch:!1,pending:rs,then:os,catch:ns,value:12,blocks:[,,,]};return Yn(e=n[0],r),{c(){t=me(),r.block.c()},m(l,i){D(l,t,i),r.block.m(l,r.anchor=i),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(l,i){n=l,r.ctx=n,i&1&&e!==(e=n[0])&&Yn(e,r)||bi(r,n,i)},i(l){o||($(r.block),o=!0)},o(l){for(let i=0;i<3;i+=1){const s=r.blocks[i];x(s)}o=!1},d(l){l&&N(t),r.block.d(l),r.token=null,r=null}}}function ns(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function os(n){var s;let t,e,o;const r=[n[2],n[3]];var l=((s=n[12])==null?void 0:s.default)||n[12];function i(a){let f={};for(let d=0;d<r.length;d+=1)f=Ze(f,r[d]);return{props:f}}return l&&(t=$e(l,i())),{c(){t&&de(t.$$.fragment),e=me()},m(a,f){t&&ue(t,a,f),D(a,e,f),o=!0},p(a,f){var h;const d=f&12?Ct(r,[f&4&&bt(a[2]),f&8&&bt(a[3])]):{};if(f&1&&l!==(l=((h=a[12])==null?void 0:h.default)||a[12])){if(t){Le();const _=t;x(_.$$.fragment,1,0,()=>{fe(_,1)}),Ee()}l?(t=$e(l,i()),de(t.$$.fragment),$(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else l&&t.$set(d)},i(a){o||(t&&$(t.$$.fragment,a),o=!0)},o(a){t&&x(t.$$.fragment,a),o=!1},d(a){a&&N(e),t&&fe(t,a)}}}function rs(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function ls(n){let t,e,o=n[1]&&n[1].route===n[5]&&lo(n);return{c(){o&&o.c(),t=me()},m(r,l){o&&o.m(r,l),D(r,t,l),e=!0},p(r,[l]){r[1]&&r[1].route===r[5]?o?(o.p(r,l),l&2&&$(o,1)):(o=lo(r),o.c(),$(o,1),o.m(t.parentNode,t)):o&&(Le(),x(o,1,1,()=>{o=null}),Ee())},i(r){e||($(o),e=!0)},o(r){x(o),e=!1},d(r){o&&o.d(r),r&&N(t)}}}function is(n,t,e){let o,{$$slots:r={},$$scope:l}=t,{path:i=""}=t,{component:s=null}=t,a={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:_}=fn(gn);Pe(n,_,m=>e(1,o=m));const g={path:i,default:i===""};return d(g),Ln(()=>{h(g)}),n.$$set=m=>{e(11,t=Ze(Ze({},t),Wn(m))),"path"in m&&e(6,i=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,l=m.$$scope)},n.$$.update=()=>{{o&&o.route===g&&e(2,a=o.params);const{component:m,path:y,...v}=t;e(3,f=v),Dr&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=Wn(t),[s,o,a,f,_,g,i,l,r]}class dt extends Ce{constructor(t){super(),we(this,t,is,ls,be,{path:6,component:0})}}function ss(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(r,l){D(r,t,l),e||(o=T(t,"click",n[0]),e=!0)},p:te,i:te,o:te,d(r){r&&N(t),e=!1,o()}}}function as(n){function t(){jn("/signup")}return[t]}class cs extends Ce{constructor(t){super(),we(this,t,as,ss,be,{})}}function us(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P;return m=new cs({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),l=p("hgroup"),l.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,i=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),de(m.$$.fragment),y=S(),v=p("br"),b=S(),k=p("a"),k.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(d,"placeholder","Password"),u(d,"type","password"),u(_,"class","svelte-unkkz3"),u(k,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,C){D(w,t,C),c(t,e),c(e,o),c(o,r),c(r,l),c(r,i),c(r,s),c(s,a),Z(a,n[0]),c(s,f),c(s,d),Z(d,n[1]),c(s,h),c(s,_),c(r,g),ue(m,r,null),c(r,y),c(r,v),c(r,b),c(r,k),A=!0,I||(P=[T(a,"input",n[4]),T(d,"input",n[5]),T(_,"click",n[2]),T(s,"submit",qe(n[3]))],I=!0)},p(w,[C]){C&1&&a.value!==w[0]&&Z(a,w[0]),C&2&&d.value!==w[1]&&Z(d,w[1])},i(w){A||($(m.$$.fragment,w),A=!0)},o(w){x(m.$$.fragment,w),A=!1},d(w){w&&N(t),fe(m),I=!1,se(P)}}}function fs(n,t,e){let o,r;async function l(){try{const f=await he.collection("users").authWithPassword(o,r);console.log(f)}catch(f){alert(f)}}function i(f){De.call(this,n,f)}function s(){o=this.value,e(0,o)}function a(){r=this.value,e(1,r)}return[o,r,l,i,s,a]}class Dn extends Ce{constructor(t){super(),we(this,t,fs,us,be,{})}}function ds(n,t,e,o){var r,l,i=!1,s=e.length>=2,a=(m,y,v)=>{if(r=y,s&&(l=m),!i){let b=t(m,y,v);if(t.length<2)y(b);else return b}i=!1},f=jr(n,a,o),d=!Array.isArray(n);function h(m){var y=e(m,l);d?(i=!0,n.set(y)):y.forEach((v,b)=>{i=!0,n[b].set(v)}),i=!1}var _=!1;function g(m){var y,v,b,k;if(_){k=m(un(f)),r(k);return}var A=f.subscribe(I=>{_?y?v=!0:y=!0:b=I});k=m(b),_=!0,r(k),A(),_=!1,v&&(k=un(f)),y&&h(k)}return{subscribe:f.subscribe,set(m){g(()=>m)},update:g}}const ps=20,it=He([]),qn=He(null),Nt=new Map,io=n=>{if(Nt.has(n))return;const t=setTimeout(()=>{Nt.delete(n),Fr(n)},1e3);Nt.set(n,t)},hs=n=>{const t=Nt.get(n);t&&clearTimeout(t)};function Br(n){n.id&&hs(n.id),it.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function _s(n){it.update(t=>[n,...t].slice(0,ps))}function ms(n){un(it).find(t=>t.id===n.id)?Br(n):_s(n)}function gs(n){it.update(t=>(n?io(n):t.forEach(e=>{io(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Fr(n){it.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function vs(n){qn.set(n)}function bs(n){let t;qn.update(e=>(t=n-(e||0),null)),it.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const ys={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ks(n={}){return{toasts:ds(it,e=>e.map(o=>{var r,l;return{...n,...n[o.type],...o,duration:o.duration||((r=n[o.type])==null?void 0:r.duration)||(n==null?void 0:n.duration)||ys[o.type],style:[n.style,(l=n[o.type])==null?void 0:l.style,o.style].join(";")}}),e=>e),pausedAt:qn}}const ws=n=>typeof n=="function",so=(n,t)=>ws(n)?n(t):n,Cs=(()=>{let n=0;return()=>(n+=1,n.toString())})(),Ur=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ss=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Cs()}),At=n=>(t,e)=>{const o=Ss(t,n,e);return ms(o),o.id},re=(n,t)=>At("blank")(n,t);re.error=At("error");re.success=At("success");re.loading=At("loading");re.custom=At("custom");re.dismiss=n=>{gs(n)};re.remove=n=>Fr(n);re.promise=(n,t,e)=>{const o=re.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(r=>(re.success(so(t.success,r),{id:o,...e,...e==null?void 0:e.success}),r)).catch(r=>{re.error(so(t.error,r),{id:o,...e,...e==null?void 0:e.error})}),n};function As(n,t,e){const{reverseOrder:o,gutter:r=8,defaultPosition:l}=e||{},i=t.filter(d=>(d.position||l)===(n.position||l)&&d.height),s=i.findIndex(d=>d.id===n.id),a=i.filter((d,h)=>h<s&&d.visible).length;return i.filter(d=>d.visible).slice(...o?[a+1]:[0,a]).reduce((d,h)=>d+(h.height||0)+r,0)}const Ts={startPause(){vs(Date.now())},endPause(){bs(Date.now())},updateHeight:(n,t)=>{Br({id:n,height:t})},calculateOffset:As};function Is(n){const{toasts:t,pausedAt:e}=ks(n),o=new Map;let r;const l=[e.subscribe(i=>{if(i){for(const[,s]of o)clearTimeout(s);o.clear()}r=i}),t.subscribe(i=>{if(r)return;const s=Date.now();for(const a of i){if(o.has(a.id)||a.duration===1/0)continue;const f=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(f<0)return a.visible&&re.dismiss(a.id),null;o.set(a.id,setTimeout(()=>re.dismiss(a.id),f))}})];return Ln(()=>{for(const i of l)i()}),{toasts:t,handlers:Ts}}function Ps(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Os(n,t,e){let{primary:o="#61d345"}=t,{secondary:r="#fff"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class Ls extends Ce{constructor(t){super(),we(this,t,Os,Ps,be,{primary:0,secondary:1})}}function Es(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Ms(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:r="#fff"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class Rs extends Ce{constructor(t){super(),we(this,t,Ms,Es,be,{primary:0,secondary:1})}}function js(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Ns(n,t,e){let{primary:o="#616161"}=t,{secondary:r="#e0e0e0"}=t;return n.$$set=l=>{"primary"in l&&e(0,o=l.primary),"secondary"in l&&e(1,r=l.secondary)},[o,r]}class Ds extends Ce{constructor(t){super(),we(this,t,Ns,js,be,{primary:0,secondary:1})}}function qs(n){let t,e,o,r;const l=[n[0]];let i={};for(let a=0;a<l.length;a+=1)i=Ze(i,l[a]);e=new Ds({props:i});let s=n[2]!=="loading"&&ao(n);return{c(){t=p("div"),de(e.$$.fragment),o=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,f){D(a,t,f),ue(e,t,null),c(t,o),s&&s.m(t,null),r=!0},p(a,f){const d=f&1?Ct(l,[bt(a[0])]):{};e.$set(d),a[2]!=="loading"?s?(s.p(a,f),f&4&&$(s,1)):(s=ao(a),s.c(),$(s,1),s.m(t,null)):s&&(Le(),x(s,1,1,()=>{s=null}),Ee())},i(a){r||($(e.$$.fragment,a),$(s),r=!0)},o(a){x(e.$$.fragment,a),x(s),r=!1},d(a){a&&N(t),fe(e),s&&s.d()}}}function Bs(n){let t,e,o;var r=n[1];function l(i){return{}}return r&&(t=$e(r,l())),{c(){t&&de(t.$$.fragment),e=me()},m(i,s){t&&ue(t,i,s),D(i,e,s),o=!0},p(i,s){if(s&2&&r!==(r=i[1])){if(t){Le();const a=t;x(a.$$.fragment,1,0,()=>{fe(a,1)}),Ee()}r?(t=$e(r,l()),de(t.$$.fragment),$(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&x(t.$$.fragment,i),o=!1},d(i){i&&N(e),t&&fe(t,i)}}}function Fs(n){let t,e;return{c(){t=p("div"),e=F(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,r){D(o,t,r),c(t,e)},p(o,r){r&2&&le(e,o[1])},i:te,o:te,d(o){o&&N(t)}}}function ao(n){let t,e,o,r;const l=[zs,Us],i=[];function s(a,f){return a[2]==="error"?0:1}return e=s(n),o=i[e]=l[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,f){D(a,t,f),i[e].m(t,null),r=!0},p(a,f){let d=e;e=s(a),e===d?i[e].p(a,f):(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee(),o=i[e],o?o.p(a,f):(o=i[e]=l[e](a),o.c()),$(o,1),o.m(t,null))},i(a){r||($(o),r=!0)},o(a){x(o),r=!1},d(a){a&&N(t),i[e].d()}}}function Us(n){let t,e;const o=[n[0]];let r={};for(let l=0;l<o.length;l+=1)r=Ze(r,o[l]);return t=new Ls({props:r}),{c(){de(t.$$.fragment)},m(l,i){ue(t,l,i),e=!0},p(l,i){const s=i&1?Ct(o,[bt(l[0])]):{};t.$set(s)},i(l){e||($(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){fe(t,l)}}}function zs(n){let t,e;const o=[n[0]];let r={};for(let l=0;l<o.length;l+=1)r=Ze(r,o[l]);return t=new Rs({props:r}),{c(){de(t.$$.fragment)},m(l,i){ue(t,l,i),e=!0},p(l,i){const s=i&1?Ct(o,[bt(l[0])]):{};t.$set(s)},i(l){e||($(t.$$.fragment,l),e=!0)},o(l){x(t.$$.fragment,l),e=!1},d(l){fe(t,l)}}}function Hs(n){let t,e,o,r;const l=[Fs,Bs,qs],i=[];function s(a,f){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=i[t]=l[t](n)),{c(){e&&e.c(),o=me()},m(a,f){~t&&i[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?~t&&i[t].p(a,f):(e&&(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee()),~t?(e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o)):e=null)},i(a){r||($(e),r=!0)},o(a){x(e),r=!1},d(a){~t&&i[t].d(a),a&&N(o)}}}function Js(n,t,e){let o,r,l,{toast:i}=t;return n.$$set=s=>{"toast"in s&&e(3,i=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:r,iconTheme:l}=i,o,(e(1,r),e(3,i)),(e(0,l),e(3,i)))},[l,r,o,i]}class Bn extends Ce{constructor(t){super(),we(this,t,Js,Hs,be,{toast:3})}}function Gs(n){let t,e,o;var r=n[0].message;function l(i){return{props:{toast:i[0]}}}return r&&(t=$e(r,l(n))),{c(){t&&de(t.$$.fragment),e=me()},m(i,s){t&&ue(t,i,s),D(i,e,s),o=!0},p(i,s){const a={};if(s&1&&(a.toast=i[0]),s&1&&r!==(r=i[0].message)){if(t){Le();const f=t;x(f.$$.fragment,1,0,()=>{fe(f,1)}),Ee()}r?(t=$e(r,l(i)),de(t.$$.fragment),$(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&x(t.$$.fragment,i),o=!1},d(i){i&&N(e),t&&fe(t,i)}}}function Vs(n){let t=n[0].message+"",e;return{c(){e=F(t)},m(o,r){D(o,e,r)},p(o,r){r&1&&t!==(t=o[0].message+"")&&le(e,t)},i:te,o:te,d(o){o&&N(e)}}}function Ws(n){let t,e,o,r;const l=[Vs,Gs],i=[];function s(d,h){return typeof d[0].message=="string"?0:1}e=s(n),o=i[e]=l[e](n);let a=[{class:"message"},n[0].ariaProps],f={};for(let d=0;d<a.length;d+=1)f=Ze(f,a[d]);return{c(){t=p("div"),o.c(),Qn(t,f),mt(t,"svelte-1nauejd",!0)},m(d,h){D(d,t,h),i[e].m(t,null),r=!0},p(d,[h]){let _=e;e=s(d),e===_?i[e].p(d,h):(Le(),x(i[_],1,1,()=>{i[_]=null}),Ee(),o=i[e],o?o.p(d,h):(o=i[e]=l[e](d),o.c()),$(o,1),o.m(t,null)),Qn(t,f=Ct(a,[{class:"message"},h&1&&d[0].ariaProps])),mt(t,"svelte-1nauejd",!0)},i(d){r||($(o),r=!0)},o(d){x(o),r=!1},d(d){d&&N(t),i[e].d()}}}function Qs(n,t,e){let{toast:o}=t;return n.$$set=r=>{"toast"in r&&e(0,o=r.toast)},[o]}class Xt extends Ce{constructor(t){super(),we(this,t,Qs,Ws,be,{toast:0})}}const Ks=n=>({toast:n&1}),co=n=>({ToastIcon:Bn,ToastMessage:Xt,toast:n[0]});function Ys(n){let t;const e=n[6].default,o=Vt(e,n,n[7],co),r=o||Zs(n);return{c(){r&&r.c()},m(l,i){r&&r.m(l,i),t=!0},p(l,i){o?o.p&&(!t||i&129)&&Qt(o,e,l,l[7],t?Wt(e,l[7],i,Ks):Kt(l[7]),co):r&&r.p&&(!t||i&1)&&r.p(l,t?i:-1)},i(l){t||($(r,l),t=!0)},o(l){x(r,l),t=!1},d(l){r&&r.d(l)}}}function Xs(n){let t,e,o;var r=n[2];function l(i){return{props:{$$slots:{message:[xs],icon:[$s]},$$scope:{ctx:i}}}}return r&&(t=$e(r,l(n))),{c(){t&&de(t.$$.fragment),e=me()},m(i,s){t&&ue(t,i,s),D(i,e,s),o=!0},p(i,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:i}),s&4&&r!==(r=i[2])){if(t){Le();const f=t;x(f.$$.fragment,1,0,()=>{fe(f,1)}),Ee()}r?(t=$e(r,l(i)),de(t.$$.fragment),$(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(i){o||(t&&$(t.$$.fragment,i),o=!0)},o(i){t&&x(t.$$.fragment,i),o=!1},d(i){i&&N(e),t&&fe(t,i)}}}function Zs(n){let t,e,o,r;return t=new Bn({props:{toast:n[0]}}),o=new Xt({props:{toast:n[0]}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(l,i){ue(t,l,i),D(l,e,i),ue(o,l,i),r=!0},p(l,i){const s={};i&1&&(s.toast=l[0]),t.$set(s);const a={};i&1&&(a.toast=l[0]),o.$set(a)},i(l){r||($(t.$$.fragment,l),$(o.$$.fragment,l),r=!0)},o(l){x(t.$$.fragment,l),x(o.$$.fragment,l),r=!1},d(l){fe(t,l),l&&N(e),fe(o,l)}}}function $s(n){let t,e;return t=new Bn({props:{toast:n[0],slot:"icon"}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function xs(n){let t,e;return t=new Xt({props:{toast:n[0],slot:"message"}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function ea(n){let t,e,o,r,l,i;const s=[Xs,Ys],a=[];function f(d,h){return d[2]?0:1}return e=f(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",r="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",l=n[1]+"; "+n[0].style),ve(t,"--factor",n[3])},m(d,h){D(d,t,h),a[e].m(t,null),i=!0},p(d,[h]){let _=e;e=f(d),e===_?a[e].p(d,h):(Le(),x(a[_],1,1,()=>{a[_]=null}),Ee(),o=a[e],o?o.p(d,h):(o=a[e]=s[e](d),o.c()),$(o,1),o.m(t,null)),(!i||h&17&&r!==(r="base "+(d[0].height?d[4]:"transparent")+" "+(d[0].className||"")+" svelte-ug60r4"))&&u(t,"class",r),(!i||h&3&&l!==(l=d[1]+"; "+d[0].style))&&u(t,"style",l),(h&3||h&11)&&ve(t,"--factor",d[3])},i(d){i||($(o),i=!0)},o(d){x(o),i=!1},d(d){d&&N(t),a[e].d()}}}function ta(n,t,e){let{$$slots:o={},$$scope:r}=t,{toast:l}=t,{position:i=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,f,d;return n.$$set=h=>{"toast"in h&&e(0,l=h.toast),"position"in h&&e(5,i=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,r=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(l.position||i||"top-center").includes("top");e(3,f=h?1:-1);const[_,g]=Ur()?["fadeIn","fadeOut"]:["enter","exit"];e(4,d=l.visible?_:g)}},[l,s,a,f,d,i,o,r]}class na extends Ce{constructor(t){super(),we(this,t,ta,ea,be,{toast:0,position:5,style:1,Component:2})}}const oa=n=>({toast:n&1}),uo=n=>({toast:n[0]});function ra(n){let t;const e=n[8].default,o=Vt(e,n,n[7],uo),r=o||ia(n);return{c(){r&&r.c()},m(l,i){r&&r.m(l,i),t=!0},p(l,i){o?o.p&&(!t||i&129)&&Qt(o,e,l,l[7],t?Wt(e,l[7],i,oa):Kt(l[7]),uo):r&&r.p&&(!t||i&1)&&r.p(l,t?i:-1)},i(l){t||($(r,l),t=!0)},o(l){x(r,l),t=!1},d(l){r&&r.d(l)}}}function la(n){let t,e;return t=new Xt({props:{toast:n[0]}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function ia(n){let t,e;return t=new na({props:{toast:n[0],position:n[0].position}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r&1&&(l.toast=o[0]),r&1&&(l.position=o[0].position),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function sa(n){let t,e,o,r;const l=[la,ra],i=[];function s(a,f){return a[0].type==="custom"?0:1}return e=s(n),o=i[e]=l[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),mt(t,"active",n[0].visible),mt(t,"transition",!Ur()),ve(t,"--factor",n[3]),ve(t,"--offset",n[0].offset),ve(t,"top",n[5]),ve(t,"bottom",n[4]),ve(t,"justify-content",n[2])},m(a,f){D(a,t,f),i[e].m(t,null),n[9](t),r=!0},p(a,[f]){let d=e;e=s(a),e===d?i[e].p(a,f):(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee(),o=i[e],o?o.p(a,f):(o=i[e]=l[e](a),o.c()),$(o,1),o.m(t,null)),(!r||f&1)&&mt(t,"active",a[0].visible),f&8&&ve(t,"--factor",a[3]),f&1&&ve(t,"--offset",a[0].offset),f&32&&ve(t,"top",a[5]),f&16&&ve(t,"bottom",a[4]),f&4&&ve(t,"justify-content",a[2])},i(a){r||($(o),r=!0)},o(a){x(o),r=!1},d(a){a&&N(t),i[e].d(),n[9](null)}}}function aa(n,t,e){let o,r,l,i,{$$slots:s={},$$scope:a}=t,{toast:f}=t,{setHeight:d}=t,h;rt(()=>{d(h.getBoundingClientRect().height)});function _(g){dn[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,f=g.toast),"setHeight"in g&&e(6,d=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,y,v,b;n.$$.dirty&1&&e(5,o=(g=f.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,r=(m=f.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,l=(y=f.position)!=null&&y.includes("top")?1:-1),n.$$.dirty&1&&e(2,i=((v=f.position)==null?void 0:v.includes("center"))&&"center"||((b=f.position)==null?void 0:b.includes("right"))&&"flex-end"||null)},[f,h,i,l,r,o,d,a,s,_]}class ca extends Ce{constructor(t){super(),we(this,t,aa,sa,be,{toast:0,setHeight:6})}}function fo(n,t,e){const o=n.slice();return o[11]=t[e],o}function po(n,t){let e,o,r;function l(...i){return t[10](t[11],...i)}return o=new ca({props:{toast:t[11],setHeight:l}}),{key:n,first:null,c(){e=me(),de(o.$$.fragment),this.first=e},m(i,s){D(i,e,s),ue(o,i,s),r=!0},p(i,s){t=i;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=l),o.$set(a)},i(i){r||($(o.$$.fragment,i),r=!0)},o(i){x(o.$$.fragment,i),r=!1},d(i){i&&N(e),fe(o,i)}}}function ua(n){let t,e=[],o=new Map,r,l,i,s,a=n[2];const f=d=>d[11].id;for(let d=0;d<a.length;d+=1){let h=fo(n,a,d),_=f(h);o.set(_,e[d]=po(_,h))}return{c(){t=p("div");for(let d=0;d<e.length;d+=1)e[d].c();u(t,"class",r="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(d,h){D(d,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);l=!0,i||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],i=!0)},p(d,[h]){h&20&&(a=d[2],Le(),e=Ue(e,h,f,1,d,a,o,t,yi,po,null,fo),Ee()),(!l||h&2&&r!==(r="toaster "+(d[1]||"")+" svelte-1phplh9"))&&u(t,"class",r),(!l||h&1)&&u(t,"style",d[0])},i(d){if(!l){for(let h=0;h<a.length;h+=1)$(e[h]);l=!0}},o(d){for(let h=0;h<e.length;h+=1)x(e[h]);l=!1},d(d){d&&N(t);for(let h=0;h<e.length;h+=1)e[h].d();i=!1,se(s)}}}function fa(n,t,e){let o,{reverseOrder:r=!1}=t,{position:l="top-center"}=t,{toastOptions:i=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:f=void 0}=t;const{toasts:d,handlers:h}=Is(i);Pe(n,d,m=>e(9,o=m));let _;const g=(m,y)=>h.updateHeight(m.id,y);return n.$$set=m=>{"reverseOrder"in m&&e(5,r=m.reverseOrder),"position"in m&&e(6,l=m.position),"toastOptions"in m&&e(7,i=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,f=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(m=>({...m,position:m.position||l,offset:h.calculateOffset(m,o,{reverseOrder:r,gutter:s,defaultPosition:l})})))},[a,f,_,d,h,r,l,i,s,o,g]}class Fn extends Ce{constructor(t){super(),we(this,t,fa,ua,be,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function ho(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne,K,Q,H,W,B,G,J,Y,ge,Re,X,Se,pe,ie,ae,oe,Ae,je,ze,Me,Be,We,ye,ke,tt,ee;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=S(),i=p("strong"),i.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,f=S(),d=p("p"),d.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",y=S(),v=p("p"),v.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,b=S(),k=p("p"),k.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,A=S(),I=p("p"),I.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,P=S(),w=p("p"),w.innerHTML="<strong>3. Use of the App</strong>",C=S(),O=p("p"),O.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,M=S(),E=p("p"),E.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,R=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,q=S(),j=p("p"),j.innerHTML="<strong>4. Privacy and Data Security</strong>",U=S(),V=p("p"),V.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,ne=S(),K=p("p"),K.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,Q=S(),H=p("p"),H.innerHTML="<strong>5. Limitation of Liability</strong>",W=S(),B=p("p"),B.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,G=S(),J=p("p"),J.innerHTML="<strong>6. Modification of Terms</strong>",Y=S(),ge=p("p"),ge.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,Re=S(),X=p("p"),X.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",Se=S(),pe=p("p"),pe.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,ie=S(),ae=p("p"),ae.innerHTML="<strong>8. Severability</strong>",oe=S(),Ae=p("p"),Ae.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,je=S(),ze=p("p"),ze.innerHTML="<strong>9. Entire Agreement</strong>",Me=S(),Be=p("p"),Be.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,We=S(),ye=p("footer"),ke=p("a"),ke.textContent="Close",u(r,"href","#close"),u(r,"class","close"),u(ke,"href","#close"),u(ke,"role","button"),u(ke,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(Ne,ht){D(Ne,t,ht),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(e,s),c(e,a),c(e,f),c(e,d),c(e,h),c(e,_),c(e,g),c(e,m),c(e,y),c(e,v),c(e,b),c(e,k),c(e,A),c(e,I),c(e,P),c(e,w),c(e,C),c(e,O),c(e,M),c(e,E),c(e,R),c(e,L),c(e,q),c(e,j),c(e,U),c(e,V),c(e,ne),c(e,K),c(e,Q),c(e,H),c(e,W),c(e,B),c(e,G),c(e,J),c(e,Y),c(e,ge),c(e,Re),c(e,X),c(e,Se),c(e,pe),c(e,ie),c(e,ae),c(e,oe),c(e,Ae),c(e,je),c(e,ze),c(e,Me),c(e,Be),c(e,We),c(e,ye),c(ye,ke),tt||(ee=[T(r,"click",n[10]),T(ke,"click",n[10])],tt=!0)},p:te,d(Ne){Ne&&N(t),tt=!1,se(ee)}}}function da(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q=n[8]&&ho(n);return M=new Fn({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),l=p("hgroup"),l.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,i=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),y=S(),v=p("fieldset"),b=p("label"),k=p("input"),A=F(`\r
              I agree to the\r
              `),I=p("a"),I.textContent="Terms and Conditions",P=S(),q&&q.c(),w=S(),C=p("button"),C.textContent="Sign Up",O=S(),de(M.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(d,"placeholder","Email"),u(d,"type","email"),u(d,"aria-invalid",n[5]),d.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(k,"type","checkbox"),u(k,"id","terms"),u(k,"name","terms"),k.required=!0,u(I,"href","#terms"),u(b,"for","terms"),u(C,"type","submit"),u(C,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(j,U){D(j,t,U),c(t,e),c(e,o),c(o,r),c(r,l),c(r,i),c(r,s),c(s,a),Z(a,n[3]),c(s,f),c(s,d),Z(d,n[0]),c(s,h),c(s,_),Z(_,n[1]),c(s,g),c(s,m),Z(m,n[2]),c(s,y),c(s,v),c(v,b),c(b,k),k.checked=n[4],c(b,A),c(b,I),c(s,P),q&&q.m(s,null),c(s,w),c(s,C),c(t,O),ue(M,t,null),E=!0,R||(L=[T(a,"input",n[12]),T(d,"input",n[13]),T(_,"input",n[14]),T(m,"input",n[15]),T(k,"change",n[16]),T(I,"click",n[10]),T(C,"click",n[9]),T(s,"submit",qe(n[11]))],R=!0)},p(j,[U]){U&8&&a.value!==j[3]&&Z(a,j[3]),(!E||U&32)&&u(d,"aria-invalid",j[5]),U&1&&d.value!==j[0]&&Z(d,j[0]),(!E||U&64)&&u(_,"aria-invalid",j[6]),U&2&&_.value!==j[1]&&Z(_,j[1]),(!E||U&128)&&u(m,"aria-invalid",j[7]),U&4&&m.value!==j[2]&&Z(m,j[2]),U&16&&(k.checked=j[4]),j[8]?q?q.p(j,U):(q=ho(j),q.c(),q.m(s,w)):q&&(q.d(1),q=null)},i(j){E||($(M.$$.fragment,j),E=!0)},o(j){x(M.$$.fragment,j),E=!1},d(j){j&&N(t),q&&q.d(),fe(M),R=!1,se(L)}}}let pa="student",ha=!0;function _a(n,t,e){let o,r,l,i,s=!1,a,f,d;async function h(){const P=await he.collection("users").authWithPassword(r,l);console.log(P)}async function _(){if(!a&&!f&&!d&&s)try{const P={name:o,username:o.toLowerCase(),email:r,password:l,passwordConfirm:i,role:pa,isPublic:ha,language:"en"},w=await he.collection("users").create(P);await h()}catch(P){P.data.data.email.code&&re.error("Email already exist",{position:ce})}}let g=!1;function m(){e(8,g=!g)}function y(P){De.call(this,n,P)}function v(){o=this.value,e(3,o)}function b(){r=this.value,e(0,r)}function k(){l=this.value,e(1,l)}function A(){i=this.value,e(2,i)}function I(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(5,a=!1):e(5,a=!0)),l&&(l.length>=5?e(6,f=!1):e(6,f=!0)),i&&(i===l?e(7,d=!1):e(7,d=!0)))},[r,l,i,o,s,a,f,d,g,_,m,y,v,b,k,A,I]}class zr extends Ce{constructor(t){super(),we(this,t,_a,da,be,{})}}function ma(n){let t,e,o,r,l,i;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("p"),r=F("An email with a reset link has been sent to "),l=p("strong"),i=F(n[0])},m(s,a){D(s,t,a),D(s,e,a),D(s,o,a),c(o,r),c(o,l),c(l,i)},p(s,a){a&1&&le(i,s[0])},d(s){s&&N(t),s&&N(e),s&&N(o)}}}function ga(n){let t,e,o,r,l,i,s,a,f,d;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("form"),r=p("label"),l=F(`Email\r
              `),i=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(i,"id","email"),u(i,"name","email"),u(i,"type","email"),u(i,"aria-invalid",n[2]),i.required=!0,u(r,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){D(h,t,_),D(h,e,_),D(h,o,_),c(o,r),c(r,l),c(r,i),Z(i,n[0]),c(o,s),c(o,a),f||(d=[T(i,"input",n[5]),T(a,"click",n[3]),T(o,"submit",qe(n[4]))],f=!0)},p(h,_){_&4&&u(i,"aria-invalid",h[2]),_&1&&i.value!==h[0]&&Z(i,h[0])},d(h){h&&N(t),h&&N(e),h&&N(o),f=!1,se(d)}}}function va(n){let t,e,o,r,l,i,s,a;function f(_,g){return _[1]===!1?ga:ma}let d=f(n),h=d(n);return{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),h.c(),l=S(),i=p("a"),i.textContent="Back to Login Screen",u(i,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){D(_,t,g),c(t,e),c(e,o),c(o,r),h.m(r,null),c(r,l),c(r,i),s||(a=T(i,"click",n[6]),s=!0)},p(_,[g]){d===(d=f(_))&&h?h.p(_,g):(h.d(1),h=d(_),h&&(h.c(),h.m(r,l)))},i:te,o:te,d(_){_&&N(t),h.d(),s=!1,a()}}}function ba(n,t,e){let o=!1,r,l;async function i(){l||(await he.collection("users").requestPasswordReset(r),e(1,o=!0))}function s(d){De.call(this,n,d)}function a(){r=this.value,e(0,r)}const f=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(2,l=!1):e(2,l=!0))},[r,o,l,i,s,a,f]}class ya extends Ce{constructor(t){super(),we(this,t,ba,va,be,{})}}const bn=He(0),Dt=He(0),ka=He(500);function _o(n,t,e){const o=n.slice();return o[113]=t[e],o}function mo(n,t,e){const o=n.slice();return o[113]=t[e],o}function go(n,t,e){const o=n.slice();return o[118]=t[e],o}function vo(n,t,e){const o=n.slice();return o[121]=t[e],o}function wa(n){let t,e;return t=new Nn({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r[4]&1&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Ca(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k;function A(L,q){return L[7].length===0?Ta:Aa}let I=A(n),P=I(n),w=n[29]&&yo(n),C=n[30]&&Co(n),O=n[31]&&Io(n),M=n[32]&&Oo(n),E=n[33]&&Mo(n),R=n[28]&&Ro(n);return y=new Fn({}),{c(){t=p("div"),e=p("div"),o=S(),r=p("input"),l=S(),i=p("button"),i.textContent="Add Book",s=S(),P.c(),a=S(),w&&w.c(),f=S(),C&&C.c(),d=S(),O&&O.c(),h=S(),M&&M.c(),_=S(),E&&E.c(),g=S(),R&&R.c(),m=S(),de(y.$$.fragment),u(e,"class","grid svelte-1h11vka"),u(r,"type","search"),u(r,"placeholder","Filter by Book Title, Author, or Status..."),u(i,"class","btn btn-primary"),u(t,"class","container")},m(L,q){D(L,t,q),c(t,e),c(t,o),c(t,r),Z(r,n[34]),c(t,l),c(t,i),c(t,s),P.m(t,null),D(L,a,q),w&&w.m(L,q),D(L,f,q),C&&C.m(L,q),D(L,d,q),O&&O.m(L,q),D(L,h,q),M&&M.m(L,q),D(L,_,q),E&&E.m(L,q),D(L,g,q),R&&R.m(L,q),D(L,m,q),ue(y,L,q),v=!0,b||(k=[T(r,"input",n[58]),T(i,"click",n[44])],b=!0)},p(L,q){q[1]&8&&r.value!==L[34]&&Z(r,L[34]),I===(I=A(L))&&P?P.p(L,q):(P.d(1),P=I(L),P&&(P.c(),P.m(t,null))),L[29]?w?w.p(L,q):(w=yo(L),w.c(),w.m(f.parentNode,f)):w&&(w.d(1),w=null),L[30]?C?C.p(L,q):(C=Co(L),C.c(),C.m(d.parentNode,d)):C&&(C.d(1),C=null),L[31]?O?O.p(L,q):(O=Io(L),O.c(),O.m(h.parentNode,h)):O&&(O.d(1),O=null),L[32]?M?M.p(L,q):(M=Oo(L),M.c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),L[33]?E?E.p(L,q):(E=Mo(L),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),L[28]?R?R.p(L,q):(R=Ro(L),R.c(),R.m(m.parentNode,m)):R&&(R.d(1),R=null)},i(L){v||($(y.$$.fragment,L),v=!0)},o(L){x(y.$$.fragment,L),v=!1},d(L){L&&N(t),P.d(),L&&N(a),w&&w.d(L),L&&N(f),C&&C.d(L),L&&N(d),O&&O.d(L),L&&N(h),M&&M.d(L),L&&N(_),E&&E.d(L),L&&N(g),R&&R.d(L),L&&N(m),fe(y,L),b=!1,se(k)}}}function Sa(n){let t,e,o,r;return t=new dt({props:{path:"/",component:Dn}}),o=new dt({props:{path:"/signup",component:zr}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(l,i){ue(t,l,i),D(l,e,i),ue(o,l,i),r=!0},p:te,i(l){r||($(t.$$.fragment,l),$(o.$$.fragment,l),r=!0)},o(l){x(t.$$.fragment,l),x(o.$$.fragment,l),r=!1},d(l){fe(t,l),l&&N(e),fe(o,l)}}}function Aa(n){let t,e=[],o=new Map,r=n[35];const l=i=>i[121].id;for(let i=0;i<r.length;i+=1){let s=vo(n,r,i),a=l(s);o.set(a,e[i]=bo(a,s))}return{c(){t=p("div");for(let i=0;i<e.length;i+=1)e[i].c();u(t,"class","grid svelte-1h11vka")},m(i,s){D(i,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(i,s){s[0]&33488896|s[1]&32848&&(r=i[35],e=Ue(e,s,l,1,i,r,o,t,Ge,bo,null,vo))},d(i){i&&N(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Ta(n){let t,e,o,r,l,i,s,a,f,d,h;function _(P,w){return P[36].language==="en"?Ma:Ea}let g=_(n),m=g(n);function y(P,w){return P[36].language==="en"?ja:Ra}let v=y(n),b=v(n);function k(P,w){return P[36].language==="en"?Da:Na}let A=k(n),I=A(n);return{c(){t=p("article"),e=p("div"),e.textContent="👀",o=S(),r=p("p"),m.c(),l=S(),i=p("p"),b.c(),s=S(),a=p("div"),f=p("button"),I.c(),u(e,"class","empty-icon"),u(r,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(f,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-1h11vka")},m(P,w){D(P,t,w),c(t,e),c(t,o),c(t,r),m.m(r,null),c(t,l),c(t,i),b.m(i,null),c(t,s),c(t,a),c(a,f),I.m(f,null),d||(h=T(f,"click",n[46]),d=!0)},p(P,w){g!==(g=_(P))&&(m.d(1),m=g(P),m&&(m.c(),m.m(r,null))),v!==(v=y(P))&&(b.d(1),b=v(P),b&&(b.c(),b.m(i,null))),A!==(A=k(P))&&(I.d(1),I=A(P),I&&(I.c(),I.m(f,null)))},d(P){P&&N(t),m.d(),b.d(),I.d(),d=!1,h()}}}function Ia(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[121].googleCover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",l=n[121].bookId),u(t,"data-title",i=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[76]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!_e(e.src,o=v[121].googleCover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&l!==(l=v[121].bookId)&&u(t,"data-id",l),b[1]&16&&i!==(i=v[121].title)&&u(t,"data-title",i),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,se(y)}}}function Pa(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[37]+n[121].bookId+"/"+n[121].cover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",l=n[121].bookId),u(t,"data-title",i=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[59]),T(t,"click",n[60]),T(t,"click",n[61]),T(t,"click",n[62]),T(t,"click",n[63]),T(t,"click",n[64]),T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!_e(e.src,o=v[37]+v[121].bookId+"/"+v[121].cover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&l!==(l=v[121].bookId)&&u(t,"data-id",l),b[1]&16&&i!==(i=v[121].title)&&u(t,"data-title",i),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,se(y)}}}function Oa(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function La(n){let t,e;return{c(){t=p("progress"),t.value=e=xe(n[121].pages_read,n[121].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[1]&16&&e!==(e=xe(o[121].pages_read,o[121].pages))&&(t.value=e)},d(o){o&&N(t)}}}function bo(n,t){let e,o,r,l,i,s,a=t[121].title+"",f,d,h,_,g=t[121].author+"",m,y,v,b,k=t[121].status+"",A,I,P,w;function C(q,j){return q[121].cover?Pa:Ia}let O=C(t),M=O(t);function E(q,j){return q[121].pages_read?La:Oa}let R=E(t),L=R(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),r=p("div"),M.c(),l=S(),i=p("hgroup"),s=p("h4"),f=F(a),d=S(),h=p("p"),_=F("By: "),m=F(g),y=S(),v=p("br"),b=S(),A=F(k),I=S(),P=p("footer"),L.c(),w=S(),u(r,"class","image-wrapper"),u(i,"class","svelte-1h11vka"),u(o,"class","content-wrapper svelte-1h11vka"),u(P,"class","svelte-1h11vka"),u(e,"data-hover","article"),u(e,"class","svelte-1h11vka"),this.first=e},m(q,j){D(q,e,j),c(e,o),c(o,r),M.m(r,null),c(o,l),c(o,i),c(i,s),c(s,f),c(i,d),c(i,h),c(h,_),c(h,m),c(h,y),c(h,v),c(h,b),c(h,A),c(e,I),c(e,P),L.m(P,null),c(e,w)},p(q,j){t=q,O===(O=C(t))&&M?M.p(t,j):(M.d(1),M=O(t),M&&(M.c(),M.m(r,null))),j[1]&16&&a!==(a=t[121].title+"")&&le(f,a),j[1]&16&&g!==(g=t[121].author+"")&&le(m,g),j[1]&16&&k!==(k=t[121].status+"")&&le(A,k),R===(R=E(t))&&L?L.p(t,j):(L.d(1),L=R(t),L&&(L.c(),L.m(P,null)))},d(q){q&&N(e),M.d(),L.d()}}}function Ea(n){let t;return{c(){t=F("Nada por aquí...")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Ma(n){let t;return{c(){t=F("Nothing here yet...")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Ra(n){let t;return{c(){t=F("Presione el botón para añadir un libro.")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function ja(n){let t;return{c(){t=F("Click the button to add a book.")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Na(n){let t;return{c(){t=F("Añadir Libro")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Da(n){let t;return{c(){t=F("Add Book")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function yo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y=[],v=new Map,b,k,A=n[26];const I=P=>P[118].id;for(let P=0;P<A.length;P+=1){let w=go(n,A,P),C=I(w);v.set(C,y[P]=wo(C,w))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Search`),i=S(),s=p("form"),a=p("input"),f=S(),d=p("button"),h=F("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let P=0;P<y.length;P+=1)y[P].c();u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(d,"aria-busy",n[27]),u(e,"class","svelte-1h11vka"),t.open=!0},m(P,w){D(P,t,w),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h),c(s,_),c(s,g),c(e,m);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(e,null);b||(k=[T(r,"click",n[44]),T(a,"keyup",n[77]),T(d,"click",function(){Gt(n[49](n[25]))&&n[49](n[25]).apply(this,arguments)}),T(g,"click",n[45]),T(s,"submit",qe(n[57]))],b=!0)},p(P,w){n=P,w[0]&134217728&&u(d,"aria-busy",n[27]),w[0]&67161856|w[1]&16384&&(A=n[26],y=Ue(y,w,I,1,n,A,v,e,Ge,wo,null,go))},d(P){P&&N(t);for(let w=0;w<y.length;w+=1)y[w].d();b=!1,se(k)}}}function ko(n){let t,e,o;return{c(){t=p("img"),_e(t.src,e=Ut(n[118].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[118].volumeInfo.title),u(t,"class","svelte-1h11vka")},m(r,l){D(r,t,l)},p(r,l){l[0]&67108864&&!_e(t.src,e=Ut(r[118].volumeInfo.imageLinks))&&u(t,"src",e),l[0]&67108864&&o!==(o=r[118].volumeInfo.title)&&u(t,"alt",o)},d(r){r&&N(t)}}}function wo(n,t){let e,o,r,l,i,s,a=t[118].volumeInfo.title+"",f,d,h,_,g=Mt(t[118].volumeInfo.authors)+"",m,y,v,b,k=t[118].volumeInfo.language+"",A,I,P,w,C,O,M,E,R,L,q,j=t[118].volumeInfo.imageLinks&&ko(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),r=p("figure"),j&&j.c(),l=S(),i=p("figcaption"),s=p("strong"),f=F(a),d=S(),h=p("br"),_=F(`\r
                  By `),m=F(g),y=S(),v=p("br"),b=F(`\r
                  Language: `),A=F(k),I=S(),u(i,"class","svelte-1h11vka"),u(o,"data-hover",""),u(o,"class","svelte-1h11vka"),u(e,"href","#search"),u(e,"data-id",P=t[118].id),u(e,"data-title",w=t[118].volumeInfo.title),u(e,"data-author",C=Mt(t[118].volumeInfo.authors)),u(e,"data-img",O=Ut(t[118].volumeInfo.imageLinks)),u(e,"data-pages",M=t[118].volumeInfo.pageCount),u(e,"data-description",E=t[118].volumeInfo.description),u(e,"data-language",R=t[118].volumeInfo.language),u(e,"class","svelte-1h11vka"),this.first=e},m(U,V){D(U,e,V),c(e,o),c(o,r),j&&j.m(r,null),c(r,l),c(r,i),c(i,s),c(s,f),c(i,d),c(i,h),c(i,_),c(i,m),c(i,y),c(i,v),c(i,b),c(i,A),c(e,I),L||(q=[T(e,"click",t[78]),T(e,"click",t[79]),T(e,"click",t[80]),T(e,"click",t[81]),T(e,"click",t[82]),T(e,"click",t[83]),T(e,"click",t[45])],L=!0)},p(U,V){t=U,t[118].volumeInfo.imageLinks?j?j.p(t,V):(j=ko(t),j.c(),j.m(r,l)):j&&(j.d(1),j=null),V[0]&67108864&&a!==(a=t[118].volumeInfo.title+"")&&le(f,a),V[0]&67108864&&g!==(g=Mt(t[118].volumeInfo.authors)+"")&&le(m,g),V[0]&67108864&&k!==(k=t[118].volumeInfo.language+"")&&le(A,k),V[0]&67108864&&P!==(P=t[118].id)&&u(e,"data-id",P),V[0]&67108864&&w!==(w=t[118].volumeInfo.title)&&u(e,"data-title",w),V[0]&67108864&&C!==(C=Mt(t[118].volumeInfo.authors))&&u(e,"data-author",C),V[0]&67108864&&O!==(O=Ut(t[118].volumeInfo.imageLinks))&&u(e,"data-img",O),V[0]&67108864&&M!==(M=t[118].volumeInfo.pageCount)&&u(e,"data-pages",M),V[0]&67108864&&E!==(E=t[118].volumeInfo.description)&&u(e,"data-description",E),V[0]&67108864&&R!==(R=t[118].volumeInfo.language)&&u(e,"data-language",R)},d(U){U&&N(e),j&&j.d(),L=!1,se(q)}}}function Co(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M=[],E=new Map,R,L,q,j,U,V,ne,K,Q=n[14]&&So(n),H=n[6];const W=G=>G[113].id;for(let G=0;G<H.length;G+=1){let J=mo(n,H,G),Y=W(J);E.set(Y,M[G]=Ao(Y,J))}let B=!n[14]&&To(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Add Book`),i=S(),Q&&Q.c(),s=S(),a=p("form"),f=p("label"),d=F(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=F(`Author\r
            `),y=p("input"),v=S(),b=p("label"),k=F(`Pages\r
            `),A=p("input"),I=S(),P=p("label"),P.textContent="Collection",w=S(),C=p("select"),O=p("option"),O.textContent="Please select an option";for(let G=0;G<M.length;G+=1)M[G].c();R=S(),B&&B.c(),L=S(),q=p("footer"),j=p("a"),j.textContent="Cancel",U=S(),V=p("a"),V.textContent="Add Book",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(f,"for","title"),u(f,"class","svelte-1h11vka"),u(y,"id","author"),u(y,"name","author"),u(y,"placeholder","Author"),u(y,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(A,"id","pages"),u(A,"name","pages"),u(A,"placeholder","Pages"),u(A,"type","number"),u(b,"for","pages"),u(b,"class","svelte-1h11vka"),u(P,"for","collection"),u(P,"class","svelte-1h11vka"),O.__value="",O.value=O.__value,O.selected=!0,u(C,"id","collection"),n[12]===void 0&&Xe(()=>n[87].call(C)),u(j,"href","#cancel"),u(j,"role","button"),u(j,"class","secondary svelte-1h11vka"),u(V,"href","#confirm"),u(V,"role","button"),u(V,"class","svelte-1h11vka"),u(q,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(G,J){D(G,t,J),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),Q&&Q.m(e,null),c(e,s),c(e,a),c(a,f),c(f,d),c(f,h),Z(h,n[8]),c(a,_),c(a,g),c(g,m),c(g,y),Z(y,n[9]),c(a,v),c(a,b),c(b,k),c(b,A),Z(A,n[11]),c(a,I),c(a,P),c(a,w),c(a,C),c(C,O);for(let Y=0;Y<M.length;Y+=1)M[Y]&&M[Y].m(C,null);Je(C,n[12],!0),c(a,R),B&&B.m(a,null),c(e,L),c(e,q),c(q,j),c(q,U),c(q,V),ne||(K=[T(r,"click",n[45]),T(h,"input",n[84]),T(y,"input",n[85]),T(A,"input",n[86]),T(C,"change",n[87]),T(a,"submit",qe(n[56])),T(j,"click",n[50]),T(V,"click",n[39]),T(V,"click",n[50])],ne=!0)},p(G,J){G[14]?Q?Q.p(G,J):(Q=So(G),Q.c(),Q.m(e,s)):Q&&(Q.d(1),Q=null),J[0]&256&&h.value!==G[8]&&Z(h,G[8]),J[0]&512&&y.value!==G[9]&&Z(y,G[9]),J[0]&2048&&Qe(A.value)!==G[11]&&Z(A,G[11]),J[0]&64&&(H=G[6],M=Ue(M,J,W,1,G,H,E,C,Ge,Ao,null,mo)),J[0]&4160&&Je(C,G[12]),G[14]?B&&(B.d(1),B=null):B?B.p(G,J):(B=To(G),B.c(),B.m(a,null))},d(G){G&&N(t),Q&&Q.d();for(let J=0;J<M.length;J+=1)M[J].d();B&&B.d(),ne=!1,se(K)}}}function So(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=F("By "),s=F(n[9]),a=S(),f=p("br"),d=S(),h=p("br"),_=S(),g=p("p"),m=F(n[10]),_e(e.src,o=n[14])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1h11vka"),u(l,"class","svelte-1h11vka")},m(y,v){D(y,t,v),c(t,e),c(t,r),c(t,l),c(l,i),c(l,s),c(l,a),c(l,f),c(l,d),c(l,h),c(l,_),c(l,g),c(g,m)},p(y,v){v[0]&16384&&!_e(e.src,o=y[14])&&u(e,"src",o),v[0]&512&&le(s,y[9]),v[0]&1024&&le(m,y[10])},d(y){y&&N(t)}}}function Ao(n,t){let e,o=t[113].collection+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[113].id,e.value=e.__value,this.first=e},m(i,s){D(i,e,s),c(e,r)},p(i,s){t=i,s[0]&64&&o!==(o=t[113].collection+"")&&le(r,o),s[0]&64&&l!==(l=t[113].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&N(e)}}}function To(n){let t,e,o,r,l;return{c(){t=p("label"),e=F(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1h11vka")},m(i,s){D(i,t,s),c(t,e),c(t,o),r||(l=T(o,"change",n[88]),r=!0)},p:te,d(i){i&&N(t),r=!1,l()}}}function Io(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C;function O(U,V){return U[20]?Ba:qa}let M=O(n),E=M(n),R=(n[24]==="🔥 reading"||n[24]==="😭 not started")&&Po(n);function L(U,V){if(U[24]==="🔥 reading"||U[24]==="😭 not started")return Ua;if(U[24]==="😎 completed")return Fa}let q=L(n),j=q&&q(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=S(),i=p("strong"),s=F(n[16]),a=S(),E.c(),f=S(),d=p("progress"),_=S(),g=p("p"),m=F(n[24]),y=S(),v=p("br"),b=p("br"),k=S(),R&&R.c(),A=S(),I=p("a"),I.textContent="Edit Book Details",P=S(),j&&j.c(),u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","progressbar"),d.value=h=xe(n[20],n[19]),u(d,"max","100"),u(I,"href","#update"),u(I,"class","details svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(U,V){D(U,t,V),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(i,s),c(e,a),E.m(e,null),c(e,f),c(e,d),c(e,_),c(e,g),c(g,m),c(e,y),c(e,v),c(e,b),c(e,k),R&&R.m(e,null),c(e,A),c(e,I),c(e,P),j&&j.m(e,null),w||(C=[T(r,"click",n[46]),T(I,"click",n[47])],w=!0)},p(U,V){V[0]&65536&&le(s,U[16]),M===(M=O(U))&&E?E.p(U,V):(E.d(1),E=M(U),E&&(E.c(),E.m(e,f))),V[0]&1572864&&h!==(h=xe(U[20],U[19]))&&(d.value=h),V[0]&16777216&&le(m,U[24]),U[24]==="🔥 reading"||U[24]==="😭 not started"?R?R.p(U,V):(R=Po(U),R.c(),R.m(e,A)):R&&(R.d(1),R=null),q===(q=L(U))&&j?j.p(U,V):(j&&j.d(1),j=q&&q(U),j&&(j.c(),j.m(e,null)))},d(U){U&&N(t),E.d(),R&&R.d(),j&&j.d(),w=!1,se(C)}}}function qa(n){let t,e,o,r=xe(n[20],n[19])+"",l,i,s,a,f;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),l=F(r),i=F("%"),s=F(`\r
            (0/`),a=F(n[19]),f=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(d,h){D(d,t,h),c(t,e),c(t,o),c(o,l),c(o,i),c(t,s),c(t,a),c(t,f)},p(d,h){h[0]&1572864&&r!==(r=xe(d[20],d[19])+"")&&le(l,r),h[0]&524288&&le(a,d[19])},d(d){d&&N(t)}}}function Ba(n){let t,e,o,r=xe(n[20],n[19])+"",l,i,s,a,f,d,h;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),l=F(r),i=F("%"),s=F(`\r
            (`),a=F(n[20]),f=F("/"),d=F(n[19]),h=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(_,g){D(_,t,g),c(t,e),c(t,o),c(o,l),c(o,i),c(t,s),c(t,a),c(t,f),c(t,d),c(t,h)},p(_,g){g[0]&1572864&&r!==(r=xe(_[20],_[19])+"")&&le(l,r),g[0]&1048576&&le(a,_[20]),g[0]&524288&&le(d,_[19])},d(_){_&&N(t)}}}function Po(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v;return{c(){t=p("form"),e=p("input"),o=S(),r=p("label"),l=F(`Date\r
              `),i=p("input"),s=S(),a=p("label"),f=F(`Pages Read\r
              `),d=p("input"),h=S(),_=p("label"),g=F(`Comment\r
              `),m=p("input"),ve(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),u(i,"placeholder","07/14/2023"),u(i,"id","date"),u(i,"name","date"),u(i,"type","date"),u(r,"for","date"),u(r,"class","svelte-1h11vka"),u(d,"id","pagesRead"),u(d,"name","pagesRead"),u(d,"type","number"),u(a,"for","pagesRead"),u(a,"class","svelte-1h11vka"),u(m,"id","comment"),u(m,"name","comment"),u(m,"placeholder","Tell the teacher about today's read."),u(m,"type","text"),u(_,"for","comment"),u(_,"class","svelte-1h11vka")},m(b,k){D(b,t,k),c(t,e),Z(e,n[16]),c(t,o),c(t,r),c(r,l),c(r,i),Z(i,n[0]),c(t,s),c(t,a),c(a,f),c(a,d),Z(d,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),Z(m,n[2]),y||(v=[T(e,"input",n[89]),T(i,"input",n[90]),T(d,"input",n[91]),T(m,"input",n[92]),T(t,"submit",qe(n[55]))],y=!0)},p(b,k){k[0]&65536&&e.value!==b[16]&&Z(e,b[16]),k[0]&1&&Z(i,b[0]),k[0]&2&&Qe(d.value)!==b[1]&&Z(d,b[1]),k[0]&4&&m.value!==b[2]&&Z(m,b[2])},d(b){b&&N(t),y=!1,se(v)}}}function Fa(n){let t,e,o,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(l,i){D(l,t,i),c(t,e),o||(r=T(e,"click",n[46]),o=!0)},p:te,d(l){l&&N(t),o=!1,r()}}}function Ua(n){let t,e,o,r,l,i;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=S(),r=p("a"),r.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(r,"href","#confirm"),u(r,"role","button"),u(r,"class","svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),l||(i=[T(e,"click",n[46]),T(r,"click",n[40]),T(r,"click",n[46])],l=!0)},p:te,d(s){s&&N(t),l=!1,se(i)}}}function Oo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q,j=[],U=new Map,V,ne,K,Q,H,W,B,G,J,Y,ge,Re,X=n[6];const Se=ie=>ie[113].id;for(let ie=0;ie<X.length;ie+=1){let ae=_o(n,X,ie),oe=Se(ae);U.set(oe,j[ie]=Lo(oe,ae))}let pe=!n[22]&&Eo(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Edit Book Details`),i=S(),s=p("form"),a=p("label"),f=F(`Title\r
            `),d=p("input"),h=S(),_=p("div"),g=p("label"),m=F(`Author\r
              `),y=p("input"),v=S(),b=p("div"),k=p("label"),A=F(`Pages\r
              `),I=p("input"),P=S(),w=p("label"),C=F(`Review\r
            `),O=p("input"),M=S(),E=p("label"),E.textContent="Collection",R=S(),L=p("select"),q=p("option"),q.textContent="Please select an option";for(let ie=0;ie<j.length;ie+=1)j[ie].c();V=S(),pe&&pe.c(),ne=S(),K=p("footer"),Q=p("div"),H=p("a"),H.textContent="Delete",W=S(),B=p("div"),G=p("a"),G.textContent="Cancel",J=S(),Y=p("a"),Y.textContent="Save",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","title"),u(d,"name","title"),u(d,"type","text"),u(a,"for","title"),u(a,"class","svelte-1h11vka"),u(y,"id","author"),u(y,"name","author"),u(y,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(I,"id","pages"),u(I,"name","pages"),u(I,"placeholder","Pages"),u(I,"type","number"),u(k,"for","pages"),u(k,"class","svelte-1h11vka"),u(b,"class","grid svelte-1h11vka"),u(O,"id","review"),u(O,"name","review"),u(O,"type","textarea"),u(w,"for","review"),u(w,"class","svelte-1h11vka"),u(E,"for","collection"),u(E,"class","svelte-1h11vka"),q.__value="",q.value=q.__value,q.selected=!0,u(L,"id","collection"),n[21]===void 0&&Xe(()=>n[97].call(L)),u(H,"href","#delete"),u(H,"role","button"),u(H,"class","delete svelte-1h11vka"),u(G,"href","#cancel"),u(G,"role","button"),u(G,"class","secondary svelte-1h11vka"),u(Y,"href","#confirm"),u(Y,"role","button"),u(Y,"class","svelte-1h11vka"),u(K,"data-button","spaceBetween"),u(K,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(ie,ae){D(ie,t,ae),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),Z(d,n[16]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,y),Z(y,n[17]),c(s,v),c(s,b),c(b,k),c(k,A),c(k,I),Z(I,n[19]),c(s,P),c(s,w),c(w,C),c(w,O),Z(O,n[18]),c(s,M),c(s,E),c(s,R),c(s,L),c(L,q);for(let oe=0;oe<j.length;oe+=1)j[oe]&&j[oe].m(L,null);Je(L,n[21],!0),c(e,V),pe&&pe.m(e,null),c(e,ne),c(e,K),c(K,Q),c(Q,H),c(K,W),c(K,B),c(B,G),c(B,J),c(B,Y),ge||(Re=[T(r,"click",n[47]),T(d,"input",n[93]),T(y,"input",n[94]),T(I,"input",n[95]),T(O,"input",n[96]),T(L,"change",n[97]),T(s,"submit",qe(n[54])),T(H,"click",n[51]),T(G,"click",n[47]),T(Y,"click",n[41]),T(Y,"click",n[47])],ge=!0)},p(ie,ae){ae[0]&65536&&d.value!==ie[16]&&Z(d,ie[16]),ae[0]&131072&&y.value!==ie[17]&&Z(y,ie[17]),ae[0]&524288&&Qe(I.value)!==ie[19]&&Z(I,ie[19]),ae[0]&262144&&Z(O,ie[18]),ae[0]&64&&(X=ie[6],j=Ue(j,ae,Se,1,ie,X,U,L,Ge,Lo,null,_o)),ae[0]&2097216&&Je(L,ie[21]),ie[22]?pe&&(pe.d(1),pe=null):pe?pe.p(ie,ae):(pe=Eo(ie),pe.c(),pe.m(e,ne))},d(ie){ie&&N(t);for(let ae=0;ae<j.length;ae+=1)j[ae].d();pe&&pe.d(),ge=!1,se(Re)}}}function Lo(n,t){let e,o=t[113].collection+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[113].id,e.value=e.__value,this.first=e},m(i,s){D(i,e,s),c(e,r)},p(i,s){t=i,s[0]&64&&o!==(o=t[113].collection+"")&&le(r,o),s[0]&64&&l!==(l=t[113].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&N(e)}}}function Eo(n){let t,e,o,r,l,i;return{c(){t=p("form"),e=p("label"),o=F(`Cover Art\r
              `),r=p("input"),u(r,"type","file"),u(r,"id","file"),u(r,"name","file"),u(r,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,r),l||(i=[T(r,"change",n[98]),T(t,"submit",qe(n[53]))],l=!0)},p:te,d(s){s&&N(t),l=!1,se(i)}}}function Mo(n){let t,e,o,r,l,i,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),l=p("p"),l.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,i=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1h11vka"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1h11vka"),u(s,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(m,y){D(m,t,y),c(t,e),c(e,o),c(e,r),c(e,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[48]),T(h,"click",n[42]),T(h,"click",n[46]),T(h,"click",n[48])],_=!0)},p:te,d(m){m&&N(t),_=!1,se(g)}}}function Ro(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne,K;return V=pi(n[102][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Add Collection`),i=S(),s=p("form"),a=p("label"),f=F(`Collection\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Description\r
            `),m=p("input"),y=S(),v=p("fieldset"),b=p("legend"),b.textContent="Collection for:",k=S(),A=p("label"),I=p("input"),P=F(`\r
              Books`),w=S(),C=p("label"),O=p("input"),M=F(`\r
              Movies`),E=S(),R=p("footer"),L=p("div"),q=p("a"),q.textContent="Cancel",j=S(),U=p("a"),U.textContent="Add Collection",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","collection"),u(d,"name","collection"),u(d,"placeholder","Collection"),u(d,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1h11vka"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-1h11vka"),u(I,"type","radio"),u(I,"id","books"),u(I,"name","role"),I.__value="book",I.value=I.__value,I.checked=!0,u(A,"for","books"),u(A,"class","svelte-1h11vka"),u(O,"type","radio"),u(O,"id","movies"),u(O,"name","role"),O.__value="movie",O.value=O.__value,u(C,"for","movies"),u(C,"class","svelte-1h11vka"),u(v,"class","svelte-1h11vka"),u(q,"href","#cancel"),u(q,"role","button"),u(q,"class","secondary svelte-1h11vka"),u(U,"href","#confirm"),u(U,"role","button"),u(U,"class","svelte-1h11vka"),u(R,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0,V.p(I,O)},m(Q,H){D(Q,t,H),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),Z(d,n[3]),c(s,h),c(s,_),c(_,g),c(_,m),Z(m,n[4]),c(s,y),c(s,v),c(v,b),c(v,k),c(v,A),c(A,I),I.checked=I.__value===n[5],c(A,P),c(v,w),c(v,C),c(C,O),O.checked=O.__value===n[5],c(C,M),c(e,E),c(e,R),c(R,L),c(L,q),c(L,j),c(L,U),ne||(K=[T(r,"click",n[43]),T(d,"input",n[99]),T(m,"input",n[100]),T(I,"change",n[101]),T(O,"change",n[103]),T(s,"submit",qe(n[52])),T(q,"click",n[43]),T(U,"click",n[38]),T(U,"click",n[43])],ne=!0)},p(Q,H){H[0]&8&&d.value!==Q[3]&&Z(d,Q[3]),H[0]&16&&Z(m,Q[4]),H[0]&32&&(I.checked=I.__value===Q[5]),H[0]&32&&(O.checked=O.__value===Q[5])},d(Q){Q&&N(t),V.r(),ne=!1,se(K)}}}function za(n){let t,e,o,r;const l=[Ca,wa],i=[];function s(a,f){return Ve?0:1}return t=s(),e=i[t]=l[t](n),{c(){e.c(),o=me()},m(a,f){i[t].m(a,f),D(a,o,f),r=!0},p(a,f){e.p(a,f)},i(a){r||($(e),r=!0)},o(a){x(e),r=!1},d(a){i[t].d(a),a&&N(o)}}}let Ha="/api/files/9hhair4kd0xa314/";function Mt(n){let t;return n&&(t=n[0]),t}function Ut(n){let t;return n&&(t=n.thumbnail),t}function xe(n,t){return Math.floor(n/t*100)}function Ja(n,t,e){let o,r,l,i;Pe(n,mn,z=>e(105,o=z)),Pe(n,Ve,z=>e(36,r=z)),Pe(n,Dt,z=>e(106,l=z)),Pe(n,bn,z=>e(107,i=z));let s,a,f,d,h,_,g=[],m=[],y,v,b,k="",A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne="",K=[],Q=!1,H=Yt+Ha;async function W(){const z=await he.collection("view_everything").getFullList({sort:"-id"});e(7,m=z),B(),ht();try{const Fe=await he.collection("collections").getFullList({sort:"-created"});e(6,g=Fe)}catch(Fe){re.error(Fe,{position:ce})}}rt(async()=>{W(),B(),ht()}),Ln(()=>{he.collection("view_everything").unsubscribe("*")});function B(){en(bn,i=m.length,i),en(Dt,l=0,l);for(const z of m)z.pages_read&&en(Dt,l+=z.pages_read,l)}async function G(){try{const z={collection:d,reader:r.id,type:_},Fe=await he.collection("collections").create(z);W()}catch(z){re.error(z,{position:ce})}}async function J(){try{const z=new FormData;z.append("title",y),z.append("author",v),z.append("reader",r.id),z.append("review",k),z.append("collection",I),z.append("language",C),z.append("pages",A),P?z.append("cover",P[0]):z.append("googleCover",w);const Fe=await he.collection("books").create(z);re.success("Book added successfully!",{position:ce}),e(8,y=null),e(9,v=null),k=null,e(11,A=null),e(13,P=null),e(15,C=null),e(25,ne=""),e(26,K=[]),W()}catch(z){re.error(z,{position:ce})}}async function Y(){if(s&&a&&f)if(+L+ +a<=+R)try{const z={reader:r.id,book:U,date:s,pages_read:+a,comment:f},Fe=await he.collection("reading").create(z);re.success("Log entry saved!",{position:ce})}catch(z){re.error(z,{position:ce})}else+L+ +a>+R&&re.error("Pages exceeded",{position:ce});else re.error("All fields required",{position:ce});e(0,s=""),e(1,a=""),e(2,f=""),W()}async function ge(){try{const z=new FormData;z.append("title",O),z.append("author",M),z.append("reader",r.id),z.append("review",E),z.append("pages",R),z.append("collection",q),P&&z.append("cover",P[0]);const Fe=await he.collection("books").update(U,z);re.success("Book updated!",{position:ce}),e(8,y=null),e(9,v=null),k=null,e(11,A=null),e(13,P=null),e(12,I=null),W()}catch(z){re.error(z,{position:ce})}}async function Re(){try{await he.collection("books").delete(U),re.success("Book deleted!",{position:ce}),W()}catch(z){re.error(z,{position:ce})}}let X=!1;function Se(){e(28,X=!X)}let pe=!1;function ie(){e(29,pe=!pe),pe||(e(25,ne=""),e(26,K=[]))}let ae=!1;function oe(){e(30,ae=!ae)}let Ae=!1;function je(){e(31,Ae=!Ae)}let ze=!1;function Me(){e(32,ze=!ze)}let Be=!1;function We(){e(33,Be=!Be)}async function ye(z){if(z.length>3){e(27,Q=!0);let Fe="https://www.googleapis.com/books/v1/volumes?q="+z+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const xt=await fetch(Fe);e(26,K=await xt.json()),e(26,K=K.items),e(27,Q=!1)}catch(xt){re.error(xt,{position:ce})}}else re.error("input required",{position:ce})}function ke(){oe(),ie()}function tt(){Me(),We()}let ee="",Ne=m;function ht(){const z=ee.toLowerCase();e(35,Ne=m.filter(Fe=>Fe.title.toLowerCase().includes(z)||Fe.author.toLowerCase().includes(z)||Fe.status.toLowerCase().includes(z)))}On(()=>{ht()});const ul=[[]];function fl(z){De.call(this,n,z)}function dl(z){De.call(this,n,z)}function pl(z){De.call(this,n,z)}function hl(z){De.call(this,n,z)}function _l(z){De.call(this,n,z)}function ml(z){De.call(this,n,z)}function gl(){ee=this.value,e(34,ee)}const vl=z=>{e(23,U=z.currentTarget.getAttribute("data-id"))},bl=z=>{e(16,O=z.currentTarget.getAttribute("data-title"))},yl=z=>{e(17,M=z.currentTarget.getAttribute("data-author"))},kl=z=>{e(19,R=z.currentTarget.getAttribute("data-pages"))},wl=z=>{e(20,L=z.currentTarget.getAttribute("data-pagesread"))},Cl=z=>{e(18,E=z.currentTarget.getAttribute("data-review"))},Sl=z=>{e(21,q=z.currentTarget.getAttribute("data-collection"))},Al=z=>{e(22,j=z.currentTarget.getAttribute("data-cover"))},Tl=z=>{e(24,V=z.currentTarget.getAttribute("data-status"))},Il=z=>{e(23,U=z.currentTarget.getAttribute("data-id"))},Pl=z=>{e(16,O=z.currentTarget.getAttribute("data-title"))},Ol=z=>{e(17,M=z.currentTarget.getAttribute("data-author"))},Ll=z=>{e(19,R=z.currentTarget.getAttribute("data-pages"))},El=z=>{e(20,L=z.currentTarget.getAttribute("data-pagesread"))},Ml=z=>{e(18,E=z.currentTarget.getAttribute("data-review"))},Rl=z=>{e(21,q=z.currentTarget.getAttribute("data-collection"))},jl=z=>{e(22,j=z.currentTarget.getAttribute("data-cover"))},Nl=z=>{e(24,V=z.currentTarget.getAttribute("data-status"))},Dl=z=>{e(25,ne=z.currentTarget.value)},ql=z=>{e(8,y=z.currentTarget.getAttribute("data-title"))},Bl=z=>{e(9,v=z.currentTarget.getAttribute("data-author"))},Fl=z=>{e(11,A=z.currentTarget.getAttribute("data-pages"))},Ul=z=>{e(14,w=z.currentTarget.getAttribute("data-img"))},zl=z=>{e(10,b=z.currentTarget.getAttribute("data-description"))},Hl=z=>{e(15,C=z.currentTarget.getAttribute("data-language"))};function Jl(){y=this.value,e(8,y)}function Gl(){v=this.value,e(9,v)}function Vl(){A=Qe(this.value),e(11,A)}function Wl(){I=ut(this),e(12,I),e(6,g)}function Ql(){P=this.files,e(13,P)}function Kl(){O=this.value,e(16,O)}function Yl(){s=this.value,e(0,s)}function Xl(){a=Qe(this.value),e(1,a)}function Zl(){f=this.value,e(2,f)}function $l(){O=this.value,e(16,O)}function xl(){M=this.value,e(17,M)}function ei(){R=Qe(this.value),e(19,R)}function ti(){E=this.value,e(18,E)}function ni(){q=ut(this),e(21,q),e(6,g)}function oi(){P=this.files,e(13,P)}function ri(){d=this.value,e(3,d)}function li(){h=this.value,e(4,h)}function ii(){_=this.__value,e(5,_)}function si(){_=this.__value,e(5,_)}return[s,a,f,d,h,_,g,m,y,v,b,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne,K,Q,X,pe,ae,Ae,ze,Be,ee,Ne,r,H,G,J,Y,ge,Re,Se,ie,oe,je,Me,We,ye,ke,tt,fl,dl,pl,hl,_l,ml,gl,vl,bl,yl,kl,wl,Cl,Sl,Al,Tl,Il,Pl,Ol,Ll,El,Ml,Rl,jl,Nl,Dl,ql,Bl,Fl,Ul,zl,Hl,Jl,Gl,Vl,Wl,Ql,Kl,Yl,Xl,Zl,$l,xl,ei,ti,ni,oi,ri,li,ii,ul,si]}class Ga extends Ce{constructor(t){super(),we(this,t,Ja,za,be,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Hr=Object.freeze({left:0,top:0,width:16,height:16}),zt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Tt=Object.freeze({...Hr,...zt}),yn=Object.freeze({...Tt,body:"",hidden:!1}),Va=Object.freeze({width:null,height:null}),Jr=Object.freeze({...Va,...zt});function Wa(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(e===""){const r=parseInt(n);return isNaN(r)?0:o(r)}else if(e!==n){let r=0;switch(e){case"%":r=25;break;case"deg":r=90}if(r){let l=parseFloat(n.slice(0,n.length-e.length));return isNaN(l)?0:(l=l/r,l%1===0?o(l):0)}}return t}const Qa=/[\s,]+/;function Ka(n,t){t.split(Qa).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Gr={...Jr,preserveAspectRatio:""};function jo(n){const t={...Gr},e=(o,r)=>n.getAttribute(o)||r;return t.width=e("width",null),t.height=e("height",null),t.rotate=Wa(e("rotate","")),Ka(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function Ya(n,t){for(const e in Gr)if(n[e]!==t[e])return!0;return!1}const gt=/^[a-z0-9]+(-[a-z0-9]+)*$/,It=(n,t,e,o="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const s=r.pop(),a=r.pop(),f={provider:r.length>0?r[0]:o,prefix:a,name:s};return t&&!qt(f)?null:f}const l=r[0],i=l.split("-");if(i.length>1){const s={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!qt(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:l};return t&&!qt(s,e)?null:s}return null},qt=(n,t)=>n?!!((n.provider===""||n.provider.match(gt))&&(t&&n.prefix===""||n.prefix.match(gt))&&n.name.match(gt)):!1;function Xa(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function No(n,t){const e=Xa(n,t);for(const o in yn)o in zt?o in n&&!(o in e)&&(e[o]=zt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function Za(n,t){const e=n.icons,o=n.aliases||Object.create(null),r=Object.create(null);function l(i){if(e[i])return r[i]=[];if(!(i in r)){r[i]=null;const s=o[i]&&o[i].parent,a=s&&l(s);a&&(r[i]=[s].concat(a))}return r[i]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(l),r}function $a(n,t,e){const o=n.icons,r=n.aliases||Object.create(null);let l={};function i(s){l=No(o[s]||r[s],l)}return i(t),e.forEach(i),No(n,l)}function Vr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(r=>{t(r,null),e.push(r)});const o=Za(n);for(const r in o){const l=o[r];l&&(t(r,$a(n,r,l)),e.push(r))}return e}const xa={provider:"",aliases:{},not_found:{},...Hr};function ln(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Wr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!ln(n,xa))return null;const e=t.icons;for(const r in e){const l=e[r];if(!r.match(gt)||typeof l.body!="string"||!ln(l,yn))return null}const o=t.aliases||Object.create(null);for(const r in o){const l=o[r],i=l.parent;if(!r.match(gt)||typeof i!="string"||!e[i]&&!o[i]||!ln(l,yn))return null}return t}const Ht=Object.create(null);function ec(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function et(n,t){const e=Ht[n]||(Ht[n]=Object.create(null));return e[t]||(e[t]=ec(n,t))}function Un(n,t){return Wr(t)?Vr(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function tc(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function nc(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Ht)).forEach(r=>{(typeof r=="string"&&typeof t=="string"?[t]:Object.keys(Ht[r]||{})).forEach(i=>{const s=et(r,i);e=e.concat(Object.keys(s.icons).map(a=>(r!==""?"@"+r+":":"")+i+":"+a))})}),e}let yt=!1;function Qr(n){return typeof n=="boolean"&&(yt=n),yt}function kt(n){const t=typeof n=="string"?It(n,!0,yt):n;if(t){const e=et(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Kr(n,t){const e=It(n,!0,yt);if(!e)return!1;const o=et(e.provider,e.prefix);return tc(o,e.name,t)}function Do(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),yt&&!t&&!n.prefix){let r=!1;return Wr(n)&&(n.prefix="",Vr(n,(l,i)=>{i&&Kr(l,i)&&(r=!0)})),r}const e=n.prefix;if(!qt({provider:t,prefix:e,name:"a"}))return!1;const o=et(t,e);return!!Un(o,n)}function oc(n){return!!kt(n)}function rc(n){const t=kt(n);return t?{...Tt,...t}:null}function lc(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((r,l)=>r.provider!==l.provider?r.provider.localeCompare(l.provider):r.prefix!==l.prefix?r.prefix.localeCompare(l.prefix):r.name.localeCompare(l.name));let o={provider:"",prefix:"",name:""};return n.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const l=r.provider,i=r.prefix,s=r.name,a=e[l]||(e[l]=Object.create(null)),f=a[i]||(a[i]=et(l,i));let d;s in f.icons?d=t.loaded:i===""||f.missing.has(s)?d=t.missing:d=t.pending;const h={provider:l,prefix:i,name:s};d.push(h)}),t}function Yr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(r=>r.id!==t))})}function ic(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,r=n.prefix;t.forEach(l=>{const i=l.icons,s=i.pending.length;i.pending=i.pending.filter(a=>{if(a.prefix!==r)return!0;const f=a.name;if(n.icons[f])i.loaded.push({provider:o,prefix:r,name:f});else if(n.missing.has(f))i.missing.push({provider:o,prefix:r,name:f});else return e=!0,!0;return!1}),i.pending.length!==s&&(e||Yr([n],l.id),l.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),l.abort))})}))}let sc=0;function ac(n,t,e){const o=sc++,r=Yr.bind(null,e,o);if(!t.pending.length)return r;const l={id:o,icons:t,callback:n,abort:r};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(l)}),r}const kn=Object.create(null);function qo(n,t){kn[n]=t}function wn(n){return kn[n]||kn[""]}function cc(n,t=!0,e=!1){const o=[];return n.forEach(r=>{const l=typeof r=="string"?It(r,t,e):r;l&&o.push(l)}),o}var uc={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function fc(n,t,e,o){const r=n.resources.length,l=n.random?Math.floor(Math.random()*r):n.index;let i;if(n.random){let w=n.resources.slice(0);for(i=[];w.length>1;){const C=Math.floor(Math.random()*w.length);i.push(w[C]),w=w.slice(0,C).concat(w.slice(C+1))}i=i.concat(w)}else i=n.resources.slice(l).concat(n.resources.slice(0,l));const s=Date.now();let a="pending",f=0,d,h=null,_=[],g=[];typeof o=="function"&&g.push(o);function m(){h&&(clearTimeout(h),h=null)}function y(){a==="pending"&&(a="aborted"),m(),_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function v(w,C){C&&(g=[]),typeof w=="function"&&g.push(w)}function b(){return{startTime:s,payload:t,status:a,queriesSent:f,queriesPending:_.length,subscribe:v,abort:y}}function k(){a="failed",g.forEach(w=>{w(void 0,d)})}function A(){_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function I(w,C,O){const M=C!=="success";switch(_=_.filter(E=>E!==w),a){case"pending":break;case"failed":if(M||!n.dataAfterTimeout)return;break;default:return}if(C==="abort"){d=O,k();return}if(M){d=O,_.length||(i.length?P():k());return}if(m(),A(),!n.random){const E=n.resources.indexOf(w.resource);E!==-1&&E!==n.index&&(n.index=E)}a="completed",g.forEach(E=>{E(O)})}function P(){if(a!=="pending")return;m();const w=i.shift();if(w===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(A(),k())},n.timeout);return}k();return}const C={status:"pending",resource:w,callback:(O,M)=>{I(C,O,M)}};_.push(C),f++,h=setTimeout(P,n.rotate),e(w,t,C.callback)}return setTimeout(P),b}function Xr(n){const t={...uc,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function r(s,a,f){const d=fc(t,s,a,(h,_)=>{o(),f&&f(h,_)});return e.push(d),d}function l(s){return e.find(a=>s(a))||null}return{query:r,find:l,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function zn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const Zt=Object.create(null),_t=["https://api.simplesvg.com","https://api.unisvg.com"],Bt=[];for(;_t.length>0;)_t.length===1||Math.random()>.5?Bt.push(_t.shift()):Bt.push(_t.pop());Zt[""]=zn({resources:["https://api.iconify.design"].concat(Bt)});function Bo(n,t){const e=zn(t);return e===null?!1:(Zt[n]=e,!0)}function $t(n){return Zt[n]}function dc(){return Object.keys(Zt)}function Fo(){}const sn=Object.create(null);function pc(n){if(!sn[n]){const t=$t(n);if(!t)return;const e=Xr(t),o={config:t,redundancy:e};sn[n]=o}return sn[n]}function Zr(n,t,e){let o,r;if(typeof n=="string"){const l=wn(n);if(!l)return e(void 0,424),Fo;r=l.send;const i=pc(n);i&&(o=i.redundancy)}else{const l=zn(n);if(l){o=Xr(l);const i=n.resources?n.resources[0]:"",s=wn(i);s&&(r=s.send)}}return!o||!r?(e(void 0,424),Fo):o.query(t,r,e)().abort}const Uo="iconify2",wt="iconify",$r=wt+"-count",zo=wt+"-version",xr=36e5,hc=168;function Cn(n,t){try{return n.getItem(t)}catch{}}function Hn(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Ho(n,t){try{n.removeItem(t)}catch{}}function Sn(n,t){return Hn(n,$r,t.toString())}function An(n){return parseInt(Cn(n,$r))||0}const ot={local:!0,session:!0},el={local:new Set,session:new Set};let Jn=!1;function _c(n){Jn=n}let Rt=typeof window>"u"?{}:window;function tl(n){const t=n+"Storage";try{if(Rt&&Rt[t]&&typeof Rt[t].length=="number")return Rt[t]}catch{}ot[n]=!1}function nl(n,t){const e=tl(n);if(!e)return;const o=Cn(e,zo);if(o!==Uo){if(o){const s=An(e);for(let a=0;a<s;a++)Ho(e,wt+a.toString())}Hn(e,zo,Uo),Sn(e,0);return}const r=Math.floor(Date.now()/xr)-hc,l=s=>{const a=wt+s.toString(),f=Cn(e,a);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>r&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Ho(e,a)}};let i=An(e);for(let s=i-1;s>=0;s--)l(s)||(s===i-1?(i--,Sn(e,i)):el[n].add(s))}function ol(){if(!Jn){_c(!0);for(const n in ot)nl(n,t=>{const e=t.data,o=t.provider,r=e.prefix,l=et(o,r);if(!Un(l,e).length)return!1;const i=e.lastModified||-1;return l.lastModifiedCached=l.lastModifiedCached?Math.min(l.lastModifiedCached,i):i,!0})}}function mc(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in ot)nl(o,r=>{const l=r.data;return r.provider!==n.provider||l.prefix!==n.prefix||l.lastModified===t});return!0}function gc(n,t){Jn||ol();function e(o){let r;if(!ot[o]||!(r=tl(o)))return;const l=el[o];let i;if(l.size)l.delete(i=Array.from(l).shift());else if(i=An(r),!Sn(r,i+1))return;const s={cached:Math.floor(Date.now()/xr),provider:n.provider,data:t};return Hn(r,wt+i.toString(),JSON.stringify(s))}t.lastModified&&!mc(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Jo(){}function vc(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,ic(n)}))}function bc(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,r=n.iconsToLoad;delete n.iconsToLoad;let l;if(!r||!(l=wn(e)))return;l.prepare(e,o,r).forEach(s=>{Zr(e,s,a=>{if(typeof a!="object")s.icons.forEach(f=>{n.missing.add(f)});else try{const f=Un(n,a);if(!f.length)return;const d=n.pendingIcons;d&&f.forEach(h=>{d.delete(h)}),gc(n,a)}catch(f){console.error(f)}vc(n)})})}))}const Gn=(n,t)=>{const e=cc(n,!0,Qr()),o=lc(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,Jo)}),()=>{a=!1}}const r=Object.create(null),l=[];let i,s;return o.pending.forEach(a=>{const{provider:f,prefix:d}=a;if(d===s&&f===i)return;i=f,s=d,l.push(et(f,d));const h=r[f]||(r[f]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:d,name:h}=a,_=et(f,d),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),r[f][d].push(h))}),l.forEach(a=>{const{provider:f,prefix:d}=a;r[f][d].length&&bc(a,r[f][d])}),t?ac(t,o,l):Jo},yc=n=>new Promise((t,e)=>{const o=typeof n=="string"?It(n,!0):n;if(!o){e(n);return}Gn([o||n],r=>{if(r.length&&o){const l=kt(o);if(l){t({...Tt,...l});return}}e(n)})});function kc(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function wc(n,t){const e=typeof n=="string"?It(n,!0,!0):null;if(!e){const l=kc(n);return{value:n,data:l}}const o=kt(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const r=Gn([e],()=>t(n,e,kt(e)));return{value:n,name:e,loading:r}}function an(n){return n.hasAttribute("inline")}let rl=!1;try{rl=navigator.vendor.indexOf("Apple")===0}catch{}function Cc(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(rl||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Sc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ac=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Tn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(Sc);if(o===null||!o.length)return n;const r=[];let l=o.shift(),i=Ac.test(l);for(;;){if(i){const s=parseFloat(l);isNaN(s)?r.push(l):r.push(Math.ceil(s*t*e)/e)}else r.push(l);if(l=o.shift(),l===void 0)return r.join("");i=!i}}const Tc=n=>n==="unset"||n==="undefined"||n==="none";function ll(n,t){const e={...Tt,...n},o={...Jr,...t},r={left:e.left,top:e.top,width:e.width,height:e.height};let l=e.body;[e,o].forEach(m=>{const y=[],v=m.hFlip,b=m.vFlip;let k=m.rotate;v?b?k+=2:(y.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),y.push("scale(-1 1)"),r.top=r.left=0):b&&(y.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),y.push("scale(1 -1)"),r.top=r.left=0);let A;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:A=r.height/2+r.top,y.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:y.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:A=r.width/2+r.left,y.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}k%2===1&&(r.left!==r.top&&(A=r.left,r.left=r.top,r.top=A),r.width!==r.height&&(A=r.width,r.width=r.height,r.height=A)),y.length&&(l='<g transform="'+y.join(" ")+'">'+l+"</g>")});const i=o.width,s=o.height,a=r.width,f=r.height;let d,h;i===null?(h=s===null?"1em":s==="auto"?f:s,d=Tn(h,a/f)):(d=i==="auto"?a:i,h=s===null?Tn(d,f/a):s==="auto"?f:s);const _={},g=(m,y)=>{Tc(y)||(_[m]=y.toString())};return g("width",d),g("height",h),_.viewBox=r.left.toString()+" "+r.top.toString()+" "+a.toString()+" "+f.toString(),{attributes:_,body:l}}const Ic=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Jt=Ic();function Pc(n){Jt=n}function Oc(){return Jt}function Lc(n,t){const e=$t(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let r=0;e.resources.forEach(i=>{r=Math.max(r,i.length)});const l=t+".json?icons=";o=e.maxURL-r-e.path.length-l.length}return o}function Ec(n){return n===404}const Mc=(n,t,e)=>{const o=[],r=Lc(n,t),l="icons";let i={type:l,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,f)=>{s+=a.length+1,s>=r&&f>0&&(o.push(i),i={type:l,provider:n,prefix:t,icons:[]},s=a.length),i.icons.push(a)}),o.push(i),o};function Rc(n){if(typeof n=="string"){const t=$t(n);if(t)return t.path}return"/"}const jc=(n,t,e)=>{if(!Jt){e("abort",424);return}let o=Rc(t.provider);switch(t.type){case"icons":{const l=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=l+".json?"+a.toString();break}case"custom":{const l=t.uri;o+=l.slice(0,1)==="/"?l.slice(1):l;break}default:e("abort",400);return}let r=503;Jt(n+o).then(l=>{const i=l.status;if(i!==200){setTimeout(()=>{e(Ec(i)?"abort":"next",i)});return}return r=501,l.json()}).then(l=>{if(typeof l!="object"||l===null){setTimeout(()=>{l===404?e("abort",l):e("next",r)});return}setTimeout(()=>{e("success",l)})}).catch(()=>{e("next",r)})},Nc={prepare:Mc,send:jc};function Go(n,t){switch(n){case"local":case"session":ot[n]=t;break;case"all":for(const e in ot)ot[e]=t;break}}const cn="data-style";let il="";function Dc(n){il=n}function Vo(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(cn));e||(e=document.createElement("style"),e.setAttribute(cn,cn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+il}function sl(){qo("",Nc),Qr(!0);let n;try{n=window}catch{}if(n){if(ol(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Do(r))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const r="IconifyProviders["+o+"] is invalid.";try{const l=e[o];if(typeof l!="object"||!l||l.resources===void 0)continue;Bo(o,l)||console.error(r)}catch{console.error(r)}}}}return{enableCache:e=>Go(e,!0),disableCache:e=>Go(e,!1),iconExists:oc,getIcon:rc,listIcons:nc,addIcon:Kr,addCollection:Do,calculateSize:Tn,buildIcon:ll,loadIcons:Gn,loadIcon:yc,addAPIProvider:Bo,appendCustomStyle:Dc,_api:{getAPIConfig:$t,setAPIModule:qo,sendAPIQuery:Zr,setFetch:Pc,getFetch:Oc,listAPIProviders:dc}}}function al(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function qc(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Bc(n){return'url("data:image/svg+xml,'+qc(n)+'")'}const In={"background-color":"currentColor"},cl={"background-color":"transparent"},Wo={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Qo={"-webkit-mask":In,mask:In,background:cl};for(const n in Qo){const t=Qo[n];for(const e in Wo)t[n+"-"+e]=Wo[e]}function Ko(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Fc(n,t,e){const o=document.createElement("span");let r=n.body;r.indexOf("<a")!==-1&&(r+="<!-- "+Date.now()+" -->");const l=n.attributes,i=al(r,{...l,width:t.width+"",height:t.height+""}),s=Bc(i),a=o.style,f={"--svg":s,width:Ko(l.width),height:Ko(l.height),...e?In:cl};for(const d in f)a.setProperty(d,f[d]);return o}function Uc(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=al(n.body,e),t.firstChild}function Yo(n,t){const e=t.icon.data,o=t.customisations,r=ll(e,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const l=t.renderedMode;let i;switch(l){case"svg":i=Uc(r);break;default:i=Fc(r,{...Tt,...e},l==="mask")}const s=Array.from(n.childNodes).find(a=>{const f=a.tagName&&a.tagName.toUpperCase();return f==="SPAN"||f==="SVG"});s?i.tagName==="SPAN"&&s.tagName===i.tagName?s.setAttribute("style",i.getAttribute("style")):n.replaceChild(i,s):n.appendChild(i)}function Xo(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function zc(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],l=class extends e{constructor(){super();Pt(this,"_shadowRoot");Pt(this,"_state");Pt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),f=an(this);Vo(a,f),this._state=Xo({value:""},f),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(a){if(a==="inline"){const f=an(this),d=this._state;f!==d.inline&&(d.inline=f,Vo(this._shadowRoot,f))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return an(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const f=this._shadowRoot;if(a.renderedMode==="svg")try{f.lastChild.setCurrentTime(0);return}catch{}Yo(f,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,f=this.getAttribute("icon");if(f!==a.icon.value){this._iconChanged(f);return}if(!a.rendered)return;const d=this.getAttribute("mode"),h=jo(this);(a.attrMode!==d||Ya(a.customisations,h))&&this._renderIcon(a.icon,h,d)}_iconChanged(a){const f=wc(a,(d,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==d)return;const m={value:d,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});f.data?this._gotIconData(f):this._state=Xo(f,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,jo(this),this.getAttribute("mode"))}_renderIcon(a,f,d){const h=Cc(a.data.body,d),_=this._state.inline;Yo(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:f,attrMode:d,renderedMode:h})}};r.forEach(s=>{s in l.prototype||Object.defineProperty(l.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const i=sl();for(const s in i)l[s]=l.prototype[s]=i[s];return t.define(n,l),l}zc()||sl();function Zo(n,t,e){const o=n.slice();return o[18]=t[e],o}function $o(n,t,e){const o=n.slice();return o[18]=t[e],o}function xo(n,t,e){const o=n.slice();return o[60]=t[e],o}function Hc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R=[],L=new Map,q,j,U,V,ne,K,Q=n[17];const H=J=>J[60].id;for(let J=0;J<Q.length;J+=1){let Y=xo(n,Q,J),ge=H(Y);L.set(ge,R[J]=er(ge,Y))}let W=n[13]&&tr(n),B=n[14]&&or(n),G=n[15]&&lr(n);return{c(){t=p("div"),e=p("button"),e.textContent="Add Entry",o=S(),r=p("div"),l=p("select"),i=p("option"),i.textContent="All",s=p("option"),s.textContent="January",a=p("option"),a.textContent="February",f=p("option"),f.textContent="March",d=p("option"),d.textContent="April",h=p("option"),h.textContent="May",_=p("option"),_.textContent="June",g=p("option"),g.textContent="July",m=p("option"),m.textContent="August",y=p("option"),y.textContent="September",v=p("option"),v.textContent="October",b=p("option"),b.textContent="November",k=p("option"),k.textContent="December",A=S(),I=p("input"),P=S(),w=p("div"),C=p("table"),O=p("thead"),O.innerHTML=`<tr><th scope="col" class="svelte-fs4gn5">Date</th> 
            <th scope="col" class="svelte-fs4gn5">Book</th> 
            <th scope="col" class="svelte-fs4gn5">Read</th> 
            <th scope="col" class="svelte-fs4gn5">Comment</th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th></tr>`,M=S(),E=p("tbody");for(let J=0;J<R.length;J+=1)R[J].c();q=S(),W&&W.c(),j=S(),B&&B.c(),U=S(),G&&G.c(),V=me(),u(e,"class","btn btn-primary svelte-fs4gn5"),i.__value="All",i.value=i.__value,s.__value="January",s.value=s.__value,a.__value="February",a.value=a.__value,f.__value="March",f.value=f.__value,d.__value="April",d.value=d.__value,h.__value="May",h.value=h.__value,_.__value="June",_.value=_.__value,g.__value="July",g.value=g.__value,m.__value="August",m.value=m.__value,y.__value="September",y.value=y.__value,v.__value="October",v.value=v.__value,b.__value="November",b.value=b.__value,k.__value="December",k.value=k.__value,u(l,"class","svelte-fs4gn5"),n[6]===void 0&&Xe(()=>n[28].call(l)),u(I,"type","search"),u(I,"placeholder","Filter logs..."),u(I,"class","svelte-fs4gn5"),u(r,"class","flex svelte-fs4gn5"),u(C,"class","table-container svelte-fs4gn5"),u(C,"role","grid"),u(w,"class","grid"),u(t,"class","container svelte-fs4gn5")},m(J,Y){D(J,t,Y),c(t,e),c(t,o),c(t,r),c(r,l),c(l,i),c(l,s),c(l,a),c(l,f),c(l,d),c(l,h),c(l,_),c(l,g),c(l,m),c(l,y),c(l,v),c(l,b),c(l,k),Je(l,n[6],!0),c(r,A),c(r,I),Z(I,n[16]),c(t,P),c(t,w),c(w,C),c(C,O),c(C,M),c(C,E);for(let ge=0;ge<R.length;ge+=1)R[ge]&&R[ge].m(E,null);D(J,q,Y),W&&W.m(J,Y),D(J,j,Y),B&&B.m(J,Y),D(J,U,Y),G&&G.m(J,Y),D(J,V,Y),ne||(K=[T(e,"click",n[20]),T(l,"change",n[28]),T(l,"change",n[19]),T(I,"input",n[29])],ne=!0)},p(J,Y){Y[0]&64&&Je(l,J[6]),Y[0]&65536&&I.value!==J[16]&&Z(I,J[16]),Y[0]&6428735&&(Q=J[17],R=Ue(R,Y,H,1,J,Q,L,E,Ge,er,null,xo)),J[13]?W?W.p(J,Y):(W=tr(J),W.c(),W.m(j.parentNode,j)):W&&(W.d(1),W=null),J[14]?B?B.p(J,Y):(B=or(J),B.c(),B.m(U.parentNode,U)):B&&(B.d(1),B=null),J[15]?G?G.p(J,Y):(G=lr(J),G.c(),G.m(V.parentNode,V)):G&&(G.d(1),G=null)},d(J){J&&N(t);for(let Y=0;Y<R.length;Y+=1)R[Y].d();J&&N(q),W&&W.d(J),J&&N(j),B&&B.d(J),J&&N(U),G&&G.d(J),J&&N(V),ne=!1,se(K)}}}function er(n,t){let e,o,r=ir(t[60].date)+"",l,i,s,a=t[60].title+"",f,d,h,_=t[60].pages_read+"",g,m,y,v=t[60].comment+"",b,k,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne,K,Q;return{key:n,first:null,c(){e=p("tr"),o=p("td"),l=F(r),i=S(),s=p("td"),f=F(a),d=S(),h=p("td"),g=F(_),m=S(),y=p("td"),b=F(v),k=S(),A=p("td"),I=p("a"),P=p("iconify-icon"),L=S(),q=p("td"),j=p("a"),U=p("iconify-icon"),ne=S(),u(o,"class","svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),u(h,"class","svelte-fs4gn5"),u(y,"class","svelte-fs4gn5"),Lt(P,"id","lapicito"),Lt(P,"icon","mdi:edit"),Lt(P,"class","svelte-fs4gn5"),u(I,"href","#edit"),u(I,"data-id",w=t[60].id),u(I,"data-date",C=t[60].date),u(I,"data-title",O=t[60].title),u(I,"data-pages",M=t[60].pages),u(I,"data-pagesread",E=t[60].pages_read),u(I,"data-comment",R=t[60].comment),u(A,"class","svelte-fs4gn5"),Lt(U,"icon","mdi:delete"),u(j,"id",V=t[60].id),u(j,"href","#delete"),u(j,"class","delete svelte-fs4gn5"),u(q,"class","svelte-fs4gn5"),this.first=e},m(H,W){D(H,e,W),c(e,o),c(o,l),c(e,i),c(e,s),c(s,f),c(e,d),c(e,h),c(h,g),c(e,m),c(e,y),c(y,b),c(e,k),c(e,A),c(A,I),c(I,P),c(e,L),c(e,q),c(q,j),c(j,U),c(e,ne),K||(Q=[T(I,"click",t[30]),T(I,"click",t[31]),T(I,"click",t[32]),T(I,"click",t[33]),T(I,"click",t[34]),T(I,"click",t[35]),T(I,"click",t[36]),T(I,"click",t[21]),T(j,"click",t[37]),T(j,"click",t[22])],K=!0)},p(H,W){t=H,W[0]&131072&&r!==(r=ir(t[60].date)+"")&&le(l,r),W[0]&131072&&a!==(a=t[60].title+"")&&le(f,a),W[0]&131072&&_!==(_=t[60].pages_read+"")&&le(g,_),W[0]&131072&&v!==(v=t[60].comment+"")&&le(b,v),W[0]&131072&&w!==(w=t[60].id)&&u(I,"data-id",w),W[0]&131072&&C!==(C=t[60].date)&&u(I,"data-date",C),W[0]&131072&&O!==(O=t[60].title)&&u(I,"data-title",O),W[0]&131072&&M!==(M=t[60].pages)&&u(I,"data-pages",M),W[0]&131072&&E!==(E=t[60].pages_read)&&u(I,"data-pagesread",E),W[0]&131072&&R!==(R=t[60].comment)&&u(I,"data-comment",R),W[0]&131072&&V!==(V=t[60].id)&&u(j,"id",V)},d(H){H&&N(e),K=!1,se(Q)}}}function tr(n){let t,e,o,r,l,i,s,a,f,d,h,_=[],g=new Map,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne=n[10];const K=Q=>Q[18].id;for(let Q=0;Q<ne.length;Q+=1){let H=$o(n,ne,Q),W=K(H);g.set(W,_[Q]=nr(W,H))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Log Entry`),i=S(),s=p("form"),a=p("label"),a.textContent="Book",f=S(),d=p("select"),h=p("option"),h.textContent="Please select an option";for(let Q=0;Q<_.length;Q+=1)_[Q].c();m=S(),y=p("label"),v=F(`Date\r
            `),b=p("input"),k=S(),A=p("label"),I=F(`Pages Read\r
            `),P=p("input"),w=S(),C=p("label"),O=F(`Comment\r
            `),M=p("input"),E=S(),R=p("footer"),L=p("a"),L.textContent="Cancel",q=S(),j=p("a"),j.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(d,"id","book"),n[18]===void 0&&Xe(()=>n[38].call(d)),u(b,"id","date"),u(b,"name","date"),u(b,"type","date"),b.required=!0,u(y,"for","date"),u(P,"id","pagesRead"),u(P,"name","pagesRead"),u(P,"type","number"),P.required=!0,u(A,"for","pagesRead"),u(M,"id","comment"),u(M,"name","comment"),u(M,"type","textarea"),M.required=!0,u(C,"for","comment"),u(L,"href","#cancel"),u(L,"role","button"),u(L,"class","secondary svelte-fs4gn5"),u(j,"href","#confirm"),u(j,"role","button"),u(j,"class","svelte-fs4gn5"),u(R,"class","svelte-fs4gn5"),t.open=!0},m(Q,H){D(Q,t,H),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h);for(let W=0;W<_.length;W+=1)_[W]&&_[W].m(d,null);Je(d,n[18],!0),c(s,m),c(s,y),c(y,v),c(y,b),Z(b,n[7]),c(s,k),c(s,A),c(A,I),c(A,P),Z(P,n[8]),c(s,w),c(s,C),c(C,O),c(C,M),Z(M,n[9]),c(e,E),c(e,R),c(R,L),c(R,q),c(R,j),U||(V=[T(r,"click",n[20]),T(d,"change",n[38]),T(b,"input",n[39]),T(P,"input",n[40]),T(M,"input",n[41]),T(s,"submit",qe(n[27])),T(L,"click",n[20]),T(j,"click",n[24]),T(j,"click",n[20])],U=!0)},p(Q,H){H[0]&1024&&(ne=Q[10],_=Ue(_,H,K,1,Q,ne,g,d,Ge,nr,null,$o)),H[0]&263168&&Je(d,Q[18]),H[0]&128&&Z(b,Q[7]),H[0]&256&&Qe(P.value)!==Q[8]&&Z(P,Q[8]),H[0]&512&&Z(M,Q[9])},d(Q){Q&&N(t);for(let H=0;H<_.length;H+=1)_[H].d();U=!1,se(V)}}}function nr(n,t){let e,o=t[18].title+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[18].id,e.value=e.__value,this.first=e},m(i,s){D(i,e,s),c(e,r)},p(i,s){t=i,s[0]&1024&&o!==(o=t[18].title+"")&&le(r,o),s[0]&1024&&l!==(l=t[18].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&N(e)}}}function or(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O,M=[],E=new Map,R,L,q,j,U,V,ne,K=n[10];const Q=H=>H[18].id;for(let H=0;H<K.length;H+=1){let W=Zo(n,K,H),B=Q(W);E.set(B,M[H]=rr(B,W))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Edit Entry Details`),i=S(),s=p("form"),a=p("label"),f=F(`Date\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Pages Read\r
            `),m=p("input"),y=S(),v=p("label"),b=F(`Comment\r
            `),k=p("input"),A=S(),I=p("label"),I.textContent="Book",P=S(),w=p("select"),C=p("option"),O=F(n[3]);for(let H=0;H<M.length;H+=1)M[H].c();R=S(),L=p("footer"),q=p("a"),q.textContent="Cancel",j=S(),U=p("a"),U.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","date"),u(d,"name","date"),u(d,"type","date"),u(d,"placeholder",n[2]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(k,"id","comment"),u(k,"name","comment"),u(k,"type","text"),u(v,"for","comment"),u(I,"for","book"),C.__value=n[3],C.value=C.__value,C.selected=!0,w.disabled=!0,u(w,"id","book"),n[3]===void 0&&Xe(()=>n[45].call(w)),u(q,"href","#cancel"),u(q,"role","button"),u(q,"class","secondary svelte-fs4gn5"),u(U,"href","#confirm"),u(U,"role","button"),u(U,"class","svelte-fs4gn5"),u(L,"data-button","spaceBetween"),u(L,"class","svelte-fs4gn5"),t.open=!0},m(H,W){D(H,t,W),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),Z(d,n[2]),c(s,h),c(s,_),c(_,g),c(_,m),Z(m,n[4]),c(s,y),c(s,v),c(v,b),c(v,k),Z(k,n[5]),c(s,A),c(s,I),c(s,P),c(s,w),c(w,C),c(C,O);for(let B=0;B<M.length;B+=1)M[B]&&M[B].m(w,null);Je(w,n[3],!0),c(e,R),c(e,L),c(L,q),c(L,j),c(L,U),V||(ne=[T(r,"click",n[21]),T(d,"input",n[42]),T(m,"input",n[43]),T(k,"input",n[44]),T(w,"change",n[45]),T(s,"submit",qe(n[26])),T(q,"click",n[21]),T(U,"click",n[25]),T(U,"click",n[21])],V=!0)},p(H,W){W[0]&4&&u(d,"placeholder",H[2]),W[0]&4&&Z(d,H[2]),W[0]&16&&Qe(m.value)!==H[4]&&Z(m,H[4]),W[0]&32&&k.value!==H[5]&&Z(k,H[5]),W[0]&8&&le(O,H[3]),W[0]&1032&&(C.__value=H[3],C.value=C.__value),W[0]&1024&&(K=H[10],M=Ue(M,W,Q,1,H,K,E,w,Ge,rr,null,Zo)),W[0]&1032&&Je(w,H[3])},d(H){H&&N(t);for(let W=0;W<M.length;W+=1)M[W].d();V=!1,se(ne)}}}function rr(n,t){let e,o=t[18].title+"",r,l;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=l=t[18].id,e.value=e.__value,this.first=e},m(i,s){D(i,e,s),c(e,r)},p(i,s){t=i,s[0]&1024&&o!==(o=t[18].title+"")&&le(r,o),s[0]&1024&&l!==(l=t[18].id)&&(e.__value=l,e.value=e.__value)},d(i){i&&N(e)}}}function lr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),l=p("p"),l.textContent="Are you sure you want to delete this entry?",i=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-fs4gn5"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-fs4gn5"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),t.open=!0},m(m,y){D(m,t,y),c(t,e),c(e,o),c(e,r),c(e,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[22]),T(h,"click",n[23]),T(h,"click",n[22])],_=!0)},p:te,d(m){m&&N(t),_=!1,se(g)}}}function Jc(n){let t,e=Ve&&Hc(n);return{c(){e&&e.c(),t=me()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,r){Ve&&e.p(o,r)},i:te,o:te,d(o){e&&e.d(o),o&&N(t)}}}function ir(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Gc(n,t,e){let o;Pe(n,Ve,ee=>e(48,o=ee));let r=[],l,i,s,a,f,d;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let g=h[_.getMonth()],m=_.getMonth()+1,y=_.getFullYear(),v="";m<10?m===9?v=`date >= '${y}-0${m}-01' && date < '${y}-${m+1}-01'`:v=`date >= '${y}-0${m}-01' && date < '${y}-0${m+1}-01'`:m===12?v=`date >= '${y}-${m}-01' && date < '${y+1}-01-01'`:v=`date >= '${y}-${m}-01' && date < '${y}-${m+1}-01'`;let b=g,k,A,I,P=[],w,C,O;async function M(){try{r=await he.collection("view_readingLog").getFullList({filter:v,sort:"-date"})}catch(ee){re.error(ee,{position:ce})}try{const ee=await he.collection("books").getFullList({sort:"-created"});e(10,P=ee),W()}catch(ee){re.error(ee,{position:ce})}}rt(async()=>{M()});function E(){if(b&&_.getMonth()>4)switch(b){case"All":v="";break;case"January":v="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":v="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":v="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":v="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":v="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":v="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":v="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":v="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":v="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":v="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":v="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":v="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],M()}let R=!1;function L(){e(13,R=!R)}let q=!1;function j(){e(14,q=!q)}let U=!1;function V(){e(15,U=!U)}async function ne(){try{console.log(l),await he.collection("reading").delete(l),re.success("Entry deleted!",{position:ce}),M()}catch(ee){re.error(ee,{position:ce})}}async function K(){if(k&&A){try{const ee={reader:o.id,book:w,date:k,pages_read:+A,comment:I},Ne=await he.collection("reading").create(ee);re.success("Log saved!",{position:ce})}catch(ee){re.error(ee,{position:ce})}e(7,k=null),e(8,A=""),e(18,w="")}M()}async function Q(){if(+f<+O)try{const ee=new FormData;ee.append("pages_read",f),ee.append("comment",d),s&&ee.append("date",s);const Ne=await he.collection("reading").update(i,ee);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(ee){re.error(ee,{position:ce})}else if(+f>+O)if(+f+ +O<=+C)try{const ee=new FormData;ee.append("pages_read",f),ee.append("comment",d),s&&ee.append("date",s);const Ne=await he.collection("reading").update(i,ee);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(ee){re.error(ee,{position:ce})}else re.error("Pages exceeded",{position:ce});else try{const ee=new FormData;ee.append("comment",d),s&&ee.append("date",s);const Ne=await he.collection("reading").update(i,ee);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(ee){re.error(ee,{position:ce})}}let H="";function W(){const ee=H.toLowerCase();e(17,B=r.filter(Ne=>Ne.title.toLowerCase().includes(ee)||Ne.reader_name.toLowerCase().includes(ee)||Ne.date.toLowerCase().includes(ee)))}let B=r;On(()=>{W()});function G(ee){De.call(this,n,ee)}function J(ee){De.call(this,n,ee)}function Y(){b=ut(this),e(6,b)}function ge(){H=this.value,e(16,H)}const Re=ee=>{e(1,i=ee.currentTarget.getAttribute("data-id"))},X=ee=>{e(2,s=ee.currentTarget.getAttribute("data-date"))},Se=ee=>{e(3,a=ee.currentTarget.getAttribute("data-title"))},pe=ee=>{e(12,O=ee.currentTarget.getAttribute("data-pagesread"))},ie=ee=>{e(4,f=ee.currentTarget.getAttribute("data-pagesread"))},ae=ee=>{e(11,C=ee.currentTarget.getAttribute("data-pages"))},oe=ee=>{e(5,d=ee.currentTarget.getAttribute("data-comment"))},Ae=ee=>{e(0,l=ee.currentTarget.getAttribute("id"))};function je(){w=ut(this),e(18,w),e(10,P)}function ze(){k=this.value,e(7,k)}function Me(){A=Qe(this.value),e(8,A)}function Be(){I=this.value,e(9,I)}function We(){s=this.value,e(2,s)}function ye(){f=Qe(this.value),e(4,f)}function ke(){d=this.value,e(5,d)}function tt(){a=ut(this),e(3,a),e(10,P)}return[l,i,s,a,f,d,b,k,A,I,P,C,O,R,q,U,H,B,w,E,L,j,V,ne,K,Q,G,J,Y,ge,Re,X,Se,pe,ie,ae,oe,Ae,je,ze,Me,Be,We,ye,ke,tt]}class Vc extends Ce{constructor(t){super(),we(this,t,Gc,Jc,be,{},null,[-1,-1,-1])}}function sr(n,t,e){const o=n.slice();return o[43]=t[e],o}function Wc(n){let t;function e(l,i){return l[13]?Kc:Yc}let o=e(n),r=o(n);return{c(){r.c(),t=me()},m(l,i){r.m(l,i),D(l,t,i)},p(l,i){o===(o=e(l))&&r?r.p(l,i):(r.d(1),r=o(l),r&&(r.c(),r.m(t.parentNode,t)))},d(l){r.d(l),l&&N(t)}}}function Qc(n){let t,e,o,r,l=[],i=new Map,s,a,f,d=n[0];const h=g=>g[43].id;for(let g=0;g<d.length;g+=1){let m=sr(n,d,g),y=h(m);i.set(y,l[g]=cr(y,m))}let _=n[14]&&ur(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=S(),r=p("div");for(let g=0;g<l.length;g+=1)l[g].c();s=S(),a=S(),_&&_.c(),f=me(),u(r,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){D(g,t,m),c(t,e),c(t,o),c(t,r);for(let y=0;y<l.length;y+=1)l[y]&&l[y].m(r,null);D(g,s,m),D(g,a,m),_&&_.m(g,m),D(g,f,m)},p(g,m){m[0]&335871&&(d=g[0],l=Ue(l,m,h,1,g,d,i,r,Ge,cr,null,sr)),g[14]?_?_.p(g,m):(_=ur(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(g){g&&N(t);for(let m=0;m<l.length;m+=1)l[m].d();g&&N(s),g&&N(a),_&&_.d(g),g&&N(f)}}}function Kc(n){let t,e,o,r=n[15].email+"",l,i;return{c(){t=p("div"),e=p("p"),o=F("A verification email has been sent to "),l=F(r),i=F("."),u(t,"class","container")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,l),c(e,i)},p(s,a){a[0]&32768&&r!==(r=s[15].email+"")&&le(l,r)},d(s){s&&N(t)}}}function Yc(n){let t,e,o,r,l,i;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=S(),r=p("a"),r.textContent="Verify Account",u(r,"href","#verify"),u(r,"role","button"),u(r,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),l||(i=T(r,"click",n[17]),l=!0)},p:te,d(s){s&&N(t),l=!1,i()}}}function ar(n){let t,e,o,r,l,i,s=n[43].title+"",a,f,d,h,_=n[43].author+"",g,m,y,v,b,k,A,I,P,w,C,O,M=n[43].reader_name+"",E,R,L,q,j,U,V,ne;function K(J,Y){return J[43].cover?Zc:Xc}let Q=K(n),H=Q(n);function W(J,Y){return J[43].pages_read?xc:$c}let B=W(n),G=B(n);return{c(){t=p("article"),e=p("div"),o=p("div"),H.c(),r=S(),l=p("hgroup"),i=p("h4"),a=F(s),f=S(),d=p("p"),h=F("By: "),g=F(_),m=S(),y=p("br"),v=S(),b=p("figure"),k=p("a"),A=p("img"),O=S(),E=F(M),R=S(),L=p("div"),q=S(),j=p("footer"),G.c(),U=S(),u(o,"class","image-wrapper"),_e(A.src,I=n[43].avatar_from_url)||u(A,"src",I),u(A,"alt","avatar"),u(A,"class","svelte-1vqx4aq"),u(k,"href","#profile"),u(k,"data-readerid",P=n[43].reader),u(k,"data-reader",w=n[43].reader_name),u(k,"data-avatar",C=n[43].avatar_from_url),u(k,"class","svelte-1vqx4aq"),u(b,"class","avatar avatar-sm svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(j,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(J,Y){D(J,t,Y),c(t,e),c(e,o),H.m(o,null),c(e,r),c(e,l),c(l,i),c(i,a),c(l,f),c(l,d),c(d,h),c(d,g),c(d,m),c(d,y),c(d,v),c(d,b),c(b,k),c(k,A),c(d,O),c(d,E),c(t,R),c(t,L),c(t,q),c(t,j),G.m(j,null),c(t,U),V||(ne=[T(k,"click",n[37]),T(k,"click",n[38]),T(k,"click",n[39]),T(k,"click",au)],V=!0)},p(J,Y){Q===(Q=K(J))&&H?H.p(J,Y):(H.d(1),H=Q(J),H&&(H.c(),H.m(o,null))),Y[0]&1&&s!==(s=J[43].title+"")&&le(a,s),Y[0]&1&&_!==(_=J[43].author+"")&&le(g,_),Y[0]&1&&!_e(A.src,I=J[43].avatar_from_url)&&u(A,"src",I),Y[0]&1&&P!==(P=J[43].reader)&&u(k,"data-readerid",P),Y[0]&1&&w!==(w=J[43].reader_name)&&u(k,"data-reader",w),Y[0]&1&&C!==(C=J[43].avatar_from_url)&&u(k,"data-avatar",C),Y[0]&1&&M!==(M=J[43].reader_name+"")&&le(E,M),B===(B=W(J))&&G?G.p(J,Y):(G.d(1),G=B(J),G&&(G.c(),G.m(j,null)))},d(J){J&&N(t),H.d(),G.d(),V=!1,se(ne)}}}function Xc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",l=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!_e(e.src,o=v[43].googleCover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&l!==(l=v[43].bookId)&&u(t,"data-id",l),b[0]&1&&i!==(i=v[43].reader_name)&&u(t,"data-reader",i),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[43].googleCover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,se(y)}}}function Zc(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",l=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!_e(e.src,o=v[16]+v[43].bookId+"/"+v[43].cover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&l!==(l=v[43].bookId)&&u(t,"data-id",l),b[0]&1&&i!==(i=v[43].reader_name)&&u(t,"data-reader",i),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[16]+v[43].bookId+"/"+v[43].cover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,se(y)}}}function $c(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function xc(n){let t,e;return{c(){t=p("progress"),t.value=e=fr(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[0]&1&&e!==(e=fr(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&N(t)}}}function cr(n,t){let e,o,r=t[43].pages_read&&ar(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(l,i){D(l,e,i),r&&r.m(l,i),D(l,o,i)},p(l,i){t=l,t[43].pages_read?r?r.p(t,i):(r=ar(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&N(e),r&&r.d(l),l&&N(o)}}}function ur(n){let t,e,o,r,l,i,s,a,f,d,h;function _(y,v){if(y[11])return tu;if(y[12])return eu}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Book Review`),i=S(),m&&m.c(),s=S(),a=p("footer"),f=p("a"),f.textContent="Close",u(r,"href","#close"),u(r,"class","close svelte-1vqx4aq"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(y,v){D(y,t,v),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),m&&m.m(e,null),c(e,s),c(e,a),c(a,f),d||(h=[T(r,"click",n[18]),T(f,"click",n[18])],d=!0)},p(y,v){g===(g=_(y))&&m?m.p(y,v):(m&&m.d(1),m=g&&g(y),m&&(m.c(),m.m(e,s)))},d(y){y&&N(t),m&&m.d(),d=!1,se(h)}}}function eu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;function y(k,A){return k[10]?ou:nu}let v=y(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),b.c(),m=me(),_e(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(k,A){D(k,t,A),c(t,e),c(t,r),c(t,l),c(l,i),c(i,s),c(s,a),c(i,f),c(i,d),c(d,h),c(d,_),D(k,g,A),b.m(k,A),D(k,m,A)},p(k,A){A[0]&4096&&!_e(e.src,o=k[12])&&u(e,"src",o),A[0]&64&&le(a,k[6]),A[0]&128&&le(_,k[7]),v===(v=y(k))&&b?b.p(k,A):(b.d(1),b=v(k),b&&(b.c(),b.m(m.parentNode,m)))},d(k){k&&N(t),k&&N(g),b.d(k),k&&N(m)}}}function tu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m;function y(k,A){return k[10]?lu:ru}let v=y(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),l=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),b.c(),m=me(),_e(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(k,A){D(k,t,A),c(t,e),c(t,r),c(t,l),c(l,i),c(i,s),c(s,a),c(i,f),c(i,d),c(d,h),c(d,_),D(k,g,A),b.m(k,A),D(k,m,A)},p(k,A){A[0]&2048&&!_e(e.src,o=k[11])&&u(e,"src",o),A[0]&64&&le(a,k[6]),A[0]&128&&le(_,k[7]),v===(v=y(k))&&b?b.p(k,A):(b.d(1),b=v(k),b&&(b.c(),b.m(m.parentNode,m)))},d(k){k&&N(t),k&&N(g),b.d(k),k&&N(m)}}}function nu(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function ou(n){let t,e,o,r,l,i,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),l=p("cite"),i=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,l),c(l,i),c(l,s)},p(a,f){f[0]&1024&&le(e,a[10]),f[0]&32&&le(s,a[5])},d(a){a&&N(t)}}}function ru(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function lu(n){let t,e,o,r,l,i,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),l=p("cite"),i=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,l),c(l,i),c(l,s)},p(a,f){f[0]&1024&&le(e,a[10]),f[0]&32&&le(s,a[5])},d(a){a&&N(t)}}}function iu(n){let t;function e(l,i){if(l[15]&&l[15].verified===!0)return Qc;if(l[15]&&l[15].verified===!1)return Wc}let o=e(n),r=o&&o(n);return{c(){r&&r.c(),t=me()},m(l,i){r&&r.m(l,i),D(l,t,i)},p(l,i){o===(o=e(l))&&r?r.p(l,i):(r&&r.d(1),r=o&&o(l),r&&(r.c(),r.m(t.parentNode,t)))},i:te,o:te,d(l){r&&r.d(l),l&&N(t)}}}let su="/api/files/9hhair4kd0xa314/";function fr(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function au(){}function cu(n,t,e){let o;Pe(n,Ve,X=>e(15,o=X));let r=[],l,i,s,a,f,d,h,_,g,m,y,v,b=!1,k=Yt+su;async function A(){try{const X=await he.collection("view_classroom").getFullList({sort:"-id"});e(0,r=X);for(let Se=0;Se<r.length;Se++)console.log(r[Se].reader_name)}catch(X){alert(X)}}rt(async()=>{A()});async function I(){e(13,b=!0),await he.collection("users").requestVerification(o.email),await new Promise(X=>setTimeout(X,5e3)),he.authStore.clear(),jn("/")}let P=!1;function w(){e(14,P=!P)}return[r,l,i,s,a,f,d,h,_,g,m,y,v,b,P,o,k,I,w,X=>{e(4,a=X.currentTarget.getAttribute("data-id"))},X=>{e(5,f=X.currentTarget.getAttribute("data-reader"))},X=>{e(6,d=X.currentTarget.getAttribute("data-title"))},X=>{e(7,h=X.currentTarget.getAttribute("data-author"))},X=>{e(8,_=X.currentTarget.getAttribute("data-pages"))},X=>{e(9,g=X.currentTarget.getAttribute("data-pagesread"))},X=>{e(10,m=X.currentTarget.getAttribute("data-review"))},X=>{e(11,y=X.currentTarget.getAttribute("data-cover"))},X=>{e(3,s=X.currentTarget.getAttribute("data-avatar"))},X=>{e(4,a=X.currentTarget.getAttribute("data-id"))},X=>{e(5,f=X.currentTarget.getAttribute("data-reader"))},X=>{e(6,d=X.currentTarget.getAttribute("data-title"))},X=>{e(7,h=X.currentTarget.getAttribute("data-author"))},X=>{e(8,_=X.currentTarget.getAttribute("data-pages"))},X=>{e(9,g=X.currentTarget.getAttribute("data-pagesread"))},X=>{e(10,m=X.currentTarget.getAttribute("data-review"))},X=>{e(12,v=X.currentTarget.getAttribute("data-cover"))},X=>{e(3,s=X.currentTarget.getAttribute("data-avatar"))},X=>{e(1,l=X.currentTarget.getAttribute("data-readerId"))},X=>{e(2,i=X.currentTarget.getAttribute("data-reader"))},X=>{e(3,s=X.currentTarget.getAttribute("data-avatar"))}]}class uu extends Ce{constructor(t){super(),we(this,t,cu,iu,be,{},null,[-1,-1])}}function dr(n,t,e){const o=n.slice();return o[19]=t[e],o}function pr(n,t,e){const o=n.slice();return o[22]=t[e],o}function hr(n,t,e){const o=n.slice();return o[25]=t[e],o}function fu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I=[],P=new Map,w,C,O=n[0];const M=E=>E[19].id;for(let E=0;E<O.length;E+=1){let R=dr(n,O,E),L=M(R);P.set(L,I[E]=br(L,R))}return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",l=p("option"),l.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",y=p("option"),y.textContent="November",v=p("option"),v.textContent="December",b=S(),k=p("input"),A=S();for(let E=0;E<I.length;E+=1)I[E].c();r.__value="All",r.value=r.__value,l.__value="January",l.value=l.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,y.__value="November",y.value=y.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-1mnjxzx"),n[2]===void 0&&Xe(()=>n[7].call(o)),u(k,"type","search"),u(k,"placeholder","Filter logs..."),u(k,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(E,R){D(E,t,R),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,y),c(o,v),Je(o,n[2],!0),c(e,b),c(e,k),Z(k,n[3]),c(t,A);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(t,null);w||(C=[T(o,"change",n[7]),T(o,"change",n[6]),T(k,"input",n[8])],w=!0)},p(E,R){R&4&&Je(o,E[2]),R&8&&k.value!==E[3]&&Z(k,E[3]),R&51&&(O=E[0],I=Ue(I,R,M,1,E,O,P,t,Ge,br,null,dr))},d(E){E&&N(t);for(let R=0;R<I.length;R+=1)I[R].d();w=!1,se(C)}}}function _r(n){let t,e,o=kr(n[25].pagesRead,n[5])+"",r,l,i,s,a,f,d,h;return{c(){t=p("br"),e=F(`\r
                Monthly Goal: `),r=F(o),l=F(`%\r
                `),i=p("br"),s=S(),a=p("br"),f=S(),d=p("progress"),d.value=h=n[25].pagesRead,u(d,"max",n[5])},m(_,g){D(_,t,g),D(_,e,g),D(_,r,g),D(_,l,g),D(_,i,g),D(_,s,g),D(_,a,g),D(_,f,g),D(_,d,g)},p(_,g){g&34&&o!==(o=kr(_[25].pagesRead,_[5])+"")&&le(r,o),g&2&&h!==(h=_[25].pagesRead)&&(d.value=h),g&32&&u(d,"max",_[5])},d(_){_&&N(t),_&&N(e),_&&N(r),_&&N(l),_&&N(i),_&&N(s),_&&N(a),_&&N(f),_&&N(d)}}}function mr(n,t){let e,o,r=t[25].reader===t[19].id&&_r(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(l,i){D(l,e,i),r&&r.m(l,i),D(l,o,i)},p(l,i){t=l,t[25].reader===t[19].id?r?r.p(t,i):(r=_r(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&N(e),r&&r.d(l),l&&N(o)}}}function gr(n){let t,e,o,r=yr(n[22].date)+"",l,i,s,a,f,d,h,_=n[22].title+"",g,m,y,v=n[22].pages_read+"",b,k,A,I=n[22].comment+"",P,w;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),l=F(r),i=S(),s=p("td"),a=p("img"),d=S(),h=p("td"),g=F(_),m=S(),y=p("td"),b=F(v),k=S(),A=p("td"),P=F(I),w=S(),u(o,"class","svelte-1mnjxzx"),_e(a.src,f=wr(n[22].googleCover))||u(a,"src",f),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(y,"class","svelte-1mnjxzx"),u(A,"class","svelte-1mnjxzx")},m(C,O){D(C,t,O),c(t,e),c(e,o),c(o,l),c(e,i),c(e,s),c(s,a),c(e,d),c(e,h),c(h,g),c(e,m),c(e,y),c(y,b),c(e,k),c(e,A),c(A,P),c(t,w)},p(C,O){O&16&&r!==(r=yr(C[22].date)+"")&&le(l,r),O&16&&!_e(a.src,f=wr(C[22].googleCover))&&u(a,"src",f),O&16&&_!==(_=C[22].title+"")&&le(g,_),O&16&&v!==(v=C[22].pages_read+"")&&le(b,v),O&16&&I!==(I=C[22].comment+"")&&le(P,I)},d(C){C&&N(t)}}}function vr(n,t){let e,o,r=t[22].reader===t[19].id&&gr(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(l,i){D(l,e,i),r&&r.m(l,i),D(l,o,i)},p(l,i){t=l,t[22].reader===t[19].id?r?r.p(t,i):(r=gr(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(l){l&&N(e),r&&r.d(l),l&&N(o)}}}function br(n,t){let e,o,r,l,i,s,a,f,d=t[19].name+"",h,_,g=[],m=new Map,y,v,b,k,A=[],I=new Map,P,w=t[1];const C=E=>E[25].reader;for(let E=0;E<w.length;E+=1){let R=hr(t,w,E),L=C(R);m.set(L,g[E]=mr(L,R))}let O=t[4];const M=E=>E[22].id;for(let E=0;E<O.length;E+=1){let R=pr(t,O,E),L=M(R);I.set(L,A[E]=vr(L,R))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),r=p("figure"),l=p("a"),i=p("img"),a=S(),f=p("strong"),h=F(d),_=S();for(let E=0;E<g.length;E+=1)g[E].c();y=S(),v=p("table"),b=p("thead"),b.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,k=S();for(let E=0;E<A.length;E+=1)A[E].c();P=S(),_e(i.src,s=t[19].avatar_from_url)||u(i,"src",s),u(i,"alt","avatar"),u(l,"href","#profile"),u(r,"class","avatar avatar-lg"),u(v,"class","table-container svelte-1mnjxzx"),u(v,"role","grid"),this.first=e},m(E,R){D(E,e,R),c(e,o),c(o,r),c(r,l),c(l,i),c(o,a),c(o,f),c(f,h),c(o,_);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);c(e,y),c(e,v),c(v,b),c(v,k);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(v,null);c(e,P)},p(E,R){t=E,R&1&&!_e(i.src,s=t[19].avatar_from_url)&&u(i,"src",s),R&1&&d!==(d=t[19].name+"")&&le(h,d),R&35&&(w=t[1],g=Ue(g,R,C,1,t,w,m,o,Ge,mr,null,hr)),R&17&&(O=t[4],A=Ue(A,R,M,1,t,O,I,v,Ge,vr,null,pr))},d(E){E&&N(e);for(let R=0;R<g.length;R+=1)g[R].d();for(let R=0;R<A.length;R+=1)A[R].d()}}}function du(n){let t,e=Ve&&fu(n);return{c(){e&&e.c(),t=me()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,[r]){Ve&&e.p(o,r)},i:te,o:te,d(o){e&&e.d(o),o&&N(t)}}}function yr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function kr(n,t){return Math.floor(n/t*100)}function wr(n){return n.replace("zoom=1","zoom=5")}function pu(n,t,e){let o;Pe(n,ka,w=>e(5,o=w));let r=[],l=[],i=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],f=new Date;let d=a[f.getMonth()],h=f.getMonth()+1,_=f.getFullYear(),g="";h<10?h===9?g=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:g=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?g=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:g=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let m=d;async function y(){try{const C=await he.collection("view_readingLog").getFullList({filter:g,sort:"-date"});r=C;const O=await he.collection("view_classroom").getFullList({sort:"-reader_name"});l=C,console.log(l);for(let E=0;E<l.length;E++){let R=l[E],L=R.reader,q=R.pages_read;var w=s.findIndex(j=>j.reader===L);w!==-1?e(1,s[w].pagesRead+=q,s):s.push({reader:L,pagesRead:q})}const M=await he.collection("users").getFullList({filter:'role = "student"'});e(0,i=M),k()}catch(C){re.error(C)}}rt(async()=>{y()});function v(){if(m&&f.getMonth()>4)switch(m){case"All":g="";break;case"January":g="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":g="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":g="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":g="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":g="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":g="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":g="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":g="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":g="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":g="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":g="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":g="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],l=[],e(0,i=[]),e(1,s=[]),y()}let b="";function k(){const w=b.toLowerCase();e(4,A=r.filter(C=>C.title.toLowerCase().includes(w)||C.reader_name.toLowerCase().includes(w)||C.date.toLowerCase().includes(w)))}let A=r;On(()=>{k()});function I(){m=ut(this),e(2,m)}function P(){b=this.value,e(3,b)}return[i,s,m,b,A,o,v,I,P]}class hu extends Ce{constructor(t){super(),we(this,t,pu,du,be,{})}}function Cr(n,t,e){const o=n.slice();return o[49]=t[e],o}function _u(n){let t,e;return t=new Nn({props:{$$slots:{default:[gu]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r[1]&2097152&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function mu(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P,w,C,O;function M(B,G){return B[15].avatar_from_url?bu:vu}let E=M(n),R=E(n);function L(B,G){if(B[15].role==="student")return ku;if(B[15].role==="teacher")return yu}let q=L(n),j=q&&q(n),U=n[11]&&Sr(n),V=n[12]&&Ar(n),ne=n[13]&&Tr(n),K=n[14]&&Pr(n);const Q=[Au,Su,Cu,wu],H=[];function W(B,G){return B[4]==="Books"?0:B[4]==="Log"?1:B[4]==="Discover"?2:B[4]==="Classroom"?3:-1}return~(k=W(n))&&(A=H[k]=Q[k](n)),P=new Fn({}),{c(){t=p("div"),e=p("header"),o=p("section"),r=p("a"),r.textContent="Discover",l=S(),i=p("a"),i.textContent="Books",s=S(),R.c(),a=S(),f=p("section"),j&&j.c(),d=S(),h=p("a"),h.textContent="Settings",_=S(),U&&U.c(),g=S(),V&&V.c(),m=S(),ne&&ne.c(),y=S(),K&&K.c(),v=S(),b=p("div"),A&&A.c(),I=S(),de(P.$$.fragment),u(r,"href","#"),u(r,"class","btn btn-link svelte-1yy3czy"),u(i,"href","#"),u(i,"class","btn btn-link svelte-1yy3czy"),u(o,"class","navbar-section svelte-1yy3czy"),u(h,"href","#"),u(h,"class","btn btn-link svelte-1yy3czy"),u(f,"class","navbar-section svelte-1yy3czy"),u(e,"class","navbar svelte-1yy3czy"),u(t,"class","container"),u(b,"class","content")},m(B,G){D(B,t,G),c(t,e),c(e,o),c(o,r),c(o,l),c(o,i),c(e,s),R.m(e,null),c(e,a),c(e,f),j&&j.m(f,null),c(f,d),c(f,h),D(B,_,G),U&&U.m(B,G),D(B,g,G),V&&V.m(B,G),D(B,m,G),ne&&ne.m(B,G),D(B,y,G),K&&K.m(B,G),D(B,v,G),D(B,b,G),~k&&H[k].m(b,null),D(B,I,G),ue(P,B,G),w=!0,C||(O=[T(r,"click",n[27]),T(i,"click",n[26]),T(h,"click",n[29])],C=!0)},p(B,G){E===(E=M(B))&&R?R.p(B,G):(R.d(1),R=E(B),R&&(R.c(),R.m(e,a))),q===(q=L(B))&&j?j.p(B,G):(j&&j.d(1),j=q&&q(B),j&&(j.c(),j.m(f,d))),B[11]?U?U.p(B,G):(U=Sr(B),U.c(),U.m(g.parentNode,g)):U&&(U.d(1),U=null),B[12]?V?V.p(B,G):(V=Ar(B),V.c(),V.m(m.parentNode,m)):V&&(V.d(1),V=null),B[13]?ne?ne.p(B,G):(ne=Tr(B),ne.c(),ne.m(y.parentNode,y)):ne&&(ne.d(1),ne=null),B[14]?K?K.p(B,G):(K=Pr(B),K.c(),K.m(v.parentNode,v)):K&&(K.d(1),K=null);let J=k;k=W(B),k!==J&&(A&&(Le(),x(H[J],1,1,()=>{H[J]=null}),Ee()),~k?(A=H[k],A||(A=H[k]=Q[k](B),A.c()),$(A,1),A.m(b,null)):A=null)},i(B){w||($(A),$(P.$$.fragment,B),w=!0)},o(B){x(A),x(P.$$.fragment,B),w=!1},d(B){B&&N(t),R.d(),j&&j.d(),B&&N(_),U&&U.d(B),B&&N(g),V&&V.d(B),B&&N(m),ne&&ne.d(B),B&&N(y),K&&K.d(B),B&&N(v),B&&N(b),~k&&H[k].d(),B&&N(I),fe(P,B),C=!1,se(O)}}}function gu(n){let t,e;return t=new dt({props:{path:"/",component:Dn}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p:te,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function vu(n){let t,e,o;return{c(){t=p("a"),t.textContent="Choose Avatar",u(t,"href","#profile"),u(t,"class","svelte-1yy3czy")},m(r,l){D(r,t,l),e||(o=T(t,"click",n[31]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function bu(n){let t,e,o,r,l,i,s;return{c(){t=p("section"),e=p("figure"),o=p("a"),r=p("img"),_e(r.src,l=n[20])||u(r,"src",l),u(r,"alt","avatar"),u(r,"class","navbar-avatar"),u(o,"href","#profile"),u(o,"class","svelte-1yy3czy"),u(e,"class","avatar avatar-xl svelte-1yy3czy"),u(t,"class","navbar-center")},m(a,f){D(a,t,f),c(t,e),c(e,o),c(o,r),i||(s=T(o,"click",n[30]),i=!0)},p:te,d(a){a&&N(t),i=!1,s()}}}function yu(n){let t,e,o;return{c(){t=p("a"),t.textContent="Classroom",u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,l){D(r,t,l),e||(o=T(t,"click",n[28]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function ku(n){let t,e,o;return{c(){t=p("a"),t.textContent="Log",u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,l){D(r,t,l),e||(o=T(t,"click",n[25]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function Sr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Settings`),i=S(),s=p("form"),a=p("label"),f=F(`Max Search Output\r
            `),d=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",y=S(),v=p("a"),v.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","maxOutput"),u(d,"name","maxOutput"),u(d,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-1yy3czy"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-1yy3czy"),u(_,"class","svelte-1yy3czy"),t.open=!0},m(A,I){D(A,t,I),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),Z(d,n[16]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,y),c(g,v),b||(k=[T(r,"click",n[29]),T(d,"input",n[38]),T(s,"submit",qe(n[37])),T(m,"click",n[29]),T(v,"click",n[29])],b=!0)},p(A,I){I[0]&65536&&d.value!==A[16]&&Z(d,A[16])},d(A){A&&N(t),b=!1,se(k)}}}function Ar(n){let t,e,o,r,l,i,s,a,f,d,h=n[15].name+"",_,g,m,y,v,b,k,A,I,P,w,C,O,M,E,R,L,q,j,U,V,ne,K,Q,H,W,B,G,J,Y,ge,Re,X,Se,pe,ie,ae,oe,Ae,je,ze,Me,Be,We;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),l=p("a"),i=p("img"),a=S(),f=p("a"),d=F(`\r
             `),_=F(h),g=F("'s Profile"),m=S(),y=p("details"),v=p("summary"),v.textContent="My Stats",b=S(),k=p("p"),A=F("Books: "),I=F(n[17]),P=F(" | Pages Read: "),w=F(n[18]),C=S(),O=p("details"),M=p("summary"),M.textContent="Account Info",E=S(),R=p("form"),L=p("label"),q=F(`Name\r
              `),j=p("input"),U=S(),V=p("label"),ne=F(`Email\r
              `),K=p("input"),Q=S(),H=p("details"),W=p("summary"),W.textContent="Security",B=S(),G=p("fieldset"),J=p("label"),Y=p("input"),ge=F(`\r
              Share my readings with classmates`),Re=S(),X=p("a"),X.textContent="Change Password",Se=S(),pe=p("footer"),ie=p("div"),ae=p("a"),ae.textContent="Sign Out",oe=S(),Ae=p("div"),je=p("a"),je.textContent="Cancel",ze=S(),Me=p("a"),Me.textContent="Save",_e(i.src,s=n[20])||u(i,"src",s),u(i,"alt","avatar"),u(l,"href","#profile"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(f,"href","#close"),u(f,"class","close"),y.open=!0,u(j,"id","profileName"),u(j,"name","profileName"),u(j,"type","text"),u(L,"for","profileName"),u(K,"id","profileEmail"),u(K,"name","profileEmail"),u(K,"type","email"),K.disabled=!0,u(V,"for","profileEmail"),O.open=!0,u(Y,"type","checkbox"),u(Y,"id","switch"),u(Y,"name","switch"),u(Y,"role","switch"),u(J,"for","switch"),u(X,"href","#update"),u(X,"class","details"),u(ae,"href","#signout"),u(ae,"role","button"),u(ae,"class","signout svelte-1yy3czy"),u(je,"href","#cancel"),u(je,"role","button"),u(je,"class","secondary svelte-1yy3czy"),u(Me,"href","#confirm"),u(Me,"role","button"),u(Me,"class","svelte-1yy3czy"),u(pe,"data-button","spaceBetween"),u(pe,"class","svelte-1yy3czy"),t.open=!0},m(ye,ke){D(ye,t,ke),c(t,e),c(e,o),c(o,r),c(r,l),c(l,i),c(o,a),c(o,f),c(o,d),c(o,_),c(o,g),c(e,m),c(e,y),c(y,v),c(y,b),c(y,k),c(k,A),c(k,I),c(k,P),c(k,w),c(e,C),c(e,O),c(O,M),c(O,E),c(O,R),c(R,L),c(L,q),c(L,j),Z(j,n[6]),c(R,U),c(R,V),c(V,ne),c(V,K),Z(K,n[7]),c(e,Q),c(e,H),c(H,W),c(H,B),c(H,G),c(G,J),c(J,Y),Y.checked=n[10],c(J,ge),c(H,Re),c(H,X),c(e,Se),c(e,pe),c(pe,ie),c(ie,ae),c(pe,oe),c(pe,Ae),c(Ae,je),c(Ae,ze),c(Ae,Me),Be||(We=[T(l,"click",n[31]),T(f,"click",n[30]),T(j,"input",n[39]),T(K,"input",n[40]),T(R,"submit",qe(n[36])),T(Y,"change",n[41]),T(X,"click",n[32]),T(ae,"click",n[24]),T(je,"click",n[30]),T(Me,"click",n[21]),T(Me,"click",n[30])],Be=!0)},p(ye,ke){ke[0]&32768&&h!==(h=ye[15].name+"")&&le(_,h),ke[0]&131072&&le(I,ye[17]),ke[0]&262144&&le(w,ye[18]),ke[0]&64&&j.value!==ye[6]&&Z(j,ye[6]),ke[0]&128&&K.value!==ye[7]&&Z(K,ye[7]),ke[0]&1024&&(Y.checked=ye[10])},d(ye){ye&&N(t),Be=!1,se(We)}}}function Tr(n){let t,e,o,r,l,i,s,a,f,d,h,_=[],g=new Map,m,y,v,b,k,A,I,P=n[5];const w=C=>C[49].id;for(let C=0;C<P.length;C+=1){let O=Cr(n,P,C),M=w(O);g.set(M,_[C]=Ir(M,O))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),l=p("img"),s=S(),a=p("a"),f=F(`\r
          Change Avatar`),d=S(),h=p("section");for(let C=0;C<_.length;C+=1)_[C].c();m=S(),y=p("footer"),v=p("a"),v.textContent="Cancel",b=S(),k=p("a"),k.textContent="Save",_e(l.src,i=n[20])||u(l,"src",i),u(l,"alt","avatar"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(a,"href","#close"),u(a,"class","close"),u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary svelte-1yy3czy"),u(k,"href","#confirm"),u(k,"role","button"),u(k,"class","svelte-1yy3czy"),u(y,"class","svelte-1yy3czy"),t.open=!0},m(C,O){D(C,t,O),c(t,e),c(e,o),c(o,r),c(r,l),c(o,s),c(o,a),c(o,f),c(e,d),c(e,h);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(h,null);c(e,m),c(e,y),c(y,v),c(y,b),c(y,k),A||(I=[T(a,"click",n[31]),T(v,"click",n[31]),T(k,"click",n[23]),T(k,"click",n[33])],A=!0)},p(C,O){O[0]&524832&&(P=C[5],_=Ue(_,O,w,1,C,P,g,h,Ge,Ir,null,Cr))},d(C){C&&N(t);for(let O=0;O<_.length;O+=1)_[O].d();A=!1,se(I)}}}function Ir(n,t){let e,o,r,l,i,s,a,f;return{key:n,first:null,c(){e=p("a"),o=p("figure"),r=p("img"),i=S(),u(r,"class","avatar-list svelte-1yy3czy"),_e(r.src,l=t[19]+t[49].id+"/"+t[49].field)||u(r,"src",l),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-1yy3czy"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-1yy3czy"),u(e,"data-picture",s=t[19]+t[49].id+"/"+t[49].field),this.first=e},m(d,h){D(d,e,h),c(e,o),c(o,r),c(e,i),a||(f=T(e,"click",t[42]),a=!0)},p(d,h){t=d,h[0]&32&&!_e(r.src,l=t[19]+t[49].id+"/"+t[49].field)&&u(r,"src",l),h[0]&32&&s!==(s=t[19]+t[49].id+"/"+t[49].field)&&u(e,"data-picture",s)},d(d){d&&N(e),a=!1,f()}}}function Pr(n){let t,e,o,r,l,i,s,a,f,d,h,_,g,m,y,v,b,k,A,I,P;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),l=F(`\r
          Change Password`),i=S(),s=p("form"),a=p("label"),f=F(`Change Password\r
            `),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),y=S(),v=p("footer"),b=p("a"),b.textContent="Cancel",k=S(),A=p("a"),A.textContent="Update",u(r,"href","#close"),u(r,"class","close"),u(d,"id","oldPassword"),u(d,"name","oldPassword"),u(d,"type","password"),u(d,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[2]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[3]),u(b,"href","#cancel"),u(b,"role","button"),u(b,"class","secondary svelte-1yy3czy"),u(A,"href","#confirm"),u(A,"role","button"),u(A,"class","svelte-1yy3czy"),u(v,"class","svelte-1yy3czy"),t.open=!0},m(w,C){D(w,t,C),c(t,e),c(e,o),c(o,r),c(o,l),c(e,i),c(e,s),c(s,a),c(a,f),c(a,d),Z(d,n[8]),c(s,h),c(s,_),Z(_,n[0]),c(s,g),c(s,m),Z(m,n[1]),c(e,y),c(e,v),c(v,b),c(v,k),c(v,A),I||(P=[T(r,"click",n[32]),T(d,"input",n[43]),T(_,"input",n[44]),T(m,"input",n[45]),T(s,"submit",qe(n[35])),T(b,"click",n[32]),T(A,"click",n[22]),T(A,"click",n[34])],I=!0)},p(w,C){C[0]&256&&d.value!==w[8]&&Z(d,w[8]),C[0]&4&&u(_,"aria-invalid",w[2]),C[0]&1&&_.value!==w[0]&&Z(_,w[0]),C[0]&8&&u(m,"aria-invalid",w[3]),C[0]&2&&m.value!==w[1]&&Z(m,w[1])},d(w){w&&N(t),I=!1,se(P)}}}function wu(n){let t,e;return t=new hu({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Cu(n){let t,e;return t=new uu({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Su(n){let t,e;return t=new Vc({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Au(n){let t,e;return t=new Ga({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Tu(n){let t,e,o,r;const l=[mu,_u],i=[];function s(a,f){return a[15]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=me()},m(a,f){i[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?i[t].p(a,f):(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){x(e),r=!1},d(a){i[t].d(a),a&&N(o)}}}let Iu="/api/files/fhm2u4u1k405dr7/";function Pu(n,t,e){let o,r,l,i;Pe(n,Ve,oe=>e(15,o=oe)),Pe(n,mn,oe=>e(16,r=oe)),Pe(n,bn,oe=>e(17,l=oe)),Pe(n,Dt,oe=>e(18,i=oe));let s,a,f,d=[],h=Yt+Iu,_=o.avatar_from_url;rt(async()=>{o.role==="teacher"?I():k();try{const oe=await he.collection("avatars").getFullList({sort:"-created"});e(5,d=oe)}catch(oe){re.error(oe,{position:ce})}});async function g(){try{const oe={name:P,email:w,isPublic:R},Ae=await he.collection("users").update(o.id,oe);re.success("Profile updated!",{position:ce})}catch(oe){re.error(oe,{position:ce})}}async function m(){if(!s&&!a)try{const oe=new FormData;oe.append("password",C),oe.append("passwordConfirm",O),oe.append("oldPassword",M);const Ae=await he.collection("users").update(o.id,oe);re.success("Password changed successfully!",{position:ce})}catch(oe){re.error(oe,{position:ce})}else s?re.error("Password should be at least 5 characters long",{position:ce}):a&&re.error("Password mismatch",{position:ce})}async function y(){try{const oe={avatar_from_url:E},Ae=await he.collection("users").update(o.id,oe);re.success("Avatar updated!",{position:ce})}catch(oe){re.error(oe,{position:ce})}window.location.reload(),e(9,E="")}function v(){he.authStore.clear(),jn("/")}function b(){e(4,f="Log")}function k(){e(4,f="Books")}function A(){e(4,f="Discover")}function I(){e(4,f="Classroom")}let P=o.name,w=o.email,C,O,M,E,R=o.isPublic,L=!1;function q(){e(11,L=!L)}let j=!1;function U(){e(12,j=!j)}let V=!1;function ne(){e(13,V=!V)}let K=!1;function Q(){e(14,K=!K)}function H(){ne(),U()}function W(){Q(),U()}function B(oe){De.call(this,n,oe)}function G(oe){De.call(this,n,oe)}function J(oe){De.call(this,n,oe)}function Y(){r=this.value,mn.set(r)}function ge(){P=this.value,e(6,P)}function Re(){w=this.value,e(7,w)}function X(){R=this.checked,e(10,R)}const Se=oe=>{e(9,E=oe.currentTarget.getAttribute("data-picture"))};function pe(){M=this.value,e(8,M)}function ie(){C=this.value,e(0,C)}function ae(){O=this.value,e(1,O)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(C&&(C.length>=5?e(2,s=!1):e(2,s=!0)),O&&(O===C?e(3,a=!1):e(3,a=!0)))},[C,O,s,a,f,d,P,w,M,E,R,L,j,V,K,o,r,l,i,h,_,g,m,y,v,b,k,A,I,q,U,ne,Q,H,W,B,G,J,Y,ge,Re,X,Se,pe,ie,ae]}class Ou extends Ce{constructor(t){super(),we(this,t,Pu,Tu,be,{},null,[-1,-1])}}function Lu(n){let t,e;return t=new Nn({props:{$$slots:{default:[Mu]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const l={};r&2&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Eu(n){let t,e;return t=new Ou({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p:te,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){x(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Mu(n){let t,e,o,r,l,i;return t=new dt({props:{path:"/",component:Dn}}),o=new dt({props:{path:"/signup",component:zr}}),l=new dt({props:{path:"/reset",component:ya}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment),r=S(),de(l.$$.fragment)},m(s,a){ue(t,s,a),D(s,e,a),ue(o,s,a),D(s,r,a),ue(l,s,a),i=!0},p:te,i(s){i||($(t.$$.fragment,s),$(o.$$.fragment,s),$(l.$$.fragment,s),i=!0)},o(s){x(t.$$.fragment,s),x(o.$$.fragment,s),x(l.$$.fragment,s),i=!1},d(s){fe(t,s),s&&N(e),fe(o,s),s&&N(r),fe(l,s)}}}function Ru(n){let t,e,o,r;const l=[Eu,Lu],i=[];function s(a,f){return a[0]?0:1}return t=s(n),e=i[t]=l[t](n),{c(){e.c(),o=me()},m(a,f){i[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?i[t].p(a,f):(Le(),x(i[d],1,1,()=>{i[d]=null}),Ee(),e=i[t],e?e.p(a,f):(e=i[t]=l[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){x(e),r=!1},d(a){i[t].d(a),a&&N(o)}}}function ju(n,t,e){let o;return Pe(n,Ve,r=>e(0,o=r)),[o]}class Nu extends Ce{constructor(t){super(),we(this,t,ju,Ru,be,{})}}new Nu({target:document.getElementById("app")});
