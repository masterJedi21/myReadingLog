var al=Object.defineProperty;var cl=(n,t,e)=>t in n?al(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Lt=(n,t,e)=>(cl(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function te(){}function tt(n,t){for(const e in t)n[e]=t[e];return n}function ul(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Er(n){return n()}function Qn(){return Object.create(null)}function ae(n){n.forEach(Er)}function Wt(n){return typeof n=="function"}function be(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Et;function ge(n,t){return Et||(Et=document.createElement("a")),Et.href=t,n===Et.href}function fl(n){return Object.keys(n).length===0}function Ln(n,...t){if(n==null)return te;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function dn(n){let t;return Ln(n,e=>t=e)(),t}function Me(n,t,e){n.$$.on_destroy.push(Ln(t,e))}function Qt(n,t,e,o){if(n){const r=Mr(n,t,e,o);return n[0](r)}}function Mr(n,t,e,o){return n[1]&&o?tt(e.ctx.slice(),n[1](o(t))):e.ctx}function Kt(n,t,e,o){if(n[2]&&o){const r=n[2](o(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function Yt(n,t,e,o,r,i){if(r){const l=Mr(t,e,o,i);n.p(l,r)}}function Xt(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function Kn(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function nn(n,t,e){return n.set(e),t}function c(n,t){n.appendChild(t)}function D(n,t,e){n.insertBefore(t,e||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function F(n){return document.createTextNode(n)}function S(){return F(" ")}function ve(){return F("")}function T(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function Be(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const dl=["width","height"];function Yn(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&dl.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function Mt(n,t,e){t in n?n[t]=typeof n[t]=="boolean"&&e===""?!0:e:u(n,t,e)}function pl(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Je(n){return n===""?null:+n}function hl(n){return Array.from(n.childNodes)}function le(n,t){t=""+t,n.data!==t&&(n.data=t)}function Y(n,t){n.value=t??""}function me(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Ge(n,t,e){for(let o=0;o<n.options.length;o+=1){const r=n.options[o];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function pt(n){const t=n.querySelector(":checked");return t&&t.__value}function vt(n,t,e){n.classList[e?"add":"remove"](t)}function nt(n,t){return new n(t)}let yt;function Ze(n){yt=n}function mt(){if(!yt)throw new Error("Function called outside component initialization");return yt}function st(n){mt().$$.on_mount.push(n)}function En(n){mt().$$.after_update.push(n)}function Mn(n){mt().$$.on_destroy.push(n)}function on(n,t){return mt().$$.context.set(n,t),t}function pn(n){return mt().$$.context.get(n)}function qe(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const dt=[],hn=[];let ht=[];const Xn=[],_l=Promise.resolve();let _n=!1;function ml(){_n||(_n=!0,_l.then(Rn))}function xe(n){ht.push(n)}const rn=new Set;let ut=0;function Rn(){if(ut!==0)return;const n=yt;do{try{for(;ut<dt.length;){const t=dt[ut];ut++,Ze(t),gl(t.$$)}}catch(t){throw dt.length=0,ut=0,t}for(Ze(null),dt.length=0,ut=0;hn.length;)hn.pop()();for(let t=0;t<ht.length;t+=1){const e=ht[t];rn.has(e)||(rn.add(e),e())}ht.length=0}while(dt.length);for(;Xn.length;)Xn.pop()();_n=!1,rn.clear(),Ze(n)}function gl(n){if(n.fragment!==null){n.update(),ae(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(xe)}}function vl(n){const t=[],e=[];ht.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),ht=t}const Dt=new Set;let it;function je(){it={r:0,c:[],p:it}}function Ne(){it.r||ae(it.c),it=it.p}function $(n,t){n&&n.i&&(Dt.delete(n),n.i(t))}function ee(n,t,e,o){if(n&&n.o){if(Dt.has(n))return;Dt.add(n),it.c.push(()=>{Dt.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function Zn(n,t){const e=t.token={};function o(r,i,l,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;l!==void 0&&(a=a.slice(),a[l]=s);const f=r&&(t.current=r)(a);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==i&&h&&(je(),ee(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),Ne())}):t.block.d(1),f.c(),$(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[i]=f),d&&Rn()}if(ul(n)){const r=mt();if(n.then(i=>{Ze(r),o(t.then,1,t.value,i),Ze(null)},i=>{if(Ze(r),o(t.catch,2,t.error,i),Ze(null),!t.hasCatch)throw i}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function bl(n,t,e){const o=t.slice(),{resolved:r}=n;n.current===n.then&&(o[n.value]=r),n.current===n.catch&&(o[n.error]=r),n.block.p(o,e)}function Ve(n,t){n.d(1),t.delete(n.key)}function yl(n,t){ee(n,1,1,()=>{t.delete(n.key)})}function ze(n,t,e,o,r,i,l,s,a,f,d,h){let _=n.length,g=i.length,m=_;const y={};for(;m--;)y[n[m].key]=m;const v=[],b=new Map,w=new Map,A=[];for(m=g;m--;){const C=h(r,i,m),O=e(C);let M=l.get(O);M?o&&A.push(()=>M.p(C,t)):(M=f(O,C),M.c()),b.set(O,v[m]=M),O in y&&w.set(O,Math.abs(m-y[O]))}const I=new Set,P=new Set;function k(C){$(C,1),C.m(s,d),l.set(C.key,C),d=C.first,g--}for(;_&&g;){const C=v[g-1],O=n[_-1],M=C.key,E=O.key;C===O?(d=C.first,_--,g--):b.has(E)?!l.has(M)||I.has(M)?k(C):P.has(E)?_--:w.get(M)>w.get(E)?(P.add(M),k(C)):(I.add(E),_--):(a(O,l),_--)}for(;_--;){const C=n[_];b.has(C.key)||a(C,l)}for(;g;)k(v[g-1]);return ae(A),v}function At(n,t){const e={},o={},r={$$scope:1};let i=n.length;for(;i--;){const l=n[i],s=t[i];if(s){for(const a in l)a in s||(o[a]=1);for(const a in s)r[a]||(e[a]=s[a],r[a]=1);n[i]=s}else for(const a in l)r[a]=1}for(const l in o)l in e||(e[l]=void 0);return e}function kt(n){return typeof n=="object"&&n!==null?n:{}}function de(n){n&&n.c()}function ce(n,t,e,o){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),o||xe(()=>{const l=n.$$.on_mount.map(Er).filter(Wt);n.$$.on_destroy?n.$$.on_destroy.push(...l):ae(l),n.$$.on_mount=[]}),i.forEach(xe)}function ue(n,t){const e=n.$$;e.fragment!==null&&(vl(e.after_update),ae(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function kl(n,t){n.$$.dirty[0]===-1&&(dt.push(n),ml(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Ce(n,t,e,o,r,i,l,s=[-1]){const a=yt;Ze(n);const f=n.$$={fragment:null,ctx:[],props:i,update:te,not_equal:r,bound:Qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Qn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return f.ctx&&r(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&kl(n,h)),_}):[],f.update(),d=!0,ae(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const h=hl(t.target);f.fragment&&f.fragment.l(h),h.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&$(n.$$.fragment),ce(n,t.target,t.anchor,t.customElement),Rn()}Ze(a)}class Se{$destroy(){ue(this,1),this.$destroy=te}$on(t,e){if(!Wt(e))return te;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const r=o.indexOf(e);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!fl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var mn=function(n,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},mn(n,t)};function Re(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}mn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gn=function(){return gn=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gn.apply(this,arguments)};function Le(n,t,e,o){return new(e||(e=Promise))(function(r,i){function l(f){try{a(o.next(f))}catch(d){i(d)}}function s(f){try{a(o.throw(f))}catch(d){i(d)}}function a(f){f.done?r(f.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(f.value).then(l,s)}a((o=o.apply(n,t||[])).next())})}function Ee(n,t){var e,o,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(a){return function(f){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(l=0)),l;)try{if(e=1,o&&(r=2&h[0]?o.return:h[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,h[1])).done)return r;switch(o=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,o=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){l.label=h[1];break}if(h[0]===6&&l.label<r[1]){l.label=r[1],r=h;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(h);break}r[2]&&l.ops.pop(),l.trys.pop();continue}h=t.call(n,l)}catch(_){h=[6,_],o=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,f])}}}var Rr,$e=function(n){function t(e){var o,r,i,l,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((l=(i=(r=s.originalError)===null||r===void 0?void 0:r.cause)===null||i===void 0?void 0:i.message)===null||l===void 0)&&l.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Re(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return gn({},this)},t}(Error),Rt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function $n(n,t,e){var o=Object.assign({},e||{}),r=o.encode||Cl;if(!Rt.test(n))throw new TypeError("argument name is invalid");var i=r(t);if(i&&!Rt.test(i))throw new TypeError("argument val is invalid");var l=n+"="+i;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Rt.test(o.domain))throw new TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!Rt.test(o.path))throw new TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function wl(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Cl(n){return encodeURIComponent(n)}function jr(n){if(n)try{var t=decodeURIComponent(Rr(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Sl(n,t){t===void 0&&(t=0);var e=jr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Rr=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,r=0,i=0,l="";o=t.charAt(i++);~o&&(e=r%4?64*e+o:o,r++%4)?l+=String.fromCharCode(255&e>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return l};var Tt=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var r=o[e],i=r[0],l=r[1];this[i]=l}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),zt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(r){return new t(r||{})}):this.expand[o]=new t(e[o]||{})},t}(Tt),jn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Tt),xn="pb_auth",Al=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Sl(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new zt(e):new jn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=xn);var o=function(l,s){var a={};if(typeof l!="string")return a;for(var f=Object.assign({},s||{}).decode||wl,d=0;d<l.length;){var h=l.indexOf("=",d);if(h===-1)break;var _=l.indexOf(";",d);if(_===-1)_=l.length;else if(_<h){d=l.lastIndexOf(";",h-1)+1;continue}var g=l.slice(d,h).trim();if(a[g]===void 0){var m=l.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=f(m)}catch{a[g]=m}}d=_+1}return a}(t||"")[e]||"",r={};try{(typeof(r=JSON.parse(o))===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)},n.prototype.exportToCookie=function(t,e){var o,r,i;e===void 0&&(e=xn);var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=jr(this.token);s!=null&&s.exp?l.expires=new Date(1e3*s.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},f=$n(e,JSON.stringify(a),t),d=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&d>4096&&(a.model={id:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.id,email:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.email},this.model instanceof zt&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=$n(e,JSON.stringify(a),t)),f},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var r=o._onChangeCallbacks.length-1;r>=0;r--)if(o._onChangeCallbacks[r]==t)return delete o._onChangeCallbacks[r],void o._onChangeCallbacks.splice(r,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Tl=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return Re(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new jn(o.model):new zt(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=o;typeof o!="string"&&(r=JSON.stringify(o)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Al),at=function(t){this.client=t},Il=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(r){return r||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var r={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.testEmail=function(e,o,r){r===void 0&&(r={});var i={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:r,body:i}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,r,i,l,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:r,privateKey:i,duration:l},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(at),Nr=function(t,e,o,r,i){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=r>=0?r:0,this.items=i||[]},Nn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var r=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,r.batch||200,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),this._getList(this.baseCrudPath,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),this._update(this.baseCrudPath,e,o,r)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype._getFullList=function(e,o,r){var i=this;o===void 0&&(o=200),r===void 0&&(r={});var l=[],s=function(a){return Le(i,void 0,void 0,function(){return Ee(this,function(f){return[2,this._getList(e,a,o||200,r).then(function(d){var h=d,_=h.items,g=h.totalItems;return l=l.concat(_),_.length&&g>l.length?s(a+1):l})]})})};return s(1)},t.prototype._getList=function(e,o,r,i){var l=this;return o===void 0&&(o=1),r===void 0&&(r=30),i===void 0&&(i={}),i=Object.assign({page:o,perPage:r},i),this.client.send(e,{method:"GET",params:i}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var f=0,d=s.items;f<d.length;f++){var h=d[f];a.push(l.decode(h))}}return new Nr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,r){var i=this;return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:r}).then(function(l){return i.decode(l)})},t.prototype._getFirstListItem=function(e,o,r){return r===void 0&&(r={}),r=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},r),this._getList(e,1,1,r).then(function(i){var l;if(!(!((l=i==null?void 0:i.items)===null||l===void 0)&&l.length))throw new $e({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})},t.prototype._create=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e,{method:"POST",params:r,body:o}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:i,body:r}).then(function(s){return l.decode(s)})},t.prototype._delete=function(e,o,r){return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t}(at)),Pl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.decode=function(e){return new jn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a;return i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===(l==null?void 0:l.id)&&i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s;return i&&r.client.authStore.model&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t}(Nn),Ol=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Tt),Ll=function(n){function t(e,o){var r=n.call(this,e)||this;return r.collectionIdOrName=o,r}return Re(t,n),t.prototype.decode=function(e){return new zt(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Le(this,void 0,void 0,function(){return Ee(this,function(r){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Le(this,void 0,void 0,function(){var r;return Ee(this,function(i){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return r=this.collectionIdOrName,e!=="*"&&(r+="/"+e),[2,this.client.realtime.subscribe(r,o)]})})},t.prototype.unsubscribe=function(e){return Le(this,void 0,void 0,function(){return Ee(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var r=Object.assign({},e,o);return n.prototype.getFullList.call(this,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),n.prototype.getList.call(this,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a,f;return((s=i.client.authStore.model)===null||s===void 0?void 0:s.id)!==(l==null?void 0:l.id)||((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==i.collectionIdOrName&&((f=i.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==i.collectionIdOrName||i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s,a;return!i||((l=r.client.authStore.model)===null||l===void 0?void 0:l.id)!==e||((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==r.collectionIdOrName&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==r.collectionIdOrName||r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(function(s){return l.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,r,i,l,s,a){var f=this;return l===void 0&&(l={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:r,redirectUrl:i,createData:l},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(d){return f.authResponse(d)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Le(this,void 0,void 0,function(){var r,i,l,s,a=this;return Ee(this,function(f){switch(f.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(r=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(i=f.sent(),!(l=i.authProviders.find(function(d){return d.name===r.provider})))throw new $e(new Error('Missing or invalid provider "'.concat(r.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,h){return Le(a,void 0,void 0,function(){var _,g,m,y,v=this;return Ee(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(w){return Le(v,void 0,void 0,function(){var A,I,P;return Ee(this,function(k){switch(k.label){case 0:A=this.client.realtime.clientId,k.label=1;case 1:if(k.trys.push([1,3,,4]),_(),!w.state||A!==w.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(l.name,w.code,l.codeVerifier,s,r.createData,r.body,r.query)];case 2:return I=k.sent(),d(I),[3,4];case 3:return P=k.sent(),h(new $e(P)),[3,4];case 4:return[2]}})})})];case 1:return _=b.sent(),(g=new URL(l.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((y=r.scopes)===null||y===void 0)&&y.length&&g.searchParams.set("scope",r.scopes.join(" ")),[4,r.urlCallback?r.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),h(new $e(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var r=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(i){return r.authResponse(i)})},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:o},r),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:i,body:r}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(r){var i=[];if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];i.push(new Ol(a))}return i})},t.prototype.unlinkExternalAuth=function(e,o,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new $e(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,r=768,i=window.innerWidth,l=window.innerHeight,s=i/2-(o=o>i?i:o)/2,a=l/2-(r=r>l?l:r)/2;window.open(e,"oauth2-popup","width="+o+",height="+r+",top="+a+",left="+s+",resizable,menubar=no")},t}(Nn),El=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ml=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,r=e.schema;o<r.length;o++){var i=r[o];this.schema.push(new El(i))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Tt),Rl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.decode=function(e){return new Ml(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,r){return o===void 0&&(o=!1),r===void 0&&(r={}),Le(this,void 0,void 0,function(){return Ee(this,function(i){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:r,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Nn),eo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Tt),jl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.getRequestsList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:o},r),this.client.send("/api/logs/requests",{method:"GET",params:r}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var s=0,a=i.items;s<a.length;s++){var f=a[s];l.push(new eo(f))}}return new Nr((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(r){return new eo(r)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(at),Nl=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Re(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var r;return Le(this,void 0,void 0,function(){var i,l=this;return Ee(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return i=function(a){var f,d=a;try{f=JSON.parse(d==null?void 0:d.data)}catch{}o(f||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(i),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(r=this.eventSource)===null||r===void 0||r.addEventListener(e,i),s.label=5;case 5:return[2,function(){return Le(l,void 0,void 0,function(){return Ee(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,i)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Le(this,void 0,void 0,function(){var r,i,l;return Ee(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(r=0,i=this.subscriptions[e];r<i.length;r++)l=i[r],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,l);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Le(this,void 0,void 0,function(){var r,i,l,s,a;return Ee(this,function(f){switch(f.label){case 0:for(i in r=!1,this.subscriptions)if(i.startsWith(e)){for(r=!0,l=0,s=this.subscriptions[i];l<s.length;l++)a=s[l],(o=this.eventSource)===null||o===void 0||o.removeEventListener(i,a);delete this.subscriptions[i]}return r?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var r;return Le(this,void 0,void 0,function(){var i,l;return Ee(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(i=!1,l=this.subscriptions[e].length-1;l>=0;l--)this.subscriptions[e][l]===o&&(i=!0,delete this.subscriptions[e][l],this.subscriptions[e].splice(l,1),(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,o));return i?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,r;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var i in this.subscriptions)if(!((r=this.subscriptions[i])===null||r===void 0)&&r.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Le(this,void 0,void 0,function(){return Ee(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.addEventListener(e,i)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.removeEventListener(e,i)}},t.prototype.connect=function(){return Le(this,void 0,void 0,function(){var e=this;return Ee(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(r,i){e.pendingConnects.push({resolve:r,reject:i}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var r=o;e.clientId=r==null?void 0:r.lastEventId,e.submitSubscriptions().then(function(){return Le(e,void 0,void 0,function(){var i;return Ee(this,function(l){switch(l.label){case 0:i=3,l.label=1;case 1:return this.hasUnsentSubscriptions()&&i>0?(i--,[4,this.submitSubscriptions()]):[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var i=0,l=e.pendingConnects;i<l.length;i++)l[i].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(i){e.clientId="",e.connectErrorHandler(i)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,r=e;o<r.length;o++){var i=r[o];if(!this.lastSentTopics.includes(i))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var r=0,i=this.pendingConnects;r<i.length;r++)i[r].reject(new $e(e));this.disconnect()}else{this.disconnect(!0);var l=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},l)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var r=new $e(new Error("Realtime disconnected.")),i=0,l=this.pendingConnects;i<l.length;i++)l[i].reject(r);this.pendingConnects=[]}},t}(at),Dl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(at),ql=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.getUrl=function(e,o,r){r===void 0&&(r={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(o));var l=this.client.buildUrl(i.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);l+=(l.includes("?")?"&":"?")+s}return l},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(at),Bl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Re(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var r={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(at),Fl=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Tl,this.admins=new Pl(this),this.collections=new Rl(this),this.files=new ql(this),this.logs=new jl(this),this.settings=new Il(this),this.realtime=new Nl(this),this.health=new Dl(this),this.backups=new Bl(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Ll(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,r,i,l,s,a,f,d;return Le(this,void 0,void 0,function(){var h,_,g,m,y,v,b,w,A,I=this;return Ee(this,function(P){switch(P.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((i=this.authStore)===null||i===void 0)&&i.token&&((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(f=h.params)===null||f===void 0||delete f.$autoCancel,(d=h.params)===null||d===void 0||delete d.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((y=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+y),delete h.params),this.beforeSend?(w=(b=Object).assign,A=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(v=w.apply(b,A.concat([P.sent()]))).url!==void 0||v.options!==void 0?(m=v.url||m,h=v.options||h):Object.keys(v).length&&(h=v,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),P.label=2;case 2:return[2,fetch(m,h).then(function(k){return Le(I,void 0,void 0,function(){var C;return Ee(this,function(O){switch(O.label){case 0:C={},O.label=1;case 1:return O.trys.push([1,3,,4]),[4,k.json()];case 2:return C=O.sent(),[3,4];case 3:return O.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(k,C)]:[3,6];case 5:C=O.sent(),O.label=6;case 6:if(k.status>=400)throw new $e({url:k.url,status:k.status,data:C});return[2,C]}})})}).catch(function(k){throw new $e(k)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var r=t[o],i=encodeURIComponent(o);if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];e.push(i+"="+encodeURIComponent(a))}else r instanceof Date?e.push(i+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(r))):e.push(i+"="+encodeURIComponent(r))}return e.join("&")},n}();const ft=[];function Ul(n,t){return{subscribe:He(n,t).subscribe}}function He(n,t=te){let e;const o=new Set;function r(s){if(be(n,s)&&(n=s,e)){const a=!ft.length;for(const f of o)f[1](),ft.push(f,n);if(a){for(let f=0;f<ft.length;f+=2)ft[f][0](ft[f+1]);ft.length=0}}}function i(s){r(s(n))}function l(s,a=te){const f=[s,a];return o.add(f),o.size===1&&(e=t(r)||te),s(n),()=>{o.delete(f),o.size===0&&e&&(e(),e=null)}}return{set:r,update:i,subscribe:l}}function Dr(n,t,e){const o=!Array.isArray(n),r=o?[n]:n,i=t.length<2;return Ul(e,l=>{let s=!1;const a=[];let f=0,d=te;const h=()=>{if(f)return;d();const g=t(o?a[0]:a,l);i?l(g):d=Wt(g)?g:te},_=r.map((g,m)=>Ln(g,y=>{a[m]=y,f&=~(1<<m),s&&h()},()=>{f|=1<<m}));return s=!0,h(),function(){ae(_),d(),s=!1}})}const Zt="https://pb.readinglog.fun:4444",pe=new Fl(Zt),Ke=He(pe.authStore.model);pe.authStore.onChange(n=>{console.log("authStore changed",n),Ke.set(pe.authStore.model)});const vn=He("10"),fe="bottom-center",to={},bn={},zl={},qr=/^:(.+)/,no=4,Hl=3,Jl=2,Gl=1,Vl=1,yn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),ln=n=>n.replace(/(^\/+|\/+$)/g,""),Wl=(n,t)=>{const e=n.default?0:yn(n.path).reduce((o,r)=>(o+=no,r===""?o+=Vl:qr.test(r)?o+=Jl:r[0]==="*"?o-=no+Gl:o+=Hl,o),0);return{route:n,score:e,index:t}},Ql=n=>n.map(Wl).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),oo=(n,t)=>{let e,o;const[r]=t.split("?"),i=yn(r),l=i[0]==="",s=Ql(n);for(let a=0,f=s.length;a<f;a++){const d=s[a].route;let h=!1;if(d.default){o={route:d,params:{},uri:t};continue}const _=yn(d.path),g={},m=Math.max(i.length,_.length);let y=0;for(;y<m;y++){const v=_[y],b=i[y];if(v&&v[0]==="*"){const A=v==="*"?"*":v.slice(1);g[A]=i.slice(y).map(decodeURIComponent).join("/");break}if(typeof b>"u"){h=!0;break}const w=qr.exec(v);if(w&&!l){const A=decodeURIComponent(b);g[w[1]]=A}else if(v!==b){h=!0;break}}if(!h){e={route:d,params:g,uri:"/"+i.slice(0,y).join("/")};break}}return e||o||null},ro=(n,t)=>`${ln(t==="/"?n:`${ln(n)}/${ln(t)}`)}/`,Br=typeof window<"u"&&"document"in window,sn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Kl=n=>{const t=[];let e=sn(n);return{get location(){return e},listen(o){t.push(o);const r=()=>{e=sn(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",r),()=>{n.removeEventListener("popstate",r);const i=t.indexOf(o);t.splice(i,1)}},navigate(o,{state:r,replace:i=!1}={}){r={...r,key:Date.now()+""};try{i?n.history.replaceState(r,"",o):n.history.pushState(r,"",o)}catch{n.location[i?"replace":"assign"](o)}e=sn(n),t.forEach(l=>l({location:e,action:"PUSH"})),document.activeElement.blur()}}},Yl=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(r,i){},removeEventListener(r,i){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(r,i,l){const[s,a=""]=l.split("?");t++,e.push({pathname:s,search:a}),o.push(r)},replaceState(r,i,l){const[s,a=""]=l.split("?");e[t]={pathname:s,search:a},o[t]=r}}}},Fr=Kl(Br?window:Yl()),{navigate:Dn}=Fr,Xl=n=>({route:n&2,location:n&1}),io=n=>({route:n[1]&&n[1].uri,location:n[0]});function Zl(n){let t;const e=n[12].default,o=Qt(e,n,n[11],io);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,[i]){o&&o.p&&(!t||i&2051)&&Yt(o,e,r,r[11],t?Kt(e,r[11],i,Xl):Xt(r[11]),io)},i(r){t||($(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function $l(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{basepath:f="/"}=t,{url:d=null}=t,{history:h=Fr}=t;on(zl,h);const _=pn(to),g=pn(bn),m=He([]);Me(n,m,k=>e(9,r=k));const y=He(null);Me(n,y,k=>e(1,l=k));let v=!1;const b=_||He(d?{pathname:d}:h.location);Me(n,b,k=>e(0,o=k));const w=g?g.routerBase:He({path:f,uri:f});Me(n,w,k=>e(10,i=k));const A=Dr([w,y],([k,C])=>{if(!C)return k;const{path:O}=k,{route:M,uri:E}=C;return{path:M.default?O:M.path.replace(/\*.*$/,""),uri:E}}),I=k=>{const{path:C}=i;let{path:O}=k;if(k._path=O,k.path=ro(C,O),typeof window>"u"){if(v)return;const M=oo([k],o.pathname);M&&(y.set(M),v=!0)}else m.update(M=>[...M,k])},P=k=>{m.update(C=>C.filter(O=>O!==k))};return _||(st(()=>h.listen(C=>{b.set(C.location)})),on(to,b)),on(bn,{activeRoute:y,base:w,routerBase:A,registerRoute:I,unregisterRoute:P}),n.$$set=k=>{"basepath"in k&&e(6,f=k.basepath),"url"in k&&e(7,d=k.url),"history"in k&&e(8,h=k.history),"$$scope"in k&&e(11,a=k.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:k}=i;m.update(C=>C.map(O=>({...O,path:ro(k,O._path)})))}if(n.$$.dirty&513){const k=oo(r,o.pathname);y.set(k)}},[o,l,m,y,b,w,f,d,h,r,i,a,s]}class qn extends Se{constructor(t){super(),Ce(this,t,$l,Zl,be,{basepath:6,url:7,history:8})}}const xl=n=>({params:n&4}),lo=n=>({params:n[2]});function so(n){let t,e,o,r;const i=[ts,es],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}function es(n){let t;const e=n[8].default,o=Qt(e,n,n[7],lo);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,i){o&&o.p&&(!t||i&132)&&Yt(o,e,r,r[7],t?Kt(e,r[7],i,xl):Xt(r[7]),lo)},i(r){t||($(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function ts(n){let t,e,o,r={ctx:n,current:null,token:null,hasCatch:!1,pending:rs,then:os,catch:ns,value:12,blocks:[,,,]};return Zn(e=n[0],r),{c(){t=ve(),r.block.c()},m(i,l){D(i,t,l),r.block.m(i,r.anchor=l),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(i,l){n=i,r.ctx=n,l&1&&e!==(e=n[0])&&Zn(e,r)||bl(r,n,l)},i(i){o||($(r.block),o=!0)},o(i){for(let l=0;l<3;l+=1){const s=r.blocks[l];ee(s)}o=!1},d(i){i&&N(t),r.block.d(i),r.token=null,r=null}}}function ns(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function os(n){var s;let t,e,o;const r=[n[2],n[3]];var i=((s=n[12])==null?void 0:s.default)||n[12];function l(a){let f={};for(let d=0;d<r.length;d+=1)f=tt(f,r[d]);return{props:f}}return i&&(t=nt(i,l())),{c(){t&&de(t.$$.fragment),e=ve()},m(a,f){t&&ce(t,a,f),D(a,e,f),o=!0},p(a,f){var h;const d=f&12?At(r,[f&4&&kt(a[2]),f&8&&kt(a[3])]):{};if(f&1&&i!==(i=((h=a[12])==null?void 0:h.default)||a[12])){if(t){je();const _=t;ee(_.$$.fragment,1,0,()=>{ue(_,1)}),Ne()}i?(t=nt(i,l()),de(t.$$.fragment),$(t.$$.fragment,1),ce(t,e.parentNode,e)):t=null}else i&&t.$set(d)},i(a){o||(t&&$(t.$$.fragment,a),o=!0)},o(a){t&&ee(t.$$.fragment,a),o=!1},d(a){a&&N(e),t&&ue(t,a)}}}function rs(n){return{c:te,m:te,p:te,i:te,o:te,d:te}}function is(n){let t,e,o=n[1]&&n[1].route===n[5]&&so(n);return{c(){o&&o.c(),t=ve()},m(r,i){o&&o.m(r,i),D(r,t,i),e=!0},p(r,[i]){r[1]&&r[1].route===r[5]?o?(o.p(r,i),i&2&&$(o,1)):(o=so(r),o.c(),$(o,1),o.m(t.parentNode,t)):o&&(je(),ee(o,1,1,()=>{o=null}),Ne())},i(r){e||($(o),e=!0)},o(r){ee(o),e=!1},d(r){o&&o.d(r),r&&N(t)}}}function ls(n,t,e){let o,{$$slots:r={},$$scope:i}=t,{path:l=""}=t,{component:s=null}=t,a={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:_}=pn(bn);Me(n,_,m=>e(1,o=m));const g={path:l,default:l===""};return d(g),Mn(()=>{h(g)}),n.$$set=m=>{e(11,t=tt(tt({},t),Kn(m))),"path"in m&&e(6,l=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,i=m.$$scope)},n.$$.update=()=>{{o&&o.route===g&&e(2,a=o.params);const{component:m,path:y,...v}=t;e(3,f=v),Br&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=Kn(t),[s,o,a,f,_,g,l,i,r]}class _t extends Se{constructor(t){super(),Ce(this,t,ls,is,be,{path:6,component:0})}}function ss(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(r,i){D(r,t,i),e||(o=T(t,"click",n[0]),e=!0)},p:te,i:te,o:te,d(r){r&&N(t),e=!1,o()}}}function as(n){function t(){Dn("/signup")}return[t]}class cs extends Se{constructor(t){super(),Ce(this,t,as,ss,be,{})}}function us(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P;return m=new cs({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),de(m.$$.fragment),y=S(),v=p("br"),b=S(),w=p("a"),w.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(d,"placeholder","Password"),u(d,"type","password"),u(_,"class","svelte-unkkz3"),u(w,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(k,C){D(k,t,C),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),Y(a,n[0]),c(s,f),c(s,d),Y(d,n[1]),c(s,h),c(s,_),c(r,g),ce(m,r,null),c(r,y),c(r,v),c(r,b),c(r,w),A=!0,I||(P=[T(a,"input",n[4]),T(d,"input",n[5]),T(_,"click",n[2]),T(s,"submit",Be(n[3]))],I=!0)},p(k,[C]){C&1&&a.value!==k[0]&&Y(a,k[0]),C&2&&d.value!==k[1]&&Y(d,k[1])},i(k){A||($(m.$$.fragment,k),A=!0)},o(k){ee(m.$$.fragment,k),A=!1},d(k){k&&N(t),ue(m),I=!1,ae(P)}}}function fs(n,t,e){let o,r;async function i(){try{const f=await pe.collection("users").authWithPassword(o,r);console.log(f)}catch(f){alert(f)}}function l(f){qe.call(this,n,f)}function s(){o=this.value,e(0,o)}function a(){r=this.value,e(1,r)}return[o,r,i,l,s,a]}class Bn extends Se{constructor(t){super(),Ce(this,t,fs,us,be,{})}}function ds(n,t,e,o){var r,i,l=!1,s=e.length>=2,a=(m,y,v)=>{if(r=y,s&&(i=m),!l){let b=t(m,y,v);if(t.length<2)y(b);else return b}l=!1},f=Dr(n,a,o),d=!Array.isArray(n);function h(m){var y=e(m,i);d?(l=!0,n.set(y)):y.forEach((v,b)=>{l=!0,n[b].set(v)}),l=!1}var _=!1;function g(m){var y,v,b,w;if(_){w=m(dn(f)),r(w);return}var A=f.subscribe(I=>{_?y?v=!0:y=!0:b=I});w=m(b),_=!0,r(w),A(),_=!1,v&&(w=dn(f)),y&&h(w)}return{subscribe:f.subscribe,set(m){g(()=>m)},update:g}}const ps=20,ct=He([]),Fn=He(null),qt=new Map,ao=n=>{if(qt.has(n))return;const t=setTimeout(()=>{qt.delete(n),zr(n)},1e3);qt.set(n,t)},hs=n=>{const t=qt.get(n);t&&clearTimeout(t)};function Ur(n){n.id&&hs(n.id),ct.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function _s(n){ct.update(t=>[n,...t].slice(0,ps))}function ms(n){dn(ct).find(t=>t.id===n.id)?Ur(n):_s(n)}function gs(n){ct.update(t=>(n?ao(n):t.forEach(e=>{ao(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function zr(n){ct.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function vs(n){Fn.set(n)}function bs(n){let t;Fn.update(e=>(t=n-(e||0),null)),ct.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const ys={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ks(n={}){return{toasts:ds(ct,e=>e.map(o=>{var r,i;return{...n,...n[o.type],...o,duration:o.duration||((r=n[o.type])==null?void 0:r.duration)||(n==null?void 0:n.duration)||ys[o.type],style:[n.style,(i=n[o.type])==null?void 0:i.style,o.style].join(";")}}),e=>e),pausedAt:Fn}}const ws=n=>typeof n=="function",co=(n,t)=>ws(n)?n(t):n,Cs=(()=>{let n=0;return()=>(n+=1,n.toString())})(),Hr=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ss=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Cs()}),It=n=>(t,e)=>{const o=Ss(t,n,e);return ms(o),o.id},ie=(n,t)=>It("blank")(n,t);ie.error=It("error");ie.success=It("success");ie.loading=It("loading");ie.custom=It("custom");ie.dismiss=n=>{gs(n)};ie.remove=n=>zr(n);ie.promise=(n,t,e)=>{const o=ie.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(r=>(ie.success(co(t.success,r),{id:o,...e,...e==null?void 0:e.success}),r)).catch(r=>{ie.error(co(t.error,r),{id:o,...e,...e==null?void 0:e.error})}),n};function As(n,t,e){const{reverseOrder:o,gutter:r=8,defaultPosition:i}=e||{},l=t.filter(d=>(d.position||i)===(n.position||i)&&d.height),s=l.findIndex(d=>d.id===n.id),a=l.filter((d,h)=>h<s&&d.visible).length;return l.filter(d=>d.visible).slice(...o?[a+1]:[0,a]).reduce((d,h)=>d+(h.height||0)+r,0)}const Ts={startPause(){vs(Date.now())},endPause(){bs(Date.now())},updateHeight:(n,t)=>{Ur({id:n,height:t})},calculateOffset:As};function Is(n){const{toasts:t,pausedAt:e}=ks(n),o=new Map;let r;const i=[e.subscribe(l=>{if(l){for(const[,s]of o)clearTimeout(s);o.clear()}r=l}),t.subscribe(l=>{if(r)return;const s=Date.now();for(const a of l){if(o.has(a.id)||a.duration===1/0)continue;const f=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(f<0)return a.visible&&ie.dismiss(a.id),null;o.set(a.id,setTimeout(()=>ie.dismiss(a.id),f))}})];return Mn(()=>{for(const l of i)l()}),{toasts:t,handlers:Ts}}function Ps(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Os(n,t,e){let{primary:o="#61d345"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ls extends Se{constructor(t){super(),Ce(this,t,Os,Ps,be,{primary:0,secondary:1})}}function Es(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Ms(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Rs extends Se{constructor(t){super(),Ce(this,t,Ms,Es,be,{primary:0,secondary:1})}}function js(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:te,o:te,d(e){e&&N(t)}}}function Ns(n,t,e){let{primary:o="#616161"}=t,{secondary:r="#e0e0e0"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ds extends Se{constructor(t){super(),Ce(this,t,Ns,js,be,{primary:0,secondary:1})}}function qs(n){let t,e,o,r;const i=[n[0]];let l={};for(let a=0;a<i.length;a+=1)l=tt(l,i[a]);e=new Ds({props:l});let s=n[2]!=="loading"&&uo(n);return{c(){t=p("div"),de(e.$$.fragment),o=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,f){D(a,t,f),ce(e,t,null),c(t,o),s&&s.m(t,null),r=!0},p(a,f){const d=f&1?At(i,[kt(a[0])]):{};e.$set(d),a[2]!=="loading"?s?(s.p(a,f),f&4&&$(s,1)):(s=uo(a),s.c(),$(s,1),s.m(t,null)):s&&(je(),ee(s,1,1,()=>{s=null}),Ne())},i(a){r||($(e.$$.fragment,a),$(s),r=!0)},o(a){ee(e.$$.fragment,a),ee(s),r=!1},d(a){a&&N(t),ue(e),s&&s.d()}}}function Bs(n){let t,e,o;var r=n[1];function i(l){return{}}return r&&(t=nt(r,i())),{c(){t&&de(t.$$.fragment),e=ve()},m(l,s){t&&ce(t,l,s),D(l,e,s),o=!0},p(l,s){if(s&2&&r!==(r=l[1])){if(t){je();const a=t;ee(a.$$.fragment,1,0,()=>{ue(a,1)}),Ne()}r?(t=nt(r,i()),de(t.$$.fragment),$(t.$$.fragment,1),ce(t,e.parentNode,e)):t=null}},i(l){o||(t&&$(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ue(t,l)}}}function Fs(n){let t,e;return{c(){t=p("div"),e=F(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,r){D(o,t,r),c(t,e)},p(o,r){r&2&&le(e,o[1])},i:te,o:te,d(o){o&&N(t)}}}function uo(n){let t,e,o,r;const i=[zs,Us],l=[];function s(a,f){return a[2]==="error"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,f){D(a,t,f),l[e].m(t,null),r=!0},p(a,f){let d=e;e=s(a),e===d?l[e].p(a,f):(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),$(o,1),o.m(t,null))},i(a){r||($(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&N(t),l[e].d()}}}function Us(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=tt(r,o[i]);return t=new Ls({props:r}),{c(){de(t.$$.fragment)},m(i,l){ce(t,i,l),e=!0},p(i,l){const s=l&1?At(o,[kt(i[0])]):{};t.$set(s)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){ue(t,i)}}}function zs(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=tt(r,o[i]);return t=new Rs({props:r}),{c(){de(t.$$.fragment)},m(i,l){ce(t,i,l),e=!0},p(i,l){const s=l&1?At(o,[kt(i[0])]):{};t.$set(s)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){ue(t,i)}}}function Hs(n){let t,e,o,r;const i=[Fs,Bs,qs],l=[];function s(a,f){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=l[t]=i[t](n)),{c(){e&&e.c(),o=ve()},m(a,f){~t&&l[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?~t&&l[t].p(a,f):(e&&(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne()),~t?(e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),$(e,1),e.m(o.parentNode,o)):e=null)},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){~t&&l[t].d(a),a&&N(o)}}}function Js(n,t,e){let o,r,i,{toast:l}=t;return n.$$set=s=>{"toast"in s&&e(3,l=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:r,iconTheme:i}=l,o,(e(1,r),e(3,l)),(e(0,i),e(3,l)))},[i,r,o,l]}class Un extends Se{constructor(t){super(),Ce(this,t,Js,Hs,be,{toast:3})}}function Gs(n){let t,e,o;var r=n[0].message;function i(l){return{props:{toast:l[0]}}}return r&&(t=nt(r,i(n))),{c(){t&&de(t.$$.fragment),e=ve()},m(l,s){t&&ce(t,l,s),D(l,e,s),o=!0},p(l,s){const a={};if(s&1&&(a.toast=l[0]),s&1&&r!==(r=l[0].message)){if(t){je();const f=t;ee(f.$$.fragment,1,0,()=>{ue(f,1)}),Ne()}r?(t=nt(r,i(l)),de(t.$$.fragment),$(t.$$.fragment,1),ce(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&$(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ue(t,l)}}}function Vs(n){let t=n[0].message+"",e;return{c(){e=F(t)},m(o,r){D(o,e,r)},p(o,r){r&1&&t!==(t=o[0].message+"")&&le(e,t)},i:te,o:te,d(o){o&&N(e)}}}function Ws(n){let t,e,o,r;const i=[Vs,Gs],l=[];function s(d,h){return typeof d[0].message=="string"?0:1}e=s(n),o=l[e]=i[e](n);let a=[{class:"message"},n[0].ariaProps],f={};for(let d=0;d<a.length;d+=1)f=tt(f,a[d]);return{c(){t=p("div"),o.c(),Yn(t,f),vt(t,"svelte-1nauejd",!0)},m(d,h){D(d,t,h),l[e].m(t,null),r=!0},p(d,[h]){let _=e;e=s(d),e===_?l[e].p(d,h):(je(),ee(l[_],1,1,()=>{l[_]=null}),Ne(),o=l[e],o?o.p(d,h):(o=l[e]=i[e](d),o.c()),$(o,1),o.m(t,null)),Yn(t,f=At(a,[{class:"message"},h&1&&d[0].ariaProps])),vt(t,"svelte-1nauejd",!0)},i(d){r||($(o),r=!0)},o(d){ee(o),r=!1},d(d){d&&N(t),l[e].d()}}}function Qs(n,t,e){let{toast:o}=t;return n.$$set=r=>{"toast"in r&&e(0,o=r.toast)},[o]}class $t extends Se{constructor(t){super(),Ce(this,t,Qs,Ws,be,{toast:0})}}const Ks=n=>({toast:n&1}),fo=n=>({ToastIcon:Un,ToastMessage:$t,toast:n[0]});function Ys(n){let t;const e=n[6].default,o=Qt(e,n,n[7],fo),r=o||Zs(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Yt(o,e,i,i[7],t?Kt(e,i[7],l,Ks):Xt(i[7]),fo):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||($(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function Xs(n){let t,e,o;var r=n[2];function i(l){return{props:{$$slots:{message:[xs],icon:[$s]},$$scope:{ctx:l}}}}return r&&(t=nt(r,i(n))),{c(){t&&de(t.$$.fragment),e=ve()},m(l,s){t&&ce(t,l,s),D(l,e,s),o=!0},p(l,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:l}),s&4&&r!==(r=l[2])){if(t){je();const f=t;ee(f.$$.fragment,1,0,()=>{ue(f,1)}),Ne()}r?(t=nt(r,i(l)),de(t.$$.fragment),$(t.$$.fragment,1),ce(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&$(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ue(t,l)}}}function Zs(n){let t,e,o,r;return t=new Un({props:{toast:n[0]}}),o=new $t({props:{toast:n[0]}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(i,l){ce(t,i,l),D(i,e,l),ce(o,i,l),r=!0},p(i,l){const s={};l&1&&(s.toast=i[0]),t.$set(s);const a={};l&1&&(a.toast=i[0]),o.$set(a)},i(i){r||($(t.$$.fragment,i),$(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){ue(t,i),i&&N(e),ue(o,i)}}}function $s(n){let t,e;return t=new Un({props:{toast:n[0],slot:"icon"}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function xs(n){let t,e;return t=new $t({props:{toast:n[0],slot:"message"}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function ea(n){let t,e,o,r,i,l;const s=[Xs,Ys],a=[];function f(d,h){return d[2]?0:1}return e=f(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",r="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",i=n[1]+"; "+n[0].style),me(t,"--factor",n[3])},m(d,h){D(d,t,h),a[e].m(t,null),l=!0},p(d,[h]){let _=e;e=f(d),e===_?a[e].p(d,h):(je(),ee(a[_],1,1,()=>{a[_]=null}),Ne(),o=a[e],o?o.p(d,h):(o=a[e]=s[e](d),o.c()),$(o,1),o.m(t,null)),(!l||h&17&&r!==(r="base "+(d[0].height?d[4]:"transparent")+" "+(d[0].className||"")+" svelte-ug60r4"))&&u(t,"class",r),(!l||h&3&&i!==(i=d[1]+"; "+d[0].style))&&u(t,"style",i),(h&3||h&11)&&me(t,"--factor",d[3])},i(d){l||($(o),l=!0)},o(d){ee(o),l=!1},d(d){d&&N(t),a[e].d()}}}function ta(n,t,e){let{$$slots:o={},$$scope:r}=t,{toast:i}=t,{position:l=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,f,d;return n.$$set=h=>{"toast"in h&&e(0,i=h.toast),"position"in h&&e(5,l=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,r=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(i.position||l||"top-center").includes("top");e(3,f=h?1:-1);const[_,g]=Hr()?["fadeIn","fadeOut"]:["enter","exit"];e(4,d=i.visible?_:g)}},[i,s,a,f,d,l,o,r]}class na extends Se{constructor(t){super(),Ce(this,t,ta,ea,be,{toast:0,position:5,style:1,Component:2})}}const oa=n=>({toast:n&1}),po=n=>({toast:n[0]});function ra(n){let t;const e=n[8].default,o=Qt(e,n,n[7],po),r=o||la(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Yt(o,e,i,i[7],t?Kt(e,i[7],l,oa):Xt(i[7]),po):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||($(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function ia(n){let t,e;return t=new $t({props:{toast:n[0]}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function la(n){let t,e;return t=new na({props:{toast:n[0],position:n[0].position}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),r&1&&(i.position=o[0].position),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function sa(n){let t,e,o,r;const i=[ia,ra],l=[];function s(a,f){return a[0].type==="custom"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),vt(t,"active",n[0].visible),vt(t,"transition",!Hr()),me(t,"--factor",n[3]),me(t,"--offset",n[0].offset),me(t,"top",n[5]),me(t,"bottom",n[4]),me(t,"justify-content",n[2])},m(a,f){D(a,t,f),l[e].m(t,null),n[9](t),r=!0},p(a,[f]){let d=e;e=s(a),e===d?l[e].p(a,f):(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),$(o,1),o.m(t,null)),(!r||f&1)&&vt(t,"active",a[0].visible),f&8&&me(t,"--factor",a[3]),f&1&&me(t,"--offset",a[0].offset),f&32&&me(t,"top",a[5]),f&16&&me(t,"bottom",a[4]),f&4&&me(t,"justify-content",a[2])},i(a){r||($(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&N(t),l[e].d(),n[9](null)}}}function aa(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{toast:f}=t,{setHeight:d}=t,h;st(()=>{d(h.getBoundingClientRect().height)});function _(g){hn[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,f=g.toast),"setHeight"in g&&e(6,d=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,y,v,b;n.$$.dirty&1&&e(5,o=(g=f.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,r=(m=f.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,i=(y=f.position)!=null&&y.includes("top")?1:-1),n.$$.dirty&1&&e(2,l=((v=f.position)==null?void 0:v.includes("center"))&&"center"||((b=f.position)==null?void 0:b.includes("right"))&&"flex-end"||null)},[f,h,l,i,r,o,d,a,s,_]}class ca extends Se{constructor(t){super(),Ce(this,t,aa,sa,be,{toast:0,setHeight:6})}}function ho(n,t,e){const o=n.slice();return o[11]=t[e],o}function _o(n,t){let e,o,r;function i(...l){return t[10](t[11],...l)}return o=new ca({props:{toast:t[11],setHeight:i}}),{key:n,first:null,c(){e=ve(),de(o.$$.fragment),this.first=e},m(l,s){D(l,e,s),ce(o,l,s),r=!0},p(l,s){t=l;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=i),o.$set(a)},i(l){r||($(o.$$.fragment,l),r=!0)},o(l){ee(o.$$.fragment,l),r=!1},d(l){l&&N(e),ue(o,l)}}}function ua(n){let t,e=[],o=new Map,r,i,l,s,a=n[2];const f=d=>d[11].id;for(let d=0;d<a.length;d+=1){let h=ho(n,a,d),_=f(h);o.set(_,e[d]=_o(_,h))}return{c(){t=p("div");for(let d=0;d<e.length;d+=1)e[d].c();u(t,"class",r="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(d,h){D(d,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);i=!0,l||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],l=!0)},p(d,[h]){h&20&&(a=d[2],je(),e=ze(e,h,f,1,d,a,o,t,yl,_o,null,ho),Ne()),(!i||h&2&&r!==(r="toaster "+(d[1]||"")+" svelte-1phplh9"))&&u(t,"class",r),(!i||h&1)&&u(t,"style",d[0])},i(d){if(!i){for(let h=0;h<a.length;h+=1)$(e[h]);i=!0}},o(d){for(let h=0;h<e.length;h+=1)ee(e[h]);i=!1},d(d){d&&N(t);for(let h=0;h<e.length;h+=1)e[h].d();l=!1,ae(s)}}}function fa(n,t,e){let o,{reverseOrder:r=!1}=t,{position:i="top-center"}=t,{toastOptions:l=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:f=void 0}=t;const{toasts:d,handlers:h}=Is(l);Me(n,d,m=>e(9,o=m));let _;const g=(m,y)=>h.updateHeight(m.id,y);return n.$$set=m=>{"reverseOrder"in m&&e(5,r=m.reverseOrder),"position"in m&&e(6,i=m.position),"toastOptions"in m&&e(7,l=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,f=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(m=>({...m,position:m.position||i,offset:h.calculateOffset(m,o,{reverseOrder:r,gutter:s,defaultPosition:i})})))},[a,f,_,d,h,r,i,l,s,o,g]}class zn extends Se{constructor(t){super(),Ce(this,t,fa,ua,be,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function mo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne,Z,V,U,G,X,Q,H,B,oe,ye,x,Ae,he,re,_e,ke,Pe,We,Te,se,we,Ye,Fe,Ie,Xe,K;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),l.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,f=S(),d=p("p"),d.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",y=S(),v=p("p"),v.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,b=S(),w=p("p"),w.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,A=S(),I=p("p"),I.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,P=S(),k=p("p"),k.innerHTML="<strong>3. Use of the App</strong>",C=S(),O=p("p"),O.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,M=S(),E=p("p"),E.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,j=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,q=S(),R=p("p"),R.innerHTML="<strong>4. Privacy and Data Security</strong>",J=S(),W=p("p"),W.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,ne=S(),Z=p("p"),Z.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,V=S(),U=p("p"),U.innerHTML="<strong>5. Limitation of Liability</strong>",G=S(),X=p("p"),X.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,Q=S(),H=p("p"),H.innerHTML="<strong>6. Modification of Terms</strong>",B=S(),oe=p("p"),oe.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,ye=S(),x=p("p"),x.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",Ae=S(),he=p("p"),he.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,re=S(),_e=p("p"),_e.innerHTML="<strong>8. Severability</strong>",ke=S(),Pe=p("p"),Pe.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,We=S(),Te=p("p"),Te.innerHTML="<strong>9. Entire Agreement</strong>",se=S(),we=p("p"),we.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,Ye=S(),Fe=p("footer"),Ie=p("a"),Ie.textContent="Close",u(r,"href","#close"),u(r,"class","close"),u(Ie,"href","#close"),u(Ie,"role","button"),u(Ie,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(Oe,et){D(Oe,t,et),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(e,s),c(e,a),c(e,f),c(e,d),c(e,h),c(e,_),c(e,g),c(e,m),c(e,y),c(e,v),c(e,b),c(e,w),c(e,A),c(e,I),c(e,P),c(e,k),c(e,C),c(e,O),c(e,M),c(e,E),c(e,j),c(e,L),c(e,q),c(e,R),c(e,J),c(e,W),c(e,ne),c(e,Z),c(e,V),c(e,U),c(e,G),c(e,X),c(e,Q),c(e,H),c(e,B),c(e,oe),c(e,ye),c(e,x),c(e,Ae),c(e,he),c(e,re),c(e,_e),c(e,ke),c(e,Pe),c(e,We),c(e,Te),c(e,se),c(e,we),c(e,Ye),c(e,Fe),c(Fe,Ie),Xe||(K=[T(r,"click",n[10]),T(Ie,"click",n[10])],Xe=!0)},p:te,d(Oe){Oe&&N(t),Xe=!1,ae(K)}}}function da(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q=n[8]&&mo(n);return M=new zn({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),y=S(),v=p("fieldset"),b=p("label"),w=p("input"),A=F(`\r
              I agree to the\r
              `),I=p("a"),I.textContent="Terms and Conditions",P=S(),q&&q.c(),k=S(),C=p("button"),C.textContent="Sign Up",O=S(),de(M.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(d,"placeholder","Email"),u(d,"type","email"),u(d,"aria-invalid",n[5]),d.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(w,"type","checkbox"),u(w,"id","terms"),u(w,"name","terms"),w.required=!0,u(I,"href","#terms"),u(b,"for","terms"),u(C,"type","submit"),u(C,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(R,J){D(R,t,J),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),Y(a,n[3]),c(s,f),c(s,d),Y(d,n[0]),c(s,h),c(s,_),Y(_,n[1]),c(s,g),c(s,m),Y(m,n[2]),c(s,y),c(s,v),c(v,b),c(b,w),w.checked=n[4],c(b,A),c(b,I),c(s,P),q&&q.m(s,null),c(s,k),c(s,C),c(t,O),ce(M,t,null),E=!0,j||(L=[T(a,"input",n[12]),T(d,"input",n[13]),T(_,"input",n[14]),T(m,"input",n[15]),T(w,"change",n[16]),T(I,"click",n[10]),T(C,"click",n[9]),T(s,"submit",Be(n[11]))],j=!0)},p(R,[J]){J&8&&a.value!==R[3]&&Y(a,R[3]),(!E||J&32)&&u(d,"aria-invalid",R[5]),J&1&&d.value!==R[0]&&Y(d,R[0]),(!E||J&64)&&u(_,"aria-invalid",R[6]),J&2&&_.value!==R[1]&&Y(_,R[1]),(!E||J&128)&&u(m,"aria-invalid",R[7]),J&4&&m.value!==R[2]&&Y(m,R[2]),J&16&&(w.checked=R[4]),R[8]?q?q.p(R,J):(q=mo(R),q.c(),q.m(s,k)):q&&(q.d(1),q=null)},i(R){E||($(M.$$.fragment,R),E=!0)},o(R){ee(M.$$.fragment,R),E=!1},d(R){R&&N(t),q&&q.d(),ue(M),j=!1,ae(L)}}}let pa="student",ha=!0;function _a(n,t,e){let o,r,i,l,s=!1,a,f,d;async function h(){const P=await pe.collection("users").authWithPassword(r,i);console.log(P)}async function _(){if(!a&&!f&&!d&&s)try{const P={name:o,username:o.toLowerCase(),email:r,password:i,passwordConfirm:l,role:pa,isPublic:ha,language:"en"},k=await pe.collection("users").create(P);await h()}catch(P){P.data.data.email.code&&ie.error("Email already exist",{position:fe})}}let g=!1;function m(){e(8,g=!g)}function y(P){qe.call(this,n,P)}function v(){o=this.value,e(3,o)}function b(){r=this.value,e(0,r)}function w(){i=this.value,e(1,i)}function A(){l=this.value,e(2,l)}function I(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(5,a=!1):e(5,a=!0)),i&&(i.length>=5?e(6,f=!1):e(6,f=!0)),l&&(l===i?e(7,d=!1):e(7,d=!0)))},[r,i,l,o,s,a,f,d,g,_,m,y,v,b,w,A,I]}class Jr extends Se{constructor(t){super(),Ce(this,t,_a,da,be,{})}}function ma(n){let t,e,o,r,i,l;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("p"),r=F("An email with a reset link has been sent to "),i=p("strong"),l=F(n[0])},m(s,a){D(s,t,a),D(s,e,a),D(s,o,a),c(o,r),c(o,i),c(i,l)},p(s,a){a&1&&le(l,s[0])},d(s){s&&N(t),s&&N(e),s&&N(o)}}}function ga(n){let t,e,o,r,i,l,s,a,f,d;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("form"),r=p("label"),i=F(`Email\r
              `),l=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(l,"id","email"),u(l,"name","email"),u(l,"type","email"),u(l,"aria-invalid",n[2]),l.required=!0,u(r,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){D(h,t,_),D(h,e,_),D(h,o,_),c(o,r),c(r,i),c(r,l),Y(l,n[0]),c(o,s),c(o,a),f||(d=[T(l,"input",n[5]),T(a,"click",n[3]),T(o,"submit",Be(n[4]))],f=!0)},p(h,_){_&4&&u(l,"aria-invalid",h[2]),_&1&&l.value!==h[0]&&Y(l,h[0])},d(h){h&&N(t),h&&N(e),h&&N(o),f=!1,ae(d)}}}function va(n){let t,e,o,r,i,l,s,a;function f(_,g){return _[1]===!1?ga:ma}let d=f(n),h=d(n);return{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),h.c(),i=S(),l=p("a"),l.textContent="Back to Login Screen",u(l,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){D(_,t,g),c(t,e),c(e,o),c(o,r),h.m(r,null),c(r,i),c(r,l),s||(a=T(l,"click",n[6]),s=!0)},p(_,[g]){d===(d=f(_))&&h?h.p(_,g):(h.d(1),h=d(_),h&&(h.c(),h.m(r,i)))},i:te,o:te,d(_){_&&N(t),h.d(),s=!1,a()}}}function ba(n,t,e){let o=!1,r,i;async function l(){i||(await pe.collection("users").requestPasswordReset(r),e(1,o=!0))}function s(d){qe.call(this,n,d)}function a(){r=this.value,e(0,r)}const f=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(2,i=!1):e(2,i=!0))},[r,o,i,l,s,a,f]}class ya extends Se{constructor(t){super(),Ce(this,t,ba,va,be,{})}}const kn=He(0),Bt=He(0),ka=He(500);function go(n,t,e){const o=n.slice();return o[113]=t[e],o}function vo(n,t,e){const o=n.slice();return o[113]=t[e],o}function bo(n,t,e){const o=n.slice();return o[118]=t[e],o}function yo(n,t,e){const o=n.slice();return o[121]=t[e],o}function wa(n){let t,e;return t=new qn({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r[4]&1&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Ca(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w;function A(L,q){return L[7].length===0?Ta:Aa}let I=A(n),P=I(n),k=n[29]&&wo(n),C=n[30]&&Ao(n),O=n[31]&&Oo(n),M=n[32]&&Eo(n),E=n[33]&&jo(n),j=n[28]&&No(n);return y=new zn({}),{c(){t=p("div"),e=p("div"),o=S(),r=p("input"),i=S(),l=p("button"),l.textContent="Add Book",s=S(),P.c(),a=S(),k&&k.c(),f=S(),C&&C.c(),d=S(),O&&O.c(),h=S(),M&&M.c(),_=S(),E&&E.c(),g=S(),j&&j.c(),m=S(),de(y.$$.fragment),u(e,"class","grid svelte-1h11vka"),u(r,"type","search"),u(r,"placeholder","Filter by Book Title, Author, or Status..."),u(l,"class","btn btn-primary"),u(t,"class","container")},m(L,q){D(L,t,q),c(t,e),c(t,o),c(t,r),Y(r,n[34]),c(t,i),c(t,l),c(t,s),P.m(t,null),D(L,a,q),k&&k.m(L,q),D(L,f,q),C&&C.m(L,q),D(L,d,q),O&&O.m(L,q),D(L,h,q),M&&M.m(L,q),D(L,_,q),E&&E.m(L,q),D(L,g,q),j&&j.m(L,q),D(L,m,q),ce(y,L,q),v=!0,b||(w=[T(r,"input",n[58]),T(l,"click",n[44])],b=!0)},p(L,q){q[1]&8&&r.value!==L[34]&&Y(r,L[34]),I===(I=A(L))&&P?P.p(L,q):(P.d(1),P=I(L),P&&(P.c(),P.m(t,null))),L[29]?k?k.p(L,q):(k=wo(L),k.c(),k.m(f.parentNode,f)):k&&(k.d(1),k=null),L[30]?C?C.p(L,q):(C=Ao(L),C.c(),C.m(d.parentNode,d)):C&&(C.d(1),C=null),L[31]?O?O.p(L,q):(O=Oo(L),O.c(),O.m(h.parentNode,h)):O&&(O.d(1),O=null),L[32]?M?M.p(L,q):(M=Eo(L),M.c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),L[33]?E?E.p(L,q):(E=jo(L),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),L[28]?j?j.p(L,q):(j=No(L),j.c(),j.m(m.parentNode,m)):j&&(j.d(1),j=null)},i(L){v||($(y.$$.fragment,L),v=!0)},o(L){ee(y.$$.fragment,L),v=!1},d(L){L&&N(t),P.d(),L&&N(a),k&&k.d(L),L&&N(f),C&&C.d(L),L&&N(d),O&&O.d(L),L&&N(h),M&&M.d(L),L&&N(_),E&&E.d(L),L&&N(g),j&&j.d(L),L&&N(m),ue(y,L),b=!1,ae(w)}}}function Sa(n){let t,e,o,r;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(i,l){ce(t,i,l),D(i,e,l),ce(o,i,l),r=!0},p:te,i(i){r||($(t.$$.fragment,i),$(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){ue(t,i),i&&N(e),ue(o,i)}}}function Aa(n){let t,e=[],o=new Map,r=n[35];const i=l=>l[121].id;for(let l=0;l<r.length;l+=1){let s=yo(n,r,l),a=i(s);o.set(a,e[l]=ko(a,s))}return{c(){t=p("div");for(let l=0;l<e.length;l+=1)e[l].c();u(t,"class","grid svelte-1h11vka")},m(l,s){D(l,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,s){s[0]&33488896|s[1]&32848&&(r=l[35],e=ze(e,s,i,1,l,r,o,t,Ve,ko,null,yo))},d(l){l&&N(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Ta(n){let t,e,o,r,i,l,s,a,f,d,h;function _(P,k){return P[36].language==="en"?Ma:Ea}let g=_(n),m=g(n);function y(P,k){return P[36].language==="en"?ja:Ra}let v=y(n),b=v(n);function w(P,k){return P[36].language==="en"?Da:Na}let A=w(n),I=A(n);return{c(){t=p("article"),e=p("div"),e.textContent="",o=S(),r=p("p"),m.c(),i=S(),l=p("p"),b.c(),s=S(),a=p("div"),f=p("button"),I.c(),u(e,"class","empty-icon"),u(r,"class","empty-title h5"),u(l,"class","empty-subtitle"),u(f,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-1h11vka")},m(P,k){D(P,t,k),c(t,e),c(t,o),c(t,r),m.m(r,null),c(t,i),c(t,l),b.m(l,null),c(t,s),c(t,a),c(a,f),I.m(f,null),d||(h=T(f,"click",n[46]),d=!0)},p(P,k){g!==(g=_(P))&&(m.d(1),m=g(P),m&&(m.c(),m.m(r,null))),v!==(v=y(P))&&(b.d(1),b=v(P),b&&(b.c(),b.m(l,null))),A!==(A=w(P))&&(I.d(1),I=A(P),I&&(I.c(),I.m(f,null)))},d(P){P&&N(t),m.d(),b.d(),I.d(),d=!1,h()}}}function Ia(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[121].googleCover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[76]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!ge(e.src,o=v[121].googleCover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&i!==(i=v[121].bookId)&&u(t,"data-id",i),b[1]&16&&l!==(l=v[121].title)&&u(t,"data-title",l),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,ae(y)}}}function Pa(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[37]+n[121].bookId+"/"+n[121].cover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[59]),T(t,"click",n[60]),T(t,"click",n[61]),T(t,"click",n[62]),T(t,"click",n[63]),T(t,"click",n[64]),T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!ge(e.src,o=v[37]+v[121].bookId+"/"+v[121].cover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&i!==(i=v[121].bookId)&&u(t,"data-id",i),b[1]&16&&l!==(l=v[121].title)&&u(t,"data-title",l),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,ae(y)}}}function Oa(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function La(n){let t,e;return{c(){t=p("progress"),t.value=e=ot(n[121].pages_read,n[121].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[1]&16&&e!==(e=ot(o[121].pages_read,o[121].pages))&&(t.value=e)},d(o){o&&N(t)}}}function ko(n,t){let e,o,r,i,l,s,a=t[121].title+"",f,d,h,_,g=t[121].author+"",m,y,v,b,w=t[121].status+"",A,I,P,k;function C(q,R){return q[121].cover?Pa:Ia}let O=C(t),M=O(t);function E(q,R){return q[121].pages_read?La:Oa}let j=E(t),L=j(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),r=p("div"),M.c(),i=S(),l=p("hgroup"),s=p("h4"),f=F(a),d=S(),h=p("p"),_=F("By: "),m=F(g),y=S(),v=p("br"),b=S(),A=F(w),I=S(),P=p("footer"),L.c(),k=S(),u(r,"class","image-wrapper"),u(l,"class","svelte-1h11vka"),u(o,"class","content-wrapper svelte-1h11vka"),u(P,"class","svelte-1h11vka"),u(e,"data-hover","article"),u(e,"class","svelte-1h11vka"),this.first=e},m(q,R){D(q,e,R),c(e,o),c(o,r),M.m(r,null),c(o,i),c(o,l),c(l,s),c(s,f),c(l,d),c(l,h),c(h,_),c(h,m),c(h,y),c(h,v),c(h,b),c(h,A),c(e,I),c(e,P),L.m(P,null),c(e,k)},p(q,R){t=q,O===(O=C(t))&&M?M.p(t,R):(M.d(1),M=O(t),M&&(M.c(),M.m(r,null))),R[1]&16&&a!==(a=t[121].title+"")&&le(f,a),R[1]&16&&g!==(g=t[121].author+"")&&le(m,g),R[1]&16&&w!==(w=t[121].status+"")&&le(A,w),j===(j=E(t))&&L?L.p(t,R):(L.d(1),L=j(t),L&&(L.c(),L.m(P,null)))},d(q){q&&N(e),M.d(),L.d()}}}function Ea(n){let t;return{c(){t=F("Nada por aqu...")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Ma(n){let t;return{c(){t=F("Nothing here yet...")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Ra(n){let t;return{c(){t=F("Presione el botn para aadir un libro.")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function ja(n){let t;return{c(){t=F("Click the button to add a book.")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Na(n){let t;return{c(){t=F("Aadir Libro")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function Da(n){let t;return{c(){t=F("Add Book")},m(e,o){D(e,t,o)},d(e){e&&N(t)}}}function wo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y=[],v=new Map,b,w,A=n[26];const I=P=>P[118].id;for(let P=0;P<A.length;P+=1){let k=bo(n,A,P),C=I(k);v.set(C,y[P]=So(C,k))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Search`),l=S(),s=p("form"),a=p("input"),f=S(),d=p("button"),h=F("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let P=0;P<y.length;P+=1)y[P].c();u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(d,"aria-busy",n[27]),u(e,"class","svelte-1h11vka"),t.open=!0},m(P,k){D(P,t,k),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h),c(s,_),c(s,g),c(e,m);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(e,null);b||(w=[T(r,"click",n[44]),T(a,"keyup",n[77]),T(d,"click",function(){Wt(n[49](n[25]))&&n[49](n[25]).apply(this,arguments)}),T(g,"click",n[45]),T(s,"submit",Be(n[57]))],b=!0)},p(P,k){n=P,k[0]&134217728&&u(d,"aria-busy",n[27]),k[0]&67161856|k[1]&16384&&(A=n[26],y=ze(y,k,I,1,n,A,v,e,Ve,So,null,bo))},d(P){P&&N(t);for(let k=0;k<y.length;k+=1)y[k].d();b=!1,ae(w)}}}function Co(n){let t,e,o;return{c(){t=p("img"),ge(t.src,e=Ht(n[118].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[118].volumeInfo.title),u(t,"class","svelte-1h11vka")},m(r,i){D(r,t,i)},p(r,i){i[0]&67108864&&!ge(t.src,e=Ht(r[118].volumeInfo.imageLinks))&&u(t,"src",e),i[0]&67108864&&o!==(o=r[118].volumeInfo.title)&&u(t,"alt",o)},d(r){r&&N(t)}}}function So(n,t){let e,o,r,i,l,s,a=t[118].volumeInfo.title+"",f,d,h,_,g=jt(t[118].volumeInfo.authors)+"",m,y,v,b,w=t[118].volumeInfo.language+"",A,I,P,k,C,O,M,E,j,L,q,R=t[118].volumeInfo.imageLinks&&Co(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),r=p("figure"),R&&R.c(),i=S(),l=p("figcaption"),s=p("strong"),f=F(a),d=S(),h=p("br"),_=F(`\r
                  By `),m=F(g),y=S(),v=p("br"),b=F(`\r
                  Language: `),A=F(w),I=S(),u(l,"class","svelte-1h11vka"),u(o,"data-hover",""),u(o,"class","svelte-1h11vka"),u(e,"href","#search"),u(e,"data-id",P=t[118].id),u(e,"data-title",k=t[118].volumeInfo.title),u(e,"data-author",C=jt(t[118].volumeInfo.authors)),u(e,"data-img",O=Ht(t[118].volumeInfo.imageLinks)),u(e,"data-pages",M=t[118].volumeInfo.pageCount),u(e,"data-description",E=t[118].volumeInfo.description),u(e,"data-language",j=t[118].volumeInfo.language),u(e,"class","svelte-1h11vka"),this.first=e},m(J,W){D(J,e,W),c(e,o),c(o,r),R&&R.m(r,null),c(r,i),c(r,l),c(l,s),c(s,f),c(l,d),c(l,h),c(l,_),c(l,m),c(l,y),c(l,v),c(l,b),c(l,A),c(e,I),L||(q=[T(e,"click",t[78]),T(e,"click",t[79]),T(e,"click",t[80]),T(e,"click",t[81]),T(e,"click",t[82]),T(e,"click",t[83]),T(e,"click",t[45])],L=!0)},p(J,W){t=J,t[118].volumeInfo.imageLinks?R?R.p(t,W):(R=Co(t),R.c(),R.m(r,i)):R&&(R.d(1),R=null),W[0]&67108864&&a!==(a=t[118].volumeInfo.title+"")&&le(f,a),W[0]&67108864&&g!==(g=jt(t[118].volumeInfo.authors)+"")&&le(m,g),W[0]&67108864&&w!==(w=t[118].volumeInfo.language+"")&&le(A,w),W[0]&67108864&&P!==(P=t[118].id)&&u(e,"data-id",P),W[0]&67108864&&k!==(k=t[118].volumeInfo.title)&&u(e,"data-title",k),W[0]&67108864&&C!==(C=jt(t[118].volumeInfo.authors))&&u(e,"data-author",C),W[0]&67108864&&O!==(O=Ht(t[118].volumeInfo.imageLinks))&&u(e,"data-img",O),W[0]&67108864&&M!==(M=t[118].volumeInfo.pageCount)&&u(e,"data-pages",M),W[0]&67108864&&E!==(E=t[118].volumeInfo.description)&&u(e,"data-description",E),W[0]&67108864&&j!==(j=t[118].volumeInfo.language)&&u(e,"data-language",j)},d(J){J&&N(e),R&&R.d(),L=!1,ae(q)}}}function Ao(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M=[],E=new Map,j,L,q,R,J,W,ne,Z,V=n[14]&&To(n),U=n[6];const G=Q=>Q[113].id;for(let Q=0;Q<U.length;Q+=1){let H=vo(n,U,Q),B=G(H);E.set(B,M[Q]=Io(B,H))}let X=!n[14]&&Po(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Add Book`),l=S(),V&&V.c(),s=S(),a=p("form"),f=p("label"),d=F(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=F(`Author\r
            `),y=p("input"),v=S(),b=p("label"),w=F(`Pages\r
            `),A=p("input"),I=S(),P=p("label"),P.textContent="Collection",k=S(),C=p("select"),O=p("option"),O.textContent="Please select an option";for(let Q=0;Q<M.length;Q+=1)M[Q].c();j=S(),X&&X.c(),L=S(),q=p("footer"),R=p("a"),R.textContent="Cancel",J=S(),W=p("a"),W.textContent="Add Book",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(f,"for","title"),u(f,"class","svelte-1h11vka"),u(y,"id","author"),u(y,"name","author"),u(y,"placeholder","Author"),u(y,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(A,"id","pages"),u(A,"name","pages"),u(A,"placeholder","Pages"),u(A,"type","number"),u(b,"for","pages"),u(b,"class","svelte-1h11vka"),u(P,"for","collection"),u(P,"class","svelte-1h11vka"),O.__value="",O.value=O.__value,O.selected=!0,u(C,"id","collection"),n[12]===void 0&&xe(()=>n[87].call(C)),u(R,"href","#cancel"),u(R,"role","button"),u(R,"class","secondary svelte-1h11vka"),u(W,"href","#confirm"),u(W,"role","button"),u(W,"class","svelte-1h11vka"),u(q,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(Q,H){D(Q,t,H),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),V&&V.m(e,null),c(e,s),c(e,a),c(a,f),c(f,d),c(f,h),Y(h,n[8]),c(a,_),c(a,g),c(g,m),c(g,y),Y(y,n[9]),c(a,v),c(a,b),c(b,w),c(b,A),Y(A,n[11]),c(a,I),c(a,P),c(a,k),c(a,C),c(C,O);for(let B=0;B<M.length;B+=1)M[B]&&M[B].m(C,null);Ge(C,n[12],!0),c(a,j),X&&X.m(a,null),c(e,L),c(e,q),c(q,R),c(q,J),c(q,W),ne||(Z=[T(r,"click",n[45]),T(h,"input",n[84]),T(y,"input",n[85]),T(A,"input",n[86]),T(C,"change",n[87]),T(a,"submit",Be(n[56])),T(R,"click",n[50]),T(W,"click",n[39]),T(W,"click",n[50])],ne=!0)},p(Q,H){Q[14]?V?V.p(Q,H):(V=To(Q),V.c(),V.m(e,s)):V&&(V.d(1),V=null),H[0]&256&&h.value!==Q[8]&&Y(h,Q[8]),H[0]&512&&y.value!==Q[9]&&Y(y,Q[9]),H[0]&2048&&Je(A.value)!==Q[11]&&Y(A,Q[11]),H[0]&64&&(U=Q[6],M=ze(M,H,G,1,Q,U,E,C,Ve,Io,null,vo)),H[0]&4160&&Ge(C,Q[12]),Q[14]?X&&(X.d(1),X=null):X?X.p(Q,H):(X=Po(Q),X.c(),X.m(a,null))},d(Q){Q&&N(t),V&&V.d();for(let H=0;H<M.length;H+=1)M[H].d();X&&X.d(),ne=!1,ae(Z)}}}function To(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=F("By "),s=F(n[9]),a=S(),f=p("br"),d=S(),h=p("br"),_=S(),g=p("p"),m=F(n[10]),ge(e.src,o=n[14])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1h11vka"),u(i,"class","svelte-1h11vka")},m(y,v){D(y,t,v),c(t,e),c(t,r),c(t,i),c(i,l),c(i,s),c(i,a),c(i,f),c(i,d),c(i,h),c(i,_),c(i,g),c(g,m)},p(y,v){v[0]&16384&&!ge(e.src,o=y[14])&&u(e,"src",o),v[0]&512&&le(s,y[9]),v[0]&1024&&le(m,y[10])},d(y){y&&N(t)}}}function Io(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&le(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function Po(n){let t,e,o,r,i;return{c(){t=p("label"),e=F(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1h11vka")},m(l,s){D(l,t,s),c(t,e),c(t,o),r||(i=T(o,"change",n[88]),r=!0)},p:te,d(l){l&&N(t),r=!1,i()}}}function Oo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C;function O(J,W){return J[20]?Ba:qa}let M=O(n),E=M(n),j=(n[24]===" reading"||n[24]===" not started")&&Lo(n);function L(J,W){if(J[24]===" reading"||J[24]===" not started")return Ua;if(J[24]===" completed")return Fa}let q=L(n),R=q&&q(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),s=F(n[16]),a=S(),E.c(),f=S(),d=p("progress"),_=S(),g=p("p"),m=F(n[24]),y=S(),v=p("br"),b=p("br"),w=S(),j&&j.c(),A=S(),I=p("a"),I.textContent="Edit Book Details",P=S(),R&&R.c(),u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","progressbar"),d.value=h=ot(n[20],n[19]),u(d,"max","100"),u(I,"href","#update"),u(I,"class","details svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(J,W){D(J,t,W),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(l,s),c(e,a),E.m(e,null),c(e,f),c(e,d),c(e,_),c(e,g),c(g,m),c(e,y),c(e,v),c(e,b),c(e,w),j&&j.m(e,null),c(e,A),c(e,I),c(e,P),R&&R.m(e,null),k||(C=[T(r,"click",n[46]),T(I,"click",n[47])],k=!0)},p(J,W){W[0]&65536&&le(s,J[16]),M===(M=O(J))&&E?E.p(J,W):(E.d(1),E=M(J),E&&(E.c(),E.m(e,f))),W[0]&1572864&&h!==(h=ot(J[20],J[19]))&&(d.value=h),W[0]&16777216&&le(m,J[24]),J[24]===" reading"||J[24]===" not started"?j?j.p(J,W):(j=Lo(J),j.c(),j.m(e,A)):j&&(j.d(1),j=null),q===(q=L(J))&&R?R.p(J,W):(R&&R.d(1),R=q&&q(J),R&&(R.c(),R.m(e,null)))},d(J){J&&N(t),E.d(),j&&j.d(),R&&R.d(),k=!1,ae(C)}}}function qa(n){let t,e,o,r=ot(n[20],n[19])+"",i,l,s,a,f;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),i=F(r),l=F("%"),s=F(`\r
            (0/`),a=F(n[19]),f=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(d,h){D(d,t,h),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f)},p(d,h){h[0]&1572864&&r!==(r=ot(d[20],d[19])+"")&&le(i,r),h[0]&524288&&le(a,d[19])},d(d){d&&N(t)}}}function Ba(n){let t,e,o,r=ot(n[20],n[19])+"",i,l,s,a,f,d,h;return{c(){t=p("label"),e=F("Reading Progress: "),o=p("strong"),i=F(r),l=F("%"),s=F(`\r
            (`),a=F(n[20]),f=F("/"),d=F(n[19]),h=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(_,g){D(_,t,g),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f),c(t,d),c(t,h)},p(_,g){g[0]&1572864&&r!==(r=ot(_[20],_[19])+"")&&le(i,r),g[0]&1048576&&le(a,_[20]),g[0]&524288&&le(d,_[19])},d(_){_&&N(t)}}}function Lo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v;return{c(){t=p("form"),e=p("input"),o=S(),r=p("label"),i=F(`Date\r
              `),l=p("input"),s=S(),a=p("label"),f=F(`Pages Read\r
              `),d=p("input"),h=S(),_=p("label"),g=F(`Comment\r
              `),m=p("input"),me(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),u(l,"placeholder","07/14/2023"),u(l,"id","date"),u(l,"name","date"),u(l,"type","date"),u(r,"for","date"),u(r,"class","svelte-1h11vka"),u(d,"id","pagesRead"),u(d,"name","pagesRead"),u(d,"type","number"),u(a,"for","pagesRead"),u(a,"class","svelte-1h11vka"),u(m,"id","comment"),u(m,"name","comment"),u(m,"placeholder","Tell the teacher about today's read."),u(m,"type","text"),u(_,"for","comment"),u(_,"class","svelte-1h11vka")},m(b,w){D(b,t,w),c(t,e),Y(e,n[16]),c(t,o),c(t,r),c(r,i),c(r,l),Y(l,n[0]),c(t,s),c(t,a),c(a,f),c(a,d),Y(d,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),Y(m,n[2]),y||(v=[T(e,"input",n[89]),T(l,"input",n[90]),T(d,"input",n[91]),T(m,"input",n[92]),T(t,"submit",Be(n[55]))],y=!0)},p(b,w){w[0]&65536&&e.value!==b[16]&&Y(e,b[16]),w[0]&1&&Y(l,b[0]),w[0]&2&&Je(d.value)!==b[1]&&Y(d,b[1]),w[0]&4&&m.value!==b[2]&&Y(m,b[2])},d(b){b&&N(t),y=!1,ae(v)}}}function Fa(n){let t,e,o,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(i,l){D(i,t,l),c(t,e),o||(r=T(e,"click",n[46]),o=!0)},p:te,d(i){i&&N(t),o=!1,r()}}}function Ua(n){let t,e,o,r,i,l;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=S(),r=p("a"),r.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(r,"href","#confirm"),u(r,"role","button"),u(r,"class","svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=[T(e,"click",n[46]),T(r,"click",n[40]),T(r,"click",n[46])],i=!0)},p:te,d(s){s&&N(t),i=!1,ae(l)}}}function Eo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q,R=[],J=new Map,W,ne,Z,V,U,G,X,Q,H,B,oe,ye,x=n[6];const Ae=re=>re[113].id;for(let re=0;re<x.length;re+=1){let _e=go(n,x,re),ke=Ae(_e);J.set(ke,R[re]=Mo(ke,_e))}let he=!n[22]&&Ro(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Edit Book Details`),l=S(),s=p("form"),a=p("label"),f=F(`Title\r
            `),d=p("input"),h=S(),_=p("div"),g=p("label"),m=F(`Author\r
              `),y=p("input"),v=S(),b=p("div"),w=p("label"),A=F(`Pages\r
              `),I=p("input"),P=S(),k=p("label"),C=F(`Review\r
            `),O=p("input"),M=S(),E=p("label"),E.textContent="Collection",j=S(),L=p("select"),q=p("option"),q.textContent="Please select an option";for(let re=0;re<R.length;re+=1)R[re].c();W=S(),he&&he.c(),ne=S(),Z=p("footer"),V=p("div"),U=p("a"),U.textContent="Delete",G=S(),X=p("div"),Q=p("a"),Q.textContent="Cancel",H=S(),B=p("a"),B.textContent="Save",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","title"),u(d,"name","title"),u(d,"type","text"),u(a,"for","title"),u(a,"class","svelte-1h11vka"),u(y,"id","author"),u(y,"name","author"),u(y,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(I,"id","pages"),u(I,"name","pages"),u(I,"placeholder","Pages"),u(I,"type","number"),u(w,"for","pages"),u(w,"class","svelte-1h11vka"),u(b,"class","grid svelte-1h11vka"),u(O,"id","review"),u(O,"name","review"),u(O,"type","textarea"),u(k,"for","review"),u(k,"class","svelte-1h11vka"),u(E,"for","collection"),u(E,"class","svelte-1h11vka"),q.__value="",q.value=q.__value,q.selected=!0,u(L,"id","collection"),n[21]===void 0&&xe(()=>n[97].call(L)),u(U,"href","#delete"),u(U,"role","button"),u(U,"class","delete svelte-1h11vka"),u(Q,"href","#cancel"),u(Q,"role","button"),u(Q,"class","secondary svelte-1h11vka"),u(B,"href","#confirm"),u(B,"role","button"),u(B,"class","svelte-1h11vka"),u(Z,"data-button","spaceBetween"),u(Z,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(re,_e){D(re,t,_e),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[16]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,y),Y(y,n[17]),c(s,v),c(s,b),c(b,w),c(w,A),c(w,I),Y(I,n[19]),c(s,P),c(s,k),c(k,C),c(k,O),Y(O,n[18]),c(s,M),c(s,E),c(s,j),c(s,L),c(L,q);for(let ke=0;ke<R.length;ke+=1)R[ke]&&R[ke].m(L,null);Ge(L,n[21],!0),c(e,W),he&&he.m(e,null),c(e,ne),c(e,Z),c(Z,V),c(V,U),c(Z,G),c(Z,X),c(X,Q),c(X,H),c(X,B),oe||(ye=[T(r,"click",n[47]),T(d,"input",n[93]),T(y,"input",n[94]),T(I,"input",n[95]),T(O,"input",n[96]),T(L,"change",n[97]),T(s,"submit",Be(n[54])),T(U,"click",n[51]),T(Q,"click",n[47]),T(B,"click",n[41]),T(B,"click",n[47])],oe=!0)},p(re,_e){_e[0]&65536&&d.value!==re[16]&&Y(d,re[16]),_e[0]&131072&&y.value!==re[17]&&Y(y,re[17]),_e[0]&524288&&Je(I.value)!==re[19]&&Y(I,re[19]),_e[0]&262144&&Y(O,re[18]),_e[0]&64&&(x=re[6],R=ze(R,_e,Ae,1,re,x,J,L,Ve,Mo,null,go)),_e[0]&2097216&&Ge(L,re[21]),re[22]?he&&(he.d(1),he=null):he?he.p(re,_e):(he=Ro(re),he.c(),he.m(e,ne))},d(re){re&&N(t);for(let _e=0;_e<R.length;_e+=1)R[_e].d();he&&he.d(),oe=!1,ae(ye)}}}function Mo(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&le(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function Ro(n){let t,e,o,r,i,l;return{c(){t=p("form"),e=p("label"),o=F(`Cover Art\r
              `),r=p("input"),u(r,"type","file"),u(r,"id","file"),u(r,"name","file"),u(r,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,r),i||(l=[T(r,"change",n[98]),T(t,"submit",Be(n[53]))],i=!0)},p:te,d(s){s&&N(t),i=!1,ae(l)}}}function jo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1h11vka"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1h11vka"),u(s,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(m,y){D(m,t,y),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[48]),T(h,"click",n[42]),T(h,"click",n[46]),T(h,"click",n[48])],_=!0)},p:te,d(m){m&&N(t),_=!1,ae(g)}}}function No(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne,Z;return W=pl(n[102][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Add Collection`),l=S(),s=p("form"),a=p("label"),f=F(`Collection\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Description\r
            `),m=p("input"),y=S(),v=p("fieldset"),b=p("legend"),b.textContent="Collection for:",w=S(),A=p("label"),I=p("input"),P=F(`\r
              Books`),k=S(),C=p("label"),O=p("input"),M=F(`\r
              Movies`),E=S(),j=p("footer"),L=p("div"),q=p("a"),q.textContent="Cancel",R=S(),J=p("a"),J.textContent="Add Collection",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","collection"),u(d,"name","collection"),u(d,"placeholder","Collection"),u(d,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1h11vka"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-1h11vka"),u(I,"type","radio"),u(I,"id","books"),u(I,"name","role"),I.__value="book",I.value=I.__value,I.checked=!0,u(A,"for","books"),u(A,"class","svelte-1h11vka"),u(O,"type","radio"),u(O,"id","movies"),u(O,"name","role"),O.__value="movie",O.value=O.__value,u(C,"for","movies"),u(C,"class","svelte-1h11vka"),u(v,"class","svelte-1h11vka"),u(q,"href","#cancel"),u(q,"role","button"),u(q,"class","secondary svelte-1h11vka"),u(J,"href","#confirm"),u(J,"role","button"),u(J,"class","svelte-1h11vka"),u(j,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0,W.p(I,O)},m(V,U){D(V,t,U),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[3]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[4]),c(s,y),c(s,v),c(v,b),c(v,w),c(v,A),c(A,I),I.checked=I.__value===n[5],c(A,P),c(v,k),c(v,C),c(C,O),O.checked=O.__value===n[5],c(C,M),c(e,E),c(e,j),c(j,L),c(L,q),c(L,R),c(L,J),ne||(Z=[T(r,"click",n[43]),T(d,"input",n[99]),T(m,"input",n[100]),T(I,"change",n[101]),T(O,"change",n[103]),T(s,"submit",Be(n[52])),T(q,"click",n[43]),T(J,"click",n[38]),T(J,"click",n[43])],ne=!0)},p(V,U){U[0]&8&&d.value!==V[3]&&Y(d,V[3]),U[0]&16&&Y(m,V[4]),U[0]&32&&(I.checked=I.__value===V[5]),U[0]&32&&(O.checked=O.__value===V[5])},d(V){V&&N(t),W.r(),ne=!1,ae(Z)}}}function za(n){let t,e,o,r;const i=[Ca,wa],l=[];function s(a,f){return Ke?0:1}return t=s(),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){e.p(a,f)},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}let Ha="/api/files/9hhair4kd0xa314/";function jt(n){let t;return n&&(t=n[0]),t}function Ht(n){let t;return n&&(t=n.thumbnail),t}function ot(n,t){return Math.floor(n/t*100)}function Ja(n,t,e){let o,r,i,l;Me(n,vn,z=>e(105,o=z)),Me(n,Ke,z=>e(36,r=z)),Me(n,Bt,z=>e(106,i=z)),Me(n,kn,z=>e(107,l=z));let s,a,f,d,h,_,g=[],m=[],y,v,b,w="",A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne="",Z=[],V=!1,U=Zt+Ha;async function G(){const z=await pe.collection("view_everything").getFullList({sort:"-id"});e(7,m=z),X(),et();try{const Ue=await pe.collection("collections").getFullList({sort:"-created"});e(6,g=Ue)}catch(Ue){ie.error(Ue,{position:fe})}}st(async()=>{G(),X(),et()}),Mn(()=>{pe.collection("view_everything").unsubscribe("*")});function X(){nn(kn,l=m.length,l),nn(Bt,i=0,i);for(const z of m)z.pages_read&&nn(Bt,i+=z.pages_read,i)}async function Q(){try{const z={collection:d,reader:r.id,type:_},Ue=await pe.collection("collections").create(z);G()}catch(z){ie.error(z,{position:fe})}}async function H(){try{const z=new FormData;z.append("title",y),z.append("author",v),z.append("reader",r.id),z.append("review",w),z.append("collection",I),z.append("language",C),z.append("pages",A),P?z.append("cover",P[0]):z.append("googleCover",k);const Ue=await pe.collection("books").create(z);ie.success("Book added successfully!",{position:fe}),e(8,y=null),e(9,v=null),w=null,e(11,A=null),e(13,P=null),e(15,C=null),e(25,ne=""),e(26,Z=[]),G()}catch(z){ie.error(z,{position:fe})}}async function B(){if(s&&a&&f)if(+L+ +a<=+j)try{const z={reader:r.id,book:J,date:s,pages_read:+a,comment:f},Ue=await pe.collection("reading").create(z);ie.success("Log entry saved!",{position:fe})}catch(z){ie.error(z,{position:fe})}else+L+ +a>+j&&ie.error("Pages exceeded",{position:fe});else ie.error("All fields required",{position:fe});e(0,s=""),e(1,a=""),e(2,f=""),G()}async function oe(){try{const z=new FormData;z.append("title",O),z.append("author",M),z.append("reader",r.id),z.append("review",E),z.append("pages",j),z.append("collection",q),P&&z.append("cover",P[0]);const Ue=await pe.collection("books").update(J,z);ie.success("Book updated!",{position:fe}),e(8,y=null),e(9,v=null),w=null,e(11,A=null),e(13,P=null),e(12,I=null),G()}catch(z){ie.error(z,{position:fe})}}async function ye(){try{await pe.collection("books").delete(J),ie.success("Book deleted!",{position:fe}),G()}catch(z){ie.error(z,{position:fe})}}let x=!1;function Ae(){e(28,x=!x)}let he=!1;function re(){e(29,he=!he),he||(e(25,ne=""),e(26,Z=[]))}let _e=!1;function ke(){e(30,_e=!_e)}let Pe=!1;function We(){e(31,Pe=!Pe)}let Te=!1;function se(){e(32,Te=!Te)}let we=!1;function Ye(){e(33,we=!we)}async function Fe(z){if(z.length>3){e(27,V=!0);let Ue="https://www.googleapis.com/books/v1/volumes?q="+z+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const tn=await fetch(Ue);e(26,Z=await tn.json()),e(26,Z=Z.items),e(27,V=!1)}catch(tn){ie.error(tn,{position:fe})}}else ie.error("input required",{position:fe})}function Ie(){ke(),re()}function Xe(){se(),Ye()}let K="",Oe=m;function et(){const z=K.toLowerCase();e(35,Oe=m.filter(Ue=>Ue.title.toLowerCase().includes(z)||Ue.author.toLowerCase().includes(z)||Ue.status.toLowerCase().includes(z)))}En(()=>{et()});const De=[[]];function Qe(z){qe.call(this,n,z)}function di(z){qe.call(this,n,z)}function pi(z){qe.call(this,n,z)}function hi(z){qe.call(this,n,z)}function _i(z){qe.call(this,n,z)}function mi(z){qe.call(this,n,z)}function gi(){K=this.value,e(34,K)}const vi=z=>{e(23,J=z.currentTarget.getAttribute("data-id"))},bi=z=>{e(16,O=z.currentTarget.getAttribute("data-title"))},yi=z=>{e(17,M=z.currentTarget.getAttribute("data-author"))},ki=z=>{e(19,j=z.currentTarget.getAttribute("data-pages"))},wi=z=>{e(20,L=z.currentTarget.getAttribute("data-pagesread"))},Ci=z=>{e(18,E=z.currentTarget.getAttribute("data-review"))},Si=z=>{e(21,q=z.currentTarget.getAttribute("data-collection"))},Ai=z=>{e(22,R=z.currentTarget.getAttribute("data-cover"))},Ti=z=>{e(24,W=z.currentTarget.getAttribute("data-status"))},Ii=z=>{e(23,J=z.currentTarget.getAttribute("data-id"))},Pi=z=>{e(16,O=z.currentTarget.getAttribute("data-title"))},Oi=z=>{e(17,M=z.currentTarget.getAttribute("data-author"))},Li=z=>{e(19,j=z.currentTarget.getAttribute("data-pages"))},Ei=z=>{e(20,L=z.currentTarget.getAttribute("data-pagesread"))},Mi=z=>{e(18,E=z.currentTarget.getAttribute("data-review"))},Ri=z=>{e(21,q=z.currentTarget.getAttribute("data-collection"))},ji=z=>{e(22,R=z.currentTarget.getAttribute("data-cover"))},Ni=z=>{e(24,W=z.currentTarget.getAttribute("data-status"))},Di=z=>{e(25,ne=z.currentTarget.value)},qi=z=>{e(8,y=z.currentTarget.getAttribute("data-title"))},Bi=z=>{e(9,v=z.currentTarget.getAttribute("data-author"))},Fi=z=>{e(11,A=z.currentTarget.getAttribute("data-pages"))},Ui=z=>{e(14,k=z.currentTarget.getAttribute("data-img"))},zi=z=>{e(10,b=z.currentTarget.getAttribute("data-description"))},Hi=z=>{e(15,C=z.currentTarget.getAttribute("data-language"))};function Ji(){y=this.value,e(8,y)}function Gi(){v=this.value,e(9,v)}function Vi(){A=Je(this.value),e(11,A)}function Wi(){I=pt(this),e(12,I),e(6,g)}function Qi(){P=this.files,e(13,P)}function Ki(){O=this.value,e(16,O)}function Yi(){s=this.value,e(0,s)}function Xi(){a=Je(this.value),e(1,a)}function Zi(){f=this.value,e(2,f)}function $i(){O=this.value,e(16,O)}function xi(){M=this.value,e(17,M)}function el(){j=Je(this.value),e(19,j)}function tl(){E=this.value,e(18,E)}function nl(){q=pt(this),e(21,q),e(6,g)}function ol(){P=this.files,e(13,P)}function rl(){d=this.value,e(3,d)}function il(){h=this.value,e(4,h)}function ll(){_=this.__value,e(5,_)}function sl(){_=this.__value,e(5,_)}return[s,a,f,d,h,_,g,m,y,v,b,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne,Z,V,x,he,_e,Pe,Te,we,K,Oe,r,U,Q,H,B,oe,ye,Ae,re,ke,We,se,Ye,Fe,Ie,Xe,Qe,di,pi,hi,_i,mi,gi,vi,bi,yi,ki,wi,Ci,Si,Ai,Ti,Ii,Pi,Oi,Li,Ei,Mi,Ri,ji,Ni,Di,qi,Bi,Fi,Ui,zi,Hi,Ji,Gi,Vi,Wi,Qi,Ki,Yi,Xi,Zi,$i,xi,el,tl,nl,ol,rl,il,ll,De,sl]}class Ga extends Se{constructor(t){super(),Ce(this,t,Ja,za,be,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Gr=Object.freeze({left:0,top:0,width:16,height:16}),Jt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Pt=Object.freeze({...Gr,...Jt}),wn=Object.freeze({...Pt,body:"",hidden:!1}),Va=Object.freeze({width:null,height:null}),Vr=Object.freeze({...Va,...Jt});function Wa(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(e===""){const r=parseInt(n);return isNaN(r)?0:o(r)}else if(e!==n){let r=0;switch(e){case"%":r=25;break;case"deg":r=90}if(r){let i=parseFloat(n.slice(0,n.length-e.length));return isNaN(i)?0:(i=i/r,i%1===0?o(i):0)}}return t}const Qa=/[\s,]+/;function Ka(n,t){t.split(Qa).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Wr={...Vr,preserveAspectRatio:""};function Do(n){const t={...Wr},e=(o,r)=>n.getAttribute(o)||r;return t.width=e("width",null),t.height=e("height",null),t.rotate=Wa(e("rotate","")),Ka(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function Ya(n,t){for(const e in Wr)if(n[e]!==t[e])return!0;return!1}const bt=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ot=(n,t,e,o="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const s=r.pop(),a=r.pop(),f={provider:r.length>0?r[0]:o,prefix:a,name:s};return t&&!Ft(f)?null:f}const i=r[0],l=i.split("-");if(l.length>1){const s={provider:o,prefix:l.shift(),name:l.join("-")};return t&&!Ft(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:i};return t&&!Ft(s,e)?null:s}return null},Ft=(n,t)=>n?!!((n.provider===""||n.provider.match(bt))&&(t&&n.prefix===""||n.prefix.match(bt))&&n.name.match(bt)):!1;function Xa(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function qo(n,t){const e=Xa(n,t);for(const o in wn)o in Jt?o in n&&!(o in e)&&(e[o]=Jt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function Za(n,t){const e=n.icons,o=n.aliases||Object.create(null),r=Object.create(null);function i(l){if(e[l])return r[l]=[];if(!(l in r)){r[l]=null;const s=o[l]&&o[l].parent,a=s&&i(s);a&&(r[l]=[s].concat(a))}return r[l]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(i),r}function $a(n,t,e){const o=n.icons,r=n.aliases||Object.create(null);let i={};function l(s){i=qo(o[s]||r[s],i)}return l(t),e.forEach(l),qo(n,i)}function Qr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(r=>{t(r,null),e.push(r)});const o=Za(n);for(const r in o){const i=o[r];i&&(t(r,$a(n,r,i)),e.push(r))}return e}const xa={provider:"",aliases:{},not_found:{},...Gr};function an(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Kr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!an(n,xa))return null;const e=t.icons;for(const r in e){const i=e[r];if(!r.match(bt)||typeof i.body!="string"||!an(i,wn))return null}const o=t.aliases||Object.create(null);for(const r in o){const i=o[r],l=i.parent;if(!r.match(bt)||typeof l!="string"||!e[l]&&!o[l]||!an(i,wn))return null}return t}const Gt=Object.create(null);function ec(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function rt(n,t){const e=Gt[n]||(Gt[n]=Object.create(null));return e[t]||(e[t]=ec(n,t))}function Hn(n,t){return Kr(t)?Qr(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function tc(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function nc(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Gt)).forEach(r=>{(typeof r=="string"&&typeof t=="string"?[t]:Object.keys(Gt[r]||{})).forEach(l=>{const s=rt(r,l);e=e.concat(Object.keys(s.icons).map(a=>(r!==""?"@"+r+":":"")+l+":"+a))})}),e}let wt=!1;function Yr(n){return typeof n=="boolean"&&(wt=n),wt}function Ct(n){const t=typeof n=="string"?Ot(n,!0,wt):n;if(t){const e=rt(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Xr(n,t){const e=Ot(n,!0,wt);if(!e)return!1;const o=rt(e.provider,e.prefix);return tc(o,e.name,t)}function Bo(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),wt&&!t&&!n.prefix){let r=!1;return Kr(n)&&(n.prefix="",Qr(n,(i,l)=>{l&&Xr(i,l)&&(r=!0)})),r}const e=n.prefix;if(!Ft({provider:t,prefix:e,name:"a"}))return!1;const o=rt(t,e);return!!Hn(o,n)}function oc(n){return!!Ct(n)}function rc(n){const t=Ct(n);return t?{...Pt,...t}:null}function ic(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((r,i)=>r.provider!==i.provider?r.provider.localeCompare(i.provider):r.prefix!==i.prefix?r.prefix.localeCompare(i.prefix):r.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return n.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const i=r.provider,l=r.prefix,s=r.name,a=e[i]||(e[i]=Object.create(null)),f=a[l]||(a[l]=rt(i,l));let d;s in f.icons?d=t.loaded:l===""||f.missing.has(s)?d=t.missing:d=t.pending;const h={provider:i,prefix:l,name:s};d.push(h)}),t}function Zr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(r=>r.id!==t))})}function lc(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,r=n.prefix;t.forEach(i=>{const l=i.icons,s=l.pending.length;l.pending=l.pending.filter(a=>{if(a.prefix!==r)return!0;const f=a.name;if(n.icons[f])l.loaded.push({provider:o,prefix:r,name:f});else if(n.missing.has(f))l.missing.push({provider:o,prefix:r,name:f});else return e=!0,!0;return!1}),l.pending.length!==s&&(e||Zr([n],i.id),i.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),i.abort))})}))}let sc=0;function ac(n,t,e){const o=sc++,r=Zr.bind(null,e,o);if(!t.pending.length)return r;const i={id:o,icons:t,callback:n,abort:r};return e.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(i)}),r}const Cn=Object.create(null);function Fo(n,t){Cn[n]=t}function Sn(n){return Cn[n]||Cn[""]}function cc(n,t=!0,e=!1){const o=[];return n.forEach(r=>{const i=typeof r=="string"?Ot(r,t,e):r;i&&o.push(i)}),o}var uc={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function fc(n,t,e,o){const r=n.resources.length,i=n.random?Math.floor(Math.random()*r):n.index;let l;if(n.random){let k=n.resources.slice(0);for(l=[];k.length>1;){const C=Math.floor(Math.random()*k.length);l.push(k[C]),k=k.slice(0,C).concat(k.slice(C+1))}l=l.concat(k)}else l=n.resources.slice(i).concat(n.resources.slice(0,i));const s=Date.now();let a="pending",f=0,d,h=null,_=[],g=[];typeof o=="function"&&g.push(o);function m(){h&&(clearTimeout(h),h=null)}function y(){a==="pending"&&(a="aborted"),m(),_.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),_=[]}function v(k,C){C&&(g=[]),typeof k=="function"&&g.push(k)}function b(){return{startTime:s,payload:t,status:a,queriesSent:f,queriesPending:_.length,subscribe:v,abort:y}}function w(){a="failed",g.forEach(k=>{k(void 0,d)})}function A(){_.forEach(k=>{k.status==="pending"&&(k.status="aborted")}),_=[]}function I(k,C,O){const M=C!=="success";switch(_=_.filter(E=>E!==k),a){case"pending":break;case"failed":if(M||!n.dataAfterTimeout)return;break;default:return}if(C==="abort"){d=O,w();return}if(M){d=O,_.length||(l.length?P():w());return}if(m(),A(),!n.random){const E=n.resources.indexOf(k.resource);E!==-1&&E!==n.index&&(n.index=E)}a="completed",g.forEach(E=>{E(O)})}function P(){if(a!=="pending")return;m();const k=l.shift();if(k===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(A(),w())},n.timeout);return}w();return}const C={status:"pending",resource:k,callback:(O,M)=>{I(C,O,M)}};_.push(C),f++,h=setTimeout(P,n.rotate),e(k,t,C.callback)}return setTimeout(P),b}function $r(n){const t={...uc,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function r(s,a,f){const d=fc(t,s,a,(h,_)=>{o(),f&&f(h,_)});return e.push(d),d}function i(s){return e.find(a=>s(a))||null}return{query:r,find:i,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function Jn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const xt=Object.create(null),gt=["https://api.simplesvg.com","https://api.unisvg.com"],Ut=[];for(;gt.length>0;)gt.length===1||Math.random()>.5?Ut.push(gt.shift()):Ut.push(gt.pop());xt[""]=Jn({resources:["https://api.iconify.design"].concat(Ut)});function Uo(n,t){const e=Jn(t);return e===null?!1:(xt[n]=e,!0)}function en(n){return xt[n]}function dc(){return Object.keys(xt)}function zo(){}const cn=Object.create(null);function pc(n){if(!cn[n]){const t=en(n);if(!t)return;const e=$r(t),o={config:t,redundancy:e};cn[n]=o}return cn[n]}function xr(n,t,e){let o,r;if(typeof n=="string"){const i=Sn(n);if(!i)return e(void 0,424),zo;r=i.send;const l=pc(n);l&&(o=l.redundancy)}else{const i=Jn(n);if(i){o=$r(i);const l=n.resources?n.resources[0]:"",s=Sn(l);s&&(r=s.send)}}return!o||!r?(e(void 0,424),zo):o.query(t,r,e)().abort}const Ho="iconify2",St="iconify",ei=St+"-count",Jo=St+"-version",ti=36e5,hc=168;function An(n,t){try{return n.getItem(t)}catch{}}function Gn(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Go(n,t){try{n.removeItem(t)}catch{}}function Tn(n,t){return Gn(n,ei,t.toString())}function In(n){return parseInt(An(n,ei))||0}const lt={local:!0,session:!0},ni={local:new Set,session:new Set};let Vn=!1;function _c(n){Vn=n}let Nt=typeof window>"u"?{}:window;function oi(n){const t=n+"Storage";try{if(Nt&&Nt[t]&&typeof Nt[t].length=="number")return Nt[t]}catch{}lt[n]=!1}function ri(n,t){const e=oi(n);if(!e)return;const o=An(e,Jo);if(o!==Ho){if(o){const s=In(e);for(let a=0;a<s;a++)Go(e,St+a.toString())}Gn(e,Jo,Ho),Tn(e,0);return}const r=Math.floor(Date.now()/ti)-hc,i=s=>{const a=St+s.toString(),f=An(e,a);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>r&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Go(e,a)}};let l=In(e);for(let s=l-1;s>=0;s--)i(s)||(s===l-1?(l--,Tn(e,l)):ni[n].add(s))}function ii(){if(!Vn){_c(!0);for(const n in lt)ri(n,t=>{const e=t.data,o=t.provider,r=e.prefix,i=rt(o,r);if(!Hn(i,e).length)return!1;const l=e.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,l):l,!0})}}function mc(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in lt)ri(o,r=>{const i=r.data;return r.provider!==n.provider||i.prefix!==n.prefix||i.lastModified===t});return!0}function gc(n,t){Vn||ii();function e(o){let r;if(!lt[o]||!(r=oi(o)))return;const i=ni[o];let l;if(i.size)i.delete(l=Array.from(i).shift());else if(l=In(r),!Tn(r,l+1))return;const s={cached:Math.floor(Date.now()/ti),provider:n.provider,data:t};return Gn(r,St+l.toString(),JSON.stringify(s))}t.lastModified&&!mc(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Vo(){}function vc(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,lc(n)}))}function bc(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,r=n.iconsToLoad;delete n.iconsToLoad;let i;if(!r||!(i=Sn(e)))return;i.prepare(e,o,r).forEach(s=>{xr(e,s,a=>{if(typeof a!="object")s.icons.forEach(f=>{n.missing.add(f)});else try{const f=Hn(n,a);if(!f.length)return;const d=n.pendingIcons;d&&f.forEach(h=>{d.delete(h)}),gc(n,a)}catch(f){console.error(f)}vc(n)})})}))}const Wn=(n,t)=>{const e=cc(n,!0,Yr()),o=ic(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,Vo)}),()=>{a=!1}}const r=Object.create(null),i=[];let l,s;return o.pending.forEach(a=>{const{provider:f,prefix:d}=a;if(d===s&&f===l)return;l=f,s=d,i.push(rt(f,d));const h=r[f]||(r[f]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:d,name:h}=a,_=rt(f,d),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),r[f][d].push(h))}),i.forEach(a=>{const{provider:f,prefix:d}=a;r[f][d].length&&bc(a,r[f][d])}),t?ac(t,o,i):Vo},yc=n=>new Promise((t,e)=>{const o=typeof n=="string"?Ot(n,!0):n;if(!o){e(n);return}Wn([o||n],r=>{if(r.length&&o){const i=Ct(o);if(i){t({...Pt,...i});return}}e(n)})});function kc(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function wc(n,t){const e=typeof n=="string"?Ot(n,!0,!0):null;if(!e){const i=kc(n);return{value:n,data:i}}const o=Ct(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const r=Wn([e],()=>t(n,e,Ct(e)));return{value:n,name:e,loading:r}}function un(n){return n.hasAttribute("inline")}let li=!1;try{li=navigator.vendor.indexOf("Apple")===0}catch{}function Cc(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(li||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Sc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ac=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Pn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(Sc);if(o===null||!o.length)return n;const r=[];let i=o.shift(),l=Ac.test(i);for(;;){if(l){const s=parseFloat(i);isNaN(s)?r.push(i):r.push(Math.ceil(s*t*e)/e)}else r.push(i);if(i=o.shift(),i===void 0)return r.join("");l=!l}}const Tc=n=>n==="unset"||n==="undefined"||n==="none";function si(n,t){const e={...Pt,...n},o={...Vr,...t},r={left:e.left,top:e.top,width:e.width,height:e.height};let i=e.body;[e,o].forEach(m=>{const y=[],v=m.hFlip,b=m.vFlip;let w=m.rotate;v?b?w+=2:(y.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),y.push("scale(-1 1)"),r.top=r.left=0):b&&(y.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),y.push("scale(1 -1)"),r.top=r.left=0);let A;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:A=r.height/2+r.top,y.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:y.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:A=r.width/2+r.left,y.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}w%2===1&&(r.left!==r.top&&(A=r.left,r.left=r.top,r.top=A),r.width!==r.height&&(A=r.width,r.width=r.height,r.height=A)),y.length&&(i='<g transform="'+y.join(" ")+'">'+i+"</g>")});const l=o.width,s=o.height,a=r.width,f=r.height;let d,h;l===null?(h=s===null?"1em":s==="auto"?f:s,d=Pn(h,a/f)):(d=l==="auto"?a:l,h=s===null?Pn(d,f/a):s==="auto"?f:s);const _={},g=(m,y)=>{Tc(y)||(_[m]=y.toString())};return g("width",d),g("height",h),_.viewBox=r.left.toString()+" "+r.top.toString()+" "+a.toString()+" "+f.toString(),{attributes:_,body:i}}const Ic=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Vt=Ic();function Pc(n){Vt=n}function Oc(){return Vt}function Lc(n,t){const e=en(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let r=0;e.resources.forEach(l=>{r=Math.max(r,l.length)});const i=t+".json?icons=";o=e.maxURL-r-e.path.length-i.length}return o}function Ec(n){return n===404}const Mc=(n,t,e)=>{const o=[],r=Lc(n,t),i="icons";let l={type:i,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,f)=>{s+=a.length+1,s>=r&&f>0&&(o.push(l),l={type:i,provider:n,prefix:t,icons:[]},s=a.length),l.icons.push(a)}),o.push(l),o};function Rc(n){if(typeof n=="string"){const t=en(n);if(t)return t.path}return"/"}const jc=(n,t,e)=>{if(!Vt){e("abort",424);return}let o=Rc(t.provider);switch(t.type){case"icons":{const i=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=i+".json?"+a.toString();break}case"custom":{const i=t.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:e("abort",400);return}let r=503;Vt(n+o).then(i=>{const l=i.status;if(l!==200){setTimeout(()=>{e(Ec(l)?"abort":"next",l)});return}return r=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?e("abort",i):e("next",r)});return}setTimeout(()=>{e("success",i)})}).catch(()=>{e("next",r)})},Nc={prepare:Mc,send:jc};function Wo(n,t){switch(n){case"local":case"session":lt[n]=t;break;case"all":for(const e in lt)lt[e]=t;break}}const fn="data-style";let ai="";function Dc(n){ai=n}function Qo(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(fn));e||(e=document.createElement("style"),e.setAttribute(fn,fn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+ai}function ci(){Fo("",Nc),Yr(!0);let n;try{n=window}catch{}if(n){if(ii(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Bo(r))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const r="IconifyProviders["+o+"] is invalid.";try{const i=e[o];if(typeof i!="object"||!i||i.resources===void 0)continue;Uo(o,i)||console.error(r)}catch{console.error(r)}}}}return{enableCache:e=>Wo(e,!0),disableCache:e=>Wo(e,!1),iconExists:oc,getIcon:rc,listIcons:nc,addIcon:Xr,addCollection:Bo,calculateSize:Pn,buildIcon:si,loadIcons:Wn,loadIcon:yc,addAPIProvider:Uo,appendCustomStyle:Dc,_api:{getAPIConfig:en,setAPIModule:Fo,sendAPIQuery:xr,setFetch:Pc,getFetch:Oc,listAPIProviders:dc}}}function ui(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function qc(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Bc(n){return'url("data:image/svg+xml,'+qc(n)+'")'}const On={"background-color":"currentColor"},fi={"background-color":"transparent"},Ko={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Yo={"-webkit-mask":On,mask:On,background:fi};for(const n in Yo){const t=Yo[n];for(const e in Ko)t[n+"-"+e]=Ko[e]}function Xo(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Fc(n,t,e){const o=document.createElement("span");let r=n.body;r.indexOf("<a")!==-1&&(r+="<!-- "+Date.now()+" -->");const i=n.attributes,l=ui(r,{...i,width:t.width+"",height:t.height+""}),s=Bc(l),a=o.style,f={"--svg":s,width:Xo(i.width),height:Xo(i.height),...e?On:fi};for(const d in f)a.setProperty(d,f[d]);return o}function Uc(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=ui(n.body,e),t.firstChild}function Zo(n,t){const e=t.icon.data,o=t.customisations,r=si(e,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const i=t.renderedMode;let l;switch(i){case"svg":l=Uc(r);break;default:l=Fc(r,{...Pt,...e},i==="mask")}const s=Array.from(n.childNodes).find(a=>{const f=a.tagName&&a.tagName.toUpperCase();return f==="SPAN"||f==="SVG"});s?l.tagName==="SPAN"&&s.tagName===l.tagName?s.setAttribute("style",l.getAttribute("style")):n.replaceChild(l,s):n.appendChild(l)}function $o(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function zc(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],i=class extends e{constructor(){super();Lt(this,"_shadowRoot");Lt(this,"_state");Lt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),f=un(this);Qo(a,f),this._state=$o({value:""},f),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(a){if(a==="inline"){const f=un(this),d=this._state;f!==d.inline&&(d.inline=f,Qo(this._shadowRoot,f))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return un(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const f=this._shadowRoot;if(a.renderedMode==="svg")try{f.lastChild.setCurrentTime(0);return}catch{}Zo(f,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,f=this.getAttribute("icon");if(f!==a.icon.value){this._iconChanged(f);return}if(!a.rendered)return;const d=this.getAttribute("mode"),h=Do(this);(a.attrMode!==d||Ya(a.customisations,h))&&this._renderIcon(a.icon,h,d)}_iconChanged(a){const f=wc(a,(d,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==d)return;const m={value:d,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});f.data?this._gotIconData(f):this._state=$o(f,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,Do(this),this.getAttribute("mode"))}_renderIcon(a,f,d){const h=Cc(a.data.body,d),_=this._state.inline;Zo(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:f,attrMode:d,renderedMode:h})}};r.forEach(s=>{s in i.prototype||Object.defineProperty(i.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const l=ci();for(const s in l)i[s]=i.prototype[s]=l[s];return t.define(n,i),i}zc()||ci();function xo(n,t,e){const o=n.slice();return o[18]=t[e],o}function er(n,t,e){const o=n.slice();return o[18]=t[e],o}function tr(n,t,e){const o=n.slice();return o[60]=t[e],o}function Hc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j=[],L=new Map,q,R,J,W,ne,Z,V=n[17];const U=H=>H[60].id;for(let H=0;H<V.length;H+=1){let B=tr(n,V,H),oe=U(B);L.set(oe,j[H]=nr(oe,B))}let G=n[13]&&or(n),X=n[14]&&ir(n),Q=n[15]&&sr(n);return{c(){t=p("div"),e=p("button"),e.textContent="Add Entry",o=S(),r=p("div"),i=p("select"),l=p("option"),l.textContent="All",s=p("option"),s.textContent="January",a=p("option"),a.textContent="February",f=p("option"),f.textContent="March",d=p("option"),d.textContent="April",h=p("option"),h.textContent="May",_=p("option"),_.textContent="June",g=p("option"),g.textContent="July",m=p("option"),m.textContent="August",y=p("option"),y.textContent="September",v=p("option"),v.textContent="October",b=p("option"),b.textContent="November",w=p("option"),w.textContent="December",A=S(),I=p("input"),P=S(),k=p("div"),C=p("table"),O=p("thead"),O.innerHTML=`<tr><th scope="col" class="svelte-fs4gn5">Date</th> 
            <th scope="col" class="svelte-fs4gn5">Book</th> 
            <th scope="col" class="svelte-fs4gn5">Read</th> 
            <th scope="col" class="svelte-fs4gn5">Comment</th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th></tr>`,M=S(),E=p("tbody");for(let H=0;H<j.length;H+=1)j[H].c();q=S(),G&&G.c(),R=S(),X&&X.c(),J=S(),Q&&Q.c(),W=ve(),u(e,"class","btn btn-primary svelte-fs4gn5"),l.__value="All",l.value=l.__value,s.__value="January",s.value=s.__value,a.__value="February",a.value=a.__value,f.__value="March",f.value=f.__value,d.__value="April",d.value=d.__value,h.__value="May",h.value=h.__value,_.__value="June",_.value=_.__value,g.__value="July",g.value=g.__value,m.__value="August",m.value=m.__value,y.__value="September",y.value=y.__value,v.__value="October",v.value=v.__value,b.__value="November",b.value=b.__value,w.__value="December",w.value=w.__value,u(i,"class","svelte-fs4gn5"),n[6]===void 0&&xe(()=>n[28].call(i)),u(I,"type","search"),u(I,"placeholder","Filter logs..."),u(I,"class","svelte-fs4gn5"),u(r,"class","flex svelte-fs4gn5"),u(C,"class","table-container svelte-fs4gn5"),u(C,"role","grid"),u(k,"class","grid"),u(t,"class","container svelte-fs4gn5")},m(H,B){D(H,t,B),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s),c(i,a),c(i,f),c(i,d),c(i,h),c(i,_),c(i,g),c(i,m),c(i,y),c(i,v),c(i,b),c(i,w),Ge(i,n[6],!0),c(r,A),c(r,I),Y(I,n[16]),c(t,P),c(t,k),c(k,C),c(C,O),c(C,M),c(C,E);for(let oe=0;oe<j.length;oe+=1)j[oe]&&j[oe].m(E,null);D(H,q,B),G&&G.m(H,B),D(H,R,B),X&&X.m(H,B),D(H,J,B),Q&&Q.m(H,B),D(H,W,B),ne||(Z=[T(e,"click",n[20]),T(i,"change",n[28]),T(i,"change",n[19]),T(I,"input",n[29])],ne=!0)},p(H,B){B[0]&64&&Ge(i,H[6]),B[0]&65536&&I.value!==H[16]&&Y(I,H[16]),B[0]&6428735&&(V=H[17],j=ze(j,B,U,1,H,V,L,E,Ve,nr,null,tr)),H[13]?G?G.p(H,B):(G=or(H),G.c(),G.m(R.parentNode,R)):G&&(G.d(1),G=null),H[14]?X?X.p(H,B):(X=ir(H),X.c(),X.m(J.parentNode,J)):X&&(X.d(1),X=null),H[15]?Q?Q.p(H,B):(Q=sr(H),Q.c(),Q.m(W.parentNode,W)):Q&&(Q.d(1),Q=null)},d(H){H&&N(t);for(let B=0;B<j.length;B+=1)j[B].d();H&&N(q),G&&G.d(H),H&&N(R),X&&X.d(H),H&&N(J),Q&&Q.d(H),H&&N(W),ne=!1,ae(Z)}}}function nr(n,t){let e,o,r=ar(t[60].date)+"",i,l,s,a=t[60].title+"",f,d,h,_=t[60].pages_read+"",g,m,y,v=t[60].comment+"",b,w,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne,Z,V;return{key:n,first:null,c(){e=p("tr"),o=p("td"),i=F(r),l=S(),s=p("td"),f=F(a),d=S(),h=p("td"),g=F(_),m=S(),y=p("td"),b=F(v),w=S(),A=p("td"),I=p("a"),P=p("iconify-icon"),L=S(),q=p("td"),R=p("a"),J=p("iconify-icon"),ne=S(),u(o,"class","svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),u(h,"class","svelte-fs4gn5"),u(y,"class","svelte-fs4gn5"),Mt(P,"id","lapicito"),Mt(P,"icon","mdi:edit"),Mt(P,"class","svelte-fs4gn5"),u(I,"href","#edit"),u(I,"data-id",k=t[60].id),u(I,"data-date",C=t[60].date),u(I,"data-title",O=t[60].title),u(I,"data-pages",M=t[60].pages),u(I,"data-pagesread",E=t[60].pages_read),u(I,"data-comment",j=t[60].comment),u(A,"class","svelte-fs4gn5"),Mt(J,"icon","mdi:delete"),u(R,"id",W=t[60].id),u(R,"href","#delete"),u(R,"class","delete svelte-fs4gn5"),u(q,"class","svelte-fs4gn5"),this.first=e},m(U,G){D(U,e,G),c(e,o),c(o,i),c(e,l),c(e,s),c(s,f),c(e,d),c(e,h),c(h,g),c(e,m),c(e,y),c(y,b),c(e,w),c(e,A),c(A,I),c(I,P),c(e,L),c(e,q),c(q,R),c(R,J),c(e,ne),Z||(V=[T(I,"click",t[30]),T(I,"click",t[31]),T(I,"click",t[32]),T(I,"click",t[33]),T(I,"click",t[34]),T(I,"click",t[35]),T(I,"click",t[36]),T(I,"click",t[21]),T(R,"click",t[37]),T(R,"click",t[22])],Z=!0)},p(U,G){t=U,G[0]&131072&&r!==(r=ar(t[60].date)+"")&&le(i,r),G[0]&131072&&a!==(a=t[60].title+"")&&le(f,a),G[0]&131072&&_!==(_=t[60].pages_read+"")&&le(g,_),G[0]&131072&&v!==(v=t[60].comment+"")&&le(b,v),G[0]&131072&&k!==(k=t[60].id)&&u(I,"data-id",k),G[0]&131072&&C!==(C=t[60].date)&&u(I,"data-date",C),G[0]&131072&&O!==(O=t[60].title)&&u(I,"data-title",O),G[0]&131072&&M!==(M=t[60].pages)&&u(I,"data-pages",M),G[0]&131072&&E!==(E=t[60].pages_read)&&u(I,"data-pagesread",E),G[0]&131072&&j!==(j=t[60].comment)&&u(I,"data-comment",j),G[0]&131072&&W!==(W=t[60].id)&&u(R,"id",W)},d(U){U&&N(e),Z=!1,ae(V)}}}function or(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne=n[10];const Z=V=>V[18].id;for(let V=0;V<ne.length;V+=1){let U=er(n,ne,V),G=Z(U);g.set(G,_[V]=rr(G,U))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Log Entry`),l=S(),s=p("form"),a=p("label"),a.textContent="Book",f=S(),d=p("select"),h=p("option"),h.textContent="Please select an option";for(let V=0;V<_.length;V+=1)_[V].c();m=S(),y=p("label"),v=F(`Date\r
            `),b=p("input"),w=S(),A=p("label"),I=F(`Pages Read\r
            `),P=p("input"),k=S(),C=p("label"),O=F(`Comment\r
            `),M=p("input"),E=S(),j=p("footer"),L=p("a"),L.textContent="Cancel",q=S(),R=p("a"),R.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(d,"id","book"),n[18]===void 0&&xe(()=>n[38].call(d)),u(b,"id","date"),u(b,"name","date"),u(b,"type","date"),b.required=!0,u(y,"for","date"),u(P,"id","pagesRead"),u(P,"name","pagesRead"),u(P,"type","number"),P.required=!0,u(A,"for","pagesRead"),u(M,"id","comment"),u(M,"name","comment"),u(M,"type","textarea"),M.required=!0,u(C,"for","comment"),u(L,"href","#cancel"),u(L,"role","button"),u(L,"class","secondary svelte-fs4gn5"),u(R,"href","#confirm"),u(R,"role","button"),u(R,"class","svelte-fs4gn5"),u(j,"class","svelte-fs4gn5"),t.open=!0},m(V,U){D(V,t,U),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h);for(let G=0;G<_.length;G+=1)_[G]&&_[G].m(d,null);Ge(d,n[18],!0),c(s,m),c(s,y),c(y,v),c(y,b),Y(b,n[7]),c(s,w),c(s,A),c(A,I),c(A,P),Y(P,n[8]),c(s,k),c(s,C),c(C,O),c(C,M),Y(M,n[9]),c(e,E),c(e,j),c(j,L),c(j,q),c(j,R),J||(W=[T(r,"click",n[20]),T(d,"change",n[38]),T(b,"input",n[39]),T(P,"input",n[40]),T(M,"input",n[41]),T(s,"submit",Be(n[27])),T(L,"click",n[20]),T(R,"click",n[24]),T(R,"click",n[20])],J=!0)},p(V,U){U[0]&1024&&(ne=V[10],_=ze(_,U,Z,1,V,ne,g,d,Ve,rr,null,er)),U[0]&263168&&Ge(d,V[18]),U[0]&128&&Y(b,V[7]),U[0]&256&&Je(P.value)!==V[8]&&Y(P,V[8]),U[0]&512&&Y(M,V[9])},d(V){V&&N(t);for(let U=0;U<_.length;U+=1)_[U].d();J=!1,ae(W)}}}function rr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&le(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function ir(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M=[],E=new Map,j,L,q,R,J,W,ne,Z=n[10];const V=U=>U[18].id;for(let U=0;U<Z.length;U+=1){let G=xo(n,Z,U),X=V(G);E.set(X,M[U]=lr(X,G))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Edit Entry Details`),l=S(),s=p("form"),a=p("label"),f=F(`Date\r
            `),d=p("input"),h=S(),_=p("label"),g=F(`Pages Read\r
            `),m=p("input"),y=S(),v=p("label"),b=F(`Comment\r
            `),w=p("input"),A=S(),I=p("label"),I.textContent="Book",P=S(),k=p("select"),C=p("option"),O=F(n[3]);for(let U=0;U<M.length;U+=1)M[U].c();j=S(),L=p("footer"),q=p("a"),q.textContent="Cancel",R=S(),J=p("a"),J.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","date"),u(d,"name","date"),u(d,"type","date"),u(d,"placeholder",n[2]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(w,"id","comment"),u(w,"name","comment"),u(w,"type","text"),u(v,"for","comment"),u(I,"for","book"),C.__value=n[3],C.value=C.__value,C.selected=!0,k.disabled=!0,u(k,"id","book"),n[3]===void 0&&xe(()=>n[45].call(k)),u(q,"href","#cancel"),u(q,"role","button"),u(q,"class","secondary svelte-fs4gn5"),u(J,"href","#confirm"),u(J,"role","button"),u(J,"class","svelte-fs4gn5"),u(L,"data-button","spaceBetween"),u(L,"class","svelte-fs4gn5"),t.open=!0},m(U,G){D(U,t,G),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[2]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[4]),c(s,y),c(s,v),c(v,b),c(v,w),Y(w,n[5]),c(s,A),c(s,I),c(s,P),c(s,k),c(k,C),c(C,O);for(let X=0;X<M.length;X+=1)M[X]&&M[X].m(k,null);Ge(k,n[3],!0),c(e,j),c(e,L),c(L,q),c(L,R),c(L,J),W||(ne=[T(r,"click",n[21]),T(d,"input",n[42]),T(m,"input",n[43]),T(w,"input",n[44]),T(k,"change",n[45]),T(s,"submit",Be(n[26])),T(q,"click",n[21]),T(J,"click",n[25]),T(J,"click",n[21])],W=!0)},p(U,G){G[0]&4&&u(d,"placeholder",U[2]),G[0]&4&&Y(d,U[2]),G[0]&16&&Je(m.value)!==U[4]&&Y(m,U[4]),G[0]&32&&w.value!==U[5]&&Y(w,U[5]),G[0]&8&&le(O,U[3]),G[0]&1032&&(C.__value=U[3],C.value=C.__value),G[0]&1024&&(Z=U[10],M=ze(M,G,V,1,U,Z,E,k,Ve,lr,null,xo)),G[0]&1032&&Ge(k,U[3])},d(U){U&&N(t);for(let G=0;G<M.length;G+=1)M[G].d();W=!1,ae(ne)}}}function lr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=F(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&le(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function sr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent="Are you sure you want to delete this entry?",l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-fs4gn5"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-fs4gn5"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),t.open=!0},m(m,y){D(m,t,y),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[22]),T(h,"click",n[23]),T(h,"click",n[22])],_=!0)},p:te,d(m){m&&N(t),_=!1,ae(g)}}}function Jc(n){let t,e=Ke&&Hc(n);return{c(){e&&e.c(),t=ve()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,r){Ke&&e.p(o,r)},i:te,o:te,d(o){e&&e.d(o),o&&N(t)}}}function ar(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Gc(n,t,e){let o;Me(n,Ke,K=>e(48,o=K));let r=[],i,l,s,a,f,d;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let g=h[_.getMonth()],m=_.getMonth()+1,y=_.getFullYear(),v="";m<10?m===9?v=`date >= '${y}-0${m}-01' && date < '${y}-${m+1}-01'`:v=`date >= '${y}-0${m}-01' && date < '${y}-0${m+1}-01'`:m===12?v=`date >= '${y}-${m}-01' && date < '${y+1}-01-01'`:v=`date >= '${y}-${m}-01' && date < '${y}-${m+1}-01'`;let b=g,w,A,I,P=[],k,C,O;async function M(){try{r=await pe.collection("view_readingLog").getFullList({filter:v,sort:"-date"})}catch(K){ie.error(K,{position:fe})}try{const K=await pe.collection("books").getFullList({sort:"-created"});e(10,P=K),G()}catch(K){ie.error(K,{position:fe})}}st(async()=>{M()});function E(){if(b&&_.getMonth()>4)switch(b){case"All":v="";break;case"January":v="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":v="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":v="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":v="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":v="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":v="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":v="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":v="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":v="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":v="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":v="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":v="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],M()}let j=!1;function L(){e(13,j=!j)}let q=!1;function R(){e(14,q=!q)}let J=!1;function W(){e(15,J=!J)}async function ne(){try{console.log(i),await pe.collection("reading").delete(i),ie.success("Entry deleted!",{position:fe}),M()}catch(K){ie.error(K,{position:fe})}}async function Z(){if(w&&A){try{const K={reader:o.id,book:k,date:w,pages_read:+A,comment:I},Oe=await pe.collection("reading").create(K);ie.success("Log saved!",{position:fe})}catch(K){ie.error(K,{position:fe})}e(7,w=null),e(8,A=""),e(18,k="")}M()}async function V(){if(+f<+O)try{const K=new FormData;K.append("pages_read",f),K.append("comment",d),s&&K.append("date",s);const Oe=await pe.collection("reading").update(l,K);ie.success("Log entry updated!",{position:fe}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){ie.error(K,{position:fe})}else if(+f>+O)if(+f+ +O<=+C)try{const K=new FormData;K.append("pages_read",f),K.append("comment",d),s&&K.append("date",s);const Oe=await pe.collection("reading").update(l,K);ie.success("Log entry updated!",{position:fe}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){ie.error(K,{position:fe})}else ie.error("Pages exceeded",{position:fe});else try{const K=new FormData;K.append("comment",d),s&&K.append("date",s);const Oe=await pe.collection("reading").update(l,K);ie.success("Log entry updated!",{position:fe}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){ie.error(K,{position:fe})}}let U="";function G(){const K=U.toLowerCase();e(17,X=r.filter(Oe=>Oe.title.toLowerCase().includes(K)||Oe.reader_name.toLowerCase().includes(K)||Oe.date.toLowerCase().includes(K)))}let X=r;En(()=>{G()});function Q(K){qe.call(this,n,K)}function H(K){qe.call(this,n,K)}function B(){b=pt(this),e(6,b)}function oe(){U=this.value,e(16,U)}const ye=K=>{e(1,l=K.currentTarget.getAttribute("data-id"))},x=K=>{e(2,s=K.currentTarget.getAttribute("data-date"))},Ae=K=>{e(3,a=K.currentTarget.getAttribute("data-title"))},he=K=>{e(12,O=K.currentTarget.getAttribute("data-pagesread"))},re=K=>{e(4,f=K.currentTarget.getAttribute("data-pagesread"))},_e=K=>{e(11,C=K.currentTarget.getAttribute("data-pages"))},ke=K=>{e(5,d=K.currentTarget.getAttribute("data-comment"))},Pe=K=>{e(0,i=K.currentTarget.getAttribute("id"))};function We(){k=pt(this),e(18,k),e(10,P)}function Te(){w=this.value,e(7,w)}function se(){A=Je(this.value),e(8,A)}function we(){I=this.value,e(9,I)}function Ye(){s=this.value,e(2,s)}function Fe(){f=Je(this.value),e(4,f)}function Ie(){d=this.value,e(5,d)}function Xe(){a=pt(this),e(3,a),e(10,P)}return[i,l,s,a,f,d,b,w,A,I,P,C,O,j,q,J,U,X,k,E,L,R,W,ne,Z,V,Q,H,B,oe,ye,x,Ae,he,re,_e,ke,Pe,We,Te,se,we,Ye,Fe,Ie,Xe]}class Vc extends Se{constructor(t){super(),Ce(this,t,Gc,Jc,be,{},null,[-1,-1,-1])}}function cr(n,t,e){const o=n.slice();return o[43]=t[e],o}function Wc(n){let t;function e(i,l){return i[13]?Kc:Yc}let o=e(n),r=o(n);return{c(){r.c(),t=ve()},m(i,l){r.m(i,l),D(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r.d(1),r=o(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){r.d(i),i&&N(t)}}}function Qc(n){let t,e,o,r,i=[],l=new Map,s,a,f,d=n[0];const h=g=>g[43].id;for(let g=0;g<d.length;g+=1){let m=cr(n,d,g),y=h(m);l.set(y,i[g]=fr(y,m))}let _=n[14]&&dr(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=S(),r=p("div");for(let g=0;g<i.length;g+=1)i[g].c();s=S(),a=S(),_&&_.c(),f=ve(),me(e,"text-align","center"),u(r,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){D(g,t,m),c(t,e),c(t,o),c(t,r);for(let y=0;y<i.length;y+=1)i[y]&&i[y].m(r,null);D(g,s,m),D(g,a,m),_&&_.m(g,m),D(g,f,m)},p(g,m){m[0]&335871&&(d=g[0],i=ze(i,m,h,1,g,d,l,r,Ve,fr,null,cr)),g[14]?_?_.p(g,m):(_=dr(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(g){g&&N(t);for(let m=0;m<i.length;m+=1)i[m].d();g&&N(s),g&&N(a),_&&_.d(g),g&&N(f)}}}function Kc(n){let t,e,o,r=n[15].email+"",i,l;return{c(){t=p("div"),e=p("p"),o=F("A verification email has been sent to "),i=F(r),l=F("."),u(t,"class","container")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,i),c(e,l)},p(s,a){a[0]&32768&&r!==(r=s[15].email+"")&&le(i,r)},d(s){s&&N(t)}}}function Yc(n){let t,e,o,r,i,l;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=S(),r=p("a"),r.textContent="Verify Account",u(r,"href","#verify"),u(r,"role","button"),u(r,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=T(r,"click",n[17]),i=!0)},p:te,d(s){s&&N(t),i=!1,l()}}}function ur(n){let t,e,o,r,i,l,s=n[43].title+"",a,f,d,h,_=n[43].author+"",g,m,y,v,b,w,A,I,P,k,C,O,M=n[43].reader_name+"",E,j,L,q,R,J,W,ne;function Z(H,B){return H[43].cover?Zc:Xc}let V=Z(n),U=V(n);function G(H,B){return H[43].pages_read?xc:$c}let X=G(n),Q=X(n);return{c(){t=p("article"),e=p("div"),o=p("div"),U.c(),r=S(),i=p("hgroup"),l=p("h4"),a=F(s),f=S(),d=p("p"),h=F("By: "),g=F(_),m=S(),y=p("br"),v=S(),b=p("figure"),w=p("a"),A=p("img"),O=S(),E=F(M),j=S(),L=p("div"),q=S(),R=p("footer"),Q.c(),J=S(),u(o,"class","image-wrapper"),ge(A.src,I=n[43].avatar_from_url)||u(A,"src",I),u(A,"alt","avatar"),u(A,"class","svelte-1vqx4aq"),u(w,"href","#profile"),u(w,"data-readerid",P=n[43].reader),u(w,"data-reader",k=n[43].reader_name),u(w,"data-avatar",C=n[43].avatar_from_url),u(w,"class","svelte-1vqx4aq"),u(b,"class","avatar avatar-sm svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(R,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(H,B){D(H,t,B),c(t,e),c(e,o),U.m(o,null),c(e,r),c(e,i),c(i,l),c(l,a),c(i,f),c(i,d),c(d,h),c(d,g),c(d,m),c(d,y),c(d,v),c(d,b),c(b,w),c(w,A),c(d,O),c(d,E),c(t,j),c(t,L),c(t,q),c(t,R),Q.m(R,null),c(t,J),W||(ne=[T(w,"click",n[37]),T(w,"click",n[38]),T(w,"click",n[39]),T(w,"click",au)],W=!0)},p(H,B){V===(V=Z(H))&&U?U.p(H,B):(U.d(1),U=V(H),U&&(U.c(),U.m(o,null))),B[0]&1&&s!==(s=H[43].title+"")&&le(a,s),B[0]&1&&_!==(_=H[43].author+"")&&le(g,_),B[0]&1&&!ge(A.src,I=H[43].avatar_from_url)&&u(A,"src",I),B[0]&1&&P!==(P=H[43].reader)&&u(w,"data-readerid",P),B[0]&1&&k!==(k=H[43].reader_name)&&u(w,"data-reader",k),B[0]&1&&C!==(C=H[43].avatar_from_url)&&u(w,"data-avatar",C),B[0]&1&&M!==(M=H[43].reader_name+"")&&le(E,M),X===(X=G(H))&&Q?Q.p(H,B):(Q.d(1),Q=X(H),Q&&(Q.c(),Q.m(R,null)))},d(H){H&&N(t),U.d(),Q.d(),W=!1,ae(ne)}}}function Xc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!ge(e.src,o=v[43].googleCover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),b[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[43].googleCover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,ae(y)}}}function Zc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(v,b){D(v,t,b),c(t,e),m||(y=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!ge(e.src,o=v[16]+v[43].bookId+"/"+v[43].cover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),b[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[16]+v[43].bookId+"/"+v[43].cover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,ae(y)}}}function $c(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function xc(n){let t,e;return{c(){t=p("progress"),t.value=e=pr(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[0]&1&&e!==(e=pr(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&N(t)}}}function fr(n,t){let e,o,r=t[43].pages_read&&ur(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[43].pages_read?r?r.p(t,l):(r=ur(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function dr(n){let t,e,o,r,i,l,s,a,f,d,h;function _(y,v){if(y[11])return tu;if(y[12])return eu}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Book Review`),l=S(),m&&m.c(),s=S(),a=p("footer"),f=p("a"),f.textContent="Close",u(r,"href","#close"),u(r,"class","close svelte-1vqx4aq"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(y,v){D(y,t,v),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),m&&m.m(e,null),c(e,s),c(e,a),c(a,f),d||(h=[T(r,"click",n[18]),T(f,"click",n[18])],d=!0)},p(y,v){g===(g=_(y))&&m?m.p(y,v):(m&&m.d(1),m=g&&g(y),m&&(m.c(),m.m(e,s)))},d(y){y&&N(t),m&&m.d(),d=!1,ae(h)}}}function eu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function y(w,A){return w[10]?ou:nu}let v=y(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),b.c(),m=ve(),ge(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(w,A){D(w,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),D(w,g,A),b.m(w,A),D(w,m,A)},p(w,A){A[0]&4096&&!ge(e.src,o=w[12])&&u(e,"src",o),A[0]&64&&le(a,w[6]),A[0]&128&&le(_,w[7]),v===(v=y(w))&&b?b.p(w,A):(b.d(1),b=v(w),b&&(b.c(),b.m(m.parentNode,m)))},d(w){w&&N(t),w&&N(g),b.d(w),w&&N(m)}}}function tu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function y(w,A){return w[10]?iu:ru}let v=y(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=F(n[6]),f=S(),d=p("p"),h=F("By: "),_=F(n[7]),g=S(),b.c(),m=ve(),ge(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(w,A){D(w,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),D(w,g,A),b.m(w,A),D(w,m,A)},p(w,A){A[0]&2048&&!ge(e.src,o=w[11])&&u(e,"src",o),A[0]&64&&le(a,w[6]),A[0]&128&&le(_,w[7]),v===(v=y(w))&&b?b.p(w,A):(b.d(1),b=v(w),b&&(b.c(),b.m(m.parentNode,m)))},d(w){w&&N(t),w&&N(g),b.d(w),w&&N(m)}}}function nu(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function ou(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),i=p("cite"),l=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&le(e,a[10]),f[0]&32&&le(s,a[5])},d(a){a&&N(t)}}}function ru(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:te,d(e){e&&N(t)}}}function iu(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=F(n[10]),o=S(),r=p("footer"),i=p("cite"),l=F("- "),s=F(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&le(e,a[10]),f[0]&32&&le(s,a[5])},d(a){a&&N(t)}}}function lu(n){let t;function e(i,l){if(i[15]&&i[15].verified===!0)return Qc;if(i[15]&&i[15].verified===!1)return Wc}let o=e(n),r=o&&o(n);return{c(){r&&r.c(),t=ve()},m(i,l){r&&r.m(i,l),D(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r&&r.d(1),r=o&&o(i),r&&(r.c(),r.m(t.parentNode,t)))},i:te,o:te,d(i){r&&r.d(i),i&&N(t)}}}let su="/api/files/9hhair4kd0xa314/";function pr(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function au(){}function cu(n,t,e){let o;Me(n,Ke,x=>e(15,o=x));let r=[],i,l,s,a,f,d,h,_,g,m,y,v,b=!1,w=Zt+su;async function A(){try{const x=await pe.collection("view_classroom").getFullList({sort:"-id"});e(0,r=x);for(let Ae=0;Ae<r.length;Ae++)console.log(r[Ae].reader_name)}catch(x){alert(x)}}st(async()=>{A()});async function I(){e(13,b=!0),await pe.collection("users").requestVerification(o.email),await new Promise(x=>setTimeout(x,5e3)),pe.authStore.clear(),Dn("/")}let P=!1;function k(){e(14,P=!P)}return[r,i,l,s,a,f,d,h,_,g,m,y,v,b,P,o,w,I,k,x=>{e(4,a=x.currentTarget.getAttribute("data-id"))},x=>{e(5,f=x.currentTarget.getAttribute("data-reader"))},x=>{e(6,d=x.currentTarget.getAttribute("data-title"))},x=>{e(7,h=x.currentTarget.getAttribute("data-author"))},x=>{e(8,_=x.currentTarget.getAttribute("data-pages"))},x=>{e(9,g=x.currentTarget.getAttribute("data-pagesread"))},x=>{e(10,m=x.currentTarget.getAttribute("data-review"))},x=>{e(11,y=x.currentTarget.getAttribute("data-cover"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))},x=>{e(4,a=x.currentTarget.getAttribute("data-id"))},x=>{e(5,f=x.currentTarget.getAttribute("data-reader"))},x=>{e(6,d=x.currentTarget.getAttribute("data-title"))},x=>{e(7,h=x.currentTarget.getAttribute("data-author"))},x=>{e(8,_=x.currentTarget.getAttribute("data-pages"))},x=>{e(9,g=x.currentTarget.getAttribute("data-pagesread"))},x=>{e(10,m=x.currentTarget.getAttribute("data-review"))},x=>{e(12,v=x.currentTarget.getAttribute("data-cover"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))},x=>{e(1,i=x.currentTarget.getAttribute("data-readerId"))},x=>{e(2,l=x.currentTarget.getAttribute("data-reader"))},x=>{e(3,s=x.currentTarget.getAttribute("data-avatar"))}]}class uu extends Se{constructor(t){super(),Ce(this,t,cu,lu,be,{},null,[-1,-1])}}function hr(n,t,e){const o=n.slice();return o[19]=t[e],o}function _r(n,t,e){const o=n.slice();return o[22]=t[e],o}function mr(n,t,e){const o=n.slice();return o[25]=t[e],o}function fu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I=[],P=new Map,k,C,O=n[0];const M=E=>E[19].id;for(let E=0;E<O.length;E+=1){let j=hr(n,O,E),L=M(j);P.set(L,I[E]=kr(L,j))}return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",i=p("option"),i.textContent="January",l=p("option"),l.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",y=p("option"),y.textContent="November",v=p("option"),v.textContent="December",b=S(),w=p("input"),A=S();for(let E=0;E<I.length;E+=1)I[E].c();r.__value="All",r.value=r.__value,i.__value="January",i.value=i.__value,l.__value="February",l.value=l.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,y.__value="November",y.value=y.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-1mnjxzx"),n[2]===void 0&&xe(()=>n[7].call(o)),u(w,"type","search"),u(w,"placeholder","Filter logs..."),u(w,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(E,j){D(E,t,j),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,y),c(o,v),Ge(o,n[2],!0),c(e,b),c(e,w),Y(w,n[3]),c(t,A);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(t,null);k||(C=[T(o,"change",n[7]),T(o,"change",n[6]),T(w,"input",n[8])],k=!0)},p(E,j){j&4&&Ge(o,E[2]),j&8&&w.value!==E[3]&&Y(w,E[3]),j&51&&(O=E[0],I=ze(I,j,M,1,E,O,P,t,Ve,kr,null,hr))},d(E){E&&N(t);for(let j=0;j<I.length;j+=1)I[j].d();k=!1,ae(C)}}}function gr(n){let t,e,o=Cr(n[25].pagesRead,n[5])+"",r,i,l,s,a,f,d,h;return{c(){t=p("br"),e=F(`\r
                Monthly Goal: `),r=F(o),i=F(`%\r
                `),l=p("br"),s=S(),a=p("br"),f=S(),d=p("progress"),d.value=h=n[25].pagesRead,u(d,"max",n[5])},m(_,g){D(_,t,g),D(_,e,g),D(_,r,g),D(_,i,g),D(_,l,g),D(_,s,g),D(_,a,g),D(_,f,g),D(_,d,g)},p(_,g){g&34&&o!==(o=Cr(_[25].pagesRead,_[5])+"")&&le(r,o),g&2&&h!==(h=_[25].pagesRead)&&(d.value=h),g&32&&u(d,"max",_[5])},d(_){_&&N(t),_&&N(e),_&&N(r),_&&N(i),_&&N(l),_&&N(s),_&&N(a),_&&N(f),_&&N(d)}}}function vr(n,t){let e,o,r=t[25].reader===t[19].id&&gr(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[25].reader===t[19].id?r?r.p(t,l):(r=gr(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function br(n){let t,e,o,r=wr(n[22].date)+"",i,l,s,a,f,d,h,_=n[22].title+"",g,m,y,v=n[22].pages_read+"",b,w,A,I=n[22].comment+"",P,k;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),i=F(r),l=S(),s=p("td"),a=p("img"),d=S(),h=p("td"),g=F(_),m=S(),y=p("td"),b=F(v),w=S(),A=p("td"),P=F(I),k=S(),u(o,"class","svelte-1mnjxzx"),ge(a.src,f=Sr(n[22].googleCover))||u(a,"src",f),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(y,"class","svelte-1mnjxzx"),u(A,"class","svelte-1mnjxzx")},m(C,O){D(C,t,O),c(t,e),c(e,o),c(o,i),c(e,l),c(e,s),c(s,a),c(e,d),c(e,h),c(h,g),c(e,m),c(e,y),c(y,b),c(e,w),c(e,A),c(A,P),c(t,k)},p(C,O){O&16&&r!==(r=wr(C[22].date)+"")&&le(i,r),O&16&&!ge(a.src,f=Sr(C[22].googleCover))&&u(a,"src",f),O&16&&_!==(_=C[22].title+"")&&le(g,_),O&16&&v!==(v=C[22].pages_read+"")&&le(b,v),O&16&&I!==(I=C[22].comment+"")&&le(P,I)},d(C){C&&N(t)}}}function yr(n,t){let e,o,r=t[22].reader===t[19].id&&br(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[22].reader===t[19].id?r?r.p(t,l):(r=br(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function kr(n,t){let e,o,r,i,l,s,a,f,d=t[19].name+"",h,_,g=[],m=new Map,y,v,b,w,A=[],I=new Map,P,k=t[1];const C=E=>E[25].reader;for(let E=0;E<k.length;E+=1){let j=mr(t,k,E),L=C(j);m.set(L,g[E]=vr(L,j))}let O=t[4];const M=E=>E[22].id;for(let E=0;E<O.length;E+=1){let j=_r(t,O,E),L=M(j);I.set(L,A[E]=yr(L,j))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("strong"),h=F(d),_=S();for(let E=0;E<g.length;E+=1)g[E].c();y=S(),v=p("table"),b=p("thead"),b.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,w=S();for(let E=0;E<A.length;E+=1)A[E].c();P=S(),ge(l.src,s=t[19].avatar_from_url)||u(l,"src",s),u(l,"alt","avatar"),u(i,"href","#profile"),u(r,"class","avatar avatar-lg"),u(v,"class","table-container svelte-1mnjxzx"),u(v,"role","grid"),this.first=e},m(E,j){D(E,e,j),c(e,o),c(o,r),c(r,i),c(i,l),c(o,a),c(o,f),c(f,h),c(o,_);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);c(e,y),c(e,v),c(v,b),c(v,w);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(v,null);c(e,P)},p(E,j){t=E,j&1&&!ge(l.src,s=t[19].avatar_from_url)&&u(l,"src",s),j&1&&d!==(d=t[19].name+"")&&le(h,d),j&35&&(k=t[1],g=ze(g,j,C,1,t,k,m,o,Ve,vr,null,mr)),j&17&&(O=t[4],A=ze(A,j,M,1,t,O,I,v,Ve,yr,null,_r))},d(E){E&&N(e);for(let j=0;j<g.length;j+=1)g[j].d();for(let j=0;j<A.length;j+=1)A[j].d()}}}function du(n){let t,e=Ke&&fu(n);return{c(){e&&e.c(),t=ve()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,[r]){Ke&&e.p(o,r)},i:te,o:te,d(o){e&&e.d(o),o&&N(t)}}}function wr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Cr(n,t){return Math.floor(n/t*100)}function Sr(n){return n.replace("zoom=1","zoom=5")}function pu(n,t,e){let o;Me(n,ka,k=>e(5,o=k));let r=[],i=[],l=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],f=new Date;let d=a[f.getMonth()],h=f.getMonth()+1,_=f.getFullYear(),g="";h<10?h===9?g=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:g=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?g=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:g=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let m=d;async function y(){try{const C=await pe.collection("view_readingLog").getFullList({filter:g,sort:"-date"});r=C;const O=await pe.collection("view_classroom").getFullList({sort:"-reader_name"});i=C,console.log(i);for(let E=0;E<i.length;E++){let j=i[E],L=j.reader,q=j.pages_read;var k=s.findIndex(R=>R.reader===L);k!==-1?e(1,s[k].pagesRead+=q,s):s.push({reader:L,pagesRead:q})}const M=await pe.collection("users").getFullList({filter:'role = "student"'});e(0,l=M),w()}catch(C){alert(C)}}st(async()=>{y()});function v(){if(m&&f.getMonth()>4)switch(m){case"All":g="";break;case"January":g="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":g="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":g="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":g="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":g="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":g="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":g="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":g="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":g="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":g="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":g="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":g="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],i=[],e(0,l=[]),e(1,s=[]),y()}let b="";function w(){const k=b.toLowerCase();e(4,A=r.filter(C=>C.title.toLowerCase().includes(k)||C.reader_name.toLowerCase().includes(k)||C.date.toLowerCase().includes(k)))}let A=r;En(()=>{w()});function I(){m=pt(this),e(2,m)}function P(){b=this.value,e(3,b)}return[l,s,m,b,A,o,v,I,P]}class hu extends Se{constructor(t){super(),Ce(this,t,pu,du,be,{})}}function Ar(n,t,e){const o=n.slice();return o[53]=t[e],o}function _u(n){let t,e;return t=new qn({props:{$$slots:{default:[gu]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r[1]&33554432&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function mu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P,k,C,O,M,E,j;function L(B,oe){if(B[16].role==="student")return bu;if(B[16].role==="teacher")return vu}let q=L(n),R=q&&q(n);function J(B,oe){return B[16].avatar_from_url?ku:yu}let W=J(n),ne=W(n),Z=n[12]&&Tr(n),V=n[13]&&Ir(n),U=n[14]&&Pr(n),G=n[15]&&Lr(n);const X=[Au,Su,Cu,wu],Q=[];function H(B,oe){return B[4]==="Books"?0:B[4]==="Log"?1:B[4]==="Classroom"?2:B[4]==="Activity"?3:-1}return~(P=H(n))&&(k=Q[P]=X[P](n)),O=new zn({}),{c(){t=p("div"),e=p("header"),o=p("section"),r=p("div"),i=p("a"),i.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="fluent:people-team-20-regular" width="28" height="28"></iconify-icon></div> 
            <div>Classroom</div>`,l=S(),s=p("a"),s.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div>Books</div>`,a=S(),R&&R.c(),f=S(),d=p("a"),d.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="ph:user" width="24" height="24"></iconify-icon></div> 
            <div>Settings</div>`,h=S(),_=p("section"),g=S(),m=p("section"),ne.c(),y=S(),Z&&Z.c(),v=S(),V&&V.c(),b=S(),U&&U.c(),w=S(),G&&G.c(),A=S(),I=p("div"),k&&k.c(),C=S(),de(O.$$.fragment),u(i,"href","#"),u(i,"class","btn btn-link svelte-1yy3czy"),u(s,"href","#"),u(s,"class","btn btn-link svelte-1yy3czy"),u(d,"href","#"),u(d,"class","btn btn-link svelte-1yy3czy"),u(r,"class","navbar-items"),u(o,"class","navbar-section svelte-1yy3czy"),u(_,"class","navbar-center"),u(m,"class","navbar-section svelte-1yy3czy"),u(e,"class","navbar svelte-1yy3czy"),u(t,"class","container"),u(I,"class","content")},m(B,oe){D(B,t,oe),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(r,a),R&&R.m(r,null),c(r,f),c(r,d),c(e,h),c(e,_),c(e,g),c(e,m),ne.m(m,null),D(B,y,oe),Z&&Z.m(B,oe),D(B,v,oe),V&&V.m(B,oe),D(B,b,oe),U&&U.m(B,oe),D(B,w,oe),G&&G.m(B,oe),D(B,A,oe),D(B,I,oe),~P&&Q[P].m(I,null),D(B,C,oe),ce(O,B,oe),M=!0,E||(j=[T(i,"click",n[28]),T(s,"click",n[27]),T(d,"click",n[30])],E=!0)},p(B,oe){q===(q=L(B))&&R?R.p(B,oe):(R&&R.d(1),R=q&&q(B),R&&(R.c(),R.m(r,f))),W===(W=J(B))&&ne?ne.p(B,oe):(ne.d(1),ne=W(B),ne&&(ne.c(),ne.m(m,null))),B[12]?Z?Z.p(B,oe):(Z=Tr(B),Z.c(),Z.m(v.parentNode,v)):Z&&(Z.d(1),Z=null),B[13]?V?V.p(B,oe):(V=Ir(B),V.c(),V.m(b.parentNode,b)):V&&(V.d(1),V=null),B[14]?U?U.p(B,oe):(U=Pr(B),U.c(),U.m(w.parentNode,w)):U&&(U.d(1),U=null),B[15]?G?G.p(B,oe):(G=Lr(B),G.c(),G.m(A.parentNode,A)):G&&(G.d(1),G=null);let ye=P;P=H(B),P!==ye&&(k&&(je(),ee(Q[ye],1,1,()=>{Q[ye]=null}),Ne()),~P?(k=Q[P],k||(k=Q[P]=X[P](B),k.c()),$(k,1),k.m(I,null)):k=null)},i(B){M||($(k),$(O.$$.fragment,B),M=!0)},o(B){ee(k),ee(O.$$.fragment,B),M=!1},d(B){B&&N(t),R&&R.d(),ne.d(),B&&N(y),Z&&Z.d(B),B&&N(v),V&&V.d(B),B&&N(b),U&&U.d(B),B&&N(w),G&&G.d(B),B&&N(A),B&&N(I),~P&&Q[P].d(),B&&N(C),ue(O,B),E=!1,ae(j)}}}function gu(n){let t,e;return t=new _t({props:{path:"/",component:Bn}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p:te,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function vu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
            <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=T(t,"click",n[29]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function bu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="ph:user" width="24" height="24"></iconify-icon></div> 
            <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=T(t,"click",n[26]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function yu(n){let t,e,o;return{c(){t=p("a"),t.textContent="Choose Avatar",u(t,"href","#profile"),u(t,"class","svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=T(t,"click",n[32]),e=!0)},p:te,d(r){r&&N(t),e=!1,o()}}}function ku(n){let t,e,o,r,i,l;return{c(){t=p("figure"),e=p("a"),o=p("img"),ge(o.src,r=n[21])||u(o,"src",r),u(o,"alt","avatar"),u(o,"class","navbar-avatar"),u(e,"href","#profile"),u(e,"class","svelte-1yy3czy"),u(t,"class","avatar avatar-xl svelte-1yy3czy")},m(s,a){D(s,t,a),c(t,e),c(e,o),i||(l=T(e,"click",n[31]),i=!0)},p:te,d(s){s&&N(t),i=!1,l()}}}function Tr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Settings`),l=S(),s=p("form"),a=p("label"),f=F(`Max Search Output\r
            `),d=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",y=S(),v=p("a"),v.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","maxOutput"),u(d,"name","maxOutput"),u(d,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-1yy3czy"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-1yy3czy"),u(_,"class","svelte-1yy3czy"),t.open=!0},m(A,I){D(A,t,I),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[17]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,y),c(g,v),b||(w=[T(r,"click",n[30]),T(d,"input",n[39]),T(s,"submit",Be(n[38])),T(m,"click",n[30]),T(v,"click",n[30])],b=!0)},p(A,I){I[0]&131072&&d.value!==A[17]&&Y(d,A[17])},d(A){A&&N(t),b=!1,ae(w)}}}function Ir(n){let t,e,o,r,i,l,s,a,f,d,h,_,g=n[16].name+"",m,y,v,b,w,A,I,P,k,C,O,M,E,j,L,q,R,J,W,ne,Z,V,U,G,X,Q,H,B,oe,ye,x,Ae,he,re,_e,ke,Pe,We,Te,se,we,Ye,Fe,Ie,Xe,K,Oe,et;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("i"),f.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',d=S(),h=p("a"),_=F(`\r
          `),m=F(g),y=F("'s Profile"),v=S(),b=p("details"),w=p("summary"),w.textContent="My Stats",A=S(),I=p("p"),P=F("Books: "),k=F(n[18]),C=F(" | Pages Read: "),O=F(n[19]),M=S(),E=p("details"),j=p("summary"),j.textContent="Account Info",L=S(),q=p("form"),R=p("label"),J=F(`Name\r
              `),W=p("input"),ne=S(),Z=p("label"),V=F(`Email\r
              `),U=p("input"),G=S(),X=p("label"),Q=F(`Class ID\r
              `),H=p("input"),B=S(),oe=p("details"),ye=p("summary"),ye.textContent="Security",x=S(),Ae=p("fieldset"),he=p("label"),re=p("input"),_e=F(`\r
              Share my readings with classmates`),ke=S(),Pe=p("a"),Pe.textContent="Change Password",We=S(),Te=p("footer"),se=p("div"),we=p("a"),we.textContent="Sign Out",Ye=S(),Fe=p("div"),Ie=p("a"),Ie.textContent="Cancel",Xe=S(),K=p("a"),K.textContent="Save",ge(l.src,s=n[21])||u(l,"src",s),u(l,"alt","avatar"),u(f,"class","avatar-presence"),me(i,"color","white"),u(i,"href","#profile"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(h,"href","#close"),u(h,"class","close"),b.open=!0,u(W,"id","profileName"),u(W,"name","profileName"),u(W,"type","text"),u(R,"for","profileName"),u(U,"id","profileEmail"),u(U,"name","profileEmail"),u(U,"type","email"),U.disabled=!0,u(Z,"for","profileEmail"),u(H,"id","classId"),u(H,"name","classId"),u(H,"type","number"),u(X,"for","classId"),E.open=!0,u(re,"type","checkbox"),u(re,"id","switch"),u(re,"name","switch"),u(re,"role","switch"),u(he,"for","switch"),u(Pe,"href","#update"),u(Pe,"class","details"),u(we,"href","#signout"),u(we,"role","button"),u(we,"class","signout svelte-1yy3czy"),u(Ie,"href","#cancel"),u(Ie,"role","button"),u(Ie,"class","secondary svelte-1yy3czy"),u(K,"href","#confirm"),u(K,"role","button"),u(K,"class","svelte-1yy3czy"),u(Te,"data-button","spaceBetween"),u(Te,"class","svelte-1yy3czy"),t.open=!0},m(De,Qe){D(De,t,Qe),c(t,e),c(e,o),c(o,r),c(r,i),c(i,l),c(i,a),c(i,f),c(o,d),c(o,h),c(o,_),c(o,m),c(o,y),c(e,v),c(e,b),c(b,w),c(b,A),c(b,I),c(I,P),c(I,k),c(I,C),c(I,O),c(e,M),c(e,E),c(E,j),c(E,L),c(E,q),c(q,R),c(R,J),c(R,W),Y(W,n[6]),c(q,ne),c(q,Z),c(Z,V),c(Z,U),Y(U,n[7]),c(q,G),c(q,X),c(X,Q),c(X,H),Y(H,n[11]),c(e,B),c(e,oe),c(oe,ye),c(oe,x),c(oe,Ae),c(Ae,he),c(he,re),re.checked=n[10],c(he,_e),c(oe,ke),c(oe,Pe),c(e,We),c(e,Te),c(Te,se),c(se,we),c(Te,Ye),c(Te,Fe),c(Fe,Ie),c(Fe,Xe),c(Fe,K),Oe||(et=[T(i,"click",n[32]),T(h,"click",n[31]),T(W,"input",n[40]),T(U,"input",n[41]),T(H,"input",n[42]),T(q,"submit",Be(n[37])),T(re,"change",n[43]),T(Pe,"click",n[33]),T(we,"click",n[25]),T(Ie,"click",n[31]),T(K,"click",n[22]),T(K,"click",n[31])],Oe=!0)},p(De,Qe){Qe[0]&65536&&g!==(g=De[16].name+"")&&le(m,g),Qe[0]&262144&&le(k,De[18]),Qe[0]&524288&&le(O,De[19]),Qe[0]&64&&W.value!==De[6]&&Y(W,De[6]),Qe[0]&128&&U.value!==De[7]&&Y(U,De[7]),Qe[0]&2048&&Je(H.value)!==De[11]&&Y(H,De[11]),Qe[0]&1024&&(re.checked=De[10])},d(De){De&&N(t),Oe=!1,ae(et)}}}function Pr(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,y,v,b,w,A,I,P=n[5];const k=C=>C[53].id;for(let C=0;C<P.length;C+=1){let O=Ar(n,P,C),M=k(O);g.set(M,_[C]=Or(M,O))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("img"),s=S(),a=p("a"),f=F(`\r
          Change Avatar`),d=S(),h=p("section");for(let C=0;C<_.length;C+=1)_[C].c();m=S(),y=p("footer"),v=p("a"),v.textContent="Cancel",b=S(),w=p("a"),w.textContent="Save",ge(i.src,l=n[21])||u(i,"src",l),u(i,"alt","avatar"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(a,"href","#close"),u(a,"class","close"),u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary svelte-1yy3czy"),u(w,"href","#confirm"),u(w,"role","button"),u(w,"class","svelte-1yy3czy"),u(y,"class","svelte-1yy3czy"),t.open=!0},m(C,O){D(C,t,O),c(t,e),c(e,o),c(o,r),c(r,i),c(o,s),c(o,a),c(o,f),c(e,d),c(e,h);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(h,null);c(e,m),c(e,y),c(y,v),c(y,b),c(y,w),A||(I=[T(a,"click",n[32]),T(v,"click",n[32]),T(w,"click",n[24]),T(w,"click",n[34])],A=!0)},p(C,O){O[0]&1049120&&(P=C[5],_=ze(_,O,k,1,C,P,g,h,Ve,Or,null,Ar))},d(C){C&&N(t);for(let O=0;O<_.length;O+=1)_[O].d();A=!1,ae(I)}}}function Or(n,t){let e,o,r,i,l,s,a,f;return{key:n,first:null,c(){e=p("a"),o=p("figure"),r=p("img"),l=S(),u(r,"class","avatar-list svelte-1yy3czy"),ge(r.src,i=t[20]+t[53].id+"/"+t[53].field)||u(r,"src",i),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-1yy3czy"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-1yy3czy"),u(e,"data-picture",s=t[20]+t[53].id+"/"+t[53].field),this.first=e},m(d,h){D(d,e,h),c(e,o),c(o,r),c(e,l),a||(f=T(e,"click",t[44]),a=!0)},p(d,h){t=d,h[0]&32&&!ge(r.src,i=t[20]+t[53].id+"/"+t[53].field)&&u(r,"src",i),h[0]&32&&s!==(s=t[20]+t[53].id+"/"+t[53].field)&&u(e,"data-picture",s)},d(d){d&&N(e),a=!1,f()}}}function Lr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,y,v,b,w,A,I,P;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=F(`\r
          Change Password`),l=S(),s=p("form"),a=p("label"),f=F(`Change Password\r
            `),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),y=S(),v=p("footer"),b=p("a"),b.textContent="Cancel",w=S(),A=p("a"),A.textContent="Update",u(r,"href","#close"),u(r,"class","close"),u(d,"id","oldPassword"),u(d,"name","oldPassword"),u(d,"type","password"),u(d,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[2]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[3]),u(b,"href","#cancel"),u(b,"role","button"),u(b,"class","secondary svelte-1yy3czy"),u(A,"href","#confirm"),u(A,"role","button"),u(A,"class","svelte-1yy3czy"),u(v,"class","svelte-1yy3czy"),t.open=!0},m(k,C){D(k,t,C),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[8]),c(s,h),c(s,_),Y(_,n[0]),c(s,g),c(s,m),Y(m,n[1]),c(e,y),c(e,v),c(v,b),c(v,w),c(v,A),I||(P=[T(r,"click",n[33]),T(d,"input",n[45]),T(_,"input",n[46]),T(m,"input",n[47]),T(s,"submit",Be(n[36])),T(b,"click",n[33]),T(A,"click",n[23]),T(A,"click",n[35])],I=!0)},p(k,C){C[0]&256&&d.value!==k[8]&&Y(d,k[8]),C[0]&4&&u(_,"aria-invalid",k[2]),C[0]&1&&_.value!==k[0]&&Y(_,k[0]),C[0]&8&&u(m,"aria-invalid",k[3]),C[0]&2&&m.value!==k[1]&&Y(m,k[1])},d(k){k&&N(t),I=!1,ae(P)}}}function wu(n){let t,e;return t=new hu({}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Cu(n){let t,e;return t=new uu({}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Su(n){let t,e;return t=new Vc({}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Au(n){let t,e;return t=new Ga({}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Tu(n){let t,e,o,r;const i=[mu,_u],l=[];function s(a,f){return a[16]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}let Iu="/api/files/fhm2u4u1k405dr7/";function Pu(n,t,e){let o,r,i,l;Me(n,Ke,se=>e(16,o=se)),Me(n,vn,se=>e(17,r=se)),Me(n,kn,se=>e(18,i=se)),Me(n,Bt,se=>e(19,l=se));let s,a,f,d=[],h=Zt+Iu,_=o.avatar_from_url;function g(){pe.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),pe.authStore.clear(),window.location.reload())}st(async()=>{g(),o.role==="teacher"?k():I();try{const se=await pe.collection("avatars").getFullList({sort:"-created"});e(5,d=se)}catch(se){ie.error(se,{position:fe})}});async function m(){try{const se={name:C,email:O,isPublic:q,classId:R},we=await pe.collection("users").update(o.id,se);ie.success("Profile updated!",{position:fe})}catch(se){alert(se)}}async function y(){if(!s&&!a)try{const se=new FormData;se.append("password",M),se.append("passwordConfirm",E),se.append("oldPassword",j);const we=await pe.collection("users").update(o.id,se);ie.success("Password changed successfully!",{position:fe})}catch(se){ie.error(se,{position:fe})}else s?ie.error("Password should be at least 5 characters long",{position:fe}):a&&ie.error("Password mismatch",{position:fe})}async function v(){try{const se={avatar_from_url:L},we=await pe.collection("users").update(o.id,se);ie.success("Avatar updated!",{position:fe})}catch(se){ie.error(se,{position:fe})}window.location.reload(),e(9,L="")}function b(){pe.authStore.clear(),Dn("/")}function w(){e(4,f="Log")}function A(){e(4,f="Books")}function I(){e(4,f="Books")}function P(){e(4,f="Classroom")}function k(){e(4,f="Activity")}let C=o.name,O=o.email,M,E,j,L,q=o.isPublic,R=o.class_id,J=!1;function W(){e(12,J=!J)}let ne=!1;function Z(){e(13,ne=!ne)}let V=!1;function U(){e(14,V=!V)}let G=!1;function X(){e(15,G=!G)}function Q(){U(),Z()}function H(){X(),Z()}function B(se){qe.call(this,n,se)}function oe(se){qe.call(this,n,se)}function ye(se){qe.call(this,n,se)}function x(){r=this.value,vn.set(r)}function Ae(){C=this.value,e(6,C)}function he(){O=this.value,e(7,O)}function re(){R=Je(this.value),e(11,R)}function _e(){q=this.checked,e(10,q)}const ke=se=>{e(9,L=se.currentTarget.getAttribute("data-picture"))};function Pe(){j=this.value,e(8,j)}function We(){M=this.value,e(0,M)}function Te(){E=this.value,e(1,E)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(M&&(M.length>=5?e(2,s=!1):e(2,s=!0)),E&&(E===M?e(3,a=!1):e(3,a=!0)))},[M,E,s,a,f,d,C,O,j,L,q,R,J,ne,V,G,o,r,i,l,h,_,m,y,v,b,w,A,P,k,W,Z,U,X,Q,H,B,oe,ye,x,Ae,he,re,_e,ke,Pe,We,Te]}class Ou extends Se{constructor(t){super(),Ce(this,t,Pu,Tu,be,{},null,[-1,-1])}}function Lu(n){let t,e;return t=new qn({props:{$$slots:{default:[Mu]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p(o,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Eu(n){let t,e;return t=new Ou({}),{c(){de(t.$$.fragment)},m(o,r){ce(t,o,r),e=!0},p:te,i(o){e||($(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ue(t,o)}}}function Mu(n){let t,e,o,r,i,l;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),i=new _t({props:{path:"/reset",component:ya}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment),r=S(),de(i.$$.fragment)},m(s,a){ce(t,s,a),D(s,e,a),ce(o,s,a),D(s,r,a),ce(i,s,a),l=!0},p:te,i(s){l||($(t.$$.fragment,s),$(o.$$.fragment,s),$(i.$$.fragment,s),l=!0)},o(s){ee(t.$$.fragment,s),ee(o.$$.fragment,s),ee(i.$$.fragment,s),l=!1},d(s){ue(t,s),s&&N(e),ue(o,s),s&&N(r),ue(i,s)}}}function Ru(n){let t,e,o,r;const i=[Eu,Lu],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?l[t].p(a,f):(je(),ee(l[d],1,1,()=>{l[d]=null}),Ne(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),$(e,1),e.m(o.parentNode,o))},i(a){r||($(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}function ju(n,t,e){let o;return Me(n,Ke,r=>e(0,o=r)),[o]}class Nu extends Se{constructor(t){super(),Ce(this,t,ju,Ru,be,{})}}new Nu({target:document.getElementById("app")});
