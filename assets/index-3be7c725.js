var al=Object.defineProperty;var cl=(n,t,e)=>t in n?al(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Pt=(n,t,e)=>(cl(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function ne(){}function Ze(n,t){for(const e in t)n[e]=t[e];return n}function ul(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Or(n){return n()}function Vn(){return Object.create(null)}function se(n){n.forEach(Or)}function Gt(n){return typeof n=="function"}function be(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Ot;function _e(n,t){return Ot||(Ot=document.createElement("a")),Ot.href=t,n===Ot.href}function fl(n){return Object.keys(n).length===0}function Pn(n,...t){if(n==null)return ne;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function un(n){let t;return Pn(n,e=>t=e)(),t}function Pe(n,t,e){n.$$.on_destroy.push(Pn(t,e))}function Vt(n,t,e,o){if(n){const r=Lr(n,t,e,o);return n[0](r)}}function Lr(n,t,e,o){return n[1]&&o?Ze(e.ctx.slice(),n[1](o(t))):e.ctx}function Wt(n,t,e,o){if(n[2]&&o){const r=n[2](o(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function Qt(n,t,e,o,r,i){if(r){const l=Lr(t,e,o,i);n.p(l,r)}}function Kt(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function Wn(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function en(n,t,e){return n.set(e),t}function c(n,t){n.appendChild(t)}function D(n,t,e){n.insertBefore(t,e||null)}function j(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function U(n){return document.createTextNode(n)}function S(){return U(" ")}function me(){return U("")}function I(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function qe(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const dl=["width","height"];function Qn(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&dl.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function Lt(n,t,e){t in n?n[t]=typeof n[t]=="boolean"&&e===""?!0:e:u(n,t,e)}function pl(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Qe(n){return n===""?null:+n}function hl(n){return Array.from(n.childNodes)}function ie(n,t){t=""+t,n.data!==t&&(n.data=t)}function $(n,t){n.value=t??""}function ve(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Je(n,t,e){for(let o=0;o<n.options.length;o+=1){const r=n.options[o];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function ut(n){const t=n.querySelector(":checked");return t&&t.__value}function mt(n,t,e){n.classList[e?"add":"remove"](t)}function $e(n,t){return new n(t)}let vt;function Ke(n){vt=n}function pt(){if(!vt)throw new Error("Function called outside component initialization");return vt}function ot(n){pt().$$.on_mount.push(n)}function On(n){pt().$$.after_update.push(n)}function Ln(n){pt().$$.on_destroy.push(n)}function tn(n,t){return pt().$$.context.set(n,t),t}function fn(n){return pt().$$.context.get(n)}function De(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const ct=[],dn=[];let ft=[];const Kn=[],_l=Promise.resolve();let pn=!1;function ml(){pn||(pn=!0,_l.then(En))}function Xe(n){ft.push(n)}const nn=new Set;let st=0;function En(){if(st!==0)return;const n=vt;do{try{for(;st<ct.length;){const t=ct[st];st++,Ke(t),gl(t.$$)}}catch(t){throw ct.length=0,st=0,t}for(Ke(null),ct.length=0,st=0;dn.length;)dn.pop()();for(let t=0;t<ft.length;t+=1){const e=ft[t];nn.has(e)||(nn.add(e),e())}ft.length=0}while(ct.length);for(;Kn.length;)Kn.pop()();pn=!1,nn.clear(),Ke(n)}function gl(n){if(n.fragment!==null){n.update(),se(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Xe)}}function vl(n){const t=[],e=[];ft.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),ft=t}const Nt=new Set;let tt;function Le(){tt={r:0,c:[],p:tt}}function Ee(){tt.r||se(tt.c),tt=tt.p}function x(n,t){n&&n.i&&(Nt.delete(n),n.i(t))}function ee(n,t,e,o){if(n&&n.o){if(Nt.has(n))return;Nt.add(n),tt.c.push(()=>{Nt.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function Yn(n,t){const e=t.token={};function o(r,i,l,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;l!==void 0&&(a=a.slice(),a[l]=s);const f=r&&(t.current=r)(a);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==i&&h&&(Le(),ee(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),Ee())}):t.block.d(1),f.c(),x(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[i]=f),d&&En()}if(ul(n)){const r=pt();if(n.then(i=>{Ke(r),o(t.then,1,t.value,i),Ke(null)},i=>{if(Ke(r),o(t.catch,2,t.error,i),Ke(null),!t.hasCatch)throw i}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function bl(n,t,e){const o=t.slice(),{resolved:r}=n;n.current===n.then&&(o[n.value]=r),n.current===n.catch&&(o[n.error]=r),n.block.p(o,e)}function Ge(n,t){n.d(1),t.delete(n.key)}function yl(n,t){ee(n,1,1,()=>{t.delete(n.key)})}function Ue(n,t,e,o,r,i,l,s,a,f,d,h){let _=n.length,g=i.length,m=_;const b={};for(;m--;)b[n[m].key]=m;const v=[],y=new Map,k=new Map,A=[];for(m=g;m--;){const T=h(r,i,m),P=e(T);let E=l.get(P);E?o&&A.push(()=>E.p(T,t)):(E=f(P,T),E.c()),y.set(P,v[m]=E),P in b&&k.set(P,Math.abs(m-b[P]))}const L=new Set,O=new Set;function C(T){x(T,1),T.m(s,d),l.set(T.key,T),d=T.first,g--}for(;_&&g;){const T=v[g-1],P=n[_-1],E=T.key,N=P.key;T===P?(d=T.first,_--,g--):y.has(N)?!l.has(E)||L.has(E)?C(T):O.has(N)?_--:k.get(E)>k.get(N)?(O.add(E),C(T)):(L.add(N),_--):(a(P,l),_--)}for(;_--;){const T=n[_];y.has(T.key)||a(T,l)}for(;g;)C(v[g-1]);return se(A),v}function Ct(n,t){const e={},o={},r={$$scope:1};let i=n.length;for(;i--;){const l=n[i],s=t[i];if(s){for(const a in l)a in s||(o[a]=1);for(const a in s)r[a]||(e[a]=s[a],r[a]=1);n[i]=s}else for(const a in l)r[a]=1}for(const l in o)l in e||(e[l]=void 0);return e}function bt(n){return typeof n=="object"&&n!==null?n:{}}function de(n){n&&n.c()}function ue(n,t,e,o){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),o||Xe(()=>{const l=n.$$.on_mount.map(Or).filter(Gt);n.$$.on_destroy?n.$$.on_destroy.push(...l):se(l),n.$$.on_mount=[]}),i.forEach(Xe)}function fe(n,t){const e=n.$$;e.fragment!==null&&(vl(e.after_update),se(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function kl(n,t){n.$$.dirty[0]===-1&&(ct.push(n),ml(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function we(n,t,e,o,r,i,l,s=[-1]){const a=vt;Ke(n);const f=n.$$={fragment:null,ctx:[],props:i,update:ne,not_equal:r,bound:Vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Vn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return f.ctx&&r(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&kl(n,h)),_}):[],f.update(),d=!0,se(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const h=hl(t.target);f.fragment&&f.fragment.l(h),h.forEach(j)}else f.fragment&&f.fragment.c();t.intro&&x(n.$$.fragment),ue(n,t.target,t.anchor,t.customElement),En()}Ke(a)}class Ce{$destroy(){fe(this,1),this.$destroy=ne}$on(t,e){if(!Gt(e))return ne;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const r=o.indexOf(e);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!fl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var hn=function(n,t){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},hn(n,t)};function Oe(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}hn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var _n=function(){return _n=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},_n.apply(this,arguments)};function Te(n,t,e,o){return new(e||(e=Promise))(function(r,i){function l(f){try{a(o.next(f))}catch(d){i(d)}}function s(f){try{a(o.throw(f))}catch(d){i(d)}}function a(f){f.done?r(f.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(f.value).then(l,s)}a((o=o.apply(n,t||[])).next())})}function Ie(n,t){var e,o,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(a){return function(f){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(l=0)),l;)try{if(e=1,o&&(r=2&h[0]?o.return:h[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,h[1])).done)return r;switch(o=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,o=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){l.label=h[1];break}if(h[0]===6&&l.label<r[1]){l.label=r[1],r=h;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(h);break}r[2]&&l.ops.pop(),l.trys.pop();continue}h=t.call(n,l)}catch(_){h=[6,_],o=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,f])}}}var Er,Ye=function(n){function t(e){var o,r,i,l,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((l=(i=(r=s.originalError)===null||r===void 0?void 0:r.cause)===null||i===void 0?void 0:i.message)===null||l===void 0)&&l.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Oe(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return _n({},this)},t}(Error),Et=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Xn(n,t,e){var o=Object.assign({},e||{}),r=o.encode||Cl;if(!Et.test(n))throw new TypeError("argument name is invalid");var i=r(t);if(i&&!Et.test(i))throw new TypeError("argument val is invalid");var l=n+"="+i;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Et.test(o.domain))throw new TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!Et.test(o.path))throw new TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function wl(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Cl(n){return encodeURIComponent(n)}function Mr(n){if(n)try{var t=decodeURIComponent(Er(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Sl(n,t){t===void 0&&(t=0);var e=Mr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Er=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,r=0,i=0,l="";o=t.charAt(i++);~o&&(e=r%4?64*e+o:o,r++%4)?l+=String.fromCharCode(255&e>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return l};var St=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var r=o[e],i=r[0],l=r[1];this[i]=l}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Ft=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(r){return new t(r||{})}):this.expand[o]=new t(e[o]||{})},t}(St),Mn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(St),Zn="pb_auth",Al=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Sl(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Ft(e):new Mn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=Zn);var o=function(l,s){var a={};if(typeof l!="string")return a;for(var f=Object.assign({},s||{}).decode||wl,d=0;d<l.length;){var h=l.indexOf("=",d);if(h===-1)break;var _=l.indexOf(";",d);if(_===-1)_=l.length;else if(_<h){d=l.lastIndexOf(";",h-1)+1;continue}var g=l.slice(d,h).trim();if(a[g]===void 0){var m=l.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=f(m)}catch{a[g]=m}}d=_+1}return a}(t||"")[e]||"",r={};try{(typeof(r=JSON.parse(o))===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)},n.prototype.exportToCookie=function(t,e){var o,r,i;e===void 0&&(e=Zn);var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Mr(this.token);s!=null&&s.exp?l.expires=new Date(1e3*s.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},f=Xn(e,JSON.stringify(a),t),d=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&d>4096&&(a.model={id:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.id,email:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.email},this.model instanceof Ft&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=Xn(e,JSON.stringify(a),t)),f},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var r=o._onChangeCallbacks.length-1;r>=0;r--)if(o._onChangeCallbacks[r]==t)return delete o._onChangeCallbacks[r],void o._onChangeCallbacks.splice(r,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Tl=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return Oe(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new Mn(o.model):new Ft(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=o;typeof o!="string"&&(r=JSON.stringify(o)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Al),rt=function(t){this.client=t},Il=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(r){return r||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var r={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.testEmail=function(e,o,r){r===void 0&&(r={});var i={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:r,body:i}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,r,i,l,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:r,privateKey:i,duration:l},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(rt),Rr=function(t,e,o,r,i){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=r>=0?r:0,this.items=i||[]},Rn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var r=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,r.batch||200,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),this._getList(this.baseCrudPath,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),this._update(this.baseCrudPath,e,o,r)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype._getFullList=function(e,o,r){var i=this;o===void 0&&(o=200),r===void 0&&(r={});var l=[],s=function(a){return Te(i,void 0,void 0,function(){return Ie(this,function(f){return[2,this._getList(e,a,o||200,r).then(function(d){var h=d,_=h.items,g=h.totalItems;return l=l.concat(_),_.length&&g>l.length?s(a+1):l})]})})};return s(1)},t.prototype._getList=function(e,o,r,i){var l=this;return o===void 0&&(o=1),r===void 0&&(r=30),i===void 0&&(i={}),i=Object.assign({page:o,perPage:r},i),this.client.send(e,{method:"GET",params:i}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var f=0,d=s.items;f<d.length;f++){var h=d[f];a.push(l.decode(h))}}return new Rr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,r){var i=this;return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:r}).then(function(l){return i.decode(l)})},t.prototype._getFirstListItem=function(e,o,r){return r===void 0&&(r={}),r=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},r),this._getList(e,1,1,r).then(function(i){var l;if(!(!((l=i==null?void 0:i.items)===null||l===void 0)&&l.length))throw new Ye({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})},t.prototype._create=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e,{method:"POST",params:r,body:o}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:i,body:r}).then(function(s){return l.decode(s)})},t.prototype._delete=function(e,o,r){return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t}(rt)),Pl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.decode=function(e){return new Mn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a;return i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===(l==null?void 0:l.id)&&i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s;return i&&r.client.authStore.model&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t}(Rn),Ol=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(St),Ll=function(n){function t(e,o){var r=n.call(this,e)||this;return r.collectionIdOrName=o,r}return Oe(t,n),t.prototype.decode=function(e){return new Ft(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Te(this,void 0,void 0,function(){return Ie(this,function(r){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Te(this,void 0,void 0,function(){var r;return Ie(this,function(i){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return r=this.collectionIdOrName,e!=="*"&&(r+="/"+e),[2,this.client.realtime.subscribe(r,o)]})})},t.prototype.unsubscribe=function(e){return Te(this,void 0,void 0,function(){return Ie(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var r=Object.assign({},e,o);return n.prototype.getFullList.call(this,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),n.prototype.getList.call(this,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a,f;return((s=i.client.authStore.model)===null||s===void 0?void 0:s.id)!==(l==null?void 0:l.id)||((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==i.collectionIdOrName&&((f=i.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==i.collectionIdOrName||i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s,a;return!i||((l=r.client.authStore.model)===null||l===void 0?void 0:l.id)!==e||((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==r.collectionIdOrName&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==r.collectionIdOrName||r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(function(s){return l.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,r,i,l,s,a){var f=this;return l===void 0&&(l={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:r,redirectUrl:i,createData:l},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(d){return f.authResponse(d)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Te(this,void 0,void 0,function(){var r,i,l,s,a=this;return Ie(this,function(f){switch(f.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(r=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(i=f.sent(),!(l=i.authProviders.find(function(d){return d.name===r.provider})))throw new Ye(new Error('Missing or invalid provider "'.concat(r.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,h){return Te(a,void 0,void 0,function(){var _,g,m,b,v=this;return Ie(this,function(y){switch(y.label){case 0:return y.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(k){return Te(v,void 0,void 0,function(){var A,L,O;return Ie(this,function(C){switch(C.label){case 0:A=this.client.realtime.clientId,C.label=1;case 1:if(C.trys.push([1,3,,4]),_(),!k.state||A!==k.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(l.name,k.code,l.codeVerifier,s,r.createData,r.body,r.query)];case 2:return L=C.sent(),d(L),[3,4];case 3:return O=C.sent(),h(new Ye(O)),[3,4];case 4:return[2]}})})})];case 1:return _=y.sent(),(g=new URL(l.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((b=r.scopes)===null||b===void 0)&&b.length&&g.searchParams.set("scope",r.scopes.join(" ")),[4,r.urlCallback?r.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return y.sent(),[3,4];case 3:return m=y.sent(),h(new Ye(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var r=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(i){return r.authResponse(i)})},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:o},r),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:i,body:r}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(r){var i=[];if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];i.push(new Ol(a))}return i})},t.prototype.unlinkExternalAuth=function(e,o,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new Ye(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,r=768,i=window.innerWidth,l=window.innerHeight,s=i/2-(o=o>i?i:o)/2,a=l/2-(r=r>l?l:r)/2;window.open(e,"oauth2-popup","width="+o+",height="+r+",top="+a+",left="+s+",resizable,menubar=no")},t}(Rn),El=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ml=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,r=e.schema;o<r.length;o++){var i=r[o];this.schema.push(new El(i))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(St),Rl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.decode=function(e){return new Ml(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,r){return o===void 0&&(o=!1),r===void 0&&(r={}),Te(this,void 0,void 0,function(){return Ie(this,function(i){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:r,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Rn),$n=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(St),Nl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getRequestsList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:o},r),this.client.send("/api/logs/requests",{method:"GET",params:r}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var s=0,a=i.items;s<a.length;s++){var f=a[s];l.push(new $n(f))}}return new Rr((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(r){return new $n(r)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(rt),jl=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Oe(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var r;return Te(this,void 0,void 0,function(){var i,l=this;return Ie(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return i=function(a){var f,d=a;try{f=JSON.parse(d==null?void 0:d.data)}catch{}o(f||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(i),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(r=this.eventSource)===null||r===void 0||r.addEventListener(e,i),s.label=5;case 5:return[2,function(){return Te(l,void 0,void 0,function(){return Ie(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,i)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Te(this,void 0,void 0,function(){var r,i,l;return Ie(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(r=0,i=this.subscriptions[e];r<i.length;r++)l=i[r],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,l);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Te(this,void 0,void 0,function(){var r,i,l,s,a;return Ie(this,function(f){switch(f.label){case 0:for(i in r=!1,this.subscriptions)if(i.startsWith(e)){for(r=!0,l=0,s=this.subscriptions[i];l<s.length;l++)a=s[l],(o=this.eventSource)===null||o===void 0||o.removeEventListener(i,a);delete this.subscriptions[i]}return r?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var r;return Te(this,void 0,void 0,function(){var i,l;return Ie(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(i=!1,l=this.subscriptions[e].length-1;l>=0;l--)this.subscriptions[e][l]===o&&(i=!0,delete this.subscriptions[e][l],this.subscriptions[e].splice(l,1),(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,o));return i?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,r;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var i in this.subscriptions)if(!((r=this.subscriptions[i])===null||r===void 0)&&r.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Te(this,void 0,void 0,function(){return Ie(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.addEventListener(e,i)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.removeEventListener(e,i)}},t.prototype.connect=function(){return Te(this,void 0,void 0,function(){var e=this;return Ie(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(r,i){e.pendingConnects.push({resolve:r,reject:i}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var r=o;e.clientId=r==null?void 0:r.lastEventId,e.submitSubscriptions().then(function(){return Te(e,void 0,void 0,function(){var i;return Ie(this,function(l){switch(l.label){case 0:i=3,l.label=1;case 1:return this.hasUnsentSubscriptions()&&i>0?(i--,[4,this.submitSubscriptions()]):[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var i=0,l=e.pendingConnects;i<l.length;i++)l[i].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(i){e.clientId="",e.connectErrorHandler(i)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,r=e;o<r.length;o++){var i=r[o];if(!this.lastSentTopics.includes(i))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var r=0,i=this.pendingConnects;r<i.length;r++)i[r].reject(new Ye(e));this.disconnect()}else{this.disconnect(!0);var l=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},l)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var r=new Ye(new Error("Realtime disconnected.")),i=0,l=this.pendingConnects;i<l.length;i++)l[i].reject(r);this.pendingConnects=[]}},t}(rt),Dl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(rt),ql=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getUrl=function(e,o,r){r===void 0&&(r={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(o));var l=this.client.buildUrl(i.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);l+=(l.includes("?")?"&":"?")+s}return l},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(rt),Bl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Oe(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var r={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(rt),Fl=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Tl,this.admins=new Pl(this),this.collections=new Rl(this),this.files=new ql(this),this.logs=new Nl(this),this.settings=new Il(this),this.realtime=new jl(this),this.health=new Dl(this),this.backups=new Bl(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Ll(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,r,i,l,s,a,f,d;return Te(this,void 0,void 0,function(){var h,_,g,m,b,v,y,k,A,L=this;return Ie(this,function(O){switch(O.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((i=this.authStore)===null||i===void 0)&&i.token&&((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(f=h.params)===null||f===void 0||delete f.$autoCancel,(d=h.params)===null||d===void 0||delete d.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((b=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+b),delete h.params),this.beforeSend?(k=(y=Object).assign,A=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(v=k.apply(y,A.concat([O.sent()]))).url!==void 0||v.options!==void 0?(m=v.url||m,h=v.options||h):Object.keys(v).length&&(h=v,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),O.label=2;case 2:return[2,fetch(m,h).then(function(C){return Te(L,void 0,void 0,function(){var T;return Ie(this,function(P){switch(P.label){case 0:T={},P.label=1;case 1:return P.trys.push([1,3,,4]),[4,C.json()];case 2:return T=P.sent(),[3,4];case 3:return P.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(C,T)]:[3,6];case 5:T=P.sent(),P.label=6;case 6:if(C.status>=400)throw new Ye({url:C.url,status:C.status,data:T});return[2,T]}})})}).catch(function(C){throw new Ye(C)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var r=t[o],i=encodeURIComponent(o);if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];e.push(i+"="+encodeURIComponent(a))}else r instanceof Date?e.push(i+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(r))):e.push(i+"="+encodeURIComponent(r))}return e.join("&")},n}();const at=[];function Ul(n,t){return{subscribe:He(n,t).subscribe}}function He(n,t=ne){let e;const o=new Set;function r(s){if(be(n,s)&&(n=s,e)){const a=!at.length;for(const f of o)f[1](),at.push(f,n);if(a){for(let f=0;f<at.length;f+=2)at[f][0](at[f+1]);at.length=0}}}function i(s){r(s(n))}function l(s,a=ne){const f=[s,a];return o.add(f),o.size===1&&(e=t(r)||ne),s(n),()=>{o.delete(f),o.size===0&&e&&(e(),e=null)}}return{set:r,update:i,subscribe:l}}function Nr(n,t,e){const o=!Array.isArray(n),r=o?[n]:n,i=t.length<2;return Ul(e,l=>{let s=!1;const a=[];let f=0,d=ne;const h=()=>{if(f)return;d();const g=t(o?a[0]:a,l);i?l(g):d=Gt(g)?g:ne},_=r.map((g,m)=>Pn(g,b=>{a[m]=b,f&=~(1<<m),s&&h()},()=>{f|=1<<m}));return s=!0,h(),function(){se(_),d(),s=!1}})}const Yt="https://pb.readinglog.fun:4444",he=new Fl(Yt),Ve=He(he.authStore.model);he.authStore.onChange(n=>{console.log("authStore changed",n),Ve.set(he.authStore.model)});const mn=He("10"),ce="bottom-center",xn={},gn={},zl={},jr=/^:(.+)/,eo=4,Hl=3,Jl=2,Gl=1,Vl=1,vn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),on=n=>n.replace(/(^\/+|\/+$)/g,""),Wl=(n,t)=>{const e=n.default?0:vn(n.path).reduce((o,r)=>(o+=eo,r===""?o+=Vl:jr.test(r)?o+=Jl:r[0]==="*"?o-=eo+Gl:o+=Hl,o),0);return{route:n,score:e,index:t}},Ql=n=>n.map(Wl).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),to=(n,t)=>{let e,o;const[r]=t.split("?"),i=vn(r),l=i[0]==="",s=Ql(n);for(let a=0,f=s.length;a<f;a++){const d=s[a].route;let h=!1;if(d.default){o={route:d,params:{},uri:t};continue}const _=vn(d.path),g={},m=Math.max(i.length,_.length);let b=0;for(;b<m;b++){const v=_[b],y=i[b];if(v&&v[0]==="*"){const A=v==="*"?"*":v.slice(1);g[A]=i.slice(b).map(decodeURIComponent).join("/");break}if(typeof y>"u"){h=!0;break}const k=jr.exec(v);if(k&&!l){const A=decodeURIComponent(y);g[k[1]]=A}else if(v!==y){h=!0;break}}if(!h){e={route:d,params:g,uri:"/"+i.slice(0,b).join("/")};break}}return e||o||null},no=(n,t)=>`${on(t==="/"?n:`${on(n)}/${on(t)}`)}/`,Dr=typeof window<"u"&&"document"in window,rn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Kl=n=>{const t=[];let e=rn(n);return{get location(){return e},listen(o){t.push(o);const r=()=>{e=rn(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",r),()=>{n.removeEventListener("popstate",r);const i=t.indexOf(o);t.splice(i,1)}},navigate(o,{state:r,replace:i=!1}={}){r={...r,key:Date.now()+""};try{i?n.history.replaceState(r,"",o):n.history.pushState(r,"",o)}catch{n.location[i?"replace":"assign"](o)}e=rn(n),t.forEach(l=>l({location:e,action:"PUSH"})),document.activeElement.blur()}}},Yl=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(r,i){},removeEventListener(r,i){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(r,i,l){const[s,a=""]=l.split("?");t++,e.push({pathname:s,search:a}),o.push(r)},replaceState(r,i,l){const[s,a=""]=l.split("?");e[t]={pathname:s,search:a},o[t]=r}}}},qr=Kl(Dr?window:Yl()),{navigate:Nn}=qr,Xl=n=>({route:n&2,location:n&1}),oo=n=>({route:n[1]&&n[1].uri,location:n[0]});function Zl(n){let t;const e=n[12].default,o=Vt(e,n,n[11],oo);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,[i]){o&&o.p&&(!t||i&2051)&&Qt(o,e,r,r[11],t?Wt(e,r[11],i,Xl):Kt(r[11]),oo)},i(r){t||(x(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function $l(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{basepath:f="/"}=t,{url:d=null}=t,{history:h=qr}=t;tn(zl,h);const _=fn(xn),g=fn(gn),m=He([]);Pe(n,m,C=>e(9,r=C));const b=He(null);Pe(n,b,C=>e(1,l=C));let v=!1;const y=_||He(d?{pathname:d}:h.location);Pe(n,y,C=>e(0,o=C));const k=g?g.routerBase:He({path:f,uri:f});Pe(n,k,C=>e(10,i=C));const A=Nr([k,b],([C,T])=>{if(!T)return C;const{path:P}=C,{route:E,uri:N}=T;return{path:E.default?P:E.path.replace(/\*.*$/,""),uri:N}}),L=C=>{const{path:T}=i;let{path:P}=C;if(C._path=P,C.path=no(T,P),typeof window>"u"){if(v)return;const E=to([C],o.pathname);E&&(b.set(E),v=!0)}else m.update(E=>[...E,C])},O=C=>{m.update(T=>T.filter(P=>P!==C))};return _||(ot(()=>h.listen(T=>{y.set(T.location)})),tn(xn,y)),tn(gn,{activeRoute:b,base:k,routerBase:A,registerRoute:L,unregisterRoute:O}),n.$$set=C=>{"basepath"in C&&e(6,f=C.basepath),"url"in C&&e(7,d=C.url),"history"in C&&e(8,h=C.history),"$$scope"in C&&e(11,a=C.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:C}=i;m.update(T=>T.map(P=>({...P,path:no(C,P._path)})))}if(n.$$.dirty&513){const C=to(r,o.pathname);b.set(C)}},[o,l,m,b,y,k,f,d,h,r,i,a,s]}class jn extends Ce{constructor(t){super(),we(this,t,$l,Zl,be,{basepath:6,url:7,history:8})}}const xl=n=>({params:n&4}),ro=n=>({params:n[2]});function io(n){let t,e,o,r;const i=[ts,es],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=me()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),x(e,1),e.m(o.parentNode,o))},i(a){r||(x(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&j(o)}}}function es(n){let t;const e=n[8].default,o=Vt(e,n,n[7],ro);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,i){o&&o.p&&(!t||i&132)&&Qt(o,e,r,r[7],t?Wt(e,r[7],i,xl):Kt(r[7]),ro)},i(r){t||(x(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function ts(n){let t,e,o,r={ctx:n,current:null,token:null,hasCatch:!1,pending:rs,then:os,catch:ns,value:12,blocks:[,,,]};return Yn(e=n[0],r),{c(){t=me(),r.block.c()},m(i,l){D(i,t,l),r.block.m(i,r.anchor=l),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(i,l){n=i,r.ctx=n,l&1&&e!==(e=n[0])&&Yn(e,r)||bl(r,n,l)},i(i){o||(x(r.block),o=!0)},o(i){for(let l=0;l<3;l+=1){const s=r.blocks[l];ee(s)}o=!1},d(i){i&&j(t),r.block.d(i),r.token=null,r=null}}}function ns(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function os(n){var s;let t,e,o;const r=[n[2],n[3]];var i=((s=n[12])==null?void 0:s.default)||n[12];function l(a){let f={};for(let d=0;d<r.length;d+=1)f=Ze(f,r[d]);return{props:f}}return i&&(t=$e(i,l())),{c(){t&&de(t.$$.fragment),e=me()},m(a,f){t&&ue(t,a,f),D(a,e,f),o=!0},p(a,f){var h;const d=f&12?Ct(r,[f&4&&bt(a[2]),f&8&&bt(a[3])]):{};if(f&1&&i!==(i=((h=a[12])==null?void 0:h.default)||a[12])){if(t){Le();const _=t;ee(_.$$.fragment,1,0,()=>{fe(_,1)}),Ee()}i?(t=$e(i,l()),de(t.$$.fragment),x(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else i&&t.$set(d)},i(a){o||(t&&x(t.$$.fragment,a),o=!0)},o(a){t&&ee(t.$$.fragment,a),o=!1},d(a){a&&j(e),t&&fe(t,a)}}}function rs(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function is(n){let t,e,o=n[1]&&n[1].route===n[5]&&io(n);return{c(){o&&o.c(),t=me()},m(r,i){o&&o.m(r,i),D(r,t,i),e=!0},p(r,[i]){r[1]&&r[1].route===r[5]?o?(o.p(r,i),i&2&&x(o,1)):(o=io(r),o.c(),x(o,1),o.m(t.parentNode,t)):o&&(Le(),ee(o,1,1,()=>{o=null}),Ee())},i(r){e||(x(o),e=!0)},o(r){ee(o),e=!1},d(r){o&&o.d(r),r&&j(t)}}}function ls(n,t,e){let o,{$$slots:r={},$$scope:i}=t,{path:l=""}=t,{component:s=null}=t,a={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:_}=fn(gn);Pe(n,_,m=>e(1,o=m));const g={path:l,default:l===""};return d(g),Ln(()=>{h(g)}),n.$$set=m=>{e(11,t=Ze(Ze({},t),Wn(m))),"path"in m&&e(6,l=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,i=m.$$scope)},n.$$.update=()=>{{o&&o.route===g&&e(2,a=o.params);const{component:m,path:b,...v}=t;e(3,f=v),Dr&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=Wn(t),[s,o,a,f,_,g,l,i,r]}class dt extends Ce{constructor(t){super(),we(this,t,ls,is,be,{path:6,component:0})}}function ss(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(r,i){D(r,t,i),e||(o=I(t,"click",n[0]),e=!0)},p:ne,i:ne,o:ne,d(r){r&&j(t),e=!1,o()}}}function as(n){function t(){Nn("/signup")}return[t]}class cs extends Ce{constructor(t){super(),we(this,t,as,ss,be,{})}}function us(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O;return m=new cs({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),de(m.$$.fragment),b=S(),v=p("br"),y=S(),k=p("a"),k.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(d,"placeholder","Password"),u(d,"type","password"),u(_,"class","svelte-unkkz3"),u(k,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(C,T){D(C,t,T),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),$(a,n[0]),c(s,f),c(s,d),$(d,n[1]),c(s,h),c(s,_),c(r,g),ue(m,r,null),c(r,b),c(r,v),c(r,y),c(r,k),A=!0,L||(O=[I(a,"input",n[4]),I(d,"input",n[5]),I(_,"click",n[2]),I(s,"submit",qe(n[3]))],L=!0)},p(C,[T]){T&1&&a.value!==C[0]&&$(a,C[0]),T&2&&d.value!==C[1]&&$(d,C[1])},i(C){A||(x(m.$$.fragment,C),A=!0)},o(C){ee(m.$$.fragment,C),A=!1},d(C){C&&j(t),fe(m),L=!1,se(O)}}}function fs(n,t,e){let o,r;async function i(){try{const f=await he.collection("users").authWithPassword(o,r);console.log(f)}catch(f){alert(f)}}function l(f){De.call(this,n,f)}function s(){o=this.value,e(0,o)}function a(){r=this.value,e(1,r)}return[o,r,i,l,s,a]}class Dn extends Ce{constructor(t){super(),we(this,t,fs,us,be,{})}}function ds(n,t,e,o){var r,i,l=!1,s=e.length>=2,a=(m,b,v)=>{if(r=b,s&&(i=m),!l){let y=t(m,b,v);if(t.length<2)b(y);else return y}l=!1},f=Nr(n,a,o),d=!Array.isArray(n);function h(m){var b=e(m,i);d?(l=!0,n.set(b)):b.forEach((v,y)=>{l=!0,n[y].set(v)}),l=!1}var _=!1;function g(m){var b,v,y,k;if(_){k=m(un(f)),r(k);return}var A=f.subscribe(L=>{_?b?v=!0:b=!0:y=L});k=m(y),_=!0,r(k),A(),_=!1,v&&(k=un(f)),b&&h(k)}return{subscribe:f.subscribe,set(m){g(()=>m)},update:g}}const ps=20,it=He([]),qn=He(null),jt=new Map,lo=n=>{if(jt.has(n))return;const t=setTimeout(()=>{jt.delete(n),Fr(n)},1e3);jt.set(n,t)},hs=n=>{const t=jt.get(n);t&&clearTimeout(t)};function Br(n){n.id&&hs(n.id),it.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function _s(n){it.update(t=>[n,...t].slice(0,ps))}function ms(n){un(it).find(t=>t.id===n.id)?Br(n):_s(n)}function gs(n){it.update(t=>(n?lo(n):t.forEach(e=>{lo(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Fr(n){it.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function vs(n){qn.set(n)}function bs(n){let t;qn.update(e=>(t=n-(e||0),null)),it.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const ys={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ks(n={}){return{toasts:ds(it,e=>e.map(o=>{var r,i;return{...n,...n[o.type],...o,duration:o.duration||((r=n[o.type])==null?void 0:r.duration)||(n==null?void 0:n.duration)||ys[o.type],style:[n.style,(i=n[o.type])==null?void 0:i.style,o.style].join(";")}}),e=>e),pausedAt:qn}}const ws=n=>typeof n=="function",so=(n,t)=>ws(n)?n(t):n,Cs=(()=>{let n=0;return()=>(n+=1,n.toString())})(),Ur=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ss=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Cs()}),At=n=>(t,e)=>{const o=Ss(t,n,e);return ms(o),o.id},re=(n,t)=>At("blank")(n,t);re.error=At("error");re.success=At("success");re.loading=At("loading");re.custom=At("custom");re.dismiss=n=>{gs(n)};re.remove=n=>Fr(n);re.promise=(n,t,e)=>{const o=re.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(r=>(re.success(so(t.success,r),{id:o,...e,...e==null?void 0:e.success}),r)).catch(r=>{re.error(so(t.error,r),{id:o,...e,...e==null?void 0:e.error})}),n};function As(n,t,e){const{reverseOrder:o,gutter:r=8,defaultPosition:i}=e||{},l=t.filter(d=>(d.position||i)===(n.position||i)&&d.height),s=l.findIndex(d=>d.id===n.id),a=l.filter((d,h)=>h<s&&d.visible).length;return l.filter(d=>d.visible).slice(...o?[a+1]:[0,a]).reduce((d,h)=>d+(h.height||0)+r,0)}const Ts={startPause(){vs(Date.now())},endPause(){bs(Date.now())},updateHeight:(n,t)=>{Br({id:n,height:t})},calculateOffset:As};function Is(n){const{toasts:t,pausedAt:e}=ks(n),o=new Map;let r;const i=[e.subscribe(l=>{if(l){for(const[,s]of o)clearTimeout(s);o.clear()}r=l}),t.subscribe(l=>{if(r)return;const s=Date.now();for(const a of l){if(o.has(a.id)||a.duration===1/0)continue;const f=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(f<0)return a.visible&&re.dismiss(a.id),null;o.set(a.id,setTimeout(()=>re.dismiss(a.id),f))}})];return Ln(()=>{for(const l of i)l()}),{toasts:t,handlers:Ts}}function Ps(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&j(t)}}}function Os(n,t,e){let{primary:o="#61d345"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ls extends Ce{constructor(t){super(),we(this,t,Os,Ps,be,{primary:0,secondary:1})}}function Es(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&j(t)}}}function Ms(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Rs extends Ce{constructor(t){super(),we(this,t,Ms,Es,be,{primary:0,secondary:1})}}function Ns(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),ve(t,"--primary",n[0]),ve(t,"--secondary",n[1])},m(e,o){D(e,t,o)},p(e,[o]){o&1&&ve(t,"--primary",e[0]),o&2&&ve(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&j(t)}}}function js(n,t,e){let{primary:o="#616161"}=t,{secondary:r="#e0e0e0"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ds extends Ce{constructor(t){super(),we(this,t,js,Ns,be,{primary:0,secondary:1})}}function qs(n){let t,e,o,r;const i=[n[0]];let l={};for(let a=0;a<i.length;a+=1)l=Ze(l,i[a]);e=new Ds({props:l});let s=n[2]!=="loading"&&ao(n);return{c(){t=p("div"),de(e.$$.fragment),o=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,f){D(a,t,f),ue(e,t,null),c(t,o),s&&s.m(t,null),r=!0},p(a,f){const d=f&1?Ct(i,[bt(a[0])]):{};e.$set(d),a[2]!=="loading"?s?(s.p(a,f),f&4&&x(s,1)):(s=ao(a),s.c(),x(s,1),s.m(t,null)):s&&(Le(),ee(s,1,1,()=>{s=null}),Ee())},i(a){r||(x(e.$$.fragment,a),x(s),r=!0)},o(a){ee(e.$$.fragment,a),ee(s),r=!1},d(a){a&&j(t),fe(e),s&&s.d()}}}function Bs(n){let t,e,o;var r=n[1];function i(l){return{}}return r&&(t=$e(r,i())),{c(){t&&de(t.$$.fragment),e=me()},m(l,s){t&&ue(t,l,s),D(l,e,s),o=!0},p(l,s){if(s&2&&r!==(r=l[1])){if(t){Le();const a=t;ee(a.$$.fragment,1,0,()=>{fe(a,1)}),Ee()}r?(t=$e(r,i()),de(t.$$.fragment),x(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}},i(l){o||(t&&x(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&j(e),t&&fe(t,l)}}}function Fs(n){let t,e;return{c(){t=p("div"),e=U(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,r){D(o,t,r),c(t,e)},p(o,r){r&2&&ie(e,o[1])},i:ne,o:ne,d(o){o&&j(t)}}}function ao(n){let t,e,o,r;const i=[zs,Us],l=[];function s(a,f){return a[2]==="error"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,f){D(a,t,f),l[e].m(t,null),r=!0},p(a,f){let d=e;e=s(a),e===d?l[e].p(a,f):(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),x(o,1),o.m(t,null))},i(a){r||(x(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&j(t),l[e].d()}}}function Us(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=Ze(r,o[i]);return t=new Ls({props:r}),{c(){de(t.$$.fragment)},m(i,l){ue(t,i,l),e=!0},p(i,l){const s=l&1?Ct(o,[bt(i[0])]):{};t.$set(s)},i(i){e||(x(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){fe(t,i)}}}function zs(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=Ze(r,o[i]);return t=new Rs({props:r}),{c(){de(t.$$.fragment)},m(i,l){ue(t,i,l),e=!0},p(i,l){const s=l&1?Ct(o,[bt(i[0])]):{};t.$set(s)},i(i){e||(x(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){fe(t,i)}}}function Hs(n){let t,e,o,r;const i=[Fs,Bs,qs],l=[];function s(a,f){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=l[t]=i[t](n)),{c(){e&&e.c(),o=me()},m(a,f){~t&&l[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?~t&&l[t].p(a,f):(e&&(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee()),~t?(e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),x(e,1),e.m(o.parentNode,o)):e=null)},i(a){r||(x(e),r=!0)},o(a){ee(e),r=!1},d(a){~t&&l[t].d(a),a&&j(o)}}}function Js(n,t,e){let o,r,i,{toast:l}=t;return n.$$set=s=>{"toast"in s&&e(3,l=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:r,iconTheme:i}=l,o,(e(1,r),e(3,l)),(e(0,i),e(3,l)))},[i,r,o,l]}class Bn extends Ce{constructor(t){super(),we(this,t,Js,Hs,be,{toast:3})}}function Gs(n){let t,e,o;var r=n[0].message;function i(l){return{props:{toast:l[0]}}}return r&&(t=$e(r,i(n))),{c(){t&&de(t.$$.fragment),e=me()},m(l,s){t&&ue(t,l,s),D(l,e,s),o=!0},p(l,s){const a={};if(s&1&&(a.toast=l[0]),s&1&&r!==(r=l[0].message)){if(t){Le();const f=t;ee(f.$$.fragment,1,0,()=>{fe(f,1)}),Ee()}r?(t=$e(r,i(l)),de(t.$$.fragment),x(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&x(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&j(e),t&&fe(t,l)}}}function Vs(n){let t=n[0].message+"",e;return{c(){e=U(t)},m(o,r){D(o,e,r)},p(o,r){r&1&&t!==(t=o[0].message+"")&&ie(e,t)},i:ne,o:ne,d(o){o&&j(e)}}}function Ws(n){let t,e,o,r;const i=[Vs,Gs],l=[];function s(d,h){return typeof d[0].message=="string"?0:1}e=s(n),o=l[e]=i[e](n);let a=[{class:"message"},n[0].ariaProps],f={};for(let d=0;d<a.length;d+=1)f=Ze(f,a[d]);return{c(){t=p("div"),o.c(),Qn(t,f),mt(t,"svelte-1nauejd",!0)},m(d,h){D(d,t,h),l[e].m(t,null),r=!0},p(d,[h]){let _=e;e=s(d),e===_?l[e].p(d,h):(Le(),ee(l[_],1,1,()=>{l[_]=null}),Ee(),o=l[e],o?o.p(d,h):(o=l[e]=i[e](d),o.c()),x(o,1),o.m(t,null)),Qn(t,f=Ct(a,[{class:"message"},h&1&&d[0].ariaProps])),mt(t,"svelte-1nauejd",!0)},i(d){r||(x(o),r=!0)},o(d){ee(o),r=!1},d(d){d&&j(t),l[e].d()}}}function Qs(n,t,e){let{toast:o}=t;return n.$$set=r=>{"toast"in r&&e(0,o=r.toast)},[o]}class Xt extends Ce{constructor(t){super(),we(this,t,Qs,Ws,be,{toast:0})}}const Ks=n=>({toast:n&1}),co=n=>({ToastIcon:Bn,ToastMessage:Xt,toast:n[0]});function Ys(n){let t;const e=n[6].default,o=Vt(e,n,n[7],co),r=o||Zs(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Qt(o,e,i,i[7],t?Wt(e,i[7],l,Ks):Kt(i[7]),co):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||(x(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function Xs(n){let t,e,o;var r=n[2];function i(l){return{props:{$$slots:{message:[xs],icon:[$s]},$$scope:{ctx:l}}}}return r&&(t=$e(r,i(n))),{c(){t&&de(t.$$.fragment),e=me()},m(l,s){t&&ue(t,l,s),D(l,e,s),o=!0},p(l,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:l}),s&4&&r!==(r=l[2])){if(t){Le();const f=t;ee(f.$$.fragment,1,0,()=>{fe(f,1)}),Ee()}r?(t=$e(r,i(l)),de(t.$$.fragment),x(t.$$.fragment,1),ue(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&x(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&j(e),t&&fe(t,l)}}}function Zs(n){let t,e,o,r;return t=new Bn({props:{toast:n[0]}}),o=new Xt({props:{toast:n[0]}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(i,l){ue(t,i,l),D(i,e,l),ue(o,i,l),r=!0},p(i,l){const s={};l&1&&(s.toast=i[0]),t.$set(s);const a={};l&1&&(a.toast=i[0]),o.$set(a)},i(i){r||(x(t.$$.fragment,i),x(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){fe(t,i),i&&j(e),fe(o,i)}}}function $s(n){let t,e;return t=new Bn({props:{toast:n[0],slot:"icon"}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function xs(n){let t,e;return t=new Xt({props:{toast:n[0],slot:"message"}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function ea(n){let t,e,o,r,i,l;const s=[Xs,Ys],a=[];function f(d,h){return d[2]?0:1}return e=f(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",r="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",i=n[1]+"; "+n[0].style),ve(t,"--factor",n[3])},m(d,h){D(d,t,h),a[e].m(t,null),l=!0},p(d,[h]){let _=e;e=f(d),e===_?a[e].p(d,h):(Le(),ee(a[_],1,1,()=>{a[_]=null}),Ee(),o=a[e],o?o.p(d,h):(o=a[e]=s[e](d),o.c()),x(o,1),o.m(t,null)),(!l||h&17&&r!==(r="base "+(d[0].height?d[4]:"transparent")+" "+(d[0].className||"")+" svelte-ug60r4"))&&u(t,"class",r),(!l||h&3&&i!==(i=d[1]+"; "+d[0].style))&&u(t,"style",i),(h&3||h&11)&&ve(t,"--factor",d[3])},i(d){l||(x(o),l=!0)},o(d){ee(o),l=!1},d(d){d&&j(t),a[e].d()}}}function ta(n,t,e){let{$$slots:o={},$$scope:r}=t,{toast:i}=t,{position:l=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,f,d;return n.$$set=h=>{"toast"in h&&e(0,i=h.toast),"position"in h&&e(5,l=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,r=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(i.position||l||"top-center").includes("top");e(3,f=h?1:-1);const[_,g]=Ur()?["fadeIn","fadeOut"]:["enter","exit"];e(4,d=i.visible?_:g)}},[i,s,a,f,d,l,o,r]}class na extends Ce{constructor(t){super(),we(this,t,ta,ea,be,{toast:0,position:5,style:1,Component:2})}}const oa=n=>({toast:n&1}),uo=n=>({toast:n[0]});function ra(n){let t;const e=n[8].default,o=Vt(e,n,n[7],uo),r=o||la(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Qt(o,e,i,i[7],t?Wt(e,i[7],l,oa):Kt(i[7]),uo):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||(x(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function ia(n){let t,e;return t=new Xt({props:{toast:n[0]}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function la(n){let t,e;return t=new na({props:{toast:n[0],position:n[0].position}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),r&1&&(i.position=o[0].position),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function sa(n){let t,e,o,r;const i=[ia,ra],l=[];function s(a,f){return a[0].type==="custom"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),mt(t,"active",n[0].visible),mt(t,"transition",!Ur()),ve(t,"--factor",n[3]),ve(t,"--offset",n[0].offset),ve(t,"top",n[5]),ve(t,"bottom",n[4]),ve(t,"justify-content",n[2])},m(a,f){D(a,t,f),l[e].m(t,null),n[9](t),r=!0},p(a,[f]){let d=e;e=s(a),e===d?l[e].p(a,f):(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),x(o,1),o.m(t,null)),(!r||f&1)&&mt(t,"active",a[0].visible),f&8&&ve(t,"--factor",a[3]),f&1&&ve(t,"--offset",a[0].offset),f&32&&ve(t,"top",a[5]),f&16&&ve(t,"bottom",a[4]),f&4&&ve(t,"justify-content",a[2])},i(a){r||(x(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&j(t),l[e].d(),n[9](null)}}}function aa(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{toast:f}=t,{setHeight:d}=t,h;ot(()=>{d(h.getBoundingClientRect().height)});function _(g){dn[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,f=g.toast),"setHeight"in g&&e(6,d=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,b,v,y;n.$$.dirty&1&&e(5,o=(g=f.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,r=(m=f.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,i=(b=f.position)!=null&&b.includes("top")?1:-1),n.$$.dirty&1&&e(2,l=((v=f.position)==null?void 0:v.includes("center"))&&"center"||((y=f.position)==null?void 0:y.includes("right"))&&"flex-end"||null)},[f,h,l,i,r,o,d,a,s,_]}class ca extends Ce{constructor(t){super(),we(this,t,aa,sa,be,{toast:0,setHeight:6})}}function fo(n,t,e){const o=n.slice();return o[11]=t[e],o}function po(n,t){let e,o,r;function i(...l){return t[10](t[11],...l)}return o=new ca({props:{toast:t[11],setHeight:i}}),{key:n,first:null,c(){e=me(),de(o.$$.fragment),this.first=e},m(l,s){D(l,e,s),ue(o,l,s),r=!0},p(l,s){t=l;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=i),o.$set(a)},i(l){r||(x(o.$$.fragment,l),r=!0)},o(l){ee(o.$$.fragment,l),r=!1},d(l){l&&j(e),fe(o,l)}}}function ua(n){let t,e=[],o=new Map,r,i,l,s,a=n[2];const f=d=>d[11].id;for(let d=0;d<a.length;d+=1){let h=fo(n,a,d),_=f(h);o.set(_,e[d]=po(_,h))}return{c(){t=p("div");for(let d=0;d<e.length;d+=1)e[d].c();u(t,"class",r="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(d,h){D(d,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);i=!0,l||(s=[I(t,"mouseenter",n[4].startPause),I(t,"mouseleave",n[4].endPause)],l=!0)},p(d,[h]){h&20&&(a=d[2],Le(),e=Ue(e,h,f,1,d,a,o,t,yl,po,null,fo),Ee()),(!i||h&2&&r!==(r="toaster "+(d[1]||"")+" svelte-1phplh9"))&&u(t,"class",r),(!i||h&1)&&u(t,"style",d[0])},i(d){if(!i){for(let h=0;h<a.length;h+=1)x(e[h]);i=!0}},o(d){for(let h=0;h<e.length;h+=1)ee(e[h]);i=!1},d(d){d&&j(t);for(let h=0;h<e.length;h+=1)e[h].d();l=!1,se(s)}}}function fa(n,t,e){let o,{reverseOrder:r=!1}=t,{position:i="top-center"}=t,{toastOptions:l=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:f=void 0}=t;const{toasts:d,handlers:h}=Is(l);Pe(n,d,m=>e(9,o=m));let _;const g=(m,b)=>h.updateHeight(m.id,b);return n.$$set=m=>{"reverseOrder"in m&&e(5,r=m.reverseOrder),"position"in m&&e(6,i=m.position),"toastOptions"in m&&e(7,l=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,f=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(m=>({...m,position:m.position||i,offset:h.calculateOffset(m,o,{reverseOrder:r,gutter:s,defaultPosition:i})})))},[a,f,_,d,h,r,i,l,s,o,g]}class Fn extends Ce{constructor(t){super(),we(this,t,fa,ua,be,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function ho(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y,Q,W,H,K,F,V,G,X,ge,Re,Z,Se,pe,le,ae,oe,Ae,je,ze,Me,Be,We,ye,ke,te,Ne;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),l.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,f=S(),d=p("p"),d.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",b=S(),v=p("p"),v.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,y=S(),k=p("p"),k.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,A=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,O=S(),C=p("p"),C.innerHTML="<strong>3. Use of the App</strong>",T=S(),P=p("p"),P.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,E=S(),N=p("p"),N.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,M=S(),q=p("p"),q.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,B=S(),w=p("p"),w.innerHTML="<strong>4. Privacy and Data Security</strong>",R=S(),J=p("p"),J.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,Y=S(),Q=p("p"),Q.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,W=S(),H=p("p"),H.innerHTML="<strong>5. Limitation of Liability</strong>",K=S(),F=p("p"),F.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,V=S(),G=p("p"),G.innerHTML="<strong>6. Modification of Terms</strong>",X=S(),ge=p("p"),ge.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,Re=S(),Z=p("p"),Z.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",Se=S(),pe=p("p"),pe.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,le=S(),ae=p("p"),ae.innerHTML="<strong>8. Severability</strong>",oe=S(),Ae=p("p"),Ae.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,je=S(),ze=p("p"),ze.innerHTML="<strong>9. Entire Agreement</strong>",Me=S(),Be=p("p"),Be.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,We=S(),ye=p("footer"),ke=p("a"),ke.textContent="Close",u(r,"href","#close"),u(r,"class","close"),u(ke,"href","#close"),u(ke,"role","button"),u(ke,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(lt,ht){D(lt,t,ht),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(e,s),c(e,a),c(e,f),c(e,d),c(e,h),c(e,_),c(e,g),c(e,m),c(e,b),c(e,v),c(e,y),c(e,k),c(e,A),c(e,L),c(e,O),c(e,C),c(e,T),c(e,P),c(e,E),c(e,N),c(e,M),c(e,q),c(e,B),c(e,w),c(e,R),c(e,J),c(e,Y),c(e,Q),c(e,W),c(e,H),c(e,K),c(e,F),c(e,V),c(e,G),c(e,X),c(e,ge),c(e,Re),c(e,Z),c(e,Se),c(e,pe),c(e,le),c(e,ae),c(e,oe),c(e,Ae),c(e,je),c(e,ze),c(e,Me),c(e,Be),c(e,We),c(e,ye),c(ye,ke),te||(Ne=[I(r,"click",n[10]),I(ke,"click",n[10])],te=!0)},p:ne,d(lt){lt&&j(t),te=!1,se(Ne)}}}function da(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B=n[8]&&ho(n);return E=new Fn({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),v=p("fieldset"),y=p("label"),k=p("input"),A=U(`\r
              I agree to the\r
              `),L=p("a"),L.textContent="Terms and Conditions",O=S(),B&&B.c(),C=S(),T=p("button"),T.textContent="Sign Up",P=S(),de(E.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(d,"placeholder","Email"),u(d,"type","email"),u(d,"aria-invalid",n[5]),d.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(k,"type","checkbox"),u(k,"id","terms"),u(k,"name","terms"),k.required=!0,u(L,"href","#terms"),u(y,"for","terms"),u(T,"type","submit"),u(T,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,R){D(w,t,R),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),$(a,n[3]),c(s,f),c(s,d),$(d,n[0]),c(s,h),c(s,_),$(_,n[1]),c(s,g),c(s,m),$(m,n[2]),c(s,b),c(s,v),c(v,y),c(y,k),k.checked=n[4],c(y,A),c(y,L),c(s,O),B&&B.m(s,null),c(s,C),c(s,T),c(t,P),ue(E,t,null),N=!0,M||(q=[I(a,"input",n[12]),I(d,"input",n[13]),I(_,"input",n[14]),I(m,"input",n[15]),I(k,"change",n[16]),I(L,"click",n[10]),I(T,"click",n[9]),I(s,"submit",qe(n[11]))],M=!0)},p(w,[R]){R&8&&a.value!==w[3]&&$(a,w[3]),(!N||R&32)&&u(d,"aria-invalid",w[5]),R&1&&d.value!==w[0]&&$(d,w[0]),(!N||R&64)&&u(_,"aria-invalid",w[6]),R&2&&_.value!==w[1]&&$(_,w[1]),(!N||R&128)&&u(m,"aria-invalid",w[7]),R&4&&m.value!==w[2]&&$(m,w[2]),R&16&&(k.checked=w[4]),w[8]?B?B.p(w,R):(B=ho(w),B.c(),B.m(s,C)):B&&(B.d(1),B=null)},i(w){N||(x(E.$$.fragment,w),N=!0)},o(w){ee(E.$$.fragment,w),N=!1},d(w){w&&j(t),B&&B.d(),fe(E),M=!1,se(q)}}}let pa="student",ha=!0;function _a(n,t,e){let o,r,i,l,s=!1,a,f,d;async function h(){const O=await he.collection("users").authWithPassword(r,i);console.log(O)}async function _(){if(!a&&!f&&!d&&s)try{const O={name:o,username:o.toLowerCase(),email:r,password:i,passwordConfirm:l,role:pa,isPublic:ha},C=await he.collection("users").create(O);await h()}catch(O){O.data.data.email.code&&re.error("Email already exist",{position:ce})}}let g=!1;function m(){e(8,g=!g)}function b(O){De.call(this,n,O)}function v(){o=this.value,e(3,o)}function y(){r=this.value,e(0,r)}function k(){i=this.value,e(1,i)}function A(){l=this.value,e(2,l)}function L(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(5,a=!1):e(5,a=!0)),i&&(i.length>=5?e(6,f=!1):e(6,f=!0)),l&&(l===i?e(7,d=!1):e(7,d=!0)))},[r,i,l,o,s,a,f,d,g,_,m,b,v,y,k,A,L]}class zr extends Ce{constructor(t){super(),we(this,t,_a,da,be,{})}}function ma(n){let t,e,o,r,i,l;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("p"),r=U("An email with a reset link has been sent to "),i=p("strong"),l=U(n[0])},m(s,a){D(s,t,a),D(s,e,a),D(s,o,a),c(o,r),c(o,i),c(i,l)},p(s,a){a&1&&ie(l,s[0])},d(s){s&&j(t),s&&j(e),s&&j(o)}}}function ga(n){let t,e,o,r,i,l,s,a,f,d;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("form"),r=p("label"),i=U(`Email\r
              `),l=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(l,"id","email"),u(l,"name","email"),u(l,"type","email"),u(l,"aria-invalid",n[2]),l.required=!0,u(r,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){D(h,t,_),D(h,e,_),D(h,o,_),c(o,r),c(r,i),c(r,l),$(l,n[0]),c(o,s),c(o,a),f||(d=[I(l,"input",n[5]),I(a,"click",n[3]),I(o,"submit",qe(n[4]))],f=!0)},p(h,_){_&4&&u(l,"aria-invalid",h[2]),_&1&&l.value!==h[0]&&$(l,h[0])},d(h){h&&j(t),h&&j(e),h&&j(o),f=!1,se(d)}}}function va(n){let t,e,o,r,i,l,s,a;function f(_,g){return _[1]===!1?ga:ma}let d=f(n),h=d(n);return{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),h.c(),i=S(),l=p("a"),l.textContent="Back to Login Screen",u(l,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){D(_,t,g),c(t,e),c(e,o),c(o,r),h.m(r,null),c(r,i),c(r,l),s||(a=I(l,"click",n[6]),s=!0)},p(_,[g]){d===(d=f(_))&&h?h.p(_,g):(h.d(1),h=d(_),h&&(h.c(),h.m(r,i)))},i:ne,o:ne,d(_){_&&j(t),h.d(),s=!1,a()}}}function ba(n,t,e){let o=!1,r,i;async function l(){i||(await he.collection("users").requestPasswordReset(r),e(1,o=!0))}function s(d){De.call(this,n,d)}function a(){r=this.value,e(0,r)}const f=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(2,i=!1):e(2,i=!0))},[r,o,i,l,s,a,f]}class ya extends Ce{constructor(t){super(),we(this,t,ba,va,be,{})}}const bn=He(0),Dt=He(0),ka=He(500);function _o(n,t,e){const o=n.slice();return o[113]=t[e],o}function mo(n,t,e){const o=n.slice();return o[113]=t[e],o}function go(n,t,e){const o=n.slice();return o[118]=t[e],o}function vo(n,t,e){const o=n.slice();return o[121]=t[e],o}function wa(n){let t,e;return t=new jn({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r[4]&1&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Ca(n){let t,e,o,r,i,l,s,a,f=[],d=new Map,h,_,g,m,b,v,y,k,A,L,O,C=n[34];const T=w=>w[121].id;for(let w=0;w<C.length;w+=1){let R=vo(n,C,w),J=T(R);d.set(J,f[w]=bo(J,R))}let P=n[28]&&yo(n),E=n[29]&&Co(n),N=n[30]&&Io(n),M=n[31]&&Oo(n),q=n[32]&&Mo(n),B=n[27]&&Ro(n);return k=new Fn({}),{c(){t=p("div"),e=p("div"),o=S(),r=p("button"),r.textContent="Add Book",i=S(),l=p("input"),s=S(),a=p("div");for(let w=0;w<f.length;w+=1)f[w].c();h=S(),P&&P.c(),_=S(),E&&E.c(),g=S(),N&&N.c(),m=S(),M&&M.c(),b=S(),q&&q.c(),v=S(),B&&B.c(),y=S(),de(k.$$.fragment),u(e,"class","grid svelte-1h11vka"),u(r,"class","btn btn-primary"),u(l,"type","search"),u(l,"placeholder","Filter by Book Title, Author, or Status..."),u(a,"class","grid svelte-1h11vka"),u(t,"class","container")},m(w,R){D(w,t,R),c(t,e),c(t,o),c(t,r),c(t,i),c(t,l),$(l,n[33]),c(t,s),c(t,a);for(let J=0;J<f.length;J+=1)f[J]&&f[J].m(a,null);D(w,h,R),P&&P.m(w,R),D(w,_,R),E&&E.m(w,R),D(w,g,R),N&&N.m(w,R),D(w,m,R),M&&M.m(w,R),D(w,b,R),q&&q.m(w,R),D(w,v,R),B&&B.m(w,R),D(w,y,R),ue(k,w,R),A=!0,L||(O=[I(r,"click",n[42]),I(l,"input",n[56])],L=!0)},p(w,R){R[1]&4&&l.value!==w[33]&&$(l,w[33]),R[0]&16744448|R[1]&8216&&(C=w[34],f=Ue(f,R,T,1,w,C,d,a,Ge,bo,null,vo)),w[28]?P?P.p(w,R):(P=yo(w),P.c(),P.m(_.parentNode,_)):P&&(P.d(1),P=null),w[29]?E?E.p(w,R):(E=Co(w),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),w[30]?N?N.p(w,R):(N=Io(w),N.c(),N.m(m.parentNode,m)):N&&(N.d(1),N=null),w[31]?M?M.p(w,R):(M=Oo(w),M.c(),M.m(b.parentNode,b)):M&&(M.d(1),M=null),w[32]?q?q.p(w,R):(q=Mo(w),q.c(),q.m(v.parentNode,v)):q&&(q.d(1),q=null),w[27]?B?B.p(w,R):(B=Ro(w),B.c(),B.m(y.parentNode,y)):B&&(B.d(1),B=null)},i(w){A||(x(k.$$.fragment,w),A=!0)},o(w){ee(k.$$.fragment,w),A=!1},d(w){w&&j(t);for(let R=0;R<f.length;R+=1)f[R].d();w&&j(h),P&&P.d(w),w&&j(_),E&&E.d(w),w&&j(g),N&&N.d(w),w&&j(m),M&&M.d(w),w&&j(b),q&&q.d(w),w&&j(v),B&&B.d(w),w&&j(y),fe(k,w),L=!1,se(O)}}}function Sa(n){let t,e,o,r;return t=new dt({props:{path:"/",component:Dn}}),o=new dt({props:{path:"/signup",component:zr}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment)},m(i,l){ue(t,i,l),D(i,e,l),ue(o,i,l),r=!0},p:ne,i(i){r||(x(t.$$.fragment,i),x(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){fe(t,i),i&&j(e),fe(o,i)}}}function Aa(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[121].googleCover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,y){D(v,t,y),c(t,e),m||(b=[I(t,"click",n[66]),I(t,"click",n[67]),I(t,"click",n[68]),I(t,"click",n[69]),I(t,"click",n[70]),I(t,"click",n[71]),I(t,"click",n[72]),I(t,"click",n[73]),I(t,"click",n[74]),I(t,"click",n[44])],m=!0)},p(v,y){y[1]&8&&!_e(e.src,o=v[121].googleCover)&&u(e,"src",o),y[1]&8&&r!==(r=v[121].title)&&u(e,"alt",r),y[1]&8&&i!==(i=v[121].bookId)&&u(t,"data-id",i),y[1]&8&&l!==(l=v[121].title)&&u(t,"data-title",l),y[1]&8&&s!==(s=v[121].author)&&u(t,"data-author",s),y[1]&8&&a!==(a=v[121].pages)&&u(t,"data-pages",a),y[1]&8&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),y[1]&8&&d!==(d=v[121].review)&&u(t,"data-review",d),y[1]&8&&h!==(h=v[121].collection)&&u(t,"data-collection",h),y[1]&8&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),y[1]&8&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&j(t),m=!1,se(b)}}}function Ta(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[35]+n[121].bookId+"/"+n[121].cover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,y){D(v,t,y),c(t,e),m||(b=[I(t,"click",n[57]),I(t,"click",n[58]),I(t,"click",n[59]),I(t,"click",n[60]),I(t,"click",n[61]),I(t,"click",n[62]),I(t,"click",n[63]),I(t,"click",n[64]),I(t,"click",n[65]),I(t,"click",n[44])],m=!0)},p(v,y){y[1]&8&&!_e(e.src,o=v[35]+v[121].bookId+"/"+v[121].cover)&&u(e,"src",o),y[1]&8&&r!==(r=v[121].title)&&u(e,"alt",r),y[1]&8&&i!==(i=v[121].bookId)&&u(t,"data-id",i),y[1]&8&&l!==(l=v[121].title)&&u(t,"data-title",l),y[1]&8&&s!==(s=v[121].author)&&u(t,"data-author",s),y[1]&8&&a!==(a=v[121].pages)&&u(t,"data-pages",a),y[1]&8&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),y[1]&8&&d!==(d=v[121].review)&&u(t,"data-review",d),y[1]&8&&h!==(h=v[121].collection)&&u(t,"data-collection",h),y[1]&8&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),y[1]&8&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&j(t),m=!1,se(b)}}}function Ia(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:ne,d(e){e&&j(t)}}}function Pa(n){let t,e;return{c(){t=p("progress"),t.value=e=xe(n[121].pages_read,n[121].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[1]&8&&e!==(e=xe(o[121].pages_read,o[121].pages))&&(t.value=e)},d(o){o&&j(t)}}}function bo(n,t){let e,o,r,i,l,s,a=t[121].title+"",f,d,h,_,g=t[121].author+"",m,b,v,y,k=t[121].status+"",A,L,O,C;function T(B,w){return B[121].cover?Ta:Aa}let P=T(t),E=P(t);function N(B,w){return B[121].pages_read?Pa:Ia}let M=N(t),q=M(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),r=p("div"),E.c(),i=S(),l=p("hgroup"),s=p("h4"),f=U(a),d=S(),h=p("p"),_=U("By: "),m=U(g),b=S(),v=p("br"),y=S(),A=U(k),L=S(),O=p("footer"),q.c(),C=S(),u(r,"class","image-wrapper"),u(l,"class","svelte-1h11vka"),u(o,"class","content-wrapper svelte-1h11vka"),u(O,"class","svelte-1h11vka"),u(e,"data-hover","article"),u(e,"class","svelte-1h11vka"),this.first=e},m(B,w){D(B,e,w),c(e,o),c(o,r),E.m(r,null),c(o,i),c(o,l),c(l,s),c(s,f),c(l,d),c(l,h),c(h,_),c(h,m),c(h,b),c(h,v),c(h,y),c(h,A),c(e,L),c(e,O),q.m(O,null),c(e,C)},p(B,w){t=B,P===(P=T(t))&&E?E.p(t,w):(E.d(1),E=P(t),E&&(E.c(),E.m(r,null))),w[1]&8&&a!==(a=t[121].title+"")&&ie(f,a),w[1]&8&&g!==(g=t[121].author+"")&&ie(m,g),w[1]&8&&k!==(k=t[121].status+"")&&ie(A,k),M===(M=N(t))&&q?q.p(t,w):(q.d(1),q=M(t),q&&(q.c(),q.m(O,null)))},d(B){B&&j(e),E.d(),q.d()}}}function yo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b=[],v=new Map,y,k,A=n[25];const L=O=>O[118].id;for(let O=0;O<A.length;O+=1){let C=go(n,A,O),T=L(C);v.set(T,b[O]=wo(T,C))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Search`),l=S(),s=p("form"),a=p("input"),f=S(),d=p("button"),h=U("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let O=0;O<b.length;O+=1)b[O].c();u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(d,"aria-busy",n[26]),u(e,"class","svelte-1h11vka"),t.open=!0},m(O,C){D(O,t,C),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h),c(s,_),c(s,g),c(e,m);for(let T=0;T<b.length;T+=1)b[T]&&b[T].m(e,null);y||(k=[I(r,"click",n[42]),I(a,"keyup",n[75]),I(d,"click",function(){Gt(n[47](n[24]))&&n[47](n[24]).apply(this,arguments)}),I(g,"click",n[43]),I(s,"submit",qe(n[55]))],y=!0)},p(O,C){n=O,C[0]&67108864&&u(d,"aria-busy",n[26]),C[0]&33580928|C[1]&4096&&(A=n[25],b=Ue(b,C,L,1,n,A,v,e,Ge,wo,null,go))},d(O){O&&j(t);for(let C=0;C<b.length;C+=1)b[C].d();y=!1,se(k)}}}function ko(n){let t,e,o;return{c(){t=p("img"),_e(t.src,e=Ut(n[118].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[118].volumeInfo.title),u(t,"class","svelte-1h11vka")},m(r,i){D(r,t,i)},p(r,i){i[0]&33554432&&!_e(t.src,e=Ut(r[118].volumeInfo.imageLinks))&&u(t,"src",e),i[0]&33554432&&o!==(o=r[118].volumeInfo.title)&&u(t,"alt",o)},d(r){r&&j(t)}}}function wo(n,t){let e,o,r,i,l,s,a=t[118].volumeInfo.title+"",f,d,h,_,g=Mt(t[118].volumeInfo.authors)+"",m,b,v,y,k=t[118].volumeInfo.language+"",A,L,O,C,T,P,E,N,M,q,B,w=t[118].volumeInfo.imageLinks&&ko(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),r=p("figure"),w&&w.c(),i=S(),l=p("figcaption"),s=p("strong"),f=U(a),d=S(),h=p("br"),_=U(`\r
                  By `),m=U(g),b=S(),v=p("br"),y=U(`\r
                  Language: `),A=U(k),L=S(),u(l,"class","svelte-1h11vka"),u(o,"data-hover",""),u(o,"class","svelte-1h11vka"),u(e,"href","#search"),u(e,"data-id",O=t[118].id),u(e,"data-title",C=t[118].volumeInfo.title),u(e,"data-author",T=Mt(t[118].volumeInfo.authors)),u(e,"data-img",P=Ut(t[118].volumeInfo.imageLinks)),u(e,"data-pages",E=t[118].volumeInfo.pageCount),u(e,"data-description",N=t[118].volumeInfo.description),u(e,"data-language",M=t[118].volumeInfo.language),u(e,"class","svelte-1h11vka"),this.first=e},m(R,J){D(R,e,J),c(e,o),c(o,r),w&&w.m(r,null),c(r,i),c(r,l),c(l,s),c(s,f),c(l,d),c(l,h),c(l,_),c(l,m),c(l,b),c(l,v),c(l,y),c(l,A),c(e,L),q||(B=[I(e,"click",t[76]),I(e,"click",t[77]),I(e,"click",t[78]),I(e,"click",t[79]),I(e,"click",t[80]),I(e,"click",t[81]),I(e,"click",t[43])],q=!0)},p(R,J){t=R,t[118].volumeInfo.imageLinks?w?w.p(t,J):(w=ko(t),w.c(),w.m(r,i)):w&&(w.d(1),w=null),J[0]&33554432&&a!==(a=t[118].volumeInfo.title+"")&&ie(f,a),J[0]&33554432&&g!==(g=Mt(t[118].volumeInfo.authors)+"")&&ie(m,g),J[0]&33554432&&k!==(k=t[118].volumeInfo.language+"")&&ie(A,k),J[0]&33554432&&O!==(O=t[118].id)&&u(e,"data-id",O),J[0]&33554432&&C!==(C=t[118].volumeInfo.title)&&u(e,"data-title",C),J[0]&33554432&&T!==(T=Mt(t[118].volumeInfo.authors))&&u(e,"data-author",T),J[0]&33554432&&P!==(P=Ut(t[118].volumeInfo.imageLinks))&&u(e,"data-img",P),J[0]&33554432&&E!==(E=t[118].volumeInfo.pageCount)&&u(e,"data-pages",E),J[0]&33554432&&N!==(N=t[118].volumeInfo.description)&&u(e,"data-description",N),J[0]&33554432&&M!==(M=t[118].volumeInfo.language)&&u(e,"data-language",M)},d(R){R&&j(e),w&&w.d(),q=!1,se(B)}}}function Co(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E=[],N=new Map,M,q,B,w,R,J,Y,Q,W=n[13]&&So(n),H=n[6];const K=V=>V[113].id;for(let V=0;V<H.length;V+=1){let G=mo(n,H,V),X=K(G);N.set(X,E[V]=Ao(X,G))}let F=!n[13]&&To(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Add Book`),l=S(),W&&W.c(),s=S(),a=p("form"),f=p("label"),d=U(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=U(`Author\r
            `),b=p("input"),v=S(),y=p("label"),k=U(`Pages\r
            `),A=p("input"),L=S(),O=p("label"),O.textContent="Collection",C=S(),T=p("select"),P=p("option"),P.textContent="Please select an option";for(let V=0;V<E.length;V+=1)E[V].c();M=S(),F&&F.c(),q=S(),B=p("footer"),w=p("a"),w.textContent="Cancel",R=S(),J=p("a"),J.textContent="Add Book",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(f,"for","title"),u(f,"class","svelte-1h11vka"),u(b,"id","author"),u(b,"name","author"),u(b,"placeholder","Author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(A,"id","pages"),u(A,"name","pages"),u(A,"placeholder","Pages"),u(A,"type","number"),u(y,"for","pages"),u(y,"class","svelte-1h11vka"),u(O,"for","collection"),u(O,"class","svelte-1h11vka"),P.__value="",P.value=P.__value,P.selected=!0,u(T,"id","collection"),n[11]===void 0&&Xe(()=>n[85].call(T)),u(w,"href","#cancel"),u(w,"role","button"),u(w,"class","secondary svelte-1h11vka"),u(J,"href","#confirm"),u(J,"role","button"),u(J,"class","svelte-1h11vka"),u(B,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(V,G){D(V,t,G),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),W&&W.m(e,null),c(e,s),c(e,a),c(a,f),c(f,d),c(f,h),$(h,n[7]),c(a,_),c(a,g),c(g,m),c(g,b),$(b,n[8]),c(a,v),c(a,y),c(y,k),c(y,A),$(A,n[10]),c(a,L),c(a,O),c(a,C),c(a,T),c(T,P);for(let X=0;X<E.length;X+=1)E[X]&&E[X].m(T,null);Je(T,n[11],!0),c(a,M),F&&F.m(a,null),c(e,q),c(e,B),c(B,w),c(B,R),c(B,J),Y||(Q=[I(r,"click",n[43]),I(h,"input",n[82]),I(b,"input",n[83]),I(A,"input",n[84]),I(T,"change",n[85]),I(a,"submit",qe(n[54])),I(w,"click",n[48]),I(J,"click",n[37]),I(J,"click",n[48])],Y=!0)},p(V,G){V[13]?W?W.p(V,G):(W=So(V),W.c(),W.m(e,s)):W&&(W.d(1),W=null),G[0]&128&&h.value!==V[7]&&$(h,V[7]),G[0]&256&&b.value!==V[8]&&$(b,V[8]),G[0]&1024&&Qe(A.value)!==V[10]&&$(A,V[10]),G[0]&64&&(H=V[6],E=Ue(E,G,K,1,V,H,N,T,Ge,Ao,null,mo)),G[0]&2112&&Je(T,V[11]),V[13]?F&&(F.d(1),F=null):F?F.p(V,G):(F=To(V),F.c(),F.m(a,null))},d(V){V&&j(t),W&&W.d();for(let G=0;G<E.length;G+=1)E[G].d();F&&F.d(),Y=!1,se(Q)}}}function So(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=U("By "),s=U(n[8]),a=S(),f=p("br"),d=S(),h=p("br"),_=S(),g=p("p"),m=U(n[9]),_e(e.src,o=n[13])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1h11vka"),u(i,"class","svelte-1h11vka")},m(b,v){D(b,t,v),c(t,e),c(t,r),c(t,i),c(i,l),c(i,s),c(i,a),c(i,f),c(i,d),c(i,h),c(i,_),c(i,g),c(g,m)},p(b,v){v[0]&8192&&!_e(e.src,o=b[13])&&u(e,"src",o),v[0]&256&&ie(s,b[8]),v[0]&512&&ie(m,b[9])},d(b){b&&j(t)}}}function Ao(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=U(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&ie(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&j(e)}}}function To(n){let t,e,o,r,i;return{c(){t=p("label"),e=U(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1h11vka")},m(l,s){D(l,t,s),c(t,e),c(t,o),r||(i=I(o,"change",n[86]),r=!0)},p:ne,d(l){l&&j(t),r=!1,i()}}}function Io(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T;function P(R,J){return R[19]?La:Oa}let E=P(n),N=E(n),M=(n[23]===" reading"||n[23]===" not started")&&Po(n);function q(R,J){if(R[23]===" reading"||R[23]===" not started")return Ma;if(R[23]===" completed")return Ea}let B=q(n),w=B&&B(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),s=U(n[15]),a=S(),N.c(),f=S(),d=p("progress"),_=S(),g=p("p"),m=U(n[23]),b=S(),v=p("br"),y=p("br"),k=S(),M&&M.c(),A=S(),L=p("a"),L.textContent="Edit Book Details",O=S(),w&&w.c(),u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","progressbar"),d.value=h=xe(n[19],n[18]),u(d,"max","100"),u(L,"href","#update"),u(L,"class","details svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(R,J){D(R,t,J),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(l,s),c(e,a),N.m(e,null),c(e,f),c(e,d),c(e,_),c(e,g),c(g,m),c(e,b),c(e,v),c(e,y),c(e,k),M&&M.m(e,null),c(e,A),c(e,L),c(e,O),w&&w.m(e,null),C||(T=[I(r,"click",n[44]),I(L,"click",n[45])],C=!0)},p(R,J){J[0]&32768&&ie(s,R[15]),E===(E=P(R))&&N?N.p(R,J):(N.d(1),N=E(R),N&&(N.c(),N.m(e,f))),J[0]&786432&&h!==(h=xe(R[19],R[18]))&&(d.value=h),J[0]&8388608&&ie(m,R[23]),R[23]===" reading"||R[23]===" not started"?M?M.p(R,J):(M=Po(R),M.c(),M.m(e,A)):M&&(M.d(1),M=null),B===(B=q(R))&&w?w.p(R,J):(w&&w.d(1),w=B&&B(R),w&&(w.c(),w.m(e,null)))},d(R){R&&j(t),N.d(),M&&M.d(),w&&w.d(),C=!1,se(T)}}}function Oa(n){let t,e,o,r=xe(n[19],n[18])+"",i,l,s,a,f;return{c(){t=p("label"),e=U("Reading Progress: "),o=p("strong"),i=U(r),l=U("%"),s=U(`\r
            (0/`),a=U(n[18]),f=U(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(d,h){D(d,t,h),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f)},p(d,h){h[0]&786432&&r!==(r=xe(d[19],d[18])+"")&&ie(i,r),h[0]&262144&&ie(a,d[18])},d(d){d&&j(t)}}}function La(n){let t,e,o,r=xe(n[19],n[18])+"",i,l,s,a,f,d,h;return{c(){t=p("label"),e=U("Reading Progress: "),o=p("strong"),i=U(r),l=U("%"),s=U(`\r
            (`),a=U(n[19]),f=U("/"),d=U(n[18]),h=U(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(_,g){D(_,t,g),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f),c(t,d),c(t,h)},p(_,g){g[0]&786432&&r!==(r=xe(_[19],_[18])+"")&&ie(i,r),g[0]&524288&&ie(a,_[19]),g[0]&262144&&ie(d,_[18])},d(_){_&&j(t)}}}function Po(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v;return{c(){t=p("form"),e=p("input"),o=S(),r=p("label"),i=U(`Date\r
              `),l=p("input"),s=S(),a=p("label"),f=U(`Pages Read\r
              `),d=p("input"),h=S(),_=p("label"),g=U(`Comment\r
              `),m=p("input"),ve(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),u(l,"placeholder","07/14/2023"),u(l,"id","date"),u(l,"name","date"),u(l,"type","date"),u(r,"for","date"),u(r,"class","svelte-1h11vka"),u(d,"id","pagesRead"),u(d,"name","pagesRead"),u(d,"type","number"),u(a,"for","pagesRead"),u(a,"class","svelte-1h11vka"),u(m,"id","comment"),u(m,"name","comment"),u(m,"placeholder","Tell the teacher about today's read."),u(m,"type","text"),u(_,"for","comment"),u(_,"class","svelte-1h11vka")},m(y,k){D(y,t,k),c(t,e),$(e,n[15]),c(t,o),c(t,r),c(r,i),c(r,l),$(l,n[0]),c(t,s),c(t,a),c(a,f),c(a,d),$(d,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),$(m,n[2]),b||(v=[I(e,"input",n[87]),I(l,"input",n[88]),I(d,"input",n[89]),I(m,"input",n[90]),I(t,"submit",qe(n[53]))],b=!0)},p(y,k){k[0]&32768&&e.value!==y[15]&&$(e,y[15]),k[0]&1&&$(l,y[0]),k[0]&2&&Qe(d.value)!==y[1]&&$(d,y[1]),k[0]&4&&m.value!==y[2]&&$(m,y[2])},d(y){y&&j(t),b=!1,se(v)}}}function Ea(n){let t,e,o,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(i,l){D(i,t,l),c(t,e),o||(r=I(e,"click",n[44]),o=!0)},p:ne,d(i){i&&j(t),o=!1,r()}}}function Ma(n){let t,e,o,r,i,l;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=S(),r=p("a"),r.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(r,"href","#confirm"),u(r,"role","button"),u(r,"class","svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=[I(e,"click",n[44]),I(r,"click",n[38]),I(r,"click",n[44])],i=!0)},p:ne,d(s){s&&j(t),i=!1,se(l)}}}function Oo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B,w=[],R=new Map,J,Y,Q,W,H,K,F,V,G,X,ge,Re,Z=n[6];const Se=le=>le[113].id;for(let le=0;le<Z.length;le+=1){let ae=_o(n,Z,le),oe=Se(ae);R.set(oe,w[le]=Lo(oe,ae))}let pe=!n[21]&&Eo(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Edit Book Details`),l=S(),s=p("form"),a=p("label"),f=U(`Title\r
            `),d=p("input"),h=S(),_=p("div"),g=p("label"),m=U(`Author\r
              `),b=p("input"),v=S(),y=p("div"),k=p("label"),A=U(`Pages\r
              `),L=p("input"),O=S(),C=p("label"),T=U(`Review\r
            `),P=p("input"),E=S(),N=p("label"),N.textContent="Collection",M=S(),q=p("select"),B=p("option"),B.textContent="Please select an option";for(let le=0;le<w.length;le+=1)w[le].c();J=S(),pe&&pe.c(),Y=S(),Q=p("footer"),W=p("div"),H=p("a"),H.textContent="Delete",K=S(),F=p("div"),V=p("a"),V.textContent="Cancel",G=S(),X=p("a"),X.textContent="Save",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","title"),u(d,"name","title"),u(d,"type","text"),u(a,"for","title"),u(a,"class","svelte-1h11vka"),u(b,"id","author"),u(b,"name","author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(L,"id","pages"),u(L,"name","pages"),u(L,"placeholder","Pages"),u(L,"type","number"),u(k,"for","pages"),u(k,"class","svelte-1h11vka"),u(y,"class","grid svelte-1h11vka"),u(P,"id","review"),u(P,"name","review"),u(P,"type","textarea"),u(C,"for","review"),u(C,"class","svelte-1h11vka"),u(N,"for","collection"),u(N,"class","svelte-1h11vka"),B.__value="",B.value=B.__value,B.selected=!0,u(q,"id","collection"),n[20]===void 0&&Xe(()=>n[95].call(q)),u(H,"href","#delete"),u(H,"role","button"),u(H,"class","delete svelte-1h11vka"),u(V,"href","#cancel"),u(V,"role","button"),u(V,"class","secondary svelte-1h11vka"),u(X,"href","#confirm"),u(X,"role","button"),u(X,"class","svelte-1h11vka"),u(Q,"data-button","spaceBetween"),u(Q,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(le,ae){D(le,t,ae),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),$(d,n[15]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,b),$(b,n[16]),c(s,v),c(s,y),c(y,k),c(k,A),c(k,L),$(L,n[18]),c(s,O),c(s,C),c(C,T),c(C,P),$(P,n[17]),c(s,E),c(s,N),c(s,M),c(s,q),c(q,B);for(let oe=0;oe<w.length;oe+=1)w[oe]&&w[oe].m(q,null);Je(q,n[20],!0),c(e,J),pe&&pe.m(e,null),c(e,Y),c(e,Q),c(Q,W),c(W,H),c(Q,K),c(Q,F),c(F,V),c(F,G),c(F,X),ge||(Re=[I(r,"click",n[45]),I(d,"input",n[91]),I(b,"input",n[92]),I(L,"input",n[93]),I(P,"input",n[94]),I(q,"change",n[95]),I(s,"submit",qe(n[52])),I(H,"click",n[49]),I(V,"click",n[45]),I(X,"click",n[39]),I(X,"click",n[45])],ge=!0)},p(le,ae){ae[0]&32768&&d.value!==le[15]&&$(d,le[15]),ae[0]&65536&&b.value!==le[16]&&$(b,le[16]),ae[0]&262144&&Qe(L.value)!==le[18]&&$(L,le[18]),ae[0]&131072&&$(P,le[17]),ae[0]&64&&(Z=le[6],w=Ue(w,ae,Se,1,le,Z,R,q,Ge,Lo,null,_o)),ae[0]&1048640&&Je(q,le[20]),le[21]?pe&&(pe.d(1),pe=null):pe?pe.p(le,ae):(pe=Eo(le),pe.c(),pe.m(e,Y))},d(le){le&&j(t);for(let ae=0;ae<w.length;ae+=1)w[ae].d();pe&&pe.d(),ge=!1,se(Re)}}}function Lo(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=U(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&ie(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&j(e)}}}function Eo(n){let t,e,o,r,i,l;return{c(){t=p("form"),e=p("label"),o=U(`Cover Art\r
              `),r=p("input"),u(r,"type","file"),u(r,"id","file"),u(r,"name","file"),u(r,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1h11vka")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,r),i||(l=[I(r,"change",n[96]),I(t,"submit",qe(n[51]))],i=!0)},p:ne,d(s){s&&j(t),i=!1,se(l)}}}function Mo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1h11vka"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1h11vka"),u(s,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(m,b){D(m,t,b),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[I(f,"click",n[46]),I(h,"click",n[40]),I(h,"click",n[44]),I(h,"click",n[46])],_=!0)},p:ne,d(m){m&&j(t),_=!1,se(g)}}}function Ro(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y,Q;return J=pl(n[100][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Add Collection`),l=S(),s=p("form"),a=p("label"),f=U(`Collection\r
            `),d=p("input"),h=S(),_=p("label"),g=U(`Description\r
            `),m=p("input"),b=S(),v=p("fieldset"),y=p("legend"),y.textContent="Collection for:",k=S(),A=p("label"),L=p("input"),O=U(`\r
              Books`),C=S(),T=p("label"),P=p("input"),E=U(`\r
              Movies`),N=S(),M=p("footer"),q=p("div"),B=p("a"),B.textContent="Cancel",w=S(),R=p("a"),R.textContent="Add Collection",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","collection"),u(d,"name","collection"),u(d,"placeholder","Collection"),u(d,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1h11vka"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-1h11vka"),u(L,"type","radio"),u(L,"id","books"),u(L,"name","role"),L.__value="book",L.value=L.__value,L.checked=!0,u(A,"for","books"),u(A,"class","svelte-1h11vka"),u(P,"type","radio"),u(P,"id","movies"),u(P,"name","role"),P.__value="movie",P.value=P.__value,u(T,"for","movies"),u(T,"class","svelte-1h11vka"),u(v,"class","svelte-1h11vka"),u(B,"href","#cancel"),u(B,"role","button"),u(B,"class","secondary svelte-1h11vka"),u(R,"href","#confirm"),u(R,"role","button"),u(R,"class","svelte-1h11vka"),u(M,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0,J.p(L,P)},m(W,H){D(W,t,H),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),$(d,n[3]),c(s,h),c(s,_),c(_,g),c(_,m),$(m,n[4]),c(s,b),c(s,v),c(v,y),c(v,k),c(v,A),c(A,L),L.checked=L.__value===n[5],c(A,O),c(v,C),c(v,T),c(T,P),P.checked=P.__value===n[5],c(T,E),c(e,N),c(e,M),c(M,q),c(q,B),c(q,w),c(q,R),Y||(Q=[I(r,"click",n[41]),I(d,"input",n[97]),I(m,"input",n[98]),I(L,"change",n[99]),I(P,"change",n[101]),I(s,"submit",qe(n[50])),I(B,"click",n[41]),I(R,"click",n[36]),I(R,"click",n[41])],Y=!0)},p(W,H){H[0]&8&&d.value!==W[3]&&$(d,W[3]),H[0]&16&&$(m,W[4]),H[0]&32&&(L.checked=L.__value===W[5]),H[0]&32&&(P.checked=P.__value===W[5])},d(W){W&&j(t),J.r(),Y=!1,se(Q)}}}function Ra(n){let t,e,o,r;const i=[Ca,wa],l=[];function s(a,f){return Ve?0:1}return t=s(),e=l[t]=i[t](n),{c(){e.c(),o=me()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){e.p(a,f)},i(a){r||(x(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&j(o)}}}let Na="/api/files/9hhair4kd0xa314/";function Mt(n){let t;return n&&(t=n[0]),t}function Ut(n){let t;return n&&(t=n.thumbnail),t}function xe(n,t){return Math.floor(n/t*100)}function ja(n,t,e){let o,r,i,l;Pe(n,mn,z=>e(104,o=z)),Pe(n,Ve,z=>e(105,r=z)),Pe(n,Dt,z=>e(106,i=z)),Pe(n,bn,z=>e(107,l=z));let s,a,f,d,h,_,g=[],m=[],b,v,y,k="",A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y="",Q=[],W=!1,H=Yt+Na;async function K(){m=await he.collection("view_everything").getFullList({sort:"-id"}),F(),ht();try{const Fe=await he.collection("collections").getFullList({sort:"-created"});e(6,g=Fe)}catch(Fe){re.error(Fe,{position:ce})}}ot(async()=>{K(),F(),ht()}),Ln(()=>{he.collection("view_everything").unsubscribe("*")});function F(){en(bn,l=m.length,l),en(Dt,i=0,i);for(const z of m)z.pages_read&&en(Dt,i+=z.pages_read,i)}async function V(){try{const z={collection:d,reader:r.id,type:_},Fe=await he.collection("collections").create(z);K()}catch(z){re.error(z,{position:ce})}}async function G(){try{const z=new FormData;z.append("title",b),z.append("author",v),z.append("reader",r.id),z.append("review",k),z.append("collection",L),z.append("language",T),z.append("pages",A),O?z.append("cover",O[0]):z.append("googleCover",C);const Fe=await he.collection("books").create(z);re.success("Book added successfully!",{position:ce}),e(7,b=null),e(8,v=null),k=null,e(10,A=null),e(12,O=null),e(14,T=null),e(24,Y=""),e(25,Q=[]),K()}catch(z){re.error(z,{position:ce})}}async function X(){if(s&&a&&f)if(+q+ +a<=+M)try{const z={reader:r.id,book:R,date:s,pages_read:+a,comment:f},Fe=await he.collection("reading").create(z);re.success("Log entry saved!",{position:ce})}catch(z){re.error(z,{position:ce})}else+q+ +a>+M&&re.error("Pages exceeded",{position:ce});else re.error("All fields required",{position:ce});e(0,s=""),e(1,a=""),e(2,f=""),K()}async function ge(){try{const z=new FormData;z.append("title",P),z.append("author",E),z.append("reader",r.id),z.append("review",N),z.append("pages",M),z.append("collection",B),O&&z.append("cover",O[0]);const Fe=await he.collection("books").update(R,z);re.success("Book updated!",{position:ce}),e(7,b=null),e(8,v=null),k=null,e(10,A=null),e(12,O=null),e(11,L=null),K()}catch(z){re.error(z,{position:ce})}}async function Re(){try{await he.collection("books").delete(R),re.success("Book deleted!",{position:ce}),K()}catch(z){re.error(z,{position:ce})}}let Z=!1;function Se(){e(27,Z=!Z)}let pe=!1;function le(){e(28,pe=!pe),pe||(e(24,Y=""),e(25,Q=[]))}let ae=!1;function oe(){e(29,ae=!ae)}let Ae=!1;function je(){e(30,Ae=!Ae)}let ze=!1;function Me(){e(31,ze=!ze)}let Be=!1;function We(){e(32,Be=!Be)}async function ye(z){if(z.length>3){e(26,W=!0);let Fe="https://www.googleapis.com/books/v1/volumes?q="+z+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const xt=await fetch(Fe);e(25,Q=await xt.json()),e(25,Q=Q.items),e(26,W=!1)}catch(xt){re.error(xt,{position:ce})}}else re.error("input required",{position:ce})}function ke(){oe(),le()}function te(){Me(),We()}let Ne="",lt=m;function ht(){const z=Ne.toLowerCase();e(34,lt=m.filter(Fe=>Fe.title.toLowerCase().includes(z)||Fe.author.toLowerCase().includes(z)||Fe.status.toLowerCase().includes(z)))}On(()=>{ht()});const ui=[[]];function fi(z){De.call(this,n,z)}function di(z){De.call(this,n,z)}function pi(z){De.call(this,n,z)}function hi(z){De.call(this,n,z)}function _i(z){De.call(this,n,z)}function mi(z){De.call(this,n,z)}function gi(){Ne=this.value,e(33,Ne)}const vi=z=>{e(22,R=z.currentTarget.getAttribute("data-id"))},bi=z=>{e(15,P=z.currentTarget.getAttribute("data-title"))},yi=z=>{e(16,E=z.currentTarget.getAttribute("data-author"))},ki=z=>{e(18,M=z.currentTarget.getAttribute("data-pages"))},wi=z=>{e(19,q=z.currentTarget.getAttribute("data-pagesread"))},Ci=z=>{e(17,N=z.currentTarget.getAttribute("data-review"))},Si=z=>{e(20,B=z.currentTarget.getAttribute("data-collection"))},Ai=z=>{e(21,w=z.currentTarget.getAttribute("data-cover"))},Ti=z=>{e(23,J=z.currentTarget.getAttribute("data-status"))},Ii=z=>{e(22,R=z.currentTarget.getAttribute("data-id"))},Pi=z=>{e(15,P=z.currentTarget.getAttribute("data-title"))},Oi=z=>{e(16,E=z.currentTarget.getAttribute("data-author"))},Li=z=>{e(18,M=z.currentTarget.getAttribute("data-pages"))},Ei=z=>{e(19,q=z.currentTarget.getAttribute("data-pagesread"))},Mi=z=>{e(17,N=z.currentTarget.getAttribute("data-review"))},Ri=z=>{e(20,B=z.currentTarget.getAttribute("data-collection"))},Ni=z=>{e(21,w=z.currentTarget.getAttribute("data-cover"))},ji=z=>{e(23,J=z.currentTarget.getAttribute("data-status"))},Di=z=>{e(24,Y=z.currentTarget.value)},qi=z=>{e(7,b=z.currentTarget.getAttribute("data-title"))},Bi=z=>{e(8,v=z.currentTarget.getAttribute("data-author"))},Fi=z=>{e(10,A=z.currentTarget.getAttribute("data-pages"))},Ui=z=>{e(13,C=z.currentTarget.getAttribute("data-img"))},zi=z=>{e(9,y=z.currentTarget.getAttribute("data-description"))},Hi=z=>{e(14,T=z.currentTarget.getAttribute("data-language"))};function Ji(){b=this.value,e(7,b)}function Gi(){v=this.value,e(8,v)}function Vi(){A=Qe(this.value),e(10,A)}function Wi(){L=ut(this),e(11,L),e(6,g)}function Qi(){O=this.files,e(12,O)}function Ki(){P=this.value,e(15,P)}function Yi(){s=this.value,e(0,s)}function Xi(){a=Qe(this.value),e(1,a)}function Zi(){f=this.value,e(2,f)}function $i(){P=this.value,e(15,P)}function xi(){E=this.value,e(16,E)}function el(){M=Qe(this.value),e(18,M)}function tl(){N=this.value,e(17,N)}function nl(){B=ut(this),e(20,B),e(6,g)}function ol(){O=this.files,e(12,O)}function rl(){d=this.value,e(3,d)}function il(){h=this.value,e(4,h)}function ll(){_=this.__value,e(5,_)}function sl(){_=this.__value,e(5,_)}return[s,a,f,d,h,_,g,b,v,y,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y,Q,W,Z,pe,ae,Ae,ze,Be,Ne,lt,H,V,G,X,ge,Re,Se,le,oe,je,Me,We,ye,ke,te,fi,di,pi,hi,_i,mi,gi,vi,bi,yi,ki,wi,Ci,Si,Ai,Ti,Ii,Pi,Oi,Li,Ei,Mi,Ri,Ni,ji,Di,qi,Bi,Fi,Ui,zi,Hi,Ji,Gi,Vi,Wi,Qi,Ki,Yi,Xi,Zi,$i,xi,el,tl,nl,ol,rl,il,ll,ui,sl]}class Da extends Ce{constructor(t){super(),we(this,t,ja,Ra,be,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Hr=Object.freeze({left:0,top:0,width:16,height:16}),zt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Tt=Object.freeze({...Hr,...zt}),yn=Object.freeze({...Tt,body:"",hidden:!1}),qa=Object.freeze({width:null,height:null}),Jr=Object.freeze({...qa,...zt});function Ba(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(e===""){const r=parseInt(n);return isNaN(r)?0:o(r)}else if(e!==n){let r=0;switch(e){case"%":r=25;break;case"deg":r=90}if(r){let i=parseFloat(n.slice(0,n.length-e.length));return isNaN(i)?0:(i=i/r,i%1===0?o(i):0)}}return t}const Fa=/[\s,]+/;function Ua(n,t){t.split(Fa).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Gr={...Jr,preserveAspectRatio:""};function No(n){const t={...Gr},e=(o,r)=>n.getAttribute(o)||r;return t.width=e("width",null),t.height=e("height",null),t.rotate=Ba(e("rotate","")),Ua(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function za(n,t){for(const e in Gr)if(n[e]!==t[e])return!0;return!1}const gt=/^[a-z0-9]+(-[a-z0-9]+)*$/,It=(n,t,e,o="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const s=r.pop(),a=r.pop(),f={provider:r.length>0?r[0]:o,prefix:a,name:s};return t&&!qt(f)?null:f}const i=r[0],l=i.split("-");if(l.length>1){const s={provider:o,prefix:l.shift(),name:l.join("-")};return t&&!qt(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:i};return t&&!qt(s,e)?null:s}return null},qt=(n,t)=>n?!!((n.provider===""||n.provider.match(gt))&&(t&&n.prefix===""||n.prefix.match(gt))&&n.name.match(gt)):!1;function Ha(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function jo(n,t){const e=Ha(n,t);for(const o in yn)o in zt?o in n&&!(o in e)&&(e[o]=zt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function Ja(n,t){const e=n.icons,o=n.aliases||Object.create(null),r=Object.create(null);function i(l){if(e[l])return r[l]=[];if(!(l in r)){r[l]=null;const s=o[l]&&o[l].parent,a=s&&i(s);a&&(r[l]=[s].concat(a))}return r[l]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(i),r}function Ga(n,t,e){const o=n.icons,r=n.aliases||Object.create(null);let i={};function l(s){i=jo(o[s]||r[s],i)}return l(t),e.forEach(l),jo(n,i)}function Vr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(r=>{t(r,null),e.push(r)});const o=Ja(n);for(const r in o){const i=o[r];i&&(t(r,Ga(n,r,i)),e.push(r))}return e}const Va={provider:"",aliases:{},not_found:{},...Hr};function ln(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Wr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!ln(n,Va))return null;const e=t.icons;for(const r in e){const i=e[r];if(!r.match(gt)||typeof i.body!="string"||!ln(i,yn))return null}const o=t.aliases||Object.create(null);for(const r in o){const i=o[r],l=i.parent;if(!r.match(gt)||typeof l!="string"||!e[l]&&!o[l]||!ln(i,yn))return null}return t}const Ht=Object.create(null);function Wa(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function et(n,t){const e=Ht[n]||(Ht[n]=Object.create(null));return e[t]||(e[t]=Wa(n,t))}function Un(n,t){return Wr(t)?Vr(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function Qa(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function Ka(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Ht)).forEach(r=>{(typeof r=="string"&&typeof t=="string"?[t]:Object.keys(Ht[r]||{})).forEach(l=>{const s=et(r,l);e=e.concat(Object.keys(s.icons).map(a=>(r!==""?"@"+r+":":"")+l+":"+a))})}),e}let yt=!1;function Qr(n){return typeof n=="boolean"&&(yt=n),yt}function kt(n){const t=typeof n=="string"?It(n,!0,yt):n;if(t){const e=et(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Kr(n,t){const e=It(n,!0,yt);if(!e)return!1;const o=et(e.provider,e.prefix);return Qa(o,e.name,t)}function Do(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),yt&&!t&&!n.prefix){let r=!1;return Wr(n)&&(n.prefix="",Vr(n,(i,l)=>{l&&Kr(i,l)&&(r=!0)})),r}const e=n.prefix;if(!qt({provider:t,prefix:e,name:"a"}))return!1;const o=et(t,e);return!!Un(o,n)}function Ya(n){return!!kt(n)}function Xa(n){const t=kt(n);return t?{...Tt,...t}:null}function Za(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((r,i)=>r.provider!==i.provider?r.provider.localeCompare(i.provider):r.prefix!==i.prefix?r.prefix.localeCompare(i.prefix):r.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return n.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const i=r.provider,l=r.prefix,s=r.name,a=e[i]||(e[i]=Object.create(null)),f=a[l]||(a[l]=et(i,l));let d;s in f.icons?d=t.loaded:l===""||f.missing.has(s)?d=t.missing:d=t.pending;const h={provider:i,prefix:l,name:s};d.push(h)}),t}function Yr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(r=>r.id!==t))})}function $a(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,r=n.prefix;t.forEach(i=>{const l=i.icons,s=l.pending.length;l.pending=l.pending.filter(a=>{if(a.prefix!==r)return!0;const f=a.name;if(n.icons[f])l.loaded.push({provider:o,prefix:r,name:f});else if(n.missing.has(f))l.missing.push({provider:o,prefix:r,name:f});else return e=!0,!0;return!1}),l.pending.length!==s&&(e||Yr([n],i.id),i.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),i.abort))})}))}let xa=0;function ec(n,t,e){const o=xa++,r=Yr.bind(null,e,o);if(!t.pending.length)return r;const i={id:o,icons:t,callback:n,abort:r};return e.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(i)}),r}const kn=Object.create(null);function qo(n,t){kn[n]=t}function wn(n){return kn[n]||kn[""]}function tc(n,t=!0,e=!1){const o=[];return n.forEach(r=>{const i=typeof r=="string"?It(r,t,e):r;i&&o.push(i)}),o}var nc={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function oc(n,t,e,o){const r=n.resources.length,i=n.random?Math.floor(Math.random()*r):n.index;let l;if(n.random){let C=n.resources.slice(0);for(l=[];C.length>1;){const T=Math.floor(Math.random()*C.length);l.push(C[T]),C=C.slice(0,T).concat(C.slice(T+1))}l=l.concat(C)}else l=n.resources.slice(i).concat(n.resources.slice(0,i));const s=Date.now();let a="pending",f=0,d,h=null,_=[],g=[];typeof o=="function"&&g.push(o);function m(){h&&(clearTimeout(h),h=null)}function b(){a==="pending"&&(a="aborted"),m(),_.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),_=[]}function v(C,T){T&&(g=[]),typeof C=="function"&&g.push(C)}function y(){return{startTime:s,payload:t,status:a,queriesSent:f,queriesPending:_.length,subscribe:v,abort:b}}function k(){a="failed",g.forEach(C=>{C(void 0,d)})}function A(){_.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),_=[]}function L(C,T,P){const E=T!=="success";switch(_=_.filter(N=>N!==C),a){case"pending":break;case"failed":if(E||!n.dataAfterTimeout)return;break;default:return}if(T==="abort"){d=P,k();return}if(E){d=P,_.length||(l.length?O():k());return}if(m(),A(),!n.random){const N=n.resources.indexOf(C.resource);N!==-1&&N!==n.index&&(n.index=N)}a="completed",g.forEach(N=>{N(P)})}function O(){if(a!=="pending")return;m();const C=l.shift();if(C===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(A(),k())},n.timeout);return}k();return}const T={status:"pending",resource:C,callback:(P,E)=>{L(T,P,E)}};_.push(T),f++,h=setTimeout(O,n.rotate),e(C,t,T.callback)}return setTimeout(O),y}function Xr(n){const t={...nc,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function r(s,a,f){const d=oc(t,s,a,(h,_)=>{o(),f&&f(h,_)});return e.push(d),d}function i(s){return e.find(a=>s(a))||null}return{query:r,find:i,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function zn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const Zt=Object.create(null),_t=["https://api.simplesvg.com","https://api.unisvg.com"],Bt=[];for(;_t.length>0;)_t.length===1||Math.random()>.5?Bt.push(_t.shift()):Bt.push(_t.pop());Zt[""]=zn({resources:["https://api.iconify.design"].concat(Bt)});function Bo(n,t){const e=zn(t);return e===null?!1:(Zt[n]=e,!0)}function $t(n){return Zt[n]}function rc(){return Object.keys(Zt)}function Fo(){}const sn=Object.create(null);function ic(n){if(!sn[n]){const t=$t(n);if(!t)return;const e=Xr(t),o={config:t,redundancy:e};sn[n]=o}return sn[n]}function Zr(n,t,e){let o,r;if(typeof n=="string"){const i=wn(n);if(!i)return e(void 0,424),Fo;r=i.send;const l=ic(n);l&&(o=l.redundancy)}else{const i=zn(n);if(i){o=Xr(i);const l=n.resources?n.resources[0]:"",s=wn(l);s&&(r=s.send)}}return!o||!r?(e(void 0,424),Fo):o.query(t,r,e)().abort}const Uo="iconify2",wt="iconify",$r=wt+"-count",zo=wt+"-version",xr=36e5,lc=168;function Cn(n,t){try{return n.getItem(t)}catch{}}function Hn(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Ho(n,t){try{n.removeItem(t)}catch{}}function Sn(n,t){return Hn(n,$r,t.toString())}function An(n){return parseInt(Cn(n,$r))||0}const nt={local:!0,session:!0},ei={local:new Set,session:new Set};let Jn=!1;function sc(n){Jn=n}let Rt=typeof window>"u"?{}:window;function ti(n){const t=n+"Storage";try{if(Rt&&Rt[t]&&typeof Rt[t].length=="number")return Rt[t]}catch{}nt[n]=!1}function ni(n,t){const e=ti(n);if(!e)return;const o=Cn(e,zo);if(o!==Uo){if(o){const s=An(e);for(let a=0;a<s;a++)Ho(e,wt+a.toString())}Hn(e,zo,Uo),Sn(e,0);return}const r=Math.floor(Date.now()/xr)-lc,i=s=>{const a=wt+s.toString(),f=Cn(e,a);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>r&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Ho(e,a)}};let l=An(e);for(let s=l-1;s>=0;s--)i(s)||(s===l-1?(l--,Sn(e,l)):ei[n].add(s))}function oi(){if(!Jn){sc(!0);for(const n in nt)ni(n,t=>{const e=t.data,o=t.provider,r=e.prefix,i=et(o,r);if(!Un(i,e).length)return!1;const l=e.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,l):l,!0})}}function ac(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in nt)ni(o,r=>{const i=r.data;return r.provider!==n.provider||i.prefix!==n.prefix||i.lastModified===t});return!0}function cc(n,t){Jn||oi();function e(o){let r;if(!nt[o]||!(r=ti(o)))return;const i=ei[o];let l;if(i.size)i.delete(l=Array.from(i).shift());else if(l=An(r),!Sn(r,l+1))return;const s={cached:Math.floor(Date.now()/xr),provider:n.provider,data:t};return Hn(r,wt+l.toString(),JSON.stringify(s))}t.lastModified&&!ac(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Jo(){}function uc(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,$a(n)}))}function fc(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,r=n.iconsToLoad;delete n.iconsToLoad;let i;if(!r||!(i=wn(e)))return;i.prepare(e,o,r).forEach(s=>{Zr(e,s,a=>{if(typeof a!="object")s.icons.forEach(f=>{n.missing.add(f)});else try{const f=Un(n,a);if(!f.length)return;const d=n.pendingIcons;d&&f.forEach(h=>{d.delete(h)}),cc(n,a)}catch(f){console.error(f)}uc(n)})})}))}const Gn=(n,t)=>{const e=tc(n,!0,Qr()),o=Za(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,Jo)}),()=>{a=!1}}const r=Object.create(null),i=[];let l,s;return o.pending.forEach(a=>{const{provider:f,prefix:d}=a;if(d===s&&f===l)return;l=f,s=d,i.push(et(f,d));const h=r[f]||(r[f]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:d,name:h}=a,_=et(f,d),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),r[f][d].push(h))}),i.forEach(a=>{const{provider:f,prefix:d}=a;r[f][d].length&&fc(a,r[f][d])}),t?ec(t,o,i):Jo},dc=n=>new Promise((t,e)=>{const o=typeof n=="string"?It(n,!0):n;if(!o){e(n);return}Gn([o||n],r=>{if(r.length&&o){const i=kt(o);if(i){t({...Tt,...i});return}}e(n)})});function pc(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function hc(n,t){const e=typeof n=="string"?It(n,!0,!0):null;if(!e){const i=pc(n);return{value:n,data:i}}const o=kt(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const r=Gn([e],()=>t(n,e,kt(e)));return{value:n,name:e,loading:r}}function an(n){return n.hasAttribute("inline")}let ri=!1;try{ri=navigator.vendor.indexOf("Apple")===0}catch{}function _c(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(ri||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const mc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,gc=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Tn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(mc);if(o===null||!o.length)return n;const r=[];let i=o.shift(),l=gc.test(i);for(;;){if(l){const s=parseFloat(i);isNaN(s)?r.push(i):r.push(Math.ceil(s*t*e)/e)}else r.push(i);if(i=o.shift(),i===void 0)return r.join("");l=!l}}const vc=n=>n==="unset"||n==="undefined"||n==="none";function ii(n,t){const e={...Tt,...n},o={...Jr,...t},r={left:e.left,top:e.top,width:e.width,height:e.height};let i=e.body;[e,o].forEach(m=>{const b=[],v=m.hFlip,y=m.vFlip;let k=m.rotate;v?y?k+=2:(b.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),b.push("scale(-1 1)"),r.top=r.left=0):y&&(b.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),b.push("scale(1 -1)"),r.top=r.left=0);let A;switch(k<0&&(k-=Math.floor(k/4)*4),k=k%4,k){case 1:A=r.height/2+r.top,b.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:b.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:A=r.width/2+r.left,b.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}k%2===1&&(r.left!==r.top&&(A=r.left,r.left=r.top,r.top=A),r.width!==r.height&&(A=r.width,r.width=r.height,r.height=A)),b.length&&(i='<g transform="'+b.join(" ")+'">'+i+"</g>")});const l=o.width,s=o.height,a=r.width,f=r.height;let d,h;l===null?(h=s===null?"1em":s==="auto"?f:s,d=Tn(h,a/f)):(d=l==="auto"?a:l,h=s===null?Tn(d,f/a):s==="auto"?f:s);const _={},g=(m,b)=>{vc(b)||(_[m]=b.toString())};return g("width",d),g("height",h),_.viewBox=r.left.toString()+" "+r.top.toString()+" "+a.toString()+" "+f.toString(),{attributes:_,body:i}}const bc=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Jt=bc();function yc(n){Jt=n}function kc(){return Jt}function wc(n,t){const e=$t(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let r=0;e.resources.forEach(l=>{r=Math.max(r,l.length)});const i=t+".json?icons=";o=e.maxURL-r-e.path.length-i.length}return o}function Cc(n){return n===404}const Sc=(n,t,e)=>{const o=[],r=wc(n,t),i="icons";let l={type:i,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,f)=>{s+=a.length+1,s>=r&&f>0&&(o.push(l),l={type:i,provider:n,prefix:t,icons:[]},s=a.length),l.icons.push(a)}),o.push(l),o};function Ac(n){if(typeof n=="string"){const t=$t(n);if(t)return t.path}return"/"}const Tc=(n,t,e)=>{if(!Jt){e("abort",424);return}let o=Ac(t.provider);switch(t.type){case"icons":{const i=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=i+".json?"+a.toString();break}case"custom":{const i=t.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:e("abort",400);return}let r=503;Jt(n+o).then(i=>{const l=i.status;if(l!==200){setTimeout(()=>{e(Cc(l)?"abort":"next",l)});return}return r=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?e("abort",i):e("next",r)});return}setTimeout(()=>{e("success",i)})}).catch(()=>{e("next",r)})},Ic={prepare:Sc,send:Tc};function Go(n,t){switch(n){case"local":case"session":nt[n]=t;break;case"all":for(const e in nt)nt[e]=t;break}}const cn="data-style";let li="";function Pc(n){li=n}function Vo(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(cn));e||(e=document.createElement("style"),e.setAttribute(cn,cn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+li}function si(){qo("",Ic),Qr(!0);let n;try{n=window}catch{}if(n){if(oi(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Do(r))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const r="IconifyProviders["+o+"] is invalid.";try{const i=e[o];if(typeof i!="object"||!i||i.resources===void 0)continue;Bo(o,i)||console.error(r)}catch{console.error(r)}}}}return{enableCache:e=>Go(e,!0),disableCache:e=>Go(e,!1),iconExists:Ya,getIcon:Xa,listIcons:Ka,addIcon:Kr,addCollection:Do,calculateSize:Tn,buildIcon:ii,loadIcons:Gn,loadIcon:dc,addAPIProvider:Bo,appendCustomStyle:Pc,_api:{getAPIConfig:$t,setAPIModule:qo,sendAPIQuery:Zr,setFetch:yc,getFetch:kc,listAPIProviders:rc}}}function ai(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function Oc(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Lc(n){return'url("data:image/svg+xml,'+Oc(n)+'")'}const In={"background-color":"currentColor"},ci={"background-color":"transparent"},Wo={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Qo={"-webkit-mask":In,mask:In,background:ci};for(const n in Qo){const t=Qo[n];for(const e in Wo)t[n+"-"+e]=Wo[e]}function Ko(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Ec(n,t,e){const o=document.createElement("span");let r=n.body;r.indexOf("<a")!==-1&&(r+="<!-- "+Date.now()+" -->");const i=n.attributes,l=ai(r,{...i,width:t.width+"",height:t.height+""}),s=Lc(l),a=o.style,f={"--svg":s,width:Ko(i.width),height:Ko(i.height),...e?In:ci};for(const d in f)a.setProperty(d,f[d]);return o}function Mc(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=ai(n.body,e),t.firstChild}function Yo(n,t){const e=t.icon.data,o=t.customisations,r=ii(e,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const i=t.renderedMode;let l;switch(i){case"svg":l=Mc(r);break;default:l=Ec(r,{...Tt,...e},i==="mask")}const s=Array.from(n.childNodes).find(a=>{const f=a.tagName&&a.tagName.toUpperCase();return f==="SPAN"||f==="SVG"});s?l.tagName==="SPAN"&&s.tagName===l.tagName?s.setAttribute("style",l.getAttribute("style")):n.replaceChild(l,s):n.appendChild(l)}function Xo(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function Rc(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],i=class extends e{constructor(){super();Pt(this,"_shadowRoot");Pt(this,"_state");Pt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),f=an(this);Vo(a,f),this._state=Xo({value:""},f),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(a){if(a==="inline"){const f=an(this),d=this._state;f!==d.inline&&(d.inline=f,Vo(this._shadowRoot,f))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return an(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const f=this._shadowRoot;if(a.renderedMode==="svg")try{f.lastChild.setCurrentTime(0);return}catch{}Yo(f,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,f=this.getAttribute("icon");if(f!==a.icon.value){this._iconChanged(f);return}if(!a.rendered)return;const d=this.getAttribute("mode"),h=No(this);(a.attrMode!==d||za(a.customisations,h))&&this._renderIcon(a.icon,h,d)}_iconChanged(a){const f=hc(a,(d,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==d)return;const m={value:d,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});f.data?this._gotIconData(f):this._state=Xo(f,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,No(this),this.getAttribute("mode"))}_renderIcon(a,f,d){const h=_c(a.data.body,d),_=this._state.inline;Yo(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:f,attrMode:d,renderedMode:h})}};r.forEach(s=>{s in i.prototype||Object.defineProperty(i.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const l=si();for(const s in l)i[s]=i.prototype[s]=l[s];return t.define(n,i),i}Rc()||si();function Zo(n,t,e){const o=n.slice();return o[18]=t[e],o}function $o(n,t,e){const o=n.slice();return o[18]=t[e],o}function xo(n,t,e){const o=n.slice();return o[59]=t[e],o}function Nc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M=[],q=new Map,B,w,R,J,Y,Q,W=n[17];const H=G=>G[59].id;for(let G=0;G<W.length;G+=1){let X=xo(n,W,G),ge=H(X);q.set(ge,M[G]=er(ge,X))}let K=n[13]&&tr(n),F=n[14]&&or(n),V=n[15]&&ir(n);return{c(){t=p("div"),e=p("button"),e.textContent="Add Entry",o=S(),r=p("div"),i=p("select"),l=p("option"),l.textContent="All",s=p("option"),s.textContent="January",a=p("option"),a.textContent="February",f=p("option"),f.textContent="March",d=p("option"),d.textContent="April",h=p("option"),h.textContent="May",_=p("option"),_.textContent="June",g=p("option"),g.textContent="July",m=p("option"),m.textContent="August",b=p("option"),b.textContent="September",v=p("option"),v.textContent="October",y=p("option"),y.textContent="November",k=p("option"),k.textContent="December",A=S(),L=p("input"),O=S(),C=p("div"),T=p("table"),P=p("thead"),P.innerHTML=`<tr><th scope="col" class="svelte-fs4gn5">Date</th> 
            <th scope="col" class="svelte-fs4gn5">Book</th> 
            <th scope="col" class="svelte-fs4gn5">Read</th> 
            <th scope="col" class="svelte-fs4gn5">Comment</th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th></tr>`,E=S(),N=p("tbody");for(let G=0;G<M.length;G+=1)M[G].c();B=S(),K&&K.c(),w=S(),F&&F.c(),R=S(),V&&V.c(),J=me(),u(e,"class","btn btn-primary svelte-fs4gn5"),l.__value="All",l.value=l.__value,s.__value="January",s.value=s.__value,a.__value="February",a.value=a.__value,f.__value="March",f.value=f.__value,d.__value="April",d.value=d.__value,h.__value="May",h.value=h.__value,_.__value="June",_.value=_.__value,g.__value="July",g.value=g.__value,m.__value="August",m.value=m.__value,b.__value="September",b.value=b.__value,v.__value="October",v.value=v.__value,y.__value="November",y.value=y.__value,k.__value="December",k.value=k.__value,u(i,"class","svelte-fs4gn5"),n[6]===void 0&&Xe(()=>n[28].call(i)),u(L,"type","search"),u(L,"placeholder","Filter logs..."),u(L,"class","svelte-fs4gn5"),u(r,"class","flex svelte-fs4gn5"),u(T,"class","table-container svelte-fs4gn5"),u(T,"role","grid"),u(C,"class","grid"),u(t,"class","container svelte-fs4gn5")},m(G,X){D(G,t,X),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s),c(i,a),c(i,f),c(i,d),c(i,h),c(i,_),c(i,g),c(i,m),c(i,b),c(i,v),c(i,y),c(i,k),Je(i,n[6],!0),c(r,A),c(r,L),$(L,n[16]),c(t,O),c(t,C),c(C,T),c(T,P),c(T,E),c(T,N);for(let ge=0;ge<M.length;ge+=1)M[ge]&&M[ge].m(N,null);D(G,B,X),K&&K.m(G,X),D(G,w,X),F&&F.m(G,X),D(G,R,X),V&&V.m(G,X),D(G,J,X),Y||(Q=[I(e,"click",n[20]),I(i,"change",n[28]),I(i,"change",n[19]),I(L,"input",n[29])],Y=!0)},p(G,X){X[0]&64&&Je(i,G[6]),X[0]&65536&&L.value!==G[16]&&$(L,G[16]),X[0]&6428735&&(W=G[17],M=Ue(M,X,H,1,G,W,q,N,Ge,er,null,xo)),G[13]?K?K.p(G,X):(K=tr(G),K.c(),K.m(w.parentNode,w)):K&&(K.d(1),K=null),G[14]?F?F.p(G,X):(F=or(G),F.c(),F.m(R.parentNode,R)):F&&(F.d(1),F=null),G[15]?V?V.p(G,X):(V=ir(G),V.c(),V.m(J.parentNode,J)):V&&(V.d(1),V=null)},d(G){G&&j(t);for(let X=0;X<M.length;X+=1)M[X].d();G&&j(B),K&&K.d(G),G&&j(w),F&&F.d(G),G&&j(R),V&&V.d(G),G&&j(J),Y=!1,se(Q)}}}function er(n,t){let e,o,r=lr(t[59].date)+"",i,l,s,a=t[59].title+"",f,d,h,_=t[59].pages_read+"",g,m,b,v=t[59].comment+"",y,k,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y,Q,W;return{key:n,first:null,c(){e=p("tr"),o=p("td"),i=U(r),l=S(),s=p("td"),f=U(a),d=S(),h=p("td"),g=U(_),m=S(),b=p("td"),y=U(v),k=S(),A=p("td"),L=p("a"),O=p("iconify-icon"),q=S(),B=p("td"),w=p("a"),R=p("iconify-icon"),Y=S(),u(o,"class","svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),u(h,"class","svelte-fs4gn5"),u(b,"class","svelte-fs4gn5"),Lt(O,"id","lapicito"),Lt(O,"icon","mdi:edit"),Lt(O,"class","svelte-fs4gn5"),u(L,"href","#edit"),u(L,"data-id",C=t[59].id),u(L,"data-date",T=t[59].date),u(L,"data-title",P=t[59].title),u(L,"data-pages",E=t[59].pages),u(L,"data-pagesread",N=t[59].pages_read),u(L,"data-comment",M=t[59].comment),u(A,"class","svelte-fs4gn5"),Lt(R,"icon","mdi:delete"),u(w,"id",J=t[59].id),u(w,"href","#delete"),u(w,"class","delete svelte-fs4gn5"),u(B,"class","svelte-fs4gn5"),this.first=e},m(H,K){D(H,e,K),c(e,o),c(o,i),c(e,l),c(e,s),c(s,f),c(e,d),c(e,h),c(h,g),c(e,m),c(e,b),c(b,y),c(e,k),c(e,A),c(A,L),c(L,O),c(e,q),c(e,B),c(B,w),c(w,R),c(e,Y),Q||(W=[I(L,"click",t[30]),I(L,"click",t[31]),I(L,"click",t[32]),I(L,"click",t[33]),I(L,"click",t[34]),I(L,"click",t[35]),I(L,"click",t[36]),I(L,"click",t[21]),I(w,"click",t[37]),I(w,"click",t[22])],Q=!0)},p(H,K){t=H,K[0]&131072&&r!==(r=lr(t[59].date)+"")&&ie(i,r),K[0]&131072&&a!==(a=t[59].title+"")&&ie(f,a),K[0]&131072&&_!==(_=t[59].pages_read+"")&&ie(g,_),K[0]&131072&&v!==(v=t[59].comment+"")&&ie(y,v),K[0]&131072&&C!==(C=t[59].id)&&u(L,"data-id",C),K[0]&131072&&T!==(T=t[59].date)&&u(L,"data-date",T),K[0]&131072&&P!==(P=t[59].title)&&u(L,"data-title",P),K[0]&131072&&E!==(E=t[59].pages)&&u(L,"data-pages",E),K[0]&131072&&N!==(N=t[59].pages_read)&&u(L,"data-pagesread",N),K[0]&131072&&M!==(M=t[59].comment)&&u(L,"data-comment",M),K[0]&131072&&J!==(J=t[59].id)&&u(w,"id",J)},d(H){H&&j(e),Q=!1,se(W)}}}function tr(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y=n[10];const Q=W=>W[18].id;for(let W=0;W<Y.length;W+=1){let H=$o(n,Y,W),K=Q(H);g.set(K,_[W]=nr(K,H))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Log Entry`),l=S(),s=p("form"),a=p("label"),a.textContent="Book",f=S(),d=p("select"),h=p("option"),h.textContent="Please select an option";for(let W=0;W<_.length;W+=1)_[W].c();m=S(),b=p("label"),v=U(`Date\r
            `),y=p("input"),k=S(),A=p("label"),L=U(`Pages Read\r
            `),O=p("input"),C=S(),T=p("label"),P=U(`Comment\r
            `),E=p("input"),N=S(),M=p("footer"),q=p("a"),q.textContent="Cancel",B=S(),w=p("a"),w.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(d,"id","book"),n[18]===void 0&&Xe(()=>n[38].call(d)),u(y,"id","date"),u(y,"name","date"),u(y,"type","date"),y.required=!0,u(b,"for","date"),u(O,"id","pagesRead"),u(O,"name","pagesRead"),u(O,"type","number"),O.required=!0,u(A,"for","pagesRead"),u(E,"id","comment"),u(E,"name","comment"),u(E,"type","textarea"),E.required=!0,u(T,"for","comment"),u(q,"href","#cancel"),u(q,"role","button"),u(q,"class","secondary svelte-fs4gn5"),u(w,"href","#confirm"),u(w,"role","button"),u(w,"class","svelte-fs4gn5"),u(M,"class","svelte-fs4gn5"),t.open=!0},m(W,H){D(W,t,H),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h);for(let K=0;K<_.length;K+=1)_[K]&&_[K].m(d,null);Je(d,n[18],!0),c(s,m),c(s,b),c(b,v),c(b,y),$(y,n[7]),c(s,k),c(s,A),c(A,L),c(A,O),$(O,n[8]),c(s,C),c(s,T),c(T,P),c(T,E),$(E,n[9]),c(e,N),c(e,M),c(M,q),c(M,B),c(M,w),R||(J=[I(r,"click",n[20]),I(d,"change",n[38]),I(y,"input",n[39]),I(O,"input",n[40]),I(E,"input",n[41]),I(s,"submit",qe(n[27])),I(q,"click",n[20]),I(w,"click",n[24]),I(w,"click",n[20])],R=!0)},p(W,H){H[0]&1024&&(Y=W[10],_=Ue(_,H,Q,1,W,Y,g,d,Ge,nr,null,$o)),H[0]&263168&&Je(d,W[18]),H[0]&128&&$(y,W[7]),H[0]&256&&Qe(O.value)!==W[8]&&$(O,W[8]),H[0]&512&&$(E,W[9])},d(W){W&&j(t);for(let H=0;H<_.length;H+=1)_[H].d();R=!1,se(J)}}}function nr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=U(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&ie(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&j(e)}}}function or(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E=[],N=new Map,M,q,B,w,R,J,Y,Q=n[10];const W=H=>H[18].id;for(let H=0;H<Q.length;H+=1){let K=Zo(n,Q,H),F=W(K);N.set(F,E[H]=rr(F,K))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Edit Entry Details`),l=S(),s=p("form"),a=p("label"),f=U(`Date\r
            `),d=p("input"),h=S(),_=p("label"),g=U(`Pages Read\r
            `),m=p("input"),b=S(),v=p("label"),y=U(`Comment\r
            `),k=p("input"),A=S(),L=p("label"),L.textContent="Book",O=S(),C=p("select"),T=p("option"),P=U(n[3]);for(let H=0;H<E.length;H+=1)E[H].c();M=S(),q=p("footer"),B=p("a"),B.textContent="Cancel",w=S(),R=p("a"),R.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","date"),u(d,"name","date"),u(d,"type","date"),u(d,"placeholder",n[2]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(k,"id","comment"),u(k,"name","comment"),u(k,"type","text"),u(v,"for","comment"),u(L,"for","book"),T.__value=n[3],T.value=T.__value,T.selected=!0,C.disabled=!0,u(C,"id","book"),n[3]===void 0&&Xe(()=>n[45].call(C)),u(B,"href","#cancel"),u(B,"role","button"),u(B,"class","secondary svelte-fs4gn5"),u(R,"href","#confirm"),u(R,"role","button"),u(R,"class","svelte-fs4gn5"),u(q,"data-button","spaceBetween"),u(q,"class","svelte-fs4gn5"),t.open=!0},m(H,K){D(H,t,K),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),$(d,n[2]),c(s,h),c(s,_),c(_,g),c(_,m),$(m,n[4]),c(s,b),c(s,v),c(v,y),c(v,k),$(k,n[5]),c(s,A),c(s,L),c(s,O),c(s,C),c(C,T),c(T,P);for(let F=0;F<E.length;F+=1)E[F]&&E[F].m(C,null);Je(C,n[3],!0),c(e,M),c(e,q),c(q,B),c(q,w),c(q,R),J||(Y=[I(r,"click",n[21]),I(d,"input",n[42]),I(m,"input",n[43]),I(k,"input",n[44]),I(C,"change",n[45]),I(s,"submit",qe(n[26])),I(B,"click",n[21]),I(R,"click",n[25]),I(R,"click",n[21])],J=!0)},p(H,K){K[0]&4&&u(d,"placeholder",H[2]),K[0]&4&&$(d,H[2]),K[0]&16&&Qe(m.value)!==H[4]&&$(m,H[4]),K[0]&32&&k.value!==H[5]&&$(k,H[5]),K[0]&8&&ie(P,H[3]),K[0]&1032&&(T.__value=H[3],T.value=T.__value),K[0]&1024&&(Q=H[10],E=Ue(E,K,W,1,H,Q,N,C,Ge,rr,null,Zo)),K[0]&1032&&Je(C,H[3])},d(H){H&&j(t);for(let K=0;K<E.length;K+=1)E[K].d();J=!1,se(Y)}}}function rr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=U(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){D(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&ie(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&j(e)}}}function ir(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent="Are you sure you want to delete this entry?",l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-fs4gn5"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-fs4gn5"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),t.open=!0},m(m,b){D(m,t,b),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[I(f,"click",n[22]),I(h,"click",n[23]),I(h,"click",n[22])],_=!0)},p:ne,d(m){m&&j(t),_=!1,se(g)}}}function jc(n){let t,e=Ve&&Nc(n);return{c(){e&&e.c(),t=me()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,r){Ve&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&j(t)}}}function lr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Dc(n,t,e){let o;Pe(n,Ve,te=>e(48,o=te));let r=[],i,l,s,a,f,d;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let g=h[_.getMonth()],m=_.getFullYear();console.log(m);let b="";_.getMonth()<10?b=`date >= '2023-0${_.getMonth()+1}-01' && date < '2023-0${_.getMonth()+2}-01'`:b=`date >= '2023-0${_.getMonth()+1}-01' && date < '2023-0${_.getMonth()+2}-01'`;let v=g,y,k,A,L=[],O,C,T;async function P(){try{r=await he.collection("view_readingLog").getFullList({filter:b,sort:"-date"})}catch(te){re.error(te,{position:ce})}try{const te=await he.collection("books").getFullList({sort:"-created"});e(10,L=te),H()}catch(te){re.error(te,{position:ce})}}ot(async()=>{P()});function E(){if(v&&_.getMonth()>4)switch(v){case"All":b="";break;case"January":b="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":b="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":b="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":b="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":b="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":b="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":b="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":b="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":b="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":b="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":b="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":b="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],P()}let N=!1;function M(){e(13,N=!N)}let q=!1;function B(){e(14,q=!q)}let w=!1;function R(){e(15,w=!w)}async function J(){try{console.log(i),await he.collection("reading").delete(i),re.success("Entry deleted!",{position:ce}),P()}catch(te){re.error(te,{position:ce})}}async function Y(){if(y&&k){try{const te={reader:o.id,book:O,date:y,pages_read:+k,comment:A},Ne=await he.collection("reading").create(te);re.success("Log saved!",{position:ce})}catch(te){re.error(te,{position:ce})}e(7,y=null),e(8,k=""),e(18,O="")}P()}async function Q(){if(+f<+T)try{const te=new FormData;te.append("pages_read",f),te.append("comment",d),s&&te.append("date",s);const Ne=await he.collection("reading").update(l,te);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),P()}catch(te){re.error(te,{position:ce})}else if(+f>+T)if(+f+ +T<=+C)try{const te=new FormData;te.append("pages_read",f),te.append("comment",d),s&&te.append("date",s);const Ne=await he.collection("reading").update(l,te);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),P()}catch(te){re.error(te,{position:ce})}else re.error("Pages exceeded",{position:ce});else try{const te=new FormData;te.append("comment",d),s&&te.append("date",s);const Ne=await he.collection("reading").update(l,te);re.success("Log entry updated!",{position:ce}),e(3,a=""),e(4,f=""),e(2,s=null),P()}catch(te){re.error(te,{position:ce})}}let W="";function H(){const te=W.toLowerCase();e(17,K=r.filter(Ne=>Ne.title.toLowerCase().includes(te)||Ne.reader_name.toLowerCase().includes(te)||Ne.date.toLowerCase().includes(te)))}let K=r;On(()=>{H()});function F(te){De.call(this,n,te)}function V(te){De.call(this,n,te)}function G(){v=ut(this),e(6,v)}function X(){W=this.value,e(16,W)}const ge=te=>{e(1,l=te.currentTarget.getAttribute("data-id"))},Re=te=>{e(2,s=te.currentTarget.getAttribute("data-date"))},Z=te=>{e(3,a=te.currentTarget.getAttribute("data-title"))},Se=te=>{e(12,T=te.currentTarget.getAttribute("data-pagesread"))},pe=te=>{e(4,f=te.currentTarget.getAttribute("data-pagesread"))},le=te=>{e(11,C=te.currentTarget.getAttribute("data-pages"))},ae=te=>{e(5,d=te.currentTarget.getAttribute("data-comment"))},oe=te=>{e(0,i=te.currentTarget.getAttribute("id"))};function Ae(){O=ut(this),e(18,O),e(10,L)}function je(){y=this.value,e(7,y)}function ze(){k=Qe(this.value),e(8,k)}function Me(){A=this.value,e(9,A)}function Be(){s=this.value,e(2,s)}function We(){f=Qe(this.value),e(4,f)}function ye(){d=this.value,e(5,d)}function ke(){a=ut(this),e(3,a),e(10,L)}return[i,l,s,a,f,d,v,y,k,A,L,C,T,N,q,w,W,K,O,E,M,B,R,J,Y,Q,F,V,G,X,ge,Re,Z,Se,pe,le,ae,oe,Ae,je,ze,Me,Be,We,ye,ke]}class qc extends Ce{constructor(t){super(),we(this,t,Dc,jc,be,{},null,[-1,-1])}}function sr(n,t,e){const o=n.slice();return o[43]=t[e],o}function Bc(n){let t;function e(i,l){return i[13]?Uc:zc}let o=e(n),r=o(n);return{c(){r.c(),t=me()},m(i,l){r.m(i,l),D(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r.d(1),r=o(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){r.d(i),i&&j(t)}}}function Fc(n){let t,e,o,r,i=[],l=new Map,s,a,f,d=n[0];const h=g=>g[43].id;for(let g=0;g<d.length;g+=1){let m=sr(n,d,g),b=h(m);l.set(b,i[g]=cr(b,m))}let _=n[14]&&ur(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=S(),r=p("div");for(let g=0;g<i.length;g+=1)i[g].c();s=S(),a=S(),_&&_.c(),f=me(),u(r,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){D(g,t,m),c(t,e),c(t,o),c(t,r);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(r,null);D(g,s,m),D(g,a,m),_&&_.m(g,m),D(g,f,m)},p(g,m){m[0]&335871&&(d=g[0],i=Ue(i,m,h,1,g,d,l,r,Ge,cr,null,sr)),g[14]?_?_.p(g,m):(_=ur(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(g){g&&j(t);for(let m=0;m<i.length;m+=1)i[m].d();g&&j(s),g&&j(a),_&&_.d(g),g&&j(f)}}}function Uc(n){let t,e,o,r=n[15].email+"",i,l;return{c(){t=p("div"),e=p("p"),o=U("A verification email has been sent to "),i=U(r),l=U("."),u(t,"class","container")},m(s,a){D(s,t,a),c(t,e),c(e,o),c(e,i),c(e,l)},p(s,a){a[0]&32768&&r!==(r=s[15].email+"")&&ie(i,r)},d(s){s&&j(t)}}}function zc(n){let t,e,o,r,i,l;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=S(),r=p("a"),r.textContent="Verify Account",u(r,"href","#verify"),u(r,"role","button"),u(r,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){D(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=I(r,"click",n[17]),i=!0)},p:ne,d(s){s&&j(t),i=!1,l()}}}function ar(n){let t,e,o,r,i,l,s=n[43].title+"",a,f,d,h,_=n[43].author+"",g,m,b,v,y,k,A,L,O,C,T,P,E=n[43].reader_name+"",N,M,q,B,w,R,J,Y;function Q(G,X){return G[43].cover?Jc:Hc}let W=Q(n),H=W(n);function K(G,X){return G[43].pages_read?Vc:Gc}let F=K(n),V=F(n);return{c(){t=p("article"),e=p("div"),o=p("div"),H.c(),r=S(),i=p("hgroup"),l=p("h4"),a=U(s),f=S(),d=p("p"),h=U("By: "),g=U(_),m=S(),b=p("br"),v=S(),y=p("figure"),k=p("a"),A=p("img"),P=S(),N=U(E),M=S(),q=p("div"),B=S(),w=p("footer"),V.c(),R=S(),u(o,"class","image-wrapper"),_e(A.src,L=n[43].avatar_from_url)||u(A,"src",L),u(A,"alt","avatar"),u(A,"class","svelte-1vqx4aq"),u(k,"href","#profile"),u(k,"data-readerid",O=n[43].reader),u(k,"data-reader",C=n[43].reader_name),u(k,"data-avatar",T=n[43].avatar_from_url),u(k,"class","svelte-1vqx4aq"),u(y,"class","avatar avatar-sm svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(w,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(G,X){D(G,t,X),c(t,e),c(e,o),H.m(o,null),c(e,r),c(e,i),c(i,l),c(l,a),c(i,f),c(i,d),c(d,h),c(d,g),c(d,m),c(d,b),c(d,v),c(d,y),c(y,k),c(k,A),c(d,P),c(d,N),c(t,M),c(t,q),c(t,B),c(t,w),V.m(w,null),c(t,R),J||(Y=[I(k,"click",n[37]),I(k,"click",n[38]),I(k,"click",n[39]),I(k,"click",eu)],J=!0)},p(G,X){W===(W=Q(G))&&H?H.p(G,X):(H.d(1),H=W(G),H&&(H.c(),H.m(o,null))),X[0]&1&&s!==(s=G[43].title+"")&&ie(a,s),X[0]&1&&_!==(_=G[43].author+"")&&ie(g,_),X[0]&1&&!_e(A.src,L=G[43].avatar_from_url)&&u(A,"src",L),X[0]&1&&O!==(O=G[43].reader)&&u(k,"data-readerid",O),X[0]&1&&C!==(C=G[43].reader_name)&&u(k,"data-reader",C),X[0]&1&&T!==(T=G[43].avatar_from_url)&&u(k,"data-avatar",T),X[0]&1&&E!==(E=G[43].reader_name+"")&&ie(N,E),F===(F=K(G))&&V?V.p(G,X):(V.d(1),V=F(G),V&&(V.c(),V.m(w,null)))},d(G){G&&j(t),H.d(),V.d(),J=!1,se(Y)}}}function Hc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(v,y){D(v,t,y),c(t,e),m||(b=[I(t,"click",n[28]),I(t,"click",n[29]),I(t,"click",n[30]),I(t,"click",n[31]),I(t,"click",n[32]),I(t,"click",n[33]),I(t,"click",n[34]),I(t,"click",n[35]),I(t,"click",n[36]),I(t,"click",n[18])],m=!0)},p(v,y){y[0]&1&&!_e(e.src,o=v[43].googleCover)&&u(e,"src",o),y[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),y[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),y[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),y[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),y[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),y[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),y[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),y[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),y[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),y[0]&1&&g!==(g=v[43].googleCover)&&u(t,"data-cover",g)},d(v){v&&j(t),m=!1,se(b)}}}function Jc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),_e(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(v,y){D(v,t,y),c(t,e),m||(b=[I(t,"click",n[19]),I(t,"click",n[20]),I(t,"click",n[21]),I(t,"click",n[22]),I(t,"click",n[23]),I(t,"click",n[24]),I(t,"click",n[25]),I(t,"click",n[26]),I(t,"click",n[27]),I(t,"click",n[18])],m=!0)},p(v,y){y[0]&1&&!_e(e.src,o=v[16]+v[43].bookId+"/"+v[43].cover)&&u(e,"src",o),y[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),y[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),y[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),y[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),y[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),y[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),y[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),y[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),y[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),y[0]&1&&g!==(g=v[16]+v[43].bookId+"/"+v[43].cover)&&u(t,"data-cover",g)},d(v){v&&j(t),m=!1,se(b)}}}function Gc(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){D(e,t,o)},p:ne,d(e){e&&j(t)}}}function Vc(n){let t,e;return{c(){t=p("progress"),t.value=e=fr(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,r){D(o,t,r)},p(o,r){r[0]&1&&e!==(e=fr(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&j(t)}}}function cr(n,t){let e,o,r=t[43].pages_read&&ar(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[43].pages_read?r?r.p(t,l):(r=ar(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&j(e),r&&r.d(i),i&&j(o)}}}function ur(n){let t,e,o,r,i,l,s,a,f,d,h;function _(b,v){if(b[11])return Qc;if(b[12])return Wc}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Book Review`),l=S(),m&&m.c(),s=S(),a=p("footer"),f=p("a"),f.textContent="Close",u(r,"href","#close"),u(r,"class","close svelte-1vqx4aq"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(b,v){D(b,t,v),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),m&&m.m(e,null),c(e,s),c(e,a),c(a,f),d||(h=[I(r,"click",n[18]),I(f,"click",n[18])],d=!0)},p(b,v){g===(g=_(b))&&m?m.p(b,v):(m&&m.d(1),m=g&&g(b),m&&(m.c(),m.m(e,s)))},d(b){b&&j(t),m&&m.d(),d=!1,se(h)}}}function Wc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function b(k,A){return k[10]?Yc:Kc}let v=b(n),y=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=U(n[6]),f=S(),d=p("p"),h=U("By: "),_=U(n[7]),g=S(),y.c(),m=me(),_e(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(k,A){D(k,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),D(k,g,A),y.m(k,A),D(k,m,A)},p(k,A){A[0]&4096&&!_e(e.src,o=k[12])&&u(e,"src",o),A[0]&64&&ie(a,k[6]),A[0]&128&&ie(_,k[7]),v===(v=b(k))&&y?y.p(k,A):(y.d(1),y=v(k),y&&(y.c(),y.m(m.parentNode,m)))},d(k){k&&j(t),k&&j(g),y.d(k),k&&j(m)}}}function Qc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function b(k,A){return k[10]?Zc:Xc}let v=b(n),y=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=U(n[6]),f=S(),d=p("p"),h=U("By: "),_=U(n[7]),g=S(),y.c(),m=me(),_e(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(k,A){D(k,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),D(k,g,A),y.m(k,A),D(k,m,A)},p(k,A){A[0]&2048&&!_e(e.src,o=k[11])&&u(e,"src",o),A[0]&64&&ie(a,k[6]),A[0]&128&&ie(_,k[7]),v===(v=b(k))&&y?y.p(k,A):(y.d(1),y=v(k),y&&(y.c(),y.m(m.parentNode,m)))},d(k){k&&j(t),k&&j(g),y.d(k),k&&j(m)}}}function Kc(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:ne,d(e){e&&j(t)}}}function Yc(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=U(n[10]),o=S(),r=p("footer"),i=p("cite"),l=U("- "),s=U(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&ie(e,a[10]),f[0]&32&&ie(s,a[5])},d(a){a&&j(t)}}}function Xc(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){D(e,t,o)},p:ne,d(e){e&&j(t)}}}function Zc(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=U(n[10]),o=S(),r=p("footer"),i=p("cite"),l=U("- "),s=U(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){D(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&ie(e,a[10]),f[0]&32&&ie(s,a[5])},d(a){a&&j(t)}}}function $c(n){let t;function e(i,l){if(i[15]&&i[15].verified===!0)return Fc;if(i[15]&&i[15].verified===!1)return Bc}let o=e(n),r=o&&o(n);return{c(){r&&r.c(),t=me()},m(i,l){r&&r.m(i,l),D(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r&&r.d(1),r=o&&o(i),r&&(r.c(),r.m(t.parentNode,t)))},i:ne,o:ne,d(i){r&&r.d(i),i&&j(t)}}}let xc="/api/files/9hhair4kd0xa314/";function fr(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function eu(){}function tu(n,t,e){let o;Pe(n,Ve,Z=>e(15,o=Z));let r=[],i,l,s,a,f,d,h,_,g,m,b,v,y=!1,k=Yt+xc;async function A(){try{const Z=await he.collection("view_classroom").getFullList({sort:"-id"});e(0,r=Z);for(let Se=0;Se<r.length;Se++)console.log(r[Se].reader_name)}catch(Z){alert(Z)}}ot(async()=>{A()});async function L(){e(13,y=!0),await he.collection("users").requestVerification(o.email),await new Promise(Z=>setTimeout(Z,5e3)),he.authStore.clear(),Nn("/")}let O=!1;function C(){e(14,O=!O)}return[r,i,l,s,a,f,d,h,_,g,m,b,v,y,O,o,k,L,C,Z=>{e(4,a=Z.currentTarget.getAttribute("data-id"))},Z=>{e(5,f=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(6,d=Z.currentTarget.getAttribute("data-title"))},Z=>{e(7,h=Z.currentTarget.getAttribute("data-author"))},Z=>{e(8,_=Z.currentTarget.getAttribute("data-pages"))},Z=>{e(9,g=Z.currentTarget.getAttribute("data-pagesread"))},Z=>{e(10,m=Z.currentTarget.getAttribute("data-review"))},Z=>{e(11,b=Z.currentTarget.getAttribute("data-cover"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))},Z=>{e(4,a=Z.currentTarget.getAttribute("data-id"))},Z=>{e(5,f=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(6,d=Z.currentTarget.getAttribute("data-title"))},Z=>{e(7,h=Z.currentTarget.getAttribute("data-author"))},Z=>{e(8,_=Z.currentTarget.getAttribute("data-pages"))},Z=>{e(9,g=Z.currentTarget.getAttribute("data-pagesread"))},Z=>{e(10,m=Z.currentTarget.getAttribute("data-review"))},Z=>{e(12,v=Z.currentTarget.getAttribute("data-cover"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))},Z=>{e(1,i=Z.currentTarget.getAttribute("data-readerId"))},Z=>{e(2,l=Z.currentTarget.getAttribute("data-reader"))},Z=>{e(3,s=Z.currentTarget.getAttribute("data-avatar"))}]}class nu extends Ce{constructor(t){super(),we(this,t,tu,$c,be,{},null,[-1,-1])}}function dr(n,t,e){const o=n.slice();return o[18]=t[e],o}function pr(n,t,e){const o=n.slice();return o[21]=t[e],o}function hr(n,t,e){const o=n.slice();return o[24]=t[e],o}function ou(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M=[],q=new Map,B,w,R=n[0];const J=Y=>Y[18].id;for(let Y=0;Y<R.length;Y+=1){let Q=dr(n,R,Y),W=J(Q);q.set(W,M[Y]=br(W,Q))}return{c(){t=p("div"),e=p("br"),o=S(),r=p("br"),i=S(),l=p("select"),s=p("option"),s.textContent="All",a=p("option"),a.textContent="January",f=p("option"),f.textContent="February",d=p("option"),d.textContent="March",h=p("option"),h.textContent="April",_=p("option"),_.textContent="May",g=p("option"),g.textContent="June",m=p("option"),m.textContent="July",b=p("option"),b.textContent="August",v=p("option"),v.textContent="September",y=p("option"),y.textContent="October",k=p("option"),k.textContent="November",A=p("option"),A.textContent="December",L=S(),O=p("input"),C=S(),T=p("br"),P=p("br"),E=S(),N=p("div");for(let Y=0;Y<M.length;Y+=1)M[Y].c();s.__value="All",s.value=s.__value,a.__value="January",a.value=a.__value,f.__value="February",f.value=f.__value,d.__value="March",d.value=d.__value,h.__value="April",h.value=h.__value,_.__value="May",_.value=_.__value,g.__value="June",g.value=g.__value,m.__value="July",m.value=m.__value,b.__value="August",b.value=b.__value,v.__value="September",v.value=v.__value,y.__value="October",y.value=y.__value,k.__value="November",k.value=k.__value,A.__value="December",A.value=A.__value,n[2]===void 0&&Xe(()=>n[7].call(l)),u(O,"type","search"),u(O,"placeholder","Filter logs..."),u(N,"class","container svelte-1drw4iu"),u(t,"class","container svelte-1drw4iu")},m(Y,Q){D(Y,t,Q),c(t,e),c(t,o),c(t,r),c(t,i),c(t,l),c(l,s),c(l,a),c(l,f),c(l,d),c(l,h),c(l,_),c(l,g),c(l,m),c(l,b),c(l,v),c(l,y),c(l,k),c(l,A),Je(l,n[2],!0),c(t,L),c(t,O),$(O,n[3]),c(t,C),c(t,T),c(t,P),c(t,E),c(t,N);for(let W=0;W<M.length;W+=1)M[W]&&M[W].m(N,null);B||(w=[I(l,"change",n[7]),I(l,"change",n[6]),I(O,"input",n[8])],B=!0)},p(Y,Q){Q&4&&Je(l,Y[2]),Q&8&&O.value!==Y[3]&&$(O,Y[3]),Q&51&&(R=Y[0],M=Ue(M,Q,J,1,Y,R,q,N,Ge,br,null,dr))},d(Y){Y&&j(t);for(let Q=0;Q<M.length;Q+=1)M[Q].d();B=!1,se(w)}}}function _r(n){let t,e,o=kr(n[24].pagesRead,n[5])+"",r,i,l,s,a,f,d,h;return{c(){t=p("br"),e=U(`\r
                Monthly Goal: `),r=U(o),i=U(`%\r
                `),l=p("br"),s=S(),a=p("br"),f=S(),d=p("progress"),d.value=h=n[24].pagesRead,u(d,"max",n[5])},m(_,g){D(_,t,g),D(_,e,g),D(_,r,g),D(_,i,g),D(_,l,g),D(_,s,g),D(_,a,g),D(_,f,g),D(_,d,g)},p(_,g){g&34&&o!==(o=kr(_[24].pagesRead,_[5])+"")&&ie(r,o),g&2&&h!==(h=_[24].pagesRead)&&(d.value=h),g&32&&u(d,"max",_[5])},d(_){_&&j(t),_&&j(e),_&&j(r),_&&j(i),_&&j(l),_&&j(s),_&&j(a),_&&j(f),_&&j(d)}}}function mr(n,t){let e,o,r=t[24].reader===t[18].id&&_r(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[24].reader===t[18].id?r?r.p(t,l):(r=_r(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&j(e),r&&r.d(i),i&&j(o)}}}function gr(n){let t,e,o,r=yr(n[21].date)+"",i,l,s,a,f,d,h,_=n[21].title+"",g,m,b,v=n[21].pages_read+"",y,k,A,L=n[21].comment+"",O,C;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),i=U(r),l=S(),s=p("td"),a=p("img"),d=S(),h=p("td"),g=U(_),m=S(),b=p("td"),y=U(v),k=S(),A=p("td"),O=U(L),C=S(),u(o,"class","svelte-1drw4iu"),_e(a.src,f=wr(n[21].googleCover))||u(a,"src",f),u(a,"alt","cover"),u(s,"class","svelte-1drw4iu"),u(h,"class","svelte-1drw4iu"),u(b,"class","svelte-1drw4iu"),u(A,"class","svelte-1drw4iu")},m(T,P){D(T,t,P),c(t,e),c(e,o),c(o,i),c(e,l),c(e,s),c(s,a),c(e,d),c(e,h),c(h,g),c(e,m),c(e,b),c(b,y),c(e,k),c(e,A),c(A,O),c(t,C)},p(T,P){P&16&&r!==(r=yr(T[21].date)+"")&&ie(i,r),P&16&&!_e(a.src,f=wr(T[21].googleCover))&&u(a,"src",f),P&16&&_!==(_=T[21].title+"")&&ie(g,_),P&16&&v!==(v=T[21].pages_read+"")&&ie(y,v),P&16&&L!==(L=T[21].comment+"")&&ie(O,L)},d(T){T&&j(t)}}}function vr(n,t){let e,o,r=t[21].reader===t[18].id&&gr(t);return{key:n,first:null,c(){e=me(),r&&r.c(),o=me(),this.first=e},m(i,l){D(i,e,l),r&&r.m(i,l),D(i,o,l)},p(i,l){t=i,t[21].reader===t[18].id?r?r.p(t,l):(r=gr(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&j(e),r&&r.d(i),i&&j(o)}}}function br(n,t){let e,o,r,i,l,s,a,f,d=t[18].name+"",h,_,g=[],m=new Map,b,v,y,k,A=[],L=new Map,O,C=t[1];const T=N=>N[24].reader;for(let N=0;N<C.length;N+=1){let M=hr(t,C,N),q=T(M);m.set(q,g[N]=mr(q,M))}let P=t[4];const E=N=>N[21].id;for(let N=0;N<P.length;N+=1){let M=pr(t,P,N),q=E(M);L.set(q,A[N]=vr(q,M))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("strong"),h=U(d),_=S();for(let N=0;N<g.length;N+=1)g[N].c();b=S(),v=p("table"),y=p("thead"),y.innerHTML=`<tr><th scope="col" class="svelte-1drw4iu">Date</th> 
                <th scope="col" class="svelte-1drw4iu">Book</th> 
                <th scope="col" class="svelte-1drw4iu">Title</th> 
                <th scope="col" class="svelte-1drw4iu">Read</th> 
                <th scope="col" class="svelte-1drw4iu">Comment</th> 
                <th class="align-center svelte-1drw4iu" scope="col"></th> 
                <th class="align-center svelte-1drw4iu" scope="col"></th></tr>`,k=S();for(let N=0;N<A.length;N+=1)A[N].c();O=S(),_e(l.src,s=t[18].avatar_from_url)||u(l,"src",s),u(l,"alt","avatar"),u(i,"href","#profile"),u(r,"class","avatar avatar-lg"),u(v,"class","table-container svelte-1drw4iu"),u(v,"role","grid"),this.first=e},m(N,M){D(N,e,M),c(e,o),c(o,r),c(r,i),c(i,l),c(o,a),c(o,f),c(f,h),c(o,_);for(let q=0;q<g.length;q+=1)g[q]&&g[q].m(o,null);c(e,b),c(e,v),c(v,y),c(v,k);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(v,null);c(e,O)},p(N,M){t=N,M&1&&!_e(l.src,s=t[18].avatar_from_url)&&u(l,"src",s),M&1&&d!==(d=t[18].name+"")&&ie(h,d),M&35&&(C=t[1],g=Ue(g,M,T,1,t,C,m,o,Ge,mr,null,hr)),M&17&&(P=t[4],A=Ue(A,M,E,1,t,P,L,v,Ge,vr,null,pr))},d(N){N&&j(e);for(let M=0;M<g.length;M+=1)g[M].d();for(let M=0;M<A.length;M+=1)A[M].d()}}}function ru(n){let t,e=Ve&&ou(n);return{c(){e&&e.c(),t=me()},m(o,r){e&&e.m(o,r),D(o,t,r)},p(o,[r]){Ve&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&j(t)}}}function yr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function kr(n,t){return Math.floor(n/t*100)}function wr(n){return n.replace("zoom=1","zoom=5")}function iu(n,t,e){let o;Pe(n,ka,O=>e(5,o=O));let r=[],i=[],l=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],f=new Date;let d=a[f.getMonth()],h=f.getFullYear();console.log(h);let _="";f.getMonth()<10?_=`date >= '2023-0${f.getMonth()+1}-01' && date < '2023-0${f.getMonth()+2}-01'`:_=`date >= '2023-0${f.getMonth()+1}-01' && date < '2023-0${f.getMonth()+2}-01'`;let g=d;async function m(){try{const C=await he.collection("view_readingLog").getFullList({filter:_,sort:"-date"});r=C;const T=await he.collection("view_classroom").getFullList({sort:"-reader_name"});i=C,console.log(i);for(let E=0;E<i.length;E++){let N=i[E],M=N.reader,q=N.pages_read;var O=s.findIndex(B=>B.reader===M);O!==-1?e(1,s[O].pagesRead+=q,s):s.push({reader:M,pagesRead:q})}const P=await he.collection("users").getFullList({filter:'role = "student"'});e(0,l=P),y()}catch(C){re.error(C)}}ot(async()=>{m()});function b(){if(g&&f.getMonth()>4)switch(g){case"All":_="";break;case"January":_="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":_="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":_="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":_="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":_="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":_="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":_="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":_="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":_="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":_="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":_="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":_="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],i=[],e(0,l=[]),e(1,s=[]),m()}let v="";function y(){const O=v.toLowerCase();e(4,k=r.filter(C=>C.title.toLowerCase().includes(O)||C.reader_name.toLowerCase().includes(O)||C.date.toLowerCase().includes(O)))}let k=r;On(()=>{y()});function A(){g=ut(this),e(2,g)}function L(){v=this.value,e(3,v)}return[l,s,g,v,k,o,b,A,L]}class lu extends Ce{constructor(t){super(),we(this,t,iu,ru,be,{})}}function Cr(n,t,e){const o=n.slice();return o[49]=t[e],o}function su(n){let t,e;return t=new jn({props:{$$slots:{default:[cu]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r[1]&2097152&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function au(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O,C,T,P;function E(F,V){return F[15].avatar_from_url?fu:uu}let N=E(n),M=N(n);function q(F,V){if(F[15].role==="student")return pu;if(F[15].role==="teacher")return du}let B=q(n),w=B&&B(n),R=n[11]&&Sr(n),J=n[12]&&Ar(n),Y=n[13]&&Tr(n),Q=n[14]&&Pr(n);const W=[gu,mu,_u,hu],H=[];function K(F,V){return F[4]==="Books"?0:F[4]==="Log"?1:F[4]==="Discover"?2:F[4]==="Classroom"?3:-1}return~(k=K(n))&&(A=H[k]=W[k](n)),O=new Fn({}),{c(){t=p("header"),e=p("section"),o=p("a"),o.textContent="Discover",r=S(),i=p("a"),i.textContent="Books",l=S(),s=p("section"),M.c(),a=S(),f=p("section"),w&&w.c(),d=S(),h=p("a"),h.textContent="Settings",_=S(),R&&R.c(),g=S(),J&&J.c(),m=S(),Y&&Y.c(),b=S(),Q&&Q.c(),v=S(),y=p("div"),A&&A.c(),L=S(),de(O.$$.fragment),u(o,"href","#"),u(o,"class","btn btn-link svelte-1yy3czy"),u(i,"href","#"),u(i,"class","btn btn-link svelte-1yy3czy"),u(e,"class","navbar-section svelte-1yy3czy"),u(s,"class","navbar-center"),u(h,"href","#"),u(h,"class","btn btn-link svelte-1yy3czy"),u(f,"class","navbar-section svelte-1yy3czy"),u(t,"class","navbar svelte-1yy3czy"),u(y,"class","content")},m(F,V){D(F,t,V),c(t,e),c(e,o),c(e,r),c(e,i),c(t,l),c(t,s),M.m(s,null),c(t,a),c(t,f),w&&w.m(f,null),c(f,d),c(f,h),D(F,_,V),R&&R.m(F,V),D(F,g,V),J&&J.m(F,V),D(F,m,V),Y&&Y.m(F,V),D(F,b,V),Q&&Q.m(F,V),D(F,v,V),D(F,y,V),~k&&H[k].m(y,null),D(F,L,V),ue(O,F,V),C=!0,T||(P=[I(o,"click",n[27]),I(i,"click",n[26]),I(h,"click",n[29])],T=!0)},p(F,V){N===(N=E(F))&&M?M.p(F,V):(M.d(1),M=N(F),M&&(M.c(),M.m(s,null))),B===(B=q(F))&&w?w.p(F,V):(w&&w.d(1),w=B&&B(F),w&&(w.c(),w.m(f,d))),F[11]?R?R.p(F,V):(R=Sr(F),R.c(),R.m(g.parentNode,g)):R&&(R.d(1),R=null),F[12]?J?J.p(F,V):(J=Ar(F),J.c(),J.m(m.parentNode,m)):J&&(J.d(1),J=null),F[13]?Y?Y.p(F,V):(Y=Tr(F),Y.c(),Y.m(b.parentNode,b)):Y&&(Y.d(1),Y=null),F[14]?Q?Q.p(F,V):(Q=Pr(F),Q.c(),Q.m(v.parentNode,v)):Q&&(Q.d(1),Q=null);let G=k;k=K(F),k!==G&&(A&&(Le(),ee(H[G],1,1,()=>{H[G]=null}),Ee()),~k?(A=H[k],A||(A=H[k]=W[k](F),A.c()),x(A,1),A.m(y,null)):A=null)},i(F){C||(x(A),x(O.$$.fragment,F),C=!0)},o(F){ee(A),ee(O.$$.fragment,F),C=!1},d(F){F&&j(t),M.d(),w&&w.d(),F&&j(_),R&&R.d(F),F&&j(g),J&&J.d(F),F&&j(m),Y&&Y.d(F),F&&j(b),Q&&Q.d(F),F&&j(v),F&&j(y),~k&&H[k].d(),F&&j(L),fe(O,F),T=!1,se(P)}}}function cu(n){let t,e;return t=new dt({props:{path:"/",component:Dn}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p:ne,i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function uu(n){let t,e,o;return{c(){t=p("a"),t.textContent="Choose Avatar",u(t,"href","#profile"),u(t,"class","svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=I(t,"click",n[31]),e=!0)},p:ne,d(r){r&&j(t),e=!1,o()}}}function fu(n){let t,e,o,r,i,l;return{c(){t=p("figure"),e=p("a"),o=p("img"),_e(o.src,r=n[20])||u(o,"src",r),u(o,"alt","avatar"),u(o,"class","navbar-avatar"),u(e,"href","#profile"),u(e,"class","svelte-1yy3czy"),u(t,"class","avatar avatar-xl svelte-1yy3czy")},m(s,a){D(s,t,a),c(t,e),c(e,o),i||(l=I(e,"click",n[30]),i=!0)},p:ne,d(s){s&&j(t),i=!1,l()}}}function du(n){let t,e,o;return{c(){t=p("a"),t.textContent="Classroom",u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=I(t,"click",n[28]),e=!0)},p:ne,d(r){r&&j(t),e=!1,o()}}}function pu(n){let t,e,o;return{c(){t=p("a"),t.textContent="Log",u(t,"href","#"),u(t,"class","btn btn-link svelte-1yy3czy")},m(r,i){D(r,t,i),e||(o=I(t,"click",n[25]),e=!0)},p:ne,d(r){r&&j(t),e=!1,o()}}}function Sr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Settings`),l=S(),s=p("form"),a=p("label"),f=U(`Max Search Output\r
            `),d=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",b=S(),v=p("a"),v.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","maxOutput"),u(d,"name","maxOutput"),u(d,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-1yy3czy"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-1yy3czy"),u(_,"class","svelte-1yy3czy"),t.open=!0},m(A,L){D(A,t,L),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),$(d,n[16]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,b),c(g,v),y||(k=[I(r,"click",n[29]),I(d,"input",n[38]),I(s,"submit",qe(n[37])),I(m,"click",n[29]),I(v,"click",n[29])],y=!0)},p(A,L){L[0]&65536&&d.value!==A[16]&&$(d,A[16])},d(A){A&&j(t),y=!1,se(k)}}}function Ar(n){let t,e,o,r,i,l,s,a,f,d,h=n[15].name+"",_,g,m,b,v,y,k,A,L,O,C,T,P,E,N,M,q,B,w,R,J,Y,Q,W,H,K,F,V,G,X,ge,Re,Z,Se,pe,le,ae,oe,Ae,je,ze,Me,Be,We;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("a"),d=U(`\r
          `),_=U(h),g=U("'s Profile"),m=S(),b=p("details"),v=p("summary"),v.textContent="My Stats",y=S(),k=p("p"),A=U("Books: "),L=U(n[17]),O=U(" | Pages Read: "),C=U(n[18]),T=S(),P=p("details"),E=p("summary"),E.textContent="Account Info",N=S(),M=p("form"),q=p("label"),B=U(`Name\r
              `),w=p("input"),R=S(),J=p("label"),Y=U(`Email\r
              `),Q=p("input"),W=S(),H=p("details"),K=p("summary"),K.textContent="Security",F=S(),V=p("fieldset"),G=p("label"),X=p("input"),ge=U(`\r
              Share my readings with classmates`),Re=S(),Z=p("a"),Z.textContent="Change Password",Se=S(),pe=p("footer"),le=p("div"),ae=p("a"),ae.textContent="Sign Out",oe=S(),Ae=p("div"),je=p("a"),je.textContent="Cancel",ze=S(),Me=p("a"),Me.textContent="Save",_e(l.src,s=n[20])||u(l,"src",s),u(l,"alt","avatar"),u(i,"href","#profile"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(f,"href","#close"),u(f,"class","close"),b.open=!0,u(w,"id","profileName"),u(w,"name","profileName"),u(w,"type","text"),u(q,"for","profileName"),u(Q,"id","profileEmail"),u(Q,"name","profileEmail"),u(Q,"type","email"),Q.disabled=!0,u(J,"for","profileEmail"),P.open=!0,u(X,"type","checkbox"),u(X,"id","switch"),u(X,"name","switch"),u(X,"role","switch"),u(G,"for","switch"),u(Z,"href","#update"),u(Z,"class","details"),u(ae,"href","#signout"),u(ae,"role","button"),u(ae,"class","signout svelte-1yy3czy"),u(je,"href","#cancel"),u(je,"role","button"),u(je,"class","secondary svelte-1yy3czy"),u(Me,"href","#confirm"),u(Me,"role","button"),u(Me,"class","svelte-1yy3czy"),u(pe,"data-button","spaceBetween"),u(pe,"class","svelte-1yy3czy"),t.open=!0},m(ye,ke){D(ye,t,ke),c(t,e),c(e,o),c(o,r),c(r,i),c(i,l),c(o,a),c(o,f),c(o,d),c(o,_),c(o,g),c(e,m),c(e,b),c(b,v),c(b,y),c(b,k),c(k,A),c(k,L),c(k,O),c(k,C),c(e,T),c(e,P),c(P,E),c(P,N),c(P,M),c(M,q),c(q,B),c(q,w),$(w,n[6]),c(M,R),c(M,J),c(J,Y),c(J,Q),$(Q,n[7]),c(e,W),c(e,H),c(H,K),c(H,F),c(H,V),c(V,G),c(G,X),X.checked=n[10],c(G,ge),c(H,Re),c(H,Z),c(e,Se),c(e,pe),c(pe,le),c(le,ae),c(pe,oe),c(pe,Ae),c(Ae,je),c(Ae,ze),c(Ae,Me),Be||(We=[I(i,"click",n[31]),I(f,"click",n[30]),I(w,"input",n[39]),I(Q,"input",n[40]),I(M,"submit",qe(n[36])),I(X,"change",n[41]),I(Z,"click",n[32]),I(ae,"click",n[24]),I(je,"click",n[30]),I(Me,"click",n[21]),I(Me,"click",n[30])],Be=!0)},p(ye,ke){ke[0]&32768&&h!==(h=ye[15].name+"")&&ie(_,h),ke[0]&131072&&ie(L,ye[17]),ke[0]&262144&&ie(C,ye[18]),ke[0]&64&&w.value!==ye[6]&&$(w,ye[6]),ke[0]&128&&Q.value!==ye[7]&&$(Q,ye[7]),ke[0]&1024&&(X.checked=ye[10])},d(ye){ye&&j(t),Be=!1,se(We)}}}function Tr(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,b,v,y,k,A,L,O=n[5];const C=T=>T[49].id;for(let T=0;T<O.length;T+=1){let P=Cr(n,O,T),E=C(P);g.set(E,_[T]=Ir(E,P))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("img"),s=S(),a=p("a"),f=U(`\r
          Change Avatar`),d=S(),h=p("section");for(let T=0;T<_.length;T+=1)_[T].c();m=S(),b=p("footer"),v=p("a"),v.textContent="Cancel",y=S(),k=p("a"),k.textContent="Save",_e(i.src,l=n[20])||u(i,"src",l),u(i,"alt","avatar"),u(r,"class","avatar avatar-xl svelte-1yy3czy"),u(a,"href","#close"),u(a,"class","close"),u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary svelte-1yy3czy"),u(k,"href","#confirm"),u(k,"role","button"),u(k,"class","svelte-1yy3czy"),u(b,"class","svelte-1yy3czy"),t.open=!0},m(T,P){D(T,t,P),c(t,e),c(e,o),c(o,r),c(r,i),c(o,s),c(o,a),c(o,f),c(e,d),c(e,h);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(h,null);c(e,m),c(e,b),c(b,v),c(b,y),c(b,k),A||(L=[I(a,"click",n[31]),I(v,"click",n[31]),I(k,"click",n[23]),I(k,"click",n[33])],A=!0)},p(T,P){P[0]&524832&&(O=T[5],_=Ue(_,P,C,1,T,O,g,h,Ge,Ir,null,Cr))},d(T){T&&j(t);for(let P=0;P<_.length;P+=1)_[P].d();A=!1,se(L)}}}function Ir(n,t){let e,o,r,i,l,s,a,f;return{key:n,first:null,c(){e=p("a"),o=p("figure"),r=p("img"),l=S(),u(r,"class","avatar-list svelte-1yy3czy"),_e(r.src,i=t[19]+t[49].id+"/"+t[49].field)||u(r,"src",i),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-1yy3czy"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-1yy3czy"),u(e,"data-picture",s=t[19]+t[49].id+"/"+t[49].field),this.first=e},m(d,h){D(d,e,h),c(e,o),c(o,r),c(e,l),a||(f=I(e,"click",t[42]),a=!0)},p(d,h){t=d,h[0]&32&&!_e(r.src,i=t[19]+t[49].id+"/"+t[49].field)&&u(r,"src",i),h[0]&32&&s!==(s=t[19]+t[49].id+"/"+t[49].field)&&u(e,"data-picture",s)},d(d){d&&j(e),a=!1,f()}}}function Pr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,b,v,y,k,A,L,O;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=U(`\r
          Change Password`),l=S(),s=p("form"),a=p("label"),f=U(`Change Password\r
            `),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),v=p("footer"),y=p("a"),y.textContent="Cancel",k=S(),A=p("a"),A.textContent="Update",u(r,"href","#close"),u(r,"class","close"),u(d,"id","oldPassword"),u(d,"name","oldPassword"),u(d,"type","password"),u(d,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[2]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[3]),u(y,"href","#cancel"),u(y,"role","button"),u(y,"class","secondary svelte-1yy3czy"),u(A,"href","#confirm"),u(A,"role","button"),u(A,"class","svelte-1yy3czy"),u(v,"class","svelte-1yy3czy"),t.open=!0},m(C,T){D(C,t,T),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),$(d,n[8]),c(s,h),c(s,_),$(_,n[0]),c(s,g),c(s,m),$(m,n[1]),c(e,b),c(e,v),c(v,y),c(v,k),c(v,A),L||(O=[I(r,"click",n[32]),I(d,"input",n[43]),I(_,"input",n[44]),I(m,"input",n[45]),I(s,"submit",qe(n[35])),I(y,"click",n[32]),I(A,"click",n[22]),I(A,"click",n[34])],L=!0)},p(C,T){T[0]&256&&d.value!==C[8]&&$(d,C[8]),T[0]&4&&u(_,"aria-invalid",C[2]),T[0]&1&&_.value!==C[0]&&$(_,C[0]),T[0]&8&&u(m,"aria-invalid",C[3]),T[0]&2&&m.value!==C[1]&&$(m,C[1])},d(C){C&&j(t),L=!1,se(O)}}}function hu(n){let t,e;return t=new lu({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function _u(n){let t,e;return t=new nu({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function mu(n){let t,e;return t=new qc({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function gu(n){let t,e;return t=new Da({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function vu(n){let t,e,o,r;const i=[au,su],l=[];function s(a,f){return a[15]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=me()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),x(e,1),e.m(o.parentNode,o))},i(a){r||(x(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&j(o)}}}let bu="/api/files/fhm2u4u1k405dr7/";function yu(n,t,e){let o,r,i,l;Pe(n,Ve,oe=>e(15,o=oe)),Pe(n,mn,oe=>e(16,r=oe)),Pe(n,bn,oe=>e(17,i=oe)),Pe(n,Dt,oe=>e(18,l=oe));let s,a,f,d=[],h=Yt+bu,_=o.avatar_from_url;ot(async()=>{o.role==="teacher"?L():k();try{const oe=await he.collection("avatars").getFullList({sort:"-created"});e(5,d=oe)}catch(oe){re.error(oe,{position:ce})}});async function g(){try{const oe={name:O,email:C,isPublic:M},Ae=await he.collection("users").update(o.id,oe);re.success("Profile updated!",{position:ce})}catch(oe){re.error(oe,{position:ce})}}async function m(){if(!s&&!a)try{const oe=new FormData;oe.append("password",T),oe.append("passwordConfirm",P),oe.append("oldPassword",E);const Ae=await he.collection("users").update(o.id,oe);re.success("Password changed successfully!",{position:ce})}catch(oe){re.error(oe,{position:ce})}else s?re.error("Password should be at least 5 characters long",{position:ce}):a&&re.error("Password mismatch",{position:ce})}async function b(){try{const oe={avatar_from_url:N},Ae=await he.collection("users").update(o.id,oe);re.success("Avatar updated!",{position:ce})}catch(oe){re.error(oe,{position:ce})}window.location.reload(),e(9,N="")}function v(){he.authStore.clear(),Nn("/")}function y(){e(4,f="Log")}function k(){e(4,f="Books")}function A(){e(4,f="Discover")}function L(){e(4,f="Classroom")}let O=o.name,C=o.email,T,P,E,N,M=o.isPublic,q=!1;function B(){e(11,q=!q)}let w=!1;function R(){e(12,w=!w)}let J=!1;function Y(){e(13,J=!J)}let Q=!1;function W(){e(14,Q=!Q)}function H(){Y(),R()}function K(){W(),R()}function F(oe){De.call(this,n,oe)}function V(oe){De.call(this,n,oe)}function G(oe){De.call(this,n,oe)}function X(){r=this.value,mn.set(r)}function ge(){O=this.value,e(6,O)}function Re(){C=this.value,e(7,C)}function Z(){M=this.checked,e(10,M)}const Se=oe=>{e(9,N=oe.currentTarget.getAttribute("data-picture"))};function pe(){E=this.value,e(8,E)}function le(){T=this.value,e(0,T)}function ae(){P=this.value,e(1,P)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(T&&(T.length>=5?e(2,s=!1):e(2,s=!0)),P&&(P===T?e(3,a=!1):e(3,a=!0)))},[T,P,s,a,f,d,O,C,E,N,M,q,w,J,Q,o,r,i,l,h,_,g,m,b,v,y,k,A,L,B,R,Y,W,H,K,F,V,G,X,ge,Re,Z,Se,pe,le,ae]}class ku extends Ce{constructor(t){super(),we(this,t,yu,vu,be,{},null,[-1,-1])}}function wu(n){let t,e;return t=new jn({props:{$$slots:{default:[Su]},$$scope:{ctx:n}}}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p(o,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Cu(n){let t,e;return t=new ku({}),{c(){de(t.$$.fragment)},m(o,r){ue(t,o,r),e=!0},p:ne,i(o){e||(x(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){fe(t,o)}}}function Su(n){let t,e,o,r,i,l;return t=new dt({props:{path:"/",component:Dn}}),o=new dt({props:{path:"/signup",component:zr}}),i=new dt({props:{path:"/reset",component:ya}}),{c(){de(t.$$.fragment),e=S(),de(o.$$.fragment),r=S(),de(i.$$.fragment)},m(s,a){ue(t,s,a),D(s,e,a),ue(o,s,a),D(s,r,a),ue(i,s,a),l=!0},p:ne,i(s){l||(x(t.$$.fragment,s),x(o.$$.fragment,s),x(i.$$.fragment,s),l=!0)},o(s){ee(t.$$.fragment,s),ee(o.$$.fragment,s),ee(i.$$.fragment,s),l=!1},d(s){fe(t,s),s&&j(e),fe(o,s),s&&j(r),fe(i,s)}}}function Au(n){let t,e,o,r;const i=[Cu,wu],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=me()},m(a,f){l[t].m(a,f),D(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?l[t].p(a,f):(Le(),ee(l[d],1,1,()=>{l[d]=null}),Ee(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),x(e,1),e.m(o.parentNode,o))},i(a){r||(x(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&j(o)}}}function Tu(n,t,e){let o;return Pe(n,Ve,r=>e(0,o=r)),[o]}class Iu extends Ce{constructor(t){super(),we(this,t,Tu,Au,be,{})}}new Iu({target:document.getElementById("app")});
