var al=Object.defineProperty;var cl=(n,t,e)=>t in n?al(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Lt=(n,t,e)=>(cl(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function ne(){}function tt(n,t){for(const e in t)n[e]=t[e];return n}function ul(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function Er(n){return n()}function Qn(){return Object.create(null)}function se(n){n.forEach(Er)}function Wt(n){return typeof n=="function"}function be(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Et;function ge(n,t){return Et||(Et=document.createElement("a")),Et.href=t,n===Et.href}function fl(n){return Object.keys(n).length===0}function Ln(n,...t){if(n==null)return ne;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function dn(n){let t;return Ln(n,e=>t=e)(),t}function Ee(n,t,e){n.$$.on_destroy.push(Ln(t,e))}function Qt(n,t,e,o){if(n){const r=Mr(n,t,e,o);return n[0](r)}}function Mr(n,t,e,o){return n[1]&&o?tt(e.ctx.slice(),n[1](o(t))):e.ctx}function Kt(n,t,e,o){if(n[2]&&o){const r=n[2](o(e));if(t.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(t.dirty.length,r.length);for(let s=0;s<l;s+=1)i[s]=t.dirty[s]|r[s];return i}return t.dirty|r}return t.dirty}function Yt(n,t,e,o,r,i){if(r){const l=Mr(t,e,o,i);n.p(l,r)}}function Xt(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let o=0;o<e;o++)t[o]=-1;return t}return-1}function Kn(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function nn(n,t,e){return n.set(e),t}function c(n,t){n.appendChild(t)}function q(n,t,e){n.insertBefore(t,e||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function B(n){return document.createTextNode(n)}function S(){return B(" ")}function ve(){return B("")}function T(n,t,e,o){return n.addEventListener(t,e,o),()=>n.removeEventListener(t,e,o)}function Be(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const dl=["width","height"];function Yn(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const o in t)t[o]==null?n.removeAttribute(o):o==="style"?n.style.cssText=t[o]:o==="__value"?n.value=n[o]=t[o]:e[o]&&e[o].set&&dl.indexOf(o)===-1?n[o]=t[o]:u(n,o,t[o])}function Mt(n,t,e){t in n?n[t]=typeof n[t]=="boolean"&&e===""?!0:e:u(n,t,e)}function pl(n){let t;return{p(...e){t=e,t.forEach(o=>n.push(o))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Je(n){return n===""?null:+n}function hl(n){return Array.from(n.childNodes)}function ie(n,t){t=""+t,n.data!==t&&(n.data=t)}function Y(n,t){n.value=t??""}function me(n,t,e,o){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,o?"important":"")}function Ge(n,t,e){for(let o=0;o<n.options.length;o+=1){const r=n.options[o];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function pt(n){const t=n.querySelector(":checked");return t&&t.__value}function vt(n,t,e){n.classList[e?"add":"remove"](t)}function nt(n,t){return new n(t)}let kt;function Ze(n){kt=n}function mt(){if(!kt)throw new Error("Function called outside component initialization");return kt}function st(n){mt().$$.on_mount.push(n)}function En(n){mt().$$.after_update.push(n)}function Mn(n){mt().$$.on_destroy.push(n)}function on(n,t){return mt().$$.context.set(n,t),t}function pn(n){return mt().$$.context.get(n)}function qe(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(o=>o.call(this,t))}const dt=[],hn=[];let ht=[];const Xn=[],_l=Promise.resolve();let _n=!1;function ml(){_n||(_n=!0,_l.then(Rn))}function xe(n){ht.push(n)}const rn=new Set;let ut=0;function Rn(){if(ut!==0)return;const n=kt;do{try{for(;ut<dt.length;){const t=dt[ut];ut++,Ze(t),gl(t.$$)}}catch(t){throw dt.length=0,ut=0,t}for(Ze(null),dt.length=0,ut=0;hn.length;)hn.pop()();for(let t=0;t<ht.length;t+=1){const e=ht[t];rn.has(e)||(rn.add(e),e())}ht.length=0}while(dt.length);for(;Xn.length;)Xn.pop()();_n=!1,rn.clear(),Ze(n)}function gl(n){if(n.fragment!==null){n.update(),se(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(xe)}}function vl(n){const t=[],e=[];ht.forEach(o=>n.indexOf(o)===-1?t.push(o):e.push(o)),e.forEach(o=>o()),ht=t}const Dt=new Set;let it;function Re(){it={r:0,c:[],p:it}}function je(){it.r||se(it.c),it=it.p}function Z(n,t){n&&n.i&&(Dt.delete(n),n.i(t))}function ee(n,t,e,o){if(n&&n.o){if(Dt.has(n))return;Dt.add(n),it.c.push(()=>{Dt.delete(n),o&&(e&&n.d(1),o())}),n.o(t)}else o&&o()}function Zn(n,t){const e=t.token={};function o(r,i,l,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;l!==void 0&&(a=a.slice(),a[l]=s);const f=r&&(t.current=r)(a);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==i&&h&&(Re(),ee(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),je())}):t.block.d(1),f.c(),Z(f,1),f.m(t.mount(),t.anchor),d=!0),t.block=f,t.blocks&&(t.blocks[i]=f),d&&Rn()}if(ul(n)){const r=mt();if(n.then(i=>{Ze(r),o(t.then,1,t.value,i),Ze(null)},i=>{if(Ze(r),o(t.catch,2,t.error,i),Ze(null),!t.hasCatch)throw i}),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,n),!0;t.resolved=n}}function bl(n,t,e){const o=t.slice(),{resolved:r}=n;n.current===n.then&&(o[n.value]=r),n.current===n.catch&&(o[n.error]=r),n.block.p(o,e)}function Ve(n,t){n.d(1),t.delete(n.key)}function kl(n,t){ee(n,1,1,()=>{t.delete(n.key)})}function He(n,t,e,o,r,i,l,s,a,f,d,h){let _=n.length,g=i.length,m=_;const k={};for(;m--;)k[n[m].key]=m;const v=[],b=new Map,y=new Map,A=[];for(m=g;m--;){const C=h(r,i,m),O=e(C);let M=l.get(O);M?o&&A.push(()=>M.p(C,t)):(M=f(O,C),M.c()),b.set(O,v[m]=M),O in k&&y.set(O,Math.abs(m-k[O]))}const I=new Set,P=new Set;function w(C){Z(C,1),C.m(s,d),l.set(C.key,C),d=C.first,g--}for(;_&&g;){const C=v[g-1],O=n[_-1],M=C.key,E=O.key;C===O?(d=C.first,_--,g--):b.has(E)?!l.has(M)||I.has(M)?w(C):P.has(E)?_--:y.get(M)>y.get(E)?(P.add(M),w(C)):(I.add(E),_--):(a(O,l),_--)}for(;_--;){const C=n[_];b.has(C.key)||a(C,l)}for(;g;)w(v[g-1]);return se(A),v}function At(n,t){const e={},o={},r={$$scope:1};let i=n.length;for(;i--;){const l=n[i],s=t[i];if(s){for(const a in l)a in s||(o[a]=1);for(const a in s)r[a]||(e[a]=s[a],r[a]=1);n[i]=s}else for(const a in l)r[a]=1}for(const l in o)l in e||(e[l]=void 0);return e}function yt(n){return typeof n=="object"&&n!==null?n:{}}function fe(n){n&&n.c()}function ae(n,t,e,o){const{fragment:r,after_update:i}=n.$$;r&&r.m(t,e),o||xe(()=>{const l=n.$$.on_mount.map(Er).filter(Wt);n.$$.on_destroy?n.$$.on_destroy.push(...l):se(l),n.$$.on_mount=[]}),i.forEach(xe)}function ce(n,t){const e=n.$$;e.fragment!==null&&(vl(e.after_update),se(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function yl(n,t){n.$$.dirty[0]===-1&&(dt.push(n),ml(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function we(n,t,e,o,r,i,l,s=[-1]){const a=kt;Ze(n);const f=n.$$={fragment:null,ctx:[],props:i,update:ne,not_equal:r,bound:Qn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Qn(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(f.root);let d=!1;if(f.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return f.ctx&&r(f.ctx[h],f.ctx[h]=m)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](m),d&&yl(n,h)),_}):[],f.update(),d=!0,se(f.before_update),f.fragment=o?o(f.ctx):!1,t.target){if(t.hydrate){const h=hl(t.target);f.fragment&&f.fragment.l(h),h.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&Z(n.$$.fragment),ae(n,t.target,t.anchor,t.customElement),Rn()}Ze(a)}class Ce{$destroy(){ce(this,1),this.$destroy=ne}$on(t,e){if(!Wt(e))return ne;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const r=o.indexOf(e);r!==-1&&o.splice(r,1)}}$set(t){this.$$set&&!fl(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var mn=function(n,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])},mn(n,t)};function Me(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}mn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gn=function(){return gn=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gn.apply(this,arguments)};function Oe(n,t,e,o){return new(e||(e=Promise))(function(r,i){function l(f){try{a(o.next(f))}catch(d){i(d)}}function s(f){try{a(o.throw(f))}catch(d){i(d)}}function a(f){f.done?r(f.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(f.value).then(l,s)}a((o=o.apply(n,t||[])).next())})}function Le(n,t){var e,o,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(a){return function(f){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(l=0)),l;)try{if(e=1,o&&(r=2&h[0]?o.return:h[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,h[1])).done)return r;switch(o=0,r&&(h=[2&h[0],r.value]),h[0]){case 0:case 1:r=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,o=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!r||h[1]>r[0]&&h[1]<r[3])){l.label=h[1];break}if(h[0]===6&&l.label<r[1]){l.label=r[1],r=h;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(h);break}r[2]&&l.ops.pop(),l.trys.pop();continue}h=t.call(n,l)}catch(_){h=[6,_],o=0}finally{e=r=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,f])}}}var Rr,$e=function(n){function t(e){var o,r,i,l,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(o=s.response)===null||o===void 0?void 0:o.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((l=(i=(r=s.originalError)===null||r===void 0?void 0:r.cause)===null||i===void 0?void 0:i.message)===null||l===void 0)&&l.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Me(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return gn({},this)},t}(Error),Rt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function $n(n,t,e){var o=Object.assign({},e||{}),r=o.encode||Cl;if(!Rt.test(n))throw new TypeError("argument name is invalid");var i=r(t);if(i&&!Rt.test(i))throw new TypeError("argument val is invalid");var l=n+"="+i;if(o.maxAge!=null){var s=o.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(s)}if(o.domain){if(!Rt.test(o.domain))throw new TypeError("option domain is invalid");l+="; Domain="+o.domain}if(o.path){if(!Rt.test(o.path))throw new TypeError("option path is invalid");l+="; Path="+o.path}if(o.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(o.expires)||isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function wl(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Cl(n){return encodeURIComponent(n)}function jr(n){if(n)try{var t=decodeURIComponent(Rr(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Sl(n,t){t===void 0&&(t=0);var e=jr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Rr=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,r=0,i=0,l="";o=t.charAt(i++);~o&&(e=r%4?64*e+o:o,r++%4)?l+=String.fromCharCode(255&e>>(-2*r&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return l};var Tt=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,o=Object.entries(t);e<o.length;e++){var r=o[e],i=r[0],l=r[1];this[i]=l}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Ht=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var o in e=e||{},this.expand={},e)Array.isArray(e[o])?this.expand[o]=e[o].map(function(r){return new t(r||{})}):this.expand[o]=new t(e[o]||{})},t}(Tt),jn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Tt),xn="pb_auth",Al=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Sl(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Ht(e):new jn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=xn);var o=function(l,s){var a={};if(typeof l!="string")return a;for(var f=Object.assign({},s||{}).decode||wl,d=0;d<l.length;){var h=l.indexOf("=",d);if(h===-1)break;var _=l.indexOf(";",d);if(_===-1)_=l.length;else if(_<h){d=l.lastIndexOf(";",h-1)+1;continue}var g=l.slice(d,h).trim();if(a[g]===void 0){var m=l.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=f(m)}catch{a[g]=m}}d=_+1}return a}(t||"")[e]||"",r={};try{(typeof(r=JSON.parse(o))===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.model||null)},n.prototype.exportToCookie=function(t,e){var o,r,i;e===void 0&&(e=xn);var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=jr(this.token);s!=null&&s.exp?l.expires=new Date(1e3*s.exp):l.expires=new Date("1970-01-01"),t=Object.assign({},l,t);var a={token:this.token,model:((o=this.model)===null||o===void 0?void 0:o.export())||null},f=$n(e,JSON.stringify(a),t),d=typeof Blob<"u"?new Blob([f]).size:f.length;return a.model&&d>4096&&(a.model={id:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.id,email:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.email},this.model instanceof Ht&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),f=$n(e,JSON.stringify(a),t)),f},n.prototype.onChange=function(t,e){var o=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var r=o._onChangeCallbacks.length-1;r>=0;r--)if(o._onChangeCallbacks[r]==t)return delete o._onChangeCallbacks[r],void o._onChangeCallbacks.splice(r,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var o=e[t];o&&o(this.token,this.model)}},n}(),Tl=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var o=n.call(this)||this;return o.storageFallback={},o.storageKey=e,o}return Me(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,o=this._storageGet(this.storageKey)||{};return o===null||typeof o!="object"||o.model===null||typeof o.model!="object"?null:((e=o.model)===null||e===void 0?void 0:e.collectionId)===void 0?new jn(o.model):new Ht(o.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,o){this._storageSet(this.storageKey,{token:e,model:o}),n.prototype.save.call(this,e,o)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=window.localStorage.getItem(e)||"";try{return JSON.parse(o)}catch{return o}}return this.storageFallback[e]},t.prototype._storageSet=function(e,o){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=o;typeof o!="string"&&(r=JSON.stringify(o)),window.localStorage.setItem(e,r)}else this.storageFallback[e]=o},t.prototype._storageRemove=function(e){var o;typeof window<"u"&&(window!=null&&window.localStorage)&&((o=window.localStorage)===null||o===void 0||o.removeItem(e)),delete this.storageFallback[e]},t}(Al),at=function(t){this.client=t},Il=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(o){return o||{}})},t.prototype.update=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send("/api/settings",{method:"PATCH",params:o,body:e}).then(function(r){return r||{}})},t.prototype.testS3=function(e,o){e===void 0&&(e="storage"),o===void 0&&(o={});var r={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.testEmail=function(e,o,r){r===void 0&&(r={});var i={email:e,template:o};return this.client.send("/api/settings/test/email",{method:"POST",params:r,body:i}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,o,r,i,l,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:o,keyId:r,privateKey:i,duration:l},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(at),Nr=function(t,e,o,r,i){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=o>=0?o:0,this.totalPages=r>=0?r:0,this.items=i||[]},Nn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getFullList=function(e,o){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,o);var r=Object.assign({},e,o);return this._getFullList(this.baseCrudPath,r.batch||200,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),this._getList(this.baseCrudPath,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),this._getFirstListItem(this.baseCrudPath,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),this._getOne(this.baseCrudPath,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this._create(this.baseCrudPath,e,o)},t.prototype.update=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),this._update(this.baseCrudPath,e,o,r)},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this._delete(this.baseCrudPath,e,o)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype._getFullList=function(e,o,r){var i=this;o===void 0&&(o=200),r===void 0&&(r={});var l=[],s=function(a){return Oe(i,void 0,void 0,function(){return Le(this,function(f){return[2,this._getList(e,a,o||200,r).then(function(d){var h=d,_=h.items,g=h.totalItems;return l=l.concat(_),_.length&&g>l.length?s(a+1):l})]})})};return s(1)},t.prototype._getList=function(e,o,r,i){var l=this;return o===void 0&&(o=1),r===void 0&&(r=30),i===void 0&&(i={}),i=Object.assign({page:o,perPage:r},i),this.client.send(e,{method:"GET",params:i}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var f=0,d=s.items;f<d.length;f++){var h=d[f];a.push(l.decode(h))}}return new Nr((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,o,r){var i=this;return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"GET",params:r}).then(function(l){return i.decode(l)})},t.prototype._getFirstListItem=function(e,o,r){return r===void 0&&(r={}),r=Object.assign({filter:o,$cancelKey:"one_by_filter_"+e+"_"+o},r),this._getList(e,1,1,r).then(function(i){var l;if(!(!((l=i==null?void 0:i.items)===null||l===void 0)&&l.length))throw new $e({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})},t.prototype._create=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e,{method:"POST",params:r,body:o}).then(function(l){return i.decode(l)})},t.prototype._update=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"PATCH",params:i,body:r}).then(function(s){return l.decode(s)})},t.prototype._delete=function(e,o,r){return r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t}(at)),Pl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.decode=function(e){return new jn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a;return i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===(l==null?void 0:l.id)&&i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s;return i&&r.client.authStore.model&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:o})},t.prototype.authWithPassword=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t}(Nn),Ol=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Tt),Ll=function(n){function t(e,o){var r=n.call(this,e)||this;return r.collectionIdOrName=o,r}return Me(t,n),t.prototype.decode=function(e){return new Ht(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,o){return Oe(this,void 0,void 0,function(){return Le(this,function(r){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,o)]})})},t.prototype.subscribe=function(e,o){return Oe(this,void 0,void 0,function(){var r;return Le(this,function(i){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!o)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return r=this.collectionIdOrName,e!=="*"&&(r+="/"+e),[2,this.client.realtime.subscribe(r,o)]})})},t.prototype.unsubscribe=function(e){return Oe(this,void 0,void 0,function(){return Le(this,function(o){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,o){if(typeof e=="number")return n.prototype.getFullList.call(this,e,o);var r=Object.assign({},e,o);return n.prototype.getFullList.call(this,r)},t.prototype.getList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),n.prototype.getList.call(this,e,o,r)},t.prototype.getFirstListItem=function(e,o){return o===void 0&&(o={}),n.prototype.getFirstListItem.call(this,e,o)},t.prototype.getOne=function(e,o){return o===void 0&&(o={}),n.prototype.getOne.call(this,e,o)},t.prototype.create=function(e,o){return e===void 0&&(e={}),o===void 0&&(o={}),n.prototype.create.call(this,e,o)},t.prototype.update=function(e,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),n.prototype.update.call(this,e,o,r).then(function(l){var s,a,f;return((s=i.client.authStore.model)===null||s===void 0?void 0:s.id)!==(l==null?void 0:l.id)||((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==i.collectionIdOrName&&((f=i.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==i.collectionIdOrName||i.client.authStore.save(i.client.authStore.token,l),l})},t.prototype.delete=function(e,o){var r=this;return o===void 0&&(o={}),n.prototype.delete.call(this,e,o).then(function(i){var l,s,a;return!i||((l=r.client.authStore.model)===null||l===void 0?void 0:l.id)!==e||((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==r.collectionIdOrName&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==r.collectionIdOrName||r.client.authStore.clear(),i})},t.prototype.authResponse=function(e){var o=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,o),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:o})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(o){return Object.assign({},o,{usernamePassword:!!(o!=null&&o.usernamePassword),emailPassword:!!(o!=null&&o.emailPassword),authProviders:Array.isArray(o==null?void 0:o.authProviders)?o==null?void 0:o.authProviders:[]})})},t.prototype.authWithPassword=function(e,o,r,i){var l=this;return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({identity:e,password:o},r),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:i,body:r}).then(function(s){return l.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,o,r,i,l,s,a){var f=this;return l===void 0&&(l={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:o,codeVerifier:r,redirectUrl:i,createData:l},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(d){return f.authResponse(d)})},t.prototype.authWithOAuth2=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return Oe(this,void 0,void 0,function(){var r,i,l,s,a=this;return Le(this,function(f){switch(f.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(r=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(i=f.sent(),!(l=i.authProviders.find(function(d){return d.name===r.provider})))throw new $e(new Error('Missing or invalid provider "'.concat(r.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(d,h){return Oe(a,void 0,void 0,function(){var _,g,m,k,v=this;return Le(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(y){return Oe(v,void 0,void 0,function(){var A,I,P;return Le(this,function(w){switch(w.label){case 0:A=this.client.realtime.clientId,w.label=1;case 1:if(w.trys.push([1,3,,4]),_(),!y.state||A!==y.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(l.name,y.code,l.codeVerifier,s,r.createData,r.body,r.query)];case 2:return I=w.sent(),d(I),[3,4];case 3:return P=w.sent(),h(new $e(P)),[3,4];case 4:return[2]}})})})];case 1:return _=b.sent(),(g=new URL(l.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((k=r.scopes)===null||k===void 0)&&k.length&&g.searchParams.set("scope",r.scopes.join(" ")),[4,r.urlCallback?r.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),h(new $e(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,o){var r=this;return e===void 0&&(e={}),o===void 0&&(o={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:o,body:e}).then(function(i){return r.authResponse(i)})},t.prototype.requestPasswordReset=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,o,r,i,l){return i===void 0&&(i={}),l===void 0&&(l={}),i=Object.assign({token:e,password:o,passwordConfirm:r},i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:l,body:i}).then(function(){return!0})},t.prototype.requestVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({email:e},o),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmVerification=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e},o),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({newEmail:e},o),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:o},r),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:i,body:r}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:o}).then(function(r){var i=[];if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];i.push(new Ol(a))}return i})},t.prototype.unlinkExternalAuth=function(e,o,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(o),{method:"DELETE",params:r}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new $e(new Error("Not in a browser context - please pass a custom urlCallback function."));var o=1024,r=768,i=window.innerWidth,l=window.innerHeight,s=i/2-(o=o>i?i:o)/2,a=l/2-(r=r>l?l:r)/2;window.open(e,"oauth2-popup","width="+o+",height="+r+",top="+a+",left="+s+",resizable,menubar=no")},t}(Nn),El=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ml=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var o=0,r=e.schema;o<r.length;o++){var i=r[o];this.schema.push(new El(i))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Tt),Rl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.decode=function(e){return new Ml(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,o,r){return o===void 0&&(o=!1),r===void 0&&(r={}),Oe(this,void 0,void 0,function(){return Le(this,function(i){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:r,body:{collections:e,deleteMissing:o}}).then(function(){return!0})]})})},t}(Nn),eo=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Tt),jl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getRequestsList=function(e,o,r){return e===void 0&&(e=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:e,perPage:o},r),this.client.send("/api/logs/requests",{method:"GET",params:r}).then(function(i){var l=[];if(i!=null&&i.items){i.items=(i==null?void 0:i.items)||[];for(var s=0,a=i.items;s<a.length;s++){var f=a[s];l.push(new eo(f))}}return new Nr((i==null?void 0:i.page)||1,(i==null?void 0:i.perPage)||0,(i==null?void 0:i.totalItems)||0,(i==null?void 0:i.totalPages)||0,l)})},t.prototype.getRequest=function(e,o){return o===void 0&&(o={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:o}).then(function(r){return new eo(r)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(o){return o})},t}(at),Nl=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Me(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,o){var r;return Oe(this,void 0,void 0,function(){var i,l=this;return Le(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return i=function(a){var f,d=a;try{f=JSON.parse(d==null?void 0:d.data)}catch{}o(f||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(i),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(r=this.eventSource)===null||r===void 0||r.addEventListener(e,i),s.label=5;case 5:return[2,function(){return Oe(l,void 0,void 0,function(){return Le(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,i)]})})}]}})})},t.prototype.unsubscribe=function(e){var o;return Oe(this,void 0,void 0,function(){var r,i,l;return Le(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(r=0,i=this.subscriptions[e];r<i.length;r++)l=i[r],(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,l);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var o;return Oe(this,void 0,void 0,function(){var r,i,l,s,a;return Le(this,function(f){switch(f.label){case 0:for(i in r=!1,this.subscriptions)if(i.startsWith(e)){for(r=!0,l=0,s=this.subscriptions[i];l<s.length;l++)a=s[l],(o=this.eventSource)===null||o===void 0||o.removeEventListener(i,a);delete this.subscriptions[i]}return r?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,o){var r;return Oe(this,void 0,void 0,function(){var i,l;return Le(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(i=!1,l=this.subscriptions[e].length-1;l>=0;l--)this.subscriptions[e][l]===o&&(i=!0,delete this.subscriptions[e][l],this.subscriptions[e].splice(l,1),(r=this.eventSource)===null||r===void 0||r.removeEventListener(e,o));return i?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var o,r;if(this.subscriptions=this.subscriptions||{},e)return!!(!((o=this.subscriptions[e])===null||o===void 0)&&o.length);for(var i in this.subscriptions)if(!((r=this.subscriptions[i])===null||r===void 0)&&r.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return Oe(this,void 0,void 0,function(){return Le(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(o){if(!(o!=null&&o.isAbort))throw o})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var o in this.subscriptions)this.subscriptions[o].length&&e.push(o);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.addEventListener(e,i)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var o=0,r=this.subscriptions[e];o<r.length;o++){var i=r[o];this.eventSource.removeEventListener(e,i)}},t.prototype.connect=function(){return Oe(this,void 0,void 0,function(){var e=this;return Le(this,function(o){return this.reconnectAttempts>0?[2]:[2,new Promise(function(r,i){e.pendingConnects.push({resolve:r,reject:i}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(o){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(o){var r=o;e.clientId=r==null?void 0:r.lastEventId,e.submitSubscriptions().then(function(){return Oe(e,void 0,void 0,function(){var i;return Le(this,function(l){switch(l.label){case 0:i=3,l.label=1;case 1:return this.hasUnsentSubscriptions()&&i>0?(i--,[4,this.submitSubscriptions()]):[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var i=0,l=e.pendingConnects;i<l.length;i++)l[i].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(i){e.clientId="",e.connectErrorHandler(i)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var o=0,r=e;o<r.length;o++){var i=r[o];if(!this.lastSentTopics.includes(i))return!0}return!1},t.prototype.connectErrorHandler=function(e){var o=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var r=0,i=this.pendingConnects;r<i.length;r++)i[r].reject(new $e(e));this.disconnect()}else{this.disconnect(!0);var l=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){o.initConnect()},l)}},t.prototype.disconnect=function(e){var o;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(o=this.eventSource)===null||o===void 0||o.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var r=new $e(new Error("Realtime disconnected.")),i=0,l=this.pendingConnects;i<l.length;i++)l[i].reject(r);this.pendingConnects=[]}},t}(at),Dl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(at),ql=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getUrl=function(e,o,r){r===void 0&&(r={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(o));var l=this.client.buildUrl(i.join("/"));if(Object.keys(r).length){var s=new URLSearchParams(r);l+=(l.includes("?")?"&":"?")+s}return l},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(o){return(o==null?void 0:o.token)||""})},t}(at),Bl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Me(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,o){o===void 0&&(o={});var r={name:e};return this.client.send("/api/backups",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.delete=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype.restore=function(e,o){return o===void 0&&(o={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:o}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,o){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(o),"?token=").concat(encodeURIComponent(e)))},t}(at),Fl=function(){function n(t,e,o){t===void 0&&(t="/"),o===void 0&&(o="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=o,this.authStore=e||new Tl,this.admins=new Pl(this),this.collections=new Rl(this),this.files=new ql(this),this.logs=new jl(this),this.settings=new Il(this),this.realtime=new Nl(this),this.health=new Dl(this),this.backups=new Bl(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Ll(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var o,r,i,l,s,a,f,d;return Oe(this,void 0,void 0,function(){var h,_,g,m,k,v,b,y,A,I=this;return Le(this,function(P){switch(P.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((i=this.authStore)===null||i===void 0)&&i.token&&((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(f=h.params)===null||f===void 0||delete f.$autoCancel,(d=h.params)===null||d===void 0||delete d.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((k=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+k),delete h.params),this.beforeSend?(y=(b=Object).assign,A=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(v=y.apply(b,A.concat([P.sent()]))).url!==void 0||v.options!==void 0?(m=v.url||m,h=v.options||h):Object.keys(v).length&&(h=v,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),P.label=2;case 2:return[2,fetch(m,h).then(function(w){return Oe(I,void 0,void 0,function(){var C;return Le(this,function(O){switch(O.label){case 0:C={},O.label=1;case 1:return O.trys.push([1,3,,4]),[4,w.json()];case 2:return C=O.sent(),[3,4];case 3:return O.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(w,C)]:[3,6];case 5:C=O.sent(),O.label=6;case 6:if(w.status>=400)throw new $e({url:w.url,status:w.status,data:C});return[2,C]}})})}).catch(function(w){throw new $e(w)})]}})})},n.prototype.getFileUrl=function(t,e,o){return o===void 0&&(o={}),this.files.getUrl(t,e,o)},n.prototype.buildUrl=function(t){var e,o=this.baseUrl;return typeof window>"u"||!window.location||o.startsWith("https://")||o.startsWith("http://")||(o=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(o+=window.location.pathname||"/",o+=o.endsWith("/")?"":"/"),o+=this.baseUrl),t&&(o+=o.endsWith("/")?"":"/",o+=t.startsWith("/")?t.substring(1):t),o},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var o in t)if(t[o]!==null){var r=t[o],i=encodeURIComponent(o);if(Array.isArray(r))for(var l=0,s=r;l<s.length;l++){var a=s[l];e.push(i+"="+encodeURIComponent(a))}else r instanceof Date?e.push(i+"="+encodeURIComponent(r.toISOString())):typeof r!==null&&typeof r=="object"?e.push(i+"="+encodeURIComponent(JSON.stringify(r))):e.push(i+"="+encodeURIComponent(r))}return e.join("&")},n}();const ft=[];function Ul(n,t){return{subscribe:ze(n,t).subscribe}}function ze(n,t=ne){let e;const o=new Set;function r(s){if(be(n,s)&&(n=s,e)){const a=!ft.length;for(const f of o)f[1](),ft.push(f,n);if(a){for(let f=0;f<ft.length;f+=2)ft[f][0](ft[f+1]);ft.length=0}}}function i(s){r(s(n))}function l(s,a=ne){const f=[s,a];return o.add(f),o.size===1&&(e=t(r)||ne),s(n),()=>{o.delete(f),o.size===0&&e&&(e(),e=null)}}return{set:r,update:i,subscribe:l}}function Dr(n,t,e){const o=!Array.isArray(n),r=o?[n]:n,i=t.length<2;return Ul(e,l=>{let s=!1;const a=[];let f=0,d=ne;const h=()=>{if(f)return;d();const g=t(o?a[0]:a,l);i?l(g):d=Wt(g)?g:ne},_=r.map((g,m)=>Ln(g,k=>{a[m]=k,f&=~(1<<m),s&&h()},()=>{f|=1<<m}));return s=!0,h(),function(){se(_),d(),s=!1}})}const Zt="https://pb.readinglog.fun:4444",de=new Fl(Zt),Ke=ze(de.authStore.model);de.authStore.onChange(n=>{console.log("authStore changed",n),Ke.set(de.authStore.model)});const vn=ze("10"),ue="bottom-center",to={},bn={},Hl={},qr=/^:(.+)/,no=4,zl=3,Jl=2,Gl=1,Vl=1,kn=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),ln=n=>n.replace(/(^\/+|\/+$)/g,""),Wl=(n,t)=>{const e=n.default?0:kn(n.path).reduce((o,r)=>(o+=no,r===""?o+=Vl:qr.test(r)?o+=Jl:r[0]==="*"?o-=no+Gl:o+=zl,o),0);return{route:n,score:e,index:t}},Ql=n=>n.map(Wl).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),oo=(n,t)=>{let e,o;const[r]=t.split("?"),i=kn(r),l=i[0]==="",s=Ql(n);for(let a=0,f=s.length;a<f;a++){const d=s[a].route;let h=!1;if(d.default){o={route:d,params:{},uri:t};continue}const _=kn(d.path),g={},m=Math.max(i.length,_.length);let k=0;for(;k<m;k++){const v=_[k],b=i[k];if(v&&v[0]==="*"){const A=v==="*"?"*":v.slice(1);g[A]=i.slice(k).map(decodeURIComponent).join("/");break}if(typeof b>"u"){h=!0;break}const y=qr.exec(v);if(y&&!l){const A=decodeURIComponent(b);g[y[1]]=A}else if(v!==b){h=!0;break}}if(!h){e={route:d,params:g,uri:"/"+i.slice(0,k).join("/")};break}}return e||o||null},ro=(n,t)=>`${ln(t==="/"?n:`${ln(n)}/${ln(t)}`)}/`,Br=typeof window<"u"&&"document"in window,sn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),Kl=n=>{const t=[];let e=sn(n);return{get location(){return e},listen(o){t.push(o);const r=()=>{e=sn(n),o({location:e,action:"POP"})};return n.addEventListener("popstate",r),()=>{n.removeEventListener("popstate",r);const i=t.indexOf(o);t.splice(i,1)}},navigate(o,{state:r,replace:i=!1}={}){r={...r,key:Date.now()+""};try{i?n.history.replaceState(r,"",o):n.history.pushState(r,"",o)}catch{n.location[i?"replace":"assign"](o)}e=sn(n),t.forEach(l=>l({location:e,action:"PUSH"})),document.activeElement.blur()}}},Yl=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],o=[];return{get location(){return e[t]},addEventListener(r,i){},removeEventListener(r,i){},history:{get entries(){return e},get index(){return t},get state(){return o[t]},pushState(r,i,l){const[s,a=""]=l.split("?");t++,e.push({pathname:s,search:a}),o.push(r)},replaceState(r,i,l){const[s,a=""]=l.split("?");e[t]={pathname:s,search:a},o[t]=r}}}},Fr=Kl(Br?window:Yl()),{navigate:Dn}=Fr,Xl=n=>({route:n&2,location:n&1}),io=n=>({route:n[1]&&n[1].uri,location:n[0]});function Zl(n){let t;const e=n[12].default,o=Qt(e,n,n[11],io);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,[i]){o&&o.p&&(!t||i&2051)&&Yt(o,e,r,r[11],t?Kt(e,r[11],i,Xl):Xt(r[11]),io)},i(r){t||(Z(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function $l(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{basepath:f="/"}=t,{url:d=null}=t,{history:h=Fr}=t;on(Hl,h);const _=pn(to),g=pn(bn),m=ze([]);Ee(n,m,w=>e(9,r=w));const k=ze(null);Ee(n,k,w=>e(1,l=w));let v=!1;const b=_||ze(d?{pathname:d}:h.location);Ee(n,b,w=>e(0,o=w));const y=g?g.routerBase:ze({path:f,uri:f});Ee(n,y,w=>e(10,i=w));const A=Dr([y,k],([w,C])=>{if(!C)return w;const{path:O}=w,{route:M,uri:E}=C;return{path:M.default?O:M.path.replace(/\*.*$/,""),uri:E}}),I=w=>{const{path:C}=i;let{path:O}=w;if(w._path=O,w.path=ro(C,O),typeof window>"u"){if(v)return;const M=oo([w],o.pathname);M&&(k.set(M),v=!0)}else m.update(M=>[...M,w])},P=w=>{m.update(C=>C.filter(O=>O!==w))};return _||(st(()=>h.listen(C=>{b.set(C.location)})),on(to,b)),on(bn,{activeRoute:k,base:y,routerBase:A,registerRoute:I,unregisterRoute:P}),n.$$set=w=>{"basepath"in w&&e(6,f=w.basepath),"url"in w&&e(7,d=w.url),"history"in w&&e(8,h=w.history),"$$scope"in w&&e(11,a=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:w}=i;m.update(C=>C.map(O=>({...O,path:ro(w,O._path)})))}if(n.$$.dirty&513){const w=oo(r,o.pathname);k.set(w)}},[o,l,m,k,b,y,f,d,h,r,i,a,s]}class qn extends Ce{constructor(t){super(),we(this,t,$l,Zl,be,{basepath:6,url:7,history:8})}}const xl=n=>({params:n&4}),lo=n=>({params:n[2]});function so(n){let t,e,o,r;const i=[ts,es],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),q(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(Re(),ee(l[d],1,1,()=>{l[d]=null}),je(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),Z(e,1),e.m(o.parentNode,o))},i(a){r||(Z(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}function es(n){let t;const e=n[8].default,o=Qt(e,n,n[7],lo);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,i){o&&o.p&&(!t||i&132)&&Yt(o,e,r,r[7],t?Kt(e,r[7],i,xl):Xt(r[7]),lo)},i(r){t||(Z(o,r),t=!0)},o(r){ee(o,r),t=!1},d(r){o&&o.d(r)}}}function ts(n){let t,e,o,r={ctx:n,current:null,token:null,hasCatch:!1,pending:rs,then:os,catch:ns,value:12,blocks:[,,,]};return Zn(e=n[0],r),{c(){t=ve(),r.block.c()},m(i,l){q(i,t,l),r.block.m(i,r.anchor=l),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(i,l){n=i,r.ctx=n,l&1&&e!==(e=n[0])&&Zn(e,r)||bl(r,n,l)},i(i){o||(Z(r.block),o=!0)},o(i){for(let l=0;l<3;l+=1){const s=r.blocks[l];ee(s)}o=!1},d(i){i&&N(t),r.block.d(i),r.token=null,r=null}}}function ns(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function os(n){var s;let t,e,o;const r=[n[2],n[3]];var i=((s=n[12])==null?void 0:s.default)||n[12];function l(a){let f={};for(let d=0;d<r.length;d+=1)f=tt(f,r[d]);return{props:f}}return i&&(t=nt(i,l())),{c(){t&&fe(t.$$.fragment),e=ve()},m(a,f){t&&ae(t,a,f),q(a,e,f),o=!0},p(a,f){var h;const d=f&12?At(r,[f&4&&yt(a[2]),f&8&&yt(a[3])]):{};if(f&1&&i!==(i=((h=a[12])==null?void 0:h.default)||a[12])){if(t){Re();const _=t;ee(_.$$.fragment,1,0,()=>{ce(_,1)}),je()}i?(t=nt(i,l()),fe(t.$$.fragment),Z(t.$$.fragment,1),ae(t,e.parentNode,e)):t=null}else i&&t.$set(d)},i(a){o||(t&&Z(t.$$.fragment,a),o=!0)},o(a){t&&ee(t.$$.fragment,a),o=!1},d(a){a&&N(e),t&&ce(t,a)}}}function rs(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function is(n){let t,e,o=n[1]&&n[1].route===n[5]&&so(n);return{c(){o&&o.c(),t=ve()},m(r,i){o&&o.m(r,i),q(r,t,i),e=!0},p(r,[i]){r[1]&&r[1].route===r[5]?o?(o.p(r,i),i&2&&Z(o,1)):(o=so(r),o.c(),Z(o,1),o.m(t.parentNode,t)):o&&(Re(),ee(o,1,1,()=>{o=null}),je())},i(r){e||(Z(o),e=!0)},o(r){ee(o),e=!1},d(r){o&&o.d(r),r&&N(t)}}}function ls(n,t,e){let o,{$$slots:r={},$$scope:i}=t,{path:l=""}=t,{component:s=null}=t,a={},f={};const{registerRoute:d,unregisterRoute:h,activeRoute:_}=pn(bn);Ee(n,_,m=>e(1,o=m));const g={path:l,default:l===""};return d(g),Mn(()=>{h(g)}),n.$$set=m=>{e(11,t=tt(tt({},t),Kn(m))),"path"in m&&e(6,l=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,i=m.$$scope)},n.$$.update=()=>{{o&&o.route===g&&e(2,a=o.params);const{component:m,path:k,...v}=t;e(3,f=v),Br&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=Kn(t),[s,o,a,f,_,g,l,i,r]}class _t extends Ce{constructor(t){super(),we(this,t,ls,is,be,{path:6,component:0})}}function ss(n){let t,e,o;return{c(){t=p("button"),t.textContent="Sign Up"},m(r,i){q(r,t,i),e||(o=T(t,"click",n[0]),e=!0)},p:ne,i:ne,o:ne,d(r){r&&N(t),e=!1,o()}}}function as(n){function t(){Dn("/signup")}return[t]}class cs extends Ce{constructor(t){super(),we(this,t,as,ss,be,{})}}function us(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P;return m=new cs({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),fe(m.$$.fragment),k=S(),v=p("br"),b=S(),y=p("a"),y.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(d,"placeholder","Password"),u(d,"type","password"),u(_,"class","svelte-unkkz3"),u(y,"href","/reset"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,C){q(w,t,C),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),Y(a,n[0]),c(s,f),c(s,d),Y(d,n[1]),c(s,h),c(s,_),c(r,g),ae(m,r,null),c(r,k),c(r,v),c(r,b),c(r,y),A=!0,I||(P=[T(a,"input",n[4]),T(d,"input",n[5]),T(_,"click",n[2]),T(s,"submit",Be(n[3]))],I=!0)},p(w,[C]){C&1&&a.value!==w[0]&&Y(a,w[0]),C&2&&d.value!==w[1]&&Y(d,w[1])},i(w){A||(Z(m.$$.fragment,w),A=!0)},o(w){ee(m.$$.fragment,w),A=!1},d(w){w&&N(t),ce(m),I=!1,se(P)}}}function fs(n,t,e){let o,r;async function i(){try{const f=await de.collection("users").authWithPassword(o,r);console.log(f)}catch(f){alert(f)}}function l(f){qe.call(this,n,f)}function s(){o=this.value,e(0,o)}function a(){r=this.value,e(1,r)}return[o,r,i,l,s,a]}class Bn extends Ce{constructor(t){super(),we(this,t,fs,us,be,{})}}function ds(n,t,e,o){var r,i,l=!1,s=e.length>=2,a=(m,k,v)=>{if(r=k,s&&(i=m),!l){let b=t(m,k,v);if(t.length<2)k(b);else return b}l=!1},f=Dr(n,a,o),d=!Array.isArray(n);function h(m){var k=e(m,i);d?(l=!0,n.set(k)):k.forEach((v,b)=>{l=!0,n[b].set(v)}),l=!1}var _=!1;function g(m){var k,v,b,y;if(_){y=m(dn(f)),r(y);return}var A=f.subscribe(I=>{_?k?v=!0:k=!0:b=I});y=m(b),_=!0,r(y),A(),_=!1,v&&(y=dn(f)),k&&h(y)}return{subscribe:f.subscribe,set(m){g(()=>m)},update:g}}const ps=20,ct=ze([]),Fn=ze(null),qt=new Map,ao=n=>{if(qt.has(n))return;const t=setTimeout(()=>{qt.delete(n),Hr(n)},1e3);qt.set(n,t)},hs=n=>{const t=qt.get(n);t&&clearTimeout(t)};function Ur(n){n.id&&hs(n.id),ct.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function _s(n){ct.update(t=>[n,...t].slice(0,ps))}function ms(n){dn(ct).find(t=>t.id===n.id)?Ur(n):_s(n)}function gs(n){ct.update(t=>(n?ao(n):t.forEach(e=>{ao(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Hr(n){ct.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function vs(n){Fn.set(n)}function bs(n){let t;Fn.update(e=>(t=n-(e||0),null)),ct.update(e=>e.map(o=>({...o,pauseDuration:o.pauseDuration+t})))}const ks={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ys(n={}){return{toasts:ds(ct,e=>e.map(o=>{var r,i;return{...n,...n[o.type],...o,duration:o.duration||((r=n[o.type])==null?void 0:r.duration)||(n==null?void 0:n.duration)||ks[o.type],style:[n.style,(i=n[o.type])==null?void 0:i.style,o.style].join(";")}}),e=>e),pausedAt:Fn}}const ws=n=>typeof n=="function",co=(n,t)=>ws(n)?n(t):n,Cs=(()=>{let n=0;return()=>(n+=1,n.toString())})(),zr=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ss=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Cs()}),It=n=>(t,e)=>{const o=Ss(t,n,e);return ms(o),o.id},re=(n,t)=>It("blank")(n,t);re.error=It("error");re.success=It("success");re.loading=It("loading");re.custom=It("custom");re.dismiss=n=>{gs(n)};re.remove=n=>Hr(n);re.promise=(n,t,e)=>{const o=re.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(r=>(re.success(co(t.success,r),{id:o,...e,...e==null?void 0:e.success}),r)).catch(r=>{re.error(co(t.error,r),{id:o,...e,...e==null?void 0:e.error})}),n};function As(n,t,e){const{reverseOrder:o,gutter:r=8,defaultPosition:i}=e||{},l=t.filter(d=>(d.position||i)===(n.position||i)&&d.height),s=l.findIndex(d=>d.id===n.id),a=l.filter((d,h)=>h<s&&d.visible).length;return l.filter(d=>d.visible).slice(...o?[a+1]:[0,a]).reduce((d,h)=>d+(h.height||0)+r,0)}const Ts={startPause(){vs(Date.now())},endPause(){bs(Date.now())},updateHeight:(n,t)=>{Ur({id:n,height:t})},calculateOffset:As};function Is(n){const{toasts:t,pausedAt:e}=ys(n),o=new Map;let r;const i=[e.subscribe(l=>{if(l){for(const[,s]of o)clearTimeout(s);o.clear()}r=l}),t.subscribe(l=>{if(r)return;const s=Date.now();for(const a of l){if(o.has(a.id)||a.duration===1/0)continue;const f=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(f<0)return a.visible&&re.dismiss(a.id),null;o.set(a.id,setTimeout(()=>re.dismiss(a.id),f))}})];return Mn(()=>{for(const l of i)l()}),{toasts:t,handlers:Ts}}function Ps(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){q(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&N(t)}}}function Os(n,t,e){let{primary:o="#61d345"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ls extends Ce{constructor(t){super(),we(this,t,Os,Ps,be,{primary:0,secondary:1})}}function Es(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){q(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&N(t)}}}function Ms(n,t,e){let{primary:o="#ff4b4b"}=t,{secondary:r="#fff"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Rs extends Ce{constructor(t){super(),we(this,t,Ms,Es,be,{primary:0,secondary:1})}}function js(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),me(t,"--primary",n[0]),me(t,"--secondary",n[1])},m(e,o){q(e,t,o)},p(e,[o]){o&1&&me(t,"--primary",e[0]),o&2&&me(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&N(t)}}}function Ns(n,t,e){let{primary:o="#616161"}=t,{secondary:r="#e0e0e0"}=t;return n.$$set=i=>{"primary"in i&&e(0,o=i.primary),"secondary"in i&&e(1,r=i.secondary)},[o,r]}class Ds extends Ce{constructor(t){super(),we(this,t,Ns,js,be,{primary:0,secondary:1})}}function qs(n){let t,e,o,r;const i=[n[0]];let l={};for(let a=0;a<i.length;a+=1)l=tt(l,i[a]);e=new Ds({props:l});let s=n[2]!=="loading"&&uo(n);return{c(){t=p("div"),fe(e.$$.fragment),o=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,f){q(a,t,f),ae(e,t,null),c(t,o),s&&s.m(t,null),r=!0},p(a,f){const d=f&1?At(i,[yt(a[0])]):{};e.$set(d),a[2]!=="loading"?s?(s.p(a,f),f&4&&Z(s,1)):(s=uo(a),s.c(),Z(s,1),s.m(t,null)):s&&(Re(),ee(s,1,1,()=>{s=null}),je())},i(a){r||(Z(e.$$.fragment,a),Z(s),r=!0)},o(a){ee(e.$$.fragment,a),ee(s),r=!1},d(a){a&&N(t),ce(e),s&&s.d()}}}function Bs(n){let t,e,o;var r=n[1];function i(l){return{}}return r&&(t=nt(r,i())),{c(){t&&fe(t.$$.fragment),e=ve()},m(l,s){t&&ae(t,l,s),q(l,e,s),o=!0},p(l,s){if(s&2&&r!==(r=l[1])){if(t){Re();const a=t;ee(a.$$.fragment,1,0,()=>{ce(a,1)}),je()}r?(t=nt(r,i()),fe(t.$$.fragment),Z(t.$$.fragment,1),ae(t,e.parentNode,e)):t=null}},i(l){o||(t&&Z(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ce(t,l)}}}function Fs(n){let t,e;return{c(){t=p("div"),e=B(n[1]),u(t,"class","animated svelte-1kgeier")},m(o,r){q(o,t,r),c(t,e)},p(o,r){r&2&&ie(e,o[1])},i:ne,o:ne,d(o){o&&N(t)}}}function uo(n){let t,e,o,r;const i=[Hs,Us],l=[];function s(a,f){return a[2]==="error"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","status svelte-1kgeier")},m(a,f){q(a,t,f),l[e].m(t,null),r=!0},p(a,f){let d=e;e=s(a),e===d?l[e].p(a,f):(Re(),ee(l[d],1,1,()=>{l[d]=null}),je(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),Z(o,1),o.m(t,null))},i(a){r||(Z(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&N(t),l[e].d()}}}function Us(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=tt(r,o[i]);return t=new Ls({props:r}),{c(){fe(t.$$.fragment)},m(i,l){ae(t,i,l),e=!0},p(i,l){const s=l&1?At(o,[yt(i[0])]):{};t.$set(s)},i(i){e||(Z(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){ce(t,i)}}}function Hs(n){let t,e;const o=[n[0]];let r={};for(let i=0;i<o.length;i+=1)r=tt(r,o[i]);return t=new Rs({props:r}),{c(){fe(t.$$.fragment)},m(i,l){ae(t,i,l),e=!0},p(i,l){const s=l&1?At(o,[yt(i[0])]):{};t.$set(s)},i(i){e||(Z(t.$$.fragment,i),e=!0)},o(i){ee(t.$$.fragment,i),e=!1},d(i){ce(t,i)}}}function zs(n){let t,e,o,r;const i=[Fs,Bs,qs],l=[];function s(a,f){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=l[t]=i[t](n)),{c(){e&&e.c(),o=ve()},m(a,f){~t&&l[t].m(a,f),q(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?~t&&l[t].p(a,f):(e&&(Re(),ee(l[d],1,1,()=>{l[d]=null}),je()),~t?(e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),Z(e,1),e.m(o.parentNode,o)):e=null)},i(a){r||(Z(e),r=!0)},o(a){ee(e),r=!1},d(a){~t&&l[t].d(a),a&&N(o)}}}function Js(n,t,e){let o,r,i,{toast:l}=t;return n.$$set=s=>{"toast"in s&&e(3,l=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:o,icon:r,iconTheme:i}=l,o,(e(1,r),e(3,l)),(e(0,i),e(3,l)))},[i,r,o,l]}class Un extends Ce{constructor(t){super(),we(this,t,Js,zs,be,{toast:3})}}function Gs(n){let t,e,o;var r=n[0].message;function i(l){return{props:{toast:l[0]}}}return r&&(t=nt(r,i(n))),{c(){t&&fe(t.$$.fragment),e=ve()},m(l,s){t&&ae(t,l,s),q(l,e,s),o=!0},p(l,s){const a={};if(s&1&&(a.toast=l[0]),s&1&&r!==(r=l[0].message)){if(t){Re();const f=t;ee(f.$$.fragment,1,0,()=>{ce(f,1)}),je()}r?(t=nt(r,i(l)),fe(t.$$.fragment),Z(t.$$.fragment,1),ae(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&Z(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ce(t,l)}}}function Vs(n){let t=n[0].message+"",e;return{c(){e=B(t)},m(o,r){q(o,e,r)},p(o,r){r&1&&t!==(t=o[0].message+"")&&ie(e,t)},i:ne,o:ne,d(o){o&&N(e)}}}function Ws(n){let t,e,o,r;const i=[Vs,Gs],l=[];function s(d,h){return typeof d[0].message=="string"?0:1}e=s(n),o=l[e]=i[e](n);let a=[{class:"message"},n[0].ariaProps],f={};for(let d=0;d<a.length;d+=1)f=tt(f,a[d]);return{c(){t=p("div"),o.c(),Yn(t,f),vt(t,"svelte-1nauejd",!0)},m(d,h){q(d,t,h),l[e].m(t,null),r=!0},p(d,[h]){let _=e;e=s(d),e===_?l[e].p(d,h):(Re(),ee(l[_],1,1,()=>{l[_]=null}),je(),o=l[e],o?o.p(d,h):(o=l[e]=i[e](d),o.c()),Z(o,1),o.m(t,null)),Yn(t,f=At(a,[{class:"message"},h&1&&d[0].ariaProps])),vt(t,"svelte-1nauejd",!0)},i(d){r||(Z(o),r=!0)},o(d){ee(o),r=!1},d(d){d&&N(t),l[e].d()}}}function Qs(n,t,e){let{toast:o}=t;return n.$$set=r=>{"toast"in r&&e(0,o=r.toast)},[o]}class $t extends Ce{constructor(t){super(),we(this,t,Qs,Ws,be,{toast:0})}}const Ks=n=>({toast:n&1}),fo=n=>({ToastIcon:Un,ToastMessage:$t,toast:n[0]});function Ys(n){let t;const e=n[6].default,o=Qt(e,n,n[7],fo),r=o||Zs(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Yt(o,e,i,i[7],t?Kt(e,i[7],l,Ks):Xt(i[7]),fo):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||(Z(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function Xs(n){let t,e,o;var r=n[2];function i(l){return{props:{$$slots:{message:[xs],icon:[$s]},$$scope:{ctx:l}}}}return r&&(t=nt(r,i(n))),{c(){t&&fe(t.$$.fragment),e=ve()},m(l,s){t&&ae(t,l,s),q(l,e,s),o=!0},p(l,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:l}),s&4&&r!==(r=l[2])){if(t){Re();const f=t;ee(f.$$.fragment,1,0,()=>{ce(f,1)}),je()}r?(t=nt(r,i(l)),fe(t.$$.fragment),Z(t.$$.fragment,1),ae(t,e.parentNode,e)):t=null}else r&&t.$set(a)},i(l){o||(t&&Z(t.$$.fragment,l),o=!0)},o(l){t&&ee(t.$$.fragment,l),o=!1},d(l){l&&N(e),t&&ce(t,l)}}}function Zs(n){let t,e,o,r;return t=new Un({props:{toast:n[0]}}),o=new $t({props:{toast:n[0]}}),{c(){fe(t.$$.fragment),e=S(),fe(o.$$.fragment)},m(i,l){ae(t,i,l),q(i,e,l),ae(o,i,l),r=!0},p(i,l){const s={};l&1&&(s.toast=i[0]),t.$set(s);const a={};l&1&&(a.toast=i[0]),o.$set(a)},i(i){r||(Z(t.$$.fragment,i),Z(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){ce(t,i),i&&N(e),ce(o,i)}}}function $s(n){let t,e;return t=new Un({props:{toast:n[0],slot:"icon"}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function xs(n){let t,e;return t=new $t({props:{toast:n[0],slot:"message"}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function ea(n){let t,e,o,r,i,l;const s=[Xs,Ys],a=[];function f(d,h){return d[2]?0:1}return e=f(n),o=a[e]=s[e](n),{c(){t=p("div"),o.c(),u(t,"class",r="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",i=n[1]+"; "+n[0].style),me(t,"--factor",n[3])},m(d,h){q(d,t,h),a[e].m(t,null),l=!0},p(d,[h]){let _=e;e=f(d),e===_?a[e].p(d,h):(Re(),ee(a[_],1,1,()=>{a[_]=null}),je(),o=a[e],o?o.p(d,h):(o=a[e]=s[e](d),o.c()),Z(o,1),o.m(t,null)),(!l||h&17&&r!==(r="base "+(d[0].height?d[4]:"transparent")+" "+(d[0].className||"")+" svelte-ug60r4"))&&u(t,"class",r),(!l||h&3&&i!==(i=d[1]+"; "+d[0].style))&&u(t,"style",i),(h&3||h&11)&&me(t,"--factor",d[3])},i(d){l||(Z(o),l=!0)},o(d){ee(o),l=!1},d(d){d&&N(t),a[e].d()}}}function ta(n,t,e){let{$$slots:o={},$$scope:r}=t,{toast:i}=t,{position:l=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,f,d;return n.$$set=h=>{"toast"in h&&e(0,i=h.toast),"position"in h&&e(5,l=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,r=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(i.position||l||"top-center").includes("top");e(3,f=h?1:-1);const[_,g]=zr()?["fadeIn","fadeOut"]:["enter","exit"];e(4,d=i.visible?_:g)}},[i,s,a,f,d,l,o,r]}class na extends Ce{constructor(t){super(),we(this,t,ta,ea,be,{toast:0,position:5,style:1,Component:2})}}const oa=n=>({toast:n&1}),po=n=>({toast:n[0]});function ra(n){let t;const e=n[8].default,o=Qt(e,n,n[7],po),r=o||la(n);return{c(){r&&r.c()},m(i,l){r&&r.m(i,l),t=!0},p(i,l){o?o.p&&(!t||l&129)&&Yt(o,e,i,i[7],t?Kt(e,i[7],l,oa):Xt(i[7]),po):r&&r.p&&(!t||l&1)&&r.p(i,t?l:-1)},i(i){t||(Z(r,i),t=!0)},o(i){ee(r,i),t=!1},d(i){r&&r.d(i)}}}function ia(n){let t,e;return t=new $t({props:{toast:n[0]}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function la(n){let t,e;return t=new na({props:{toast:n[0],position:n[0].position}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r&1&&(i.toast=o[0]),r&1&&(i.position=o[0].position),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function sa(n){let t,e,o,r;const i=[ia,ra],l=[];function s(a,f){return a[0].type==="custom"?0:1}return e=s(n),o=l[e]=i[e](n),{c(){t=p("div"),o.c(),u(t,"class","wrapper svelte-v01oml"),vt(t,"active",n[0].visible),vt(t,"transition",!zr()),me(t,"--factor",n[3]),me(t,"--offset",n[0].offset),me(t,"top",n[5]),me(t,"bottom",n[4]),me(t,"justify-content",n[2])},m(a,f){q(a,t,f),l[e].m(t,null),n[9](t),r=!0},p(a,[f]){let d=e;e=s(a),e===d?l[e].p(a,f):(Re(),ee(l[d],1,1,()=>{l[d]=null}),je(),o=l[e],o?o.p(a,f):(o=l[e]=i[e](a),o.c()),Z(o,1),o.m(t,null)),(!r||f&1)&&vt(t,"active",a[0].visible),f&8&&me(t,"--factor",a[3]),f&1&&me(t,"--offset",a[0].offset),f&32&&me(t,"top",a[5]),f&16&&me(t,"bottom",a[4]),f&4&&me(t,"justify-content",a[2])},i(a){r||(Z(o),r=!0)},o(a){ee(o),r=!1},d(a){a&&N(t),l[e].d(),n[9](null)}}}function aa(n,t,e){let o,r,i,l,{$$slots:s={},$$scope:a}=t,{toast:f}=t,{setHeight:d}=t,h;st(()=>{d(h.getBoundingClientRect().height)});function _(g){hn[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,f=g.toast),"setHeight"in g&&e(6,d=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,k,v,b;n.$$.dirty&1&&e(5,o=(g=f.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,r=(m=f.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,i=(k=f.position)!=null&&k.includes("top")?1:-1),n.$$.dirty&1&&e(2,l=((v=f.position)==null?void 0:v.includes("center"))&&"center"||((b=f.position)==null?void 0:b.includes("right"))&&"flex-end"||null)},[f,h,l,i,r,o,d,a,s,_]}class ca extends Ce{constructor(t){super(),we(this,t,aa,sa,be,{toast:0,setHeight:6})}}function ho(n,t,e){const o=n.slice();return o[11]=t[e],o}function _o(n,t){let e,o,r;function i(...l){return t[10](t[11],...l)}return o=new ca({props:{toast:t[11],setHeight:i}}),{key:n,first:null,c(){e=ve(),fe(o.$$.fragment),this.first=e},m(l,s){q(l,e,s),ae(o,l,s),r=!0},p(l,s){t=l;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=i),o.$set(a)},i(l){r||(Z(o.$$.fragment,l),r=!0)},o(l){ee(o.$$.fragment,l),r=!1},d(l){l&&N(e),ce(o,l)}}}function ua(n){let t,e=[],o=new Map,r,i,l,s,a=n[2];const f=d=>d[11].id;for(let d=0;d<a.length;d+=1){let h=ho(n,a,d),_=f(h);o.set(_,e[d]=_o(_,h))}return{c(){t=p("div");for(let d=0;d<e.length;d+=1)e[d].c();u(t,"class",r="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(d,h){q(d,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);i=!0,l||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],l=!0)},p(d,[h]){h&20&&(a=d[2],Re(),e=He(e,h,f,1,d,a,o,t,kl,_o,null,ho),je()),(!i||h&2&&r!==(r="toaster "+(d[1]||"")+" svelte-1phplh9"))&&u(t,"class",r),(!i||h&1)&&u(t,"style",d[0])},i(d){if(!i){for(let h=0;h<a.length;h+=1)Z(e[h]);i=!0}},o(d){for(let h=0;h<e.length;h+=1)ee(e[h]);i=!1},d(d){d&&N(t);for(let h=0;h<e.length;h+=1)e[h].d();l=!1,se(s)}}}function fa(n,t,e){let o,{reverseOrder:r=!1}=t,{position:i="top-center"}=t,{toastOptions:l=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:f=void 0}=t;const{toasts:d,handlers:h}=Is(l);Ee(n,d,m=>e(9,o=m));let _;const g=(m,k)=>h.updateHeight(m.id,k);return n.$$set=m=>{"reverseOrder"in m&&e(5,r=m.reverseOrder),"position"in m&&e(6,i=m.position),"toastOptions"in m&&e(7,l=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,f=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=o.map(m=>({...m,position:m.position||i,offset:h.calculateOffset(m,o,{reverseOrder:r,gutter:s,defaultPosition:i})})))},[a,f,_,d,h,r,i,l,s,o,g]}class Hn extends Ce{constructor(t){super(),we(this,t,fa,ua,be,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function mo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te,X,Q,U,W,z,V,J,x,_e,Ne,$,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe,K;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),l.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,f=S(),d=p("p"),d.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",k=S(),v=p("p"),v.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,b=S(),y=p("p"),y.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,A=S(),I=p("p"),I.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,P=S(),w=p("p"),w.innerHTML="<strong>3. Use of the App</strong>",C=S(),O=p("p"),O.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,M=S(),E=p("p"),E.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,R=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,D=S(),j=p("p"),j.innerHTML="<strong>4. Privacy and Data Security</strong>",F=S(),G=p("p"),G.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,te=S(),X=p("p"),X.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,Q=S(),U=p("p"),U.innerHTML="<strong>5. Limitation of Liability</strong>",W=S(),z=p("p"),z.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,V=S(),J=p("p"),J.innerHTML="<strong>6. Modification of Terms</strong>",x=S(),_e=p("p"),_e.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,Ne=S(),$=p("p"),$.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",Se=S(),pe=p("p"),pe.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,oe=S(),he=p("p"),he.innerHTML="<strong>8. Severability</strong>",ke=S(),Ie=p("p"),Ie.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,We=S(),Ae=p("p"),Ae.innerHTML="<strong>9. Entire Agreement</strong>",le=S(),ye=p("p"),ye.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,Ye=S(),Fe=p("footer"),Te=p("a"),Te.textContent="Close",u(r,"href","#close"),u(r,"class","close"),u(Te,"href","#close"),u(Te,"role","button"),u(Te,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(Pe,et){q(Pe,t,et),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(e,s),c(e,a),c(e,f),c(e,d),c(e,h),c(e,_),c(e,g),c(e,m),c(e,k),c(e,v),c(e,b),c(e,y),c(e,A),c(e,I),c(e,P),c(e,w),c(e,C),c(e,O),c(e,M),c(e,E),c(e,R),c(e,L),c(e,D),c(e,j),c(e,F),c(e,G),c(e,te),c(e,X),c(e,Q),c(e,U),c(e,W),c(e,z),c(e,V),c(e,J),c(e,x),c(e,_e),c(e,Ne),c(e,$),c(e,Se),c(e,pe),c(e,oe),c(e,he),c(e,ke),c(e,Ie),c(e,We),c(e,Ae),c(e,le),c(e,ye),c(e,Ye),c(e,Fe),c(Fe,Te),Xe||(K=[T(r,"click",n[10]),T(Te,"click",n[10])],Xe=!0)},p:ne,d(Pe){Pe&&N(t),Xe=!1,se(K)}}}function da(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D=n[8]&&mo(n);return M=new Hn({}),{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),i=p("hgroup"),i.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,l=S(),s=p("form"),a=p("input"),f=S(),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),k=S(),v=p("fieldset"),b=p("label"),y=p("input"),A=B(`\r
              I agree to the\r
              `),I=p("a"),I.textContent="Terms and Conditions",P=S(),D&&D.c(),w=S(),C=p("button"),C.textContent="Sign Up",O=S(),fe(M.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(d,"placeholder","Email"),u(d,"type","email"),u(d,"aria-invalid",n[5]),d.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(y,"type","checkbox"),u(y,"id","terms"),u(y,"name","terms"),y.required=!0,u(I,"href","#terms"),u(b,"for","terms"),u(C,"type","submit"),u(C,"class","svelte-unkkz3"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(j,F){q(j,t,F),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(s,a),Y(a,n[3]),c(s,f),c(s,d),Y(d,n[0]),c(s,h),c(s,_),Y(_,n[1]),c(s,g),c(s,m),Y(m,n[2]),c(s,k),c(s,v),c(v,b),c(b,y),y.checked=n[4],c(b,A),c(b,I),c(s,P),D&&D.m(s,null),c(s,w),c(s,C),c(t,O),ae(M,t,null),E=!0,R||(L=[T(a,"input",n[12]),T(d,"input",n[13]),T(_,"input",n[14]),T(m,"input",n[15]),T(y,"change",n[16]),T(I,"click",n[10]),T(C,"click",n[9]),T(s,"submit",Be(n[11]))],R=!0)},p(j,[F]){F&8&&a.value!==j[3]&&Y(a,j[3]),(!E||F&32)&&u(d,"aria-invalid",j[5]),F&1&&d.value!==j[0]&&Y(d,j[0]),(!E||F&64)&&u(_,"aria-invalid",j[6]),F&2&&_.value!==j[1]&&Y(_,j[1]),(!E||F&128)&&u(m,"aria-invalid",j[7]),F&4&&m.value!==j[2]&&Y(m,j[2]),F&16&&(y.checked=j[4]),j[8]?D?D.p(j,F):(D=mo(j),D.c(),D.m(s,w)):D&&(D.d(1),D=null)},i(j){E||(Z(M.$$.fragment,j),E=!0)},o(j){ee(M.$$.fragment,j),E=!1},d(j){j&&N(t),D&&D.d(),ce(M),R=!1,se(L)}}}let pa="student",ha=!0;function _a(n,t,e){let o,r,i,l,s=!1,a,f,d;async function h(){const P=await de.collection("users").authWithPassword(r,i);console.log(P)}async function _(){if(!a&&!f&&!d&&s)try{const P={name:o,username:o.toLowerCase(),email:r,password:i,passwordConfirm:l,role:pa,isPublic:ha,language:"en"},w=await de.collection("users").create(P);await h()}catch(P){P.data.data.email.code&&re.error("Email already exist",{position:ue})}}let g=!1;function m(){e(8,g=!g)}function k(P){qe.call(this,n,P)}function v(){o=this.value,e(3,o)}function b(){r=this.value,e(0,r)}function y(){i=this.value,e(1,i)}function A(){l=this.value,e(2,l)}function I(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(5,a=!1):e(5,a=!0)),i&&(i.length>=5?e(6,f=!1):e(6,f=!0)),l&&(l===i?e(7,d=!1):e(7,d=!0)))},[r,i,l,o,s,a,f,d,g,_,m,k,v,b,y,A,I]}class Jr extends Ce{constructor(t){super(),we(this,t,_a,da,be,{})}}function ma(n){let t,e,o,r,i,l;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("p"),r=B("An email with a reset link has been sent to "),i=p("strong"),l=B(n[0])},m(s,a){q(s,t,a),q(s,e,a),q(s,o,a),c(o,r),c(o,i),c(i,l)},p(s,a){a&1&&ie(l,s[0])},d(s){s&&N(t),s&&N(e),s&&N(o)}}}function ga(n){let t,e,o,r,i,l,s,a,f,d;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),o=p("form"),r=p("label"),i=B(`Email\r
              `),l=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(l,"id","email"),u(l,"name","email"),u(l,"type","email"),u(l,"aria-invalid",n[2]),l.required=!0,u(r,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){q(h,t,_),q(h,e,_),q(h,o,_),c(o,r),c(r,i),c(r,l),Y(l,n[0]),c(o,s),c(o,a),f||(d=[T(l,"input",n[5]),T(a,"click",n[3]),T(o,"submit",Be(n[4]))],f=!0)},p(h,_){_&4&&u(l,"aria-invalid",h[2]),_&1&&l.value!==h[0]&&Y(l,h[0])},d(h){h&&N(t),h&&N(e),h&&N(o),f=!1,se(d)}}}function va(n){let t,e,o,r,i,l,s,a;function f(_,g){return _[1]===!1?ga:ma}let d=f(n),h=d(n);return{c(){t=p("body"),e=p("main"),o=p("article"),r=p("div"),h.c(),i=S(),l=p("a"),l.textContent="Back to Login Screen",u(l,"href","/"),u(o,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){q(_,t,g),c(t,e),c(e,o),c(o,r),h.m(r,null),c(r,i),c(r,l),s||(a=T(l,"click",n[6]),s=!0)},p(_,[g]){d===(d=f(_))&&h?h.p(_,g):(h.d(1),h=d(_),h&&(h.c(),h.m(r,i)))},i:ne,o:ne,d(_){_&&N(t),h.d(),s=!1,a()}}}function ba(n,t,e){let o=!1,r,i;async function l(){i||(await de.collection("users").requestPasswordReset(r),e(1,o=!0))}function s(d){qe.call(this,n,d)}function a(){r=this.value,e(0,r)}const f=()=>{e(1,o=!1)};return n.$$.update=()=>{n.$$.dirty&1&&r&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(r).toLowerCase())?e(2,i=!1):e(2,i=!0))},[r,o,i,l,s,a,f]}class ka extends Ce{constructor(t){super(),we(this,t,ba,va,be,{})}}const yn=ze(0),Bt=ze(0),ya=ze(500);function go(n,t,e){const o=n.slice();return o[113]=t[e],o}function vo(n,t,e){const o=n.slice();return o[113]=t[e],o}function bo(n,t,e){const o=n.slice();return o[118]=t[e],o}function ko(n,t,e){const o=n.slice();return o[121]=t[e],o}function wa(n){let t,e;return t=new qn({props:{$$slots:{default:[Sa]},$$scope:{ctx:n}}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r[4]&1&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Ca(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y;function A(L,D){return L[7].length===0?Ta:Aa}let I=A(n),P=I(n),w=n[29]&&wo(n),C=n[30]&&Ao(n),O=n[31]&&Oo(n),M=n[32]&&Eo(n),E=n[33]&&jo(n),R=n[28]&&No(n);return k=new Hn({}),{c(){t=p("div"),e=p("div"),o=S(),r=p("input"),i=S(),l=p("button"),l.textContent="Add Book",s=S(),P.c(),a=S(),w&&w.c(),f=S(),C&&C.c(),d=S(),O&&O.c(),h=S(),M&&M.c(),_=S(),E&&E.c(),g=S(),R&&R.c(),m=S(),fe(k.$$.fragment),u(e,"class","grid svelte-1h11vka"),u(r,"type","search"),u(r,"placeholder","Filter by Book Title, Author, or Status..."),u(l,"class","btn btn-primary"),u(t,"class","container")},m(L,D){q(L,t,D),c(t,e),c(t,o),c(t,r),Y(r,n[34]),c(t,i),c(t,l),c(t,s),P.m(t,null),q(L,a,D),w&&w.m(L,D),q(L,f,D),C&&C.m(L,D),q(L,d,D),O&&O.m(L,D),q(L,h,D),M&&M.m(L,D),q(L,_,D),E&&E.m(L,D),q(L,g,D),R&&R.m(L,D),q(L,m,D),ae(k,L,D),v=!0,b||(y=[T(r,"input",n[58]),T(l,"click",n[44])],b=!0)},p(L,D){D[1]&8&&r.value!==L[34]&&Y(r,L[34]),I===(I=A(L))&&P?P.p(L,D):(P.d(1),P=I(L),P&&(P.c(),P.m(t,null))),L[29]?w?w.p(L,D):(w=wo(L),w.c(),w.m(f.parentNode,f)):w&&(w.d(1),w=null),L[30]?C?C.p(L,D):(C=Ao(L),C.c(),C.m(d.parentNode,d)):C&&(C.d(1),C=null),L[31]?O?O.p(L,D):(O=Oo(L),O.c(),O.m(h.parentNode,h)):O&&(O.d(1),O=null),L[32]?M?M.p(L,D):(M=Eo(L),M.c(),M.m(_.parentNode,_)):M&&(M.d(1),M=null),L[33]?E?E.p(L,D):(E=jo(L),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),L[28]?R?R.p(L,D):(R=No(L),R.c(),R.m(m.parentNode,m)):R&&(R.d(1),R=null)},i(L){v||(Z(k.$$.fragment,L),v=!0)},o(L){ee(k.$$.fragment,L),v=!1},d(L){L&&N(t),P.d(),L&&N(a),w&&w.d(L),L&&N(f),C&&C.d(L),L&&N(d),O&&O.d(L),L&&N(h),M&&M.d(L),L&&N(_),E&&E.d(L),L&&N(g),R&&R.d(L),L&&N(m),ce(k,L),b=!1,se(y)}}}function Sa(n){let t,e,o,r;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),{c(){fe(t.$$.fragment),e=S(),fe(o.$$.fragment)},m(i,l){ae(t,i,l),q(i,e,l),ae(o,i,l),r=!0},p:ne,i(i){r||(Z(t.$$.fragment,i),Z(o.$$.fragment,i),r=!0)},o(i){ee(t.$$.fragment,i),ee(o.$$.fragment,i),r=!1},d(i){ce(t,i),i&&N(e),ce(o,i)}}}function Aa(n){let t,e=[],o=new Map,r=n[35];const i=l=>l[121].id;for(let l=0;l<r.length;l+=1){let s=ko(n,r,l),a=i(s);o.set(a,e[l]=yo(a,s))}return{c(){t=p("div");for(let l=0;l<e.length;l+=1)e[l].c();u(t,"class","grid svelte-1h11vka")},m(l,s){q(l,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(l,s){s[0]&33488896|s[1]&32848&&(r=l[35],e=He(e,s,i,1,l,r,o,t,Ve,yo,null,ko))},d(l){l&&N(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Ta(n){let t,e,o,r,i,l,s,a,f,d,h;function _(P,w){return P[36].language==="en"?Ma:Ea}let g=_(n),m=g(n);function k(P,w){return P[36].language==="en"?ja:Ra}let v=k(n),b=v(n);function y(P,w){return P[36].language==="en"?Da:Na}let A=y(n),I=A(n);return{c(){t=p("article"),e=p("div"),e.textContent="",o=S(),r=p("p"),m.c(),i=S(),l=p("p"),b.c(),s=S(),a=p("div"),f=p("button"),I.c(),u(e,"class","empty-icon"),u(r,"class","empty-title h5"),u(l,"class","empty-subtitle"),u(f,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-1h11vka")},m(P,w){q(P,t,w),c(t,e),c(t,o),c(t,r),m.m(r,null),c(t,i),c(t,l),b.m(l,null),c(t,s),c(t,a),c(a,f),I.m(f,null),d||(h=T(f,"click",n[46]),d=!0)},p(P,w){g!==(g=_(P))&&(m.d(1),m=g(P),m&&(m.c(),m.m(r,null))),v!==(v=k(P))&&(b.d(1),b=v(P),b&&(b.c(),b.m(l,null))),A!==(A=y(P))&&(I.d(1),I=A(P),I&&(I.c(),I.m(f,null)))},d(P){P&&N(t),m.d(),b.d(),I.d(),d=!1,h()}}}function Ia(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[121].googleCover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){q(v,t,b),c(t,e),m||(k=[T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[76]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!ge(e.src,o=v[121].googleCover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&i!==(i=v[121].bookId)&&u(t,"data-id",i),b[1]&16&&l!==(l=v[121].title)&&u(t,"data-title",l),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,se(k)}}}function Pa(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[37]+n[121].bookId+"/"+n[121].cover)||u(e,"src",o),u(e,"alt",r=n[121].title),u(e,"class","svelte-1h11vka"),u(t,"href","#update"),u(t,"data-id",i=n[121].bookId),u(t,"data-title",l=n[121].title),u(t,"data-author",s=n[121].author),u(t,"data-pages",a=n[121].pages),u(t,"data-pagesread",f=n[121].pages_read),u(t,"data-review",d=n[121].review),u(t,"data-collection",h=n[121].collection),u(t,"data-cover",_=n[121].googleCover),u(t,"data-status",g=n[121].status),u(t,"class","svelte-1h11vka")},m(v,b){q(v,t,b),c(t,e),m||(k=[T(t,"click",n[59]),T(t,"click",n[60]),T(t,"click",n[61]),T(t,"click",n[62]),T(t,"click",n[63]),T(t,"click",n[64]),T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[46])],m=!0)},p(v,b){b[1]&16&&!ge(e.src,o=v[37]+v[121].bookId+"/"+v[121].cover)&&u(e,"src",o),b[1]&16&&r!==(r=v[121].title)&&u(e,"alt",r),b[1]&16&&i!==(i=v[121].bookId)&&u(t,"data-id",i),b[1]&16&&l!==(l=v[121].title)&&u(t,"data-title",l),b[1]&16&&s!==(s=v[121].author)&&u(t,"data-author",s),b[1]&16&&a!==(a=v[121].pages)&&u(t,"data-pages",a),b[1]&16&&f!==(f=v[121].pages_read)&&u(t,"data-pagesread",f),b[1]&16&&d!==(d=v[121].review)&&u(t,"data-review",d),b[1]&16&&h!==(h=v[121].collection)&&u(t,"data-collection",h),b[1]&16&&_!==(_=v[121].googleCover)&&u(t,"data-cover",_),b[1]&16&&g!==(g=v[121].status)&&u(t,"data-status",g)},d(v){v&&N(t),m=!1,se(k)}}}function Oa(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){q(e,t,o)},p:ne,d(e){e&&N(t)}}}function La(n){let t,e;return{c(){t=p("progress"),t.value=e=ot(n[121].pages_read,n[121].pages),u(t,"max","100")},m(o,r){q(o,t,r)},p(o,r){r[1]&16&&e!==(e=ot(o[121].pages_read,o[121].pages))&&(t.value=e)},d(o){o&&N(t)}}}function yo(n,t){let e,o,r,i,l,s,a=t[121].title+"",f,d,h,_,g=t[121].author+"",m,k,v,b,y=t[121].status+"",A,I,P,w;function C(D,j){return D[121].cover?Pa:Ia}let O=C(t),M=O(t);function E(D,j){return D[121].pages_read?La:Oa}let R=E(t),L=R(t);return{key:n,first:null,c(){e=p("article"),o=p("div"),r=p("div"),M.c(),i=S(),l=p("hgroup"),s=p("h4"),f=B(a),d=S(),h=p("p"),_=B("By: "),m=B(g),k=S(),v=p("br"),b=S(),A=B(y),I=S(),P=p("footer"),L.c(),w=S(),u(r,"class","image-wrapper"),u(l,"class","svelte-1h11vka"),u(o,"class","content-wrapper svelte-1h11vka"),u(P,"class","svelte-1h11vka"),u(e,"data-hover","article"),u(e,"class","svelte-1h11vka"),this.first=e},m(D,j){q(D,e,j),c(e,o),c(o,r),M.m(r,null),c(o,i),c(o,l),c(l,s),c(s,f),c(l,d),c(l,h),c(h,_),c(h,m),c(h,k),c(h,v),c(h,b),c(h,A),c(e,I),c(e,P),L.m(P,null),c(e,w)},p(D,j){t=D,O===(O=C(t))&&M?M.p(t,j):(M.d(1),M=O(t),M&&(M.c(),M.m(r,null))),j[1]&16&&a!==(a=t[121].title+"")&&ie(f,a),j[1]&16&&g!==(g=t[121].author+"")&&ie(m,g),j[1]&16&&y!==(y=t[121].status+"")&&ie(A,y),R===(R=E(t))&&L?L.p(t,j):(L.d(1),L=R(t),L&&(L.c(),L.m(P,null)))},d(D){D&&N(e),M.d(),L.d()}}}function Ea(n){let t;return{c(){t=B("Nada por aqu...")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function Ma(n){let t;return{c(){t=B("Nothing here yet...")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function Ra(n){let t;return{c(){t=B("Presione el botn para aadir un libro.")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function ja(n){let t;return{c(){t=B("Click the button to add a book.")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function Na(n){let t;return{c(){t=B("Aadir Libro")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function Da(n){let t;return{c(){t=B("Add Book")},m(e,o){q(e,t,o)},d(e){e&&N(t)}}}function wo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k=[],v=new Map,b,y,A=n[26];const I=P=>P[118].id;for(let P=0;P<A.length;P+=1){let w=bo(n,A,P),C=I(w);v.set(C,k[P]=So(C,w))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Search`),l=S(),s=p("form"),a=p("input"),f=S(),d=p("button"),h=B("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let P=0;P<k.length;P+=1)k[P].c();u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(d,"aria-busy",n[27]),u(e,"class","svelte-1h11vka"),t.open=!0},m(P,w){q(P,t,w),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h),c(s,_),c(s,g),c(e,m);for(let C=0;C<k.length;C+=1)k[C]&&k[C].m(e,null);b||(y=[T(r,"click",n[44]),T(a,"keyup",n[77]),T(d,"click",function(){Wt(n[49](n[25]))&&n[49](n[25]).apply(this,arguments)}),T(g,"click",n[45]),T(s,"submit",Be(n[57]))],b=!0)},p(P,w){n=P,w[0]&134217728&&u(d,"aria-busy",n[27]),w[0]&67161856|w[1]&16384&&(A=n[26],k=He(k,w,I,1,n,A,v,e,Ve,So,null,bo))},d(P){P&&N(t);for(let w=0;w<k.length;w+=1)k[w].d();b=!1,se(y)}}}function Co(n){let t,e,o;return{c(){t=p("img"),ge(t.src,e=zt(n[118].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",o=n[118].volumeInfo.title),u(t,"class","svelte-1h11vka")},m(r,i){q(r,t,i)},p(r,i){i[0]&67108864&&!ge(t.src,e=zt(r[118].volumeInfo.imageLinks))&&u(t,"src",e),i[0]&67108864&&o!==(o=r[118].volumeInfo.title)&&u(t,"alt",o)},d(r){r&&N(t)}}}function So(n,t){let e,o,r,i,l,s,a=t[118].volumeInfo.title+"",f,d,h,_,g=jt(t[118].volumeInfo.authors)+"",m,k,v,b,y=t[118].volumeInfo.language+"",A,I,P,w,C,O,M,E,R,L,D,j=t[118].volumeInfo.imageLinks&&Co(t);return{key:n,first:null,c(){e=p("a"),o=p("article"),r=p("figure"),j&&j.c(),i=S(),l=p("figcaption"),s=p("strong"),f=B(a),d=S(),h=p("br"),_=B(`\r
                  By `),m=B(g),k=S(),v=p("br"),b=B(`\r
                  Language: `),A=B(y),I=S(),u(l,"class","svelte-1h11vka"),u(o,"data-hover",""),u(o,"class","svelte-1h11vka"),u(e,"href","#search"),u(e,"data-id",P=t[118].id),u(e,"data-title",w=t[118].volumeInfo.title),u(e,"data-author",C=jt(t[118].volumeInfo.authors)),u(e,"data-img",O=zt(t[118].volumeInfo.imageLinks)),u(e,"data-pages",M=t[118].volumeInfo.pageCount),u(e,"data-description",E=t[118].volumeInfo.description),u(e,"data-language",R=t[118].volumeInfo.language),u(e,"class","svelte-1h11vka"),this.first=e},m(F,G){q(F,e,G),c(e,o),c(o,r),j&&j.m(r,null),c(r,i),c(r,l),c(l,s),c(s,f),c(l,d),c(l,h),c(l,_),c(l,m),c(l,k),c(l,v),c(l,b),c(l,A),c(e,I),L||(D=[T(e,"click",t[78]),T(e,"click",t[79]),T(e,"click",t[80]),T(e,"click",t[81]),T(e,"click",t[82]),T(e,"click",t[83]),T(e,"click",t[45])],L=!0)},p(F,G){t=F,t[118].volumeInfo.imageLinks?j?j.p(t,G):(j=Co(t),j.c(),j.m(r,i)):j&&(j.d(1),j=null),G[0]&67108864&&a!==(a=t[118].volumeInfo.title+"")&&ie(f,a),G[0]&67108864&&g!==(g=jt(t[118].volumeInfo.authors)+"")&&ie(m,g),G[0]&67108864&&y!==(y=t[118].volumeInfo.language+"")&&ie(A,y),G[0]&67108864&&P!==(P=t[118].id)&&u(e,"data-id",P),G[0]&67108864&&w!==(w=t[118].volumeInfo.title)&&u(e,"data-title",w),G[0]&67108864&&C!==(C=jt(t[118].volumeInfo.authors))&&u(e,"data-author",C),G[0]&67108864&&O!==(O=zt(t[118].volumeInfo.imageLinks))&&u(e,"data-img",O),G[0]&67108864&&M!==(M=t[118].volumeInfo.pageCount)&&u(e,"data-pages",M),G[0]&67108864&&E!==(E=t[118].volumeInfo.description)&&u(e,"data-description",E),G[0]&67108864&&R!==(R=t[118].volumeInfo.language)&&u(e,"data-language",R)},d(F){F&&N(e),j&&j.d(),L=!1,se(D)}}}function Ao(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M=[],E=new Map,R,L,D,j,F,G,te,X,Q=n[14]&&To(n),U=n[6];const W=V=>V[113].id;for(let V=0;V<U.length;V+=1){let J=vo(n,U,V),x=W(J);E.set(x,M[V]=Io(x,J))}let z=!n[14]&&Po(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Add Book`),l=S(),Q&&Q.c(),s=S(),a=p("form"),f=p("label"),d=B(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=B(`Author\r
            `),k=p("input"),v=S(),b=p("label"),y=B(`Pages\r
            `),A=p("input"),I=S(),P=p("label"),P.textContent="Collection",w=S(),C=p("select"),O=p("option"),O.textContent="Please select an option";for(let V=0;V<M.length;V+=1)M[V].c();R=S(),z&&z.c(),L=S(),D=p("footer"),j=p("a"),j.textContent="Cancel",F=S(),G=p("a"),G.textContent="Add Book",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(f,"for","title"),u(f,"class","svelte-1h11vka"),u(k,"id","author"),u(k,"name","author"),u(k,"placeholder","Author"),u(k,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(A,"id","pages"),u(A,"name","pages"),u(A,"placeholder","Pages"),u(A,"type","number"),u(b,"for","pages"),u(b,"class","svelte-1h11vka"),u(P,"for","collection"),u(P,"class","svelte-1h11vka"),O.__value="",O.value=O.__value,O.selected=!0,u(C,"id","collection"),n[12]===void 0&&xe(()=>n[87].call(C)),u(j,"href","#cancel"),u(j,"role","button"),u(j,"class","secondary svelte-1h11vka"),u(G,"href","#confirm"),u(G,"role","button"),u(G,"class","svelte-1h11vka"),u(D,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(V,J){q(V,t,J),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),Q&&Q.m(e,null),c(e,s),c(e,a),c(a,f),c(f,d),c(f,h),Y(h,n[8]),c(a,_),c(a,g),c(g,m),c(g,k),Y(k,n[9]),c(a,v),c(a,b),c(b,y),c(b,A),Y(A,n[11]),c(a,I),c(a,P),c(a,w),c(a,C),c(C,O);for(let x=0;x<M.length;x+=1)M[x]&&M[x].m(C,null);Ge(C,n[12],!0),c(a,R),z&&z.m(a,null),c(e,L),c(e,D),c(D,j),c(D,F),c(D,G),te||(X=[T(r,"click",n[45]),T(h,"input",n[84]),T(k,"input",n[85]),T(A,"input",n[86]),T(C,"change",n[87]),T(a,"submit",Be(n[56])),T(j,"click",n[50]),T(G,"click",n[39]),T(G,"click",n[50])],te=!0)},p(V,J){V[14]?Q?Q.p(V,J):(Q=To(V),Q.c(),Q.m(e,s)):Q&&(Q.d(1),Q=null),J[0]&256&&h.value!==V[8]&&Y(h,V[8]),J[0]&512&&k.value!==V[9]&&Y(k,V[9]),J[0]&2048&&Je(A.value)!==V[11]&&Y(A,V[11]),J[0]&64&&(U=V[6],M=He(M,J,W,1,V,U,E,C,Ve,Io,null,vo)),J[0]&4160&&Ge(C,V[12]),V[14]?z&&(z.d(1),z=null):z?z.p(V,J):(z=Po(V),z.c(),z.m(a,null))},d(V){V&&N(t),Q&&Q.d();for(let J=0;J<M.length;J+=1)M[J].d();z&&z.d(),te=!1,se(X)}}}function To(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=B("By "),s=B(n[9]),a=S(),f=p("br"),d=S(),h=p("br"),_=S(),g=p("p"),m=B(n[10]),ge(e.src,o=n[14])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1h11vka"),u(i,"class","svelte-1h11vka")},m(k,v){q(k,t,v),c(t,e),c(t,r),c(t,i),c(i,l),c(i,s),c(i,a),c(i,f),c(i,d),c(i,h),c(i,_),c(i,g),c(g,m)},p(k,v){v[0]&16384&&!ge(e.src,o=k[14])&&u(e,"src",o),v[0]&512&&ie(s,k[9]),v[0]&1024&&ie(m,k[10])},d(k){k&&N(t)}}}function Io(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=B(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){q(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&ie(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function Po(n){let t,e,o,r,i;return{c(){t=p("label"),e=B(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-1h11vka")},m(l,s){q(l,t,s),c(t,e),c(t,o),r||(i=T(o,"change",n[88]),r=!0)},p:ne,d(l){l&&N(t),r=!1,i()}}}function Oo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C;function O(F,G){return F[20]?Ba:qa}let M=O(n),E=M(n),R=(n[24]===" reading"||n[24]===" not started")&&Lo(n);function L(F,G){if(F[24]===" reading"||F[24]===" not started")return Ua;if(F[24]===" completed")return Fa}let D=L(n),j=D&&D(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=S(),l=p("strong"),s=B(n[16]),a=S(),E.c(),f=S(),d=p("progress"),_=S(),g=p("p"),m=B(n[24]),k=S(),v=p("br"),b=p("br"),y=S(),R&&R.c(),A=S(),I=p("a"),I.textContent="Edit Book Details",P=S(),j&&j.c(),u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","progressbar"),d.value=h=ot(n[20],n[19]),u(d,"max","100"),u(I,"href","#update"),u(I,"class","details svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(F,G){q(F,t,G),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(l,s),c(e,a),E.m(e,null),c(e,f),c(e,d),c(e,_),c(e,g),c(g,m),c(e,k),c(e,v),c(e,b),c(e,y),R&&R.m(e,null),c(e,A),c(e,I),c(e,P),j&&j.m(e,null),w||(C=[T(r,"click",n[46]),T(I,"click",n[47])],w=!0)},p(F,G){G[0]&65536&&ie(s,F[16]),M===(M=O(F))&&E?E.p(F,G):(E.d(1),E=M(F),E&&(E.c(),E.m(e,f))),G[0]&1572864&&h!==(h=ot(F[20],F[19]))&&(d.value=h),G[0]&16777216&&ie(m,F[24]),F[24]===" reading"||F[24]===" not started"?R?R.p(F,G):(R=Lo(F),R.c(),R.m(e,A)):R&&(R.d(1),R=null),D===(D=L(F))&&j?j.p(F,G):(j&&j.d(1),j=D&&D(F),j&&(j.c(),j.m(e,null)))},d(F){F&&N(t),E.d(),R&&R.d(),j&&j.d(),w=!1,se(C)}}}function qa(n){let t,e,o,r=ot(n[20],n[19])+"",i,l,s,a,f;return{c(){t=p("label"),e=B("Reading Progress: "),o=p("strong"),i=B(r),l=B("%"),s=B(`\r
            (0/`),a=B(n[19]),f=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(d,h){q(d,t,h),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f)},p(d,h){h[0]&1572864&&r!==(r=ot(d[20],d[19])+"")&&ie(i,r),h[0]&524288&&ie(a,d[19])},d(d){d&&N(t)}}}function Ba(n){let t,e,o,r=ot(n[20],n[19])+"",i,l,s,a,f,d,h;return{c(){t=p("label"),e=B("Reading Progress: "),o=p("strong"),i=B(r),l=B("%"),s=B(`\r
            (`),a=B(n[20]),f=B("/"),d=B(n[19]),h=B(")"),u(t,"for","progressbar"),u(t,"class","svelte-1h11vka")},m(_,g){q(_,t,g),c(t,e),c(t,o),c(o,i),c(o,l),c(t,s),c(t,a),c(t,f),c(t,d),c(t,h)},p(_,g){g[0]&1572864&&r!==(r=ot(_[20],_[19])+"")&&ie(i,r),g[0]&1048576&&ie(a,_[20]),g[0]&524288&&ie(d,_[19])},d(_){_&&N(t)}}}function Lo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v;return{c(){t=p("form"),e=p("input"),o=S(),r=p("label"),i=B(`Date\r
              `),l=p("input"),s=S(),a=p("label"),f=B(`Pages Read\r
              `),d=p("input"),h=S(),_=p("label"),g=B(`Comment\r
              `),m=p("input"),me(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),u(l,"placeholder","07/14/2023"),u(l,"id","date"),u(l,"name","date"),u(l,"type","date"),u(r,"for","date"),u(r,"class","svelte-1h11vka"),u(d,"id","pagesRead"),u(d,"name","pagesRead"),u(d,"type","number"),u(a,"for","pagesRead"),u(a,"class","svelte-1h11vka"),u(m,"id","comment"),u(m,"name","comment"),u(m,"placeholder","Tell the teacher about today's read."),u(m,"type","text"),u(_,"for","comment"),u(_,"class","svelte-1h11vka")},m(b,y){q(b,t,y),c(t,e),Y(e,n[16]),c(t,o),c(t,r),c(r,i),c(r,l),Y(l,n[0]),c(t,s),c(t,a),c(a,f),c(a,d),Y(d,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),Y(m,n[2]),k||(v=[T(e,"input",n[89]),T(l,"input",n[90]),T(d,"input",n[91]),T(m,"input",n[92]),T(t,"submit",Be(n[55]))],k=!0)},p(b,y){y[0]&65536&&e.value!==b[16]&&Y(e,b[16]),y[0]&1&&Y(l,b[0]),y[0]&2&&Je(d.value)!==b[1]&&Y(d,b[1]),y[0]&4&&m.value!==b[2]&&Y(m,b[2])},d(b){b&&N(t),k=!1,se(v)}}}function Fa(n){let t,e,o,r;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(i,l){q(i,t,l),c(t,e),o||(r=T(e,"click",n[46]),o=!0)},p:ne,d(i){i&&N(t),o=!1,r()}}}function Ua(n){let t,e,o,r,i,l;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",o=S(),r=p("a"),r.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-1h11vka"),u(r,"href","#confirm"),u(r,"role","button"),u(r,"class","svelte-1h11vka"),u(t,"class","svelte-1h11vka")},m(s,a){q(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=[T(e,"click",n[46]),T(r,"click",n[40]),T(r,"click",n[46])],i=!0)},p:ne,d(s){s&&N(t),i=!1,se(l)}}}function Eo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D,j=[],F=new Map,G,te,X,Q,U,W,z,V,J,x,_e,Ne,$=n[6];const Se=oe=>oe[113].id;for(let oe=0;oe<$.length;oe+=1){let he=go(n,$,oe),ke=Se(he);F.set(ke,j[oe]=Mo(ke,he))}let pe=!n[22]&&Ro(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Edit Book Details`),l=S(),s=p("form"),a=p("label"),f=B(`Title\r
            `),d=p("input"),h=S(),_=p("div"),g=p("label"),m=B(`Author\r
              `),k=p("input"),v=S(),b=p("div"),y=p("label"),A=B(`Pages\r
              `),I=p("input"),P=S(),w=p("label"),C=B(`Review\r
            `),O=p("input"),M=S(),E=p("label"),E.textContent="Collection",R=S(),L=p("select"),D=p("option"),D.textContent="Please select an option";for(let oe=0;oe<j.length;oe+=1)j[oe].c();G=S(),pe&&pe.c(),te=S(),X=p("footer"),Q=p("div"),U=p("a"),U.textContent="Delete",W=S(),z=p("div"),V=p("a"),V.textContent="Cancel",J=S(),x=p("a"),x.textContent="Save",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","title"),u(d,"name","title"),u(d,"type","text"),u(a,"for","title"),u(a,"class","svelte-1h11vka"),u(k,"id","author"),u(k,"name","author"),u(k,"type","text"),u(g,"for","author"),u(g,"class","svelte-1h11vka"),u(I,"id","pages"),u(I,"name","pages"),u(I,"placeholder","Pages"),u(I,"type","number"),u(y,"for","pages"),u(y,"class","svelte-1h11vka"),u(b,"class","grid svelte-1h11vka"),u(O,"id","review"),u(O,"name","review"),u(O,"type","textarea"),u(w,"for","review"),u(w,"class","svelte-1h11vka"),u(E,"for","collection"),u(E,"class","svelte-1h11vka"),D.__value="",D.value=D.__value,D.selected=!0,u(L,"id","collection"),n[21]===void 0&&xe(()=>n[97].call(L)),u(U,"href","#delete"),u(U,"role","button"),u(U,"class","delete svelte-1h11vka"),u(V,"href","#cancel"),u(V,"role","button"),u(V,"class","secondary svelte-1h11vka"),u(x,"href","#confirm"),u(x,"role","button"),u(x,"class","svelte-1h11vka"),u(X,"data-button","spaceBetween"),u(X,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(oe,he){q(oe,t,he),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[16]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,k),Y(k,n[17]),c(s,v),c(s,b),c(b,y),c(y,A),c(y,I),Y(I,n[19]),c(s,P),c(s,w),c(w,C),c(w,O),Y(O,n[18]),c(s,M),c(s,E),c(s,R),c(s,L),c(L,D);for(let ke=0;ke<j.length;ke+=1)j[ke]&&j[ke].m(L,null);Ge(L,n[21],!0),c(e,G),pe&&pe.m(e,null),c(e,te),c(e,X),c(X,Q),c(Q,U),c(X,W),c(X,z),c(z,V),c(z,J),c(z,x),_e||(Ne=[T(r,"click",n[47]),T(d,"input",n[93]),T(k,"input",n[94]),T(I,"input",n[95]),T(O,"input",n[96]),T(L,"change",n[97]),T(s,"submit",Be(n[54])),T(U,"click",n[51]),T(V,"click",n[47]),T(x,"click",n[41]),T(x,"click",n[47])],_e=!0)},p(oe,he){he[0]&65536&&d.value!==oe[16]&&Y(d,oe[16]),he[0]&131072&&k.value!==oe[17]&&Y(k,oe[17]),he[0]&524288&&Je(I.value)!==oe[19]&&Y(I,oe[19]),he[0]&262144&&Y(O,oe[18]),he[0]&64&&($=oe[6],j=He(j,he,Se,1,oe,$,F,L,Ve,Mo,null,go)),he[0]&2097216&&Ge(L,oe[21]),oe[22]?pe&&(pe.d(1),pe=null):pe?pe.p(oe,he):(pe=Ro(oe),pe.c(),pe.m(e,te))},d(oe){oe&&N(t);for(let he=0;he<j.length;he+=1)j[he].d();pe&&pe.d(),_e=!1,se(Ne)}}}function Mo(n,t){let e,o=t[113].collection+"",r,i;return{key:n,first:null,c(){e=p("option"),r=B(o),e.__value=i=t[113].id,e.value=e.__value,this.first=e},m(l,s){q(l,e,s),c(e,r)},p(l,s){t=l,s[0]&64&&o!==(o=t[113].collection+"")&&ie(r,o),s[0]&64&&i!==(i=t[113].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function Ro(n){let t,e,o,r,i,l;return{c(){t=p("form"),e=p("label"),o=B(`Cover Art\r
              `),r=p("input"),u(r,"type","file"),u(r,"id","file"),u(r,"name","file"),u(r,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-1h11vka")},m(s,a){q(s,t,a),c(t,e),c(e,o),c(e,r),i||(l=[T(r,"change",n[98]),T(t,"submit",Be(n[53]))],i=!0)},p:ne,d(s){s&&N(t),i=!1,se(l)}}}function jo(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1h11vka"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1h11vka"),u(s,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0},m(m,k){q(m,t,k),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[48]),T(h,"click",n[42]),T(h,"click",n[46]),T(h,"click",n[48])],_=!0)},p:ne,d(m){m&&N(t),_=!1,se(g)}}}function No(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te,X;return G=pl(n[102][0]),{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Add Collection`),l=S(),s=p("form"),a=p("label"),f=B(`Collection\r
            `),d=p("input"),h=S(),_=p("label"),g=B(`Description\r
            `),m=p("input"),k=S(),v=p("fieldset"),b=p("legend"),b.textContent="Collection for:",y=S(),A=p("label"),I=p("input"),P=B(`\r
              Books`),w=S(),C=p("label"),O=p("input"),M=B(`\r
              Movies`),E=S(),R=p("footer"),L=p("div"),D=p("a"),D.textContent="Cancel",j=S(),F=p("a"),F.textContent="Add Collection",u(r,"href","#close"),u(r,"class","close svelte-1h11vka"),u(d,"id","collection"),u(d,"name","collection"),u(d,"placeholder","Collection"),u(d,"type","text"),u(a,"for","collection"),u(a,"class","svelte-1h11vka"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-1h11vka"),u(I,"type","radio"),u(I,"id","books"),u(I,"name","role"),I.__value="book",I.value=I.__value,I.checked=!0,u(A,"for","books"),u(A,"class","svelte-1h11vka"),u(O,"type","radio"),u(O,"id","movies"),u(O,"name","role"),O.__value="movie",O.value=O.__value,u(C,"for","movies"),u(C,"class","svelte-1h11vka"),u(v,"class","svelte-1h11vka"),u(D,"href","#cancel"),u(D,"role","button"),u(D,"class","secondary svelte-1h11vka"),u(F,"href","#confirm"),u(F,"role","button"),u(F,"class","svelte-1h11vka"),u(R,"class","svelte-1h11vka"),u(e,"class","svelte-1h11vka"),t.open=!0,G.p(I,O)},m(Q,U){q(Q,t,U),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[3]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[4]),c(s,k),c(s,v),c(v,b),c(v,y),c(v,A),c(A,I),I.checked=I.__value===n[5],c(A,P),c(v,w),c(v,C),c(C,O),O.checked=O.__value===n[5],c(C,M),c(e,E),c(e,R),c(R,L),c(L,D),c(L,j),c(L,F),te||(X=[T(r,"click",n[43]),T(d,"input",n[99]),T(m,"input",n[100]),T(I,"change",n[101]),T(O,"change",n[103]),T(s,"submit",Be(n[52])),T(D,"click",n[43]),T(F,"click",n[38]),T(F,"click",n[43])],te=!0)},p(Q,U){U[0]&8&&d.value!==Q[3]&&Y(d,Q[3]),U[0]&16&&Y(m,Q[4]),U[0]&32&&(I.checked=I.__value===Q[5]),U[0]&32&&(O.checked=O.__value===Q[5])},d(Q){Q&&N(t),G.r(),te=!1,se(X)}}}function Ha(n){let t,e,o,r;const i=[Ca,wa],l=[];function s(a,f){return Ke?0:1}return t=s(),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),q(a,o,f),r=!0},p(a,f){e.p(a,f)},i(a){r||(Z(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}let za="/api/files/9hhair4kd0xa314/";function jt(n){let t;return n&&(t=n[0]),t}function zt(n){let t;return n&&(t=n.thumbnail),t}function ot(n,t){return Math.floor(n/t*100)}function Ja(n,t,e){let o,r,i,l;Ee(n,vn,H=>e(105,o=H)),Ee(n,Ke,H=>e(36,r=H)),Ee(n,Bt,H=>e(106,i=H)),Ee(n,yn,H=>e(107,l=H));let s,a,f,d,h,_,g=[],m=[],k,v,b,y="",A,I,P,w,C,O,M,E,R,L,D,j,F,G,te="",X=[],Q=!1,U=Zt+za;async function W(){const H=await de.collection("view_everything").getFullList({sort:"-id"});e(7,m=H),z(),et();try{const Ue=await de.collection("collections").getFullList({sort:"-created"});e(6,g=Ue)}catch(Ue){re.error(Ue,{position:ue})}}st(async()=>{W(),z(),et()}),Mn(()=>{de.collection("view_everything").unsubscribe("*")});function z(){nn(yn,l=m.length,l),nn(Bt,i=0,i);for(const H of m)H.pages_read&&nn(Bt,i+=H.pages_read,i)}async function V(){try{const H={collection:d,reader:r.id,type:_},Ue=await de.collection("collections").create(H);W()}catch(H){re.error(H,{position:ue})}}async function J(){try{const H=new FormData;H.append("title",k),H.append("author",v),H.append("reader",r.id),H.append("review",y),H.append("collection",I),H.append("language",C),H.append("pages",A),P?H.append("cover",P[0]):H.append("googleCover",w);const Ue=await de.collection("books").create(H);re.success("Book added successfully!",{position:ue}),e(8,k=null),e(9,v=null),y=null,e(11,A=null),e(13,P=null),e(15,C=null),e(25,te=""),e(26,X=[]),W()}catch(H){re.error(H,{position:ue})}}async function x(){if(s&&a&&f)if(+L+ +a<=+R)try{const H={reader:r.id,book:F,date:s,pages_read:+a,comment:f},Ue=await de.collection("reading").create(H);re.success("Log entry saved!",{position:ue})}catch(H){re.error(H,{position:ue})}else+L+ +a>+R&&re.error("Pages exceeded",{position:ue});else re.error("All fields required",{position:ue});e(0,s=""),e(1,a=""),e(2,f=""),W()}async function _e(){try{const H=new FormData;H.append("title",O),H.append("author",M),H.append("reader",r.id),H.append("review",E),H.append("pages",R),H.append("collection",D),P&&H.append("cover",P[0]);const Ue=await de.collection("books").update(F,H);re.success("Book updated!",{position:ue}),e(8,k=null),e(9,v=null),y=null,e(11,A=null),e(13,P=null),e(12,I=null),W()}catch(H){re.error(H,{position:ue})}}async function Ne(){try{await de.collection("books").delete(F),re.success("Book deleted!",{position:ue}),W()}catch(H){re.error(H,{position:ue})}}let $=!1;function Se(){e(28,$=!$)}let pe=!1;function oe(){e(29,pe=!pe),pe||(e(25,te=""),e(26,X=[]))}let he=!1;function ke(){e(30,he=!he)}let Ie=!1;function We(){e(31,Ie=!Ie)}let Ae=!1;function le(){e(32,Ae=!Ae)}let ye=!1;function Ye(){e(33,ye=!ye)}async function Fe(H){if(H.length>3){e(27,Q=!0);let Ue="https://www.googleapis.com/books/v1/volumes?q="+H+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+o;try{const tn=await fetch(Ue);e(26,X=await tn.json()),e(26,X=X.items),e(27,Q=!1)}catch(tn){re.error(tn,{position:ue})}}else re.error("input required",{position:ue})}function Te(){ke(),oe()}function Xe(){le(),Ye()}let K="",Pe=m;function et(){const H=K.toLowerCase();e(35,Pe=m.filter(Ue=>Ue.title.toLowerCase().includes(H)||Ue.author.toLowerCase().includes(H)||Ue.status.toLowerCase().includes(H)))}En(()=>{et()});const De=[[]];function Qe(H){qe.call(this,n,H)}function di(H){qe.call(this,n,H)}function pi(H){qe.call(this,n,H)}function hi(H){qe.call(this,n,H)}function _i(H){qe.call(this,n,H)}function mi(H){qe.call(this,n,H)}function gi(){K=this.value,e(34,K)}const vi=H=>{e(23,F=H.currentTarget.getAttribute("data-id"))},bi=H=>{e(16,O=H.currentTarget.getAttribute("data-title"))},ki=H=>{e(17,M=H.currentTarget.getAttribute("data-author"))},yi=H=>{e(19,R=H.currentTarget.getAttribute("data-pages"))},wi=H=>{e(20,L=H.currentTarget.getAttribute("data-pagesread"))},Ci=H=>{e(18,E=H.currentTarget.getAttribute("data-review"))},Si=H=>{e(21,D=H.currentTarget.getAttribute("data-collection"))},Ai=H=>{e(22,j=H.currentTarget.getAttribute("data-cover"))},Ti=H=>{e(24,G=H.currentTarget.getAttribute("data-status"))},Ii=H=>{e(23,F=H.currentTarget.getAttribute("data-id"))},Pi=H=>{e(16,O=H.currentTarget.getAttribute("data-title"))},Oi=H=>{e(17,M=H.currentTarget.getAttribute("data-author"))},Li=H=>{e(19,R=H.currentTarget.getAttribute("data-pages"))},Ei=H=>{e(20,L=H.currentTarget.getAttribute("data-pagesread"))},Mi=H=>{e(18,E=H.currentTarget.getAttribute("data-review"))},Ri=H=>{e(21,D=H.currentTarget.getAttribute("data-collection"))},ji=H=>{e(22,j=H.currentTarget.getAttribute("data-cover"))},Ni=H=>{e(24,G=H.currentTarget.getAttribute("data-status"))},Di=H=>{e(25,te=H.currentTarget.value)},qi=H=>{e(8,k=H.currentTarget.getAttribute("data-title"))},Bi=H=>{e(9,v=H.currentTarget.getAttribute("data-author"))},Fi=H=>{e(11,A=H.currentTarget.getAttribute("data-pages"))},Ui=H=>{e(14,w=H.currentTarget.getAttribute("data-img"))},Hi=H=>{e(10,b=H.currentTarget.getAttribute("data-description"))},zi=H=>{e(15,C=H.currentTarget.getAttribute("data-language"))};function Ji(){k=this.value,e(8,k)}function Gi(){v=this.value,e(9,v)}function Vi(){A=Je(this.value),e(11,A)}function Wi(){I=pt(this),e(12,I),e(6,g)}function Qi(){P=this.files,e(13,P)}function Ki(){O=this.value,e(16,O)}function Yi(){s=this.value,e(0,s)}function Xi(){a=Je(this.value),e(1,a)}function Zi(){f=this.value,e(2,f)}function $i(){O=this.value,e(16,O)}function xi(){M=this.value,e(17,M)}function el(){R=Je(this.value),e(19,R)}function tl(){E=this.value,e(18,E)}function nl(){D=pt(this),e(21,D),e(6,g)}function ol(){P=this.files,e(13,P)}function rl(){d=this.value,e(3,d)}function il(){h=this.value,e(4,h)}function ll(){_=this.__value,e(5,_)}function sl(){_=this.__value,e(5,_)}return[s,a,f,d,h,_,g,m,k,v,b,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te,X,Q,$,pe,he,Ie,Ae,ye,K,Pe,r,U,V,J,x,_e,Ne,Se,oe,ke,We,le,Ye,Fe,Te,Xe,Qe,di,pi,hi,_i,mi,gi,vi,bi,ki,yi,wi,Ci,Si,Ai,Ti,Ii,Pi,Oi,Li,Ei,Mi,Ri,ji,Ni,Di,qi,Bi,Fi,Ui,Hi,zi,Ji,Gi,Vi,Wi,Qi,Ki,Yi,Xi,Zi,$i,xi,el,tl,nl,ol,rl,il,ll,De,sl]}class Ga extends Ce{constructor(t){super(),we(this,t,Ja,Ha,be,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const Gr=Object.freeze({left:0,top:0,width:16,height:16}),Jt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Pt=Object.freeze({...Gr,...Jt}),wn=Object.freeze({...Pt,body:"",hidden:!1}),Va=Object.freeze({width:null,height:null}),Vr=Object.freeze({...Va,...Jt});function Wa(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(e===""){const r=parseInt(n);return isNaN(r)?0:o(r)}else if(e!==n){let r=0;switch(e){case"%":r=25;break;case"deg":r=90}if(r){let i=parseFloat(n.slice(0,n.length-e.length));return isNaN(i)?0:(i=i/r,i%1===0?o(i):0)}}return t}const Qa=/[\s,]+/;function Ka(n,t){t.split(Qa).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Wr={...Vr,preserveAspectRatio:""};function Do(n){const t={...Wr},e=(o,r)=>n.getAttribute(o)||r;return t.width=e("width",null),t.height=e("height",null),t.rotate=Wa(e("rotate","")),Ka(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function Ya(n,t){for(const e in Wr)if(n[e]!==t[e])return!0;return!1}const bt=/^[a-z0-9]+(-[a-z0-9]+)*$/,Ot=(n,t,e,o="")=>{const r=n.split(":");if(n.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const s=r.pop(),a=r.pop(),f={provider:r.length>0?r[0]:o,prefix:a,name:s};return t&&!Ft(f)?null:f}const i=r[0],l=i.split("-");if(l.length>1){const s={provider:o,prefix:l.shift(),name:l.join("-")};return t&&!Ft(s)?null:s}if(e&&o===""){const s={provider:o,prefix:"",name:i};return t&&!Ft(s,e)?null:s}return null},Ft=(n,t)=>n?!!((n.provider===""||n.provider.match(bt))&&(t&&n.prefix===""||n.prefix.match(bt))&&n.name.match(bt)):!1;function Xa(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const o=((n.rotate||0)+(t.rotate||0))%4;return o&&(e.rotate=o),e}function qo(n,t){const e=Xa(n,t);for(const o in wn)o in Jt?o in n&&!(o in e)&&(e[o]=Jt[o]):o in t?e[o]=t[o]:o in n&&(e[o]=n[o]);return e}function Za(n,t){const e=n.icons,o=n.aliases||Object.create(null),r=Object.create(null);function i(l){if(e[l])return r[l]=[];if(!(l in r)){r[l]=null;const s=o[l]&&o[l].parent,a=s&&i(s);a&&(r[l]=[s].concat(a))}return r[l]}return(t||Object.keys(e).concat(Object.keys(o))).forEach(i),r}function $a(n,t,e){const o=n.icons,r=n.aliases||Object.create(null);let i={};function l(s){i=qo(o[s]||r[s],i)}return l(t),e.forEach(l),qo(n,i)}function Qr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(r=>{t(r,null),e.push(r)});const o=Za(n);for(const r in o){const i=o[r];i&&(t(r,$a(n,r,i)),e.push(r))}return e}const xa={provider:"",aliases:{},not_found:{},...Gr};function an(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Kr(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!an(n,xa))return null;const e=t.icons;for(const r in e){const i=e[r];if(!r.match(bt)||typeof i.body!="string"||!an(i,wn))return null}const o=t.aliases||Object.create(null);for(const r in o){const i=o[r],l=i.parent;if(!r.match(bt)||typeof l!="string"||!e[l]&&!o[l]||!an(i,wn))return null}return t}const Gt=Object.create(null);function ec(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function rt(n,t){const e=Gt[n]||(Gt[n]=Object.create(null));return e[t]||(e[t]=ec(n,t))}function zn(n,t){return Kr(t)?Qr(t,(e,o)=>{o?n.icons[e]=o:n.missing.add(e)}):[]}function tc(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function nc(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys(Gt)).forEach(r=>{(typeof r=="string"&&typeof t=="string"?[t]:Object.keys(Gt[r]||{})).forEach(l=>{const s=rt(r,l);e=e.concat(Object.keys(s.icons).map(a=>(r!==""?"@"+r+":":"")+l+":"+a))})}),e}let wt=!1;function Yr(n){return typeof n=="boolean"&&(wt=n),wt}function Ct(n){const t=typeof n=="string"?Ot(n,!0,wt):n;if(t){const e=rt(t.provider,t.prefix),o=t.name;return e.icons[o]||(e.missing.has(o)?null:void 0)}}function Xr(n,t){const e=Ot(n,!0,wt);if(!e)return!1;const o=rt(e.provider,e.prefix);return tc(o,e.name,t)}function Bo(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),wt&&!t&&!n.prefix){let r=!1;return Kr(n)&&(n.prefix="",Qr(n,(i,l)=>{l&&Xr(i,l)&&(r=!0)})),r}const e=n.prefix;if(!Ft({provider:t,prefix:e,name:"a"}))return!1;const o=rt(t,e);return!!zn(o,n)}function oc(n){return!!Ct(n)}function rc(n){const t=Ct(n);return t?{...Pt,...t}:null}function ic(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((r,i)=>r.provider!==i.provider?r.provider.localeCompare(i.provider):r.prefix!==i.prefix?r.prefix.localeCompare(i.prefix):r.name.localeCompare(i.name));let o={provider:"",prefix:"",name:""};return n.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const i=r.provider,l=r.prefix,s=r.name,a=e[i]||(e[i]=Object.create(null)),f=a[l]||(a[l]=rt(i,l));let d;s in f.icons?d=t.loaded:l===""||f.missing.has(s)?d=t.missing:d=t.pending;const h={provider:i,prefix:l,name:s};d.push(h)}),t}function Zr(n,t){n.forEach(e=>{const o=e.loaderCallbacks;o&&(e.loaderCallbacks=o.filter(r=>r.id!==t))})}function lc(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const o=n.provider,r=n.prefix;t.forEach(i=>{const l=i.icons,s=l.pending.length;l.pending=l.pending.filter(a=>{if(a.prefix!==r)return!0;const f=a.name;if(n.icons[f])l.loaded.push({provider:o,prefix:r,name:f});else if(n.missing.has(f))l.missing.push({provider:o,prefix:r,name:f});else return e=!0,!0;return!1}),l.pending.length!==s&&(e||Zr([n],i.id),i.callback(l.loaded.slice(0),l.missing.slice(0),l.pending.slice(0),i.abort))})}))}let sc=0;function ac(n,t,e){const o=sc++,r=Zr.bind(null,e,o);if(!t.pending.length)return r;const i={id:o,icons:t,callback:n,abort:r};return e.forEach(l=>{(l.loaderCallbacks||(l.loaderCallbacks=[])).push(i)}),r}const Cn=Object.create(null);function Fo(n,t){Cn[n]=t}function Sn(n){return Cn[n]||Cn[""]}function cc(n,t=!0,e=!1){const o=[];return n.forEach(r=>{const i=typeof r=="string"?Ot(r,t,e):r;i&&o.push(i)}),o}var uc={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function fc(n,t,e,o){const r=n.resources.length,i=n.random?Math.floor(Math.random()*r):n.index;let l;if(n.random){let w=n.resources.slice(0);for(l=[];w.length>1;){const C=Math.floor(Math.random()*w.length);l.push(w[C]),w=w.slice(0,C).concat(w.slice(C+1))}l=l.concat(w)}else l=n.resources.slice(i).concat(n.resources.slice(0,i));const s=Date.now();let a="pending",f=0,d,h=null,_=[],g=[];typeof o=="function"&&g.push(o);function m(){h&&(clearTimeout(h),h=null)}function k(){a==="pending"&&(a="aborted"),m(),_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function v(w,C){C&&(g=[]),typeof w=="function"&&g.push(w)}function b(){return{startTime:s,payload:t,status:a,queriesSent:f,queriesPending:_.length,subscribe:v,abort:k}}function y(){a="failed",g.forEach(w=>{w(void 0,d)})}function A(){_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function I(w,C,O){const M=C!=="success";switch(_=_.filter(E=>E!==w),a){case"pending":break;case"failed":if(M||!n.dataAfterTimeout)return;break;default:return}if(C==="abort"){d=O,y();return}if(M){d=O,_.length||(l.length?P():y());return}if(m(),A(),!n.random){const E=n.resources.indexOf(w.resource);E!==-1&&E!==n.index&&(n.index=E)}a="completed",g.forEach(E=>{E(O)})}function P(){if(a!=="pending")return;m();const w=l.shift();if(w===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(A(),y())},n.timeout);return}y();return}const C={status:"pending",resource:w,callback:(O,M)=>{I(C,O,M)}};_.push(C),f++,h=setTimeout(P,n.rotate),e(w,t,C.callback)}return setTimeout(P),b}function $r(n){const t={...uc,...n};let e=[];function o(){e=e.filter(s=>s().status==="pending")}function r(s,a,f){const d=fc(t,s,a,(h,_)=>{o(),f&&f(h,_)});return e.push(d),d}function i(s){return e.find(a=>s(a))||null}return{query:r,find:i,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:o}}function Jn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const xt=Object.create(null),gt=["https://api.simplesvg.com","https://api.unisvg.com"],Ut=[];for(;gt.length>0;)gt.length===1||Math.random()>.5?Ut.push(gt.shift()):Ut.push(gt.pop());xt[""]=Jn({resources:["https://api.iconify.design"].concat(Ut)});function Uo(n,t){const e=Jn(t);return e===null?!1:(xt[n]=e,!0)}function en(n){return xt[n]}function dc(){return Object.keys(xt)}function Ho(){}const cn=Object.create(null);function pc(n){if(!cn[n]){const t=en(n);if(!t)return;const e=$r(t),o={config:t,redundancy:e};cn[n]=o}return cn[n]}function xr(n,t,e){let o,r;if(typeof n=="string"){const i=Sn(n);if(!i)return e(void 0,424),Ho;r=i.send;const l=pc(n);l&&(o=l.redundancy)}else{const i=Jn(n);if(i){o=$r(i);const l=n.resources?n.resources[0]:"",s=Sn(l);s&&(r=s.send)}}return!o||!r?(e(void 0,424),Ho):o.query(t,r,e)().abort}const zo="iconify2",St="iconify",ei=St+"-count",Jo=St+"-version",ti=36e5,hc=168;function An(n,t){try{return n.getItem(t)}catch{}}function Gn(n,t,e){try{return n.setItem(t,e),!0}catch{}}function Go(n,t){try{n.removeItem(t)}catch{}}function Tn(n,t){return Gn(n,ei,t.toString())}function In(n){return parseInt(An(n,ei))||0}const lt={local:!0,session:!0},ni={local:new Set,session:new Set};let Vn=!1;function _c(n){Vn=n}let Nt=typeof window>"u"?{}:window;function oi(n){const t=n+"Storage";try{if(Nt&&Nt[t]&&typeof Nt[t].length=="number")return Nt[t]}catch{}lt[n]=!1}function ri(n,t){const e=oi(n);if(!e)return;const o=An(e,Jo);if(o!==zo){if(o){const s=In(e);for(let a=0;a<s;a++)Go(e,St+a.toString())}Gn(e,Jo,zo),Tn(e,0);return}const r=Math.floor(Date.now()/ti)-hc,i=s=>{const a=St+s.toString(),f=An(e,a);if(typeof f=="string"){try{const d=JSON.parse(f);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>r&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&t(d,s))return!0}catch{}Go(e,a)}};let l=In(e);for(let s=l-1;s>=0;s--)i(s)||(s===l-1?(l--,Tn(e,l)):ni[n].add(s))}function ii(){if(!Vn){_c(!0);for(const n in lt)ri(n,t=>{const e=t.data,o=t.provider,r=e.prefix,i=rt(o,r);if(!zn(i,e).length)return!1;const l=e.lastModified||-1;return i.lastModifiedCached=i.lastModifiedCached?Math.min(i.lastModifiedCached,l):l,!0})}}function mc(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const o in lt)ri(o,r=>{const i=r.data;return r.provider!==n.provider||i.prefix!==n.prefix||i.lastModified===t});return!0}function gc(n,t){Vn||ii();function e(o){let r;if(!lt[o]||!(r=oi(o)))return;const i=ni[o];let l;if(i.size)i.delete(l=Array.from(i).shift());else if(l=In(r),!Tn(r,l+1))return;const s={cached:Math.floor(Date.now()/ti),provider:n.provider,data:t};return Gn(r,St+l.toString(),JSON.stringify(s))}t.lastModified&&!mc(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function Vo(){}function vc(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,lc(n)}))}function bc(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:o}=n,r=n.iconsToLoad;delete n.iconsToLoad;let i;if(!r||!(i=Sn(e)))return;i.prepare(e,o,r).forEach(s=>{xr(e,s,a=>{if(typeof a!="object")s.icons.forEach(f=>{n.missing.add(f)});else try{const f=zn(n,a);if(!f.length)return;const d=n.pendingIcons;d&&f.forEach(h=>{d.delete(h)}),gc(n,a)}catch(f){console.error(f)}vc(n)})})}))}const Wn=(n,t)=>{const e=cc(n,!0,Yr()),o=ic(e);if(!o.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(o.loaded,o.missing,o.pending,Vo)}),()=>{a=!1}}const r=Object.create(null),i=[];let l,s;return o.pending.forEach(a=>{const{provider:f,prefix:d}=a;if(d===s&&f===l)return;l=f,s=d,i.push(rt(f,d));const h=r[f]||(r[f]=Object.create(null));h[d]||(h[d]=[])}),o.pending.forEach(a=>{const{provider:f,prefix:d,name:h}=a,_=rt(f,d),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),r[f][d].push(h))}),i.forEach(a=>{const{provider:f,prefix:d}=a;r[f][d].length&&bc(a,r[f][d])}),t?ac(t,o,i):Vo},kc=n=>new Promise((t,e)=>{const o=typeof n=="string"?Ot(n,!0):n;if(!o){e(n);return}Wn([o||n],r=>{if(r.length&&o){const i=Ct(o);if(i){t({...Pt,...i});return}}e(n)})});function yc(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function wc(n,t){const e=typeof n=="string"?Ot(n,!0,!0):null;if(!e){const i=yc(n);return{value:n,data:i}}const o=Ct(e);if(o!==void 0||!e.prefix)return{value:n,name:e,data:o};const r=Wn([e],()=>t(n,e,Ct(e)));return{value:n,name:e,loading:r}}function un(n){return n.hasAttribute("inline")}let li=!1;try{li=navigator.vendor.indexOf("Apple")===0}catch{}function Cc(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(li||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Sc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Ac=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Pn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const o=n.split(Sc);if(o===null||!o.length)return n;const r=[];let i=o.shift(),l=Ac.test(i);for(;;){if(l){const s=parseFloat(i);isNaN(s)?r.push(i):r.push(Math.ceil(s*t*e)/e)}else r.push(i);if(i=o.shift(),i===void 0)return r.join("");l=!l}}const Tc=n=>n==="unset"||n==="undefined"||n==="none";function si(n,t){const e={...Pt,...n},o={...Vr,...t},r={left:e.left,top:e.top,width:e.width,height:e.height};let i=e.body;[e,o].forEach(m=>{const k=[],v=m.hFlip,b=m.vFlip;let y=m.rotate;v?b?y+=2:(k.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),k.push("scale(-1 1)"),r.top=r.left=0):b&&(k.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),k.push("scale(1 -1)"),r.top=r.left=0);let A;switch(y<0&&(y-=Math.floor(y/4)*4),y=y%4,y){case 1:A=r.height/2+r.top,k.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:k.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:A=r.width/2+r.left,k.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}y%2===1&&(r.left!==r.top&&(A=r.left,r.left=r.top,r.top=A),r.width!==r.height&&(A=r.width,r.width=r.height,r.height=A)),k.length&&(i='<g transform="'+k.join(" ")+'">'+i+"</g>")});const l=o.width,s=o.height,a=r.width,f=r.height;let d,h;l===null?(h=s===null?"1em":s==="auto"?f:s,d=Pn(h,a/f)):(d=l==="auto"?a:l,h=s===null?Pn(d,f/a):s==="auto"?f:s);const _={},g=(m,k)=>{Tc(k)||(_[m]=k.toString())};return g("width",d),g("height",h),_.viewBox=r.left.toString()+" "+r.top.toString()+" "+a.toString()+" "+f.toString(),{attributes:_,body:i}}const Ic=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let Vt=Ic();function Pc(n){Vt=n}function Oc(){return Vt}function Lc(n,t){const e=en(n);if(!e)return 0;let o;if(!e.maxURL)o=0;else{let r=0;e.resources.forEach(l=>{r=Math.max(r,l.length)});const i=t+".json?icons=";o=e.maxURL-r-e.path.length-i.length}return o}function Ec(n){return n===404}const Mc=(n,t,e)=>{const o=[],r=Lc(n,t),i="icons";let l={type:i,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,f)=>{s+=a.length+1,s>=r&&f>0&&(o.push(l),l={type:i,provider:n,prefix:t,icons:[]},s=a.length),l.icons.push(a)}),o.push(l),o};function Rc(n){if(typeof n=="string"){const t=en(n);if(t)return t.path}return"/"}const jc=(n,t,e)=>{if(!Vt){e("abort",424);return}let o=Rc(t.provider);switch(t.type){case"icons":{const i=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});o+=i+".json?"+a.toString();break}case"custom":{const i=t.uri;o+=i.slice(0,1)==="/"?i.slice(1):i;break}default:e("abort",400);return}let r=503;Vt(n+o).then(i=>{const l=i.status;if(l!==200){setTimeout(()=>{e(Ec(l)?"abort":"next",l)});return}return r=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?e("abort",i):e("next",r)});return}setTimeout(()=>{e("success",i)})}).catch(()=>{e("next",r)})},Nc={prepare:Mc,send:jc};function Wo(n,t){switch(n){case"local":case"session":lt[n]=t;break;case"all":for(const e in lt)lt[e]=t;break}}const fn="data-style";let ai="";function Dc(n){ai=n}function Qo(n,t){let e=Array.from(n.childNodes).find(o=>o.hasAttribute&&o.hasAttribute(fn));e||(e=document.createElement("style"),e.setAttribute(fn,fn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+ai}function ci(){Fo("",Nc),Yr(!0);let n;try{n=window}catch{}if(n){if(ii(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,o="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Bo(r))&&console.error(o)}catch{console.error(o)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const o in e){const r="IconifyProviders["+o+"] is invalid.";try{const i=e[o];if(typeof i!="object"||!i||i.resources===void 0)continue;Uo(o,i)||console.error(r)}catch{console.error(r)}}}}return{enableCache:e=>Wo(e,!0),disableCache:e=>Wo(e,!1),iconExists:oc,getIcon:rc,listIcons:nc,addIcon:Xr,addCollection:Bo,calculateSize:Pn,buildIcon:si,loadIcons:Wn,loadIcon:kc,addAPIProvider:Uo,appendCustomStyle:Dc,_api:{getAPIConfig:en,setAPIModule:Fo,sendAPIQuery:xr,setFetch:Pc,getFetch:Oc,listAPIProviders:dc}}}function ui(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)e+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function qc(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Bc(n){return'url("data:image/svg+xml,'+qc(n)+'")'}const On={"background-color":"currentColor"},fi={"background-color":"transparent"},Ko={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Yo={"-webkit-mask":On,mask:On,background:fi};for(const n in Yo){const t=Yo[n];for(const e in Ko)t[n+"-"+e]=Ko[e]}function Xo(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Fc(n,t,e){const o=document.createElement("span");let r=n.body;r.indexOf("<a")!==-1&&(r+="<!-- "+Date.now()+" -->");const i=n.attributes,l=ui(r,{...i,width:t.width+"",height:t.height+""}),s=Bc(l),a=o.style,f={"--svg":s,width:Xo(i.width),height:Xo(i.height),...e?On:fi};for(const d in f)a.setProperty(d,f[d]);return o}function Uc(n){const t=document.createElement("span"),e=n.attributes;let o="";return e.width||(o="width: inherit;"),e.height||(o+="height: inherit;"),o&&(e.style=o),t.innerHTML=ui(n.body,e),t.firstChild}function Zo(n,t){const e=t.icon.data,o=t.customisations,r=si(e,o);o.preserveAspectRatio&&(r.attributes.preserveAspectRatio=o.preserveAspectRatio);const i=t.renderedMode;let l;switch(i){case"svg":l=Uc(r);break;default:l=Fc(r,{...Pt,...e},i==="mask")}const s=Array.from(n.childNodes).find(a=>{const f=a.tagName&&a.tagName.toUpperCase();return f==="SPAN"||f==="SVG"});s?l.tagName==="SPAN"&&s.tagName===l.tagName?s.setAttribute("style",l.getAttribute("style")):n.replaceChild(l,s):n.appendChild(l)}function $o(n,t,e){const o=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:o}}function Hc(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const o=t.get(n);if(o)return o;const r=["icon","mode","inline","width","height","rotate","flip"],i=class extends e{constructor(){super();Lt(this,"_shadowRoot");Lt(this,"_state");Lt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),f=un(this);Qo(a,f),this._state=$o({value:""},f),this._queueCheck()}static get observedAttributes(){return r.slice(0)}attributeChangedCallback(a){if(a==="inline"){const f=un(this),d=this._state;f!==d.inline&&(d.inline=f,Qo(this._shadowRoot,f))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return un(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const f=this._shadowRoot;if(a.renderedMode==="svg")try{f.lastChild.setCurrentTime(0);return}catch{}Zo(f,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,f=this.getAttribute("icon");if(f!==a.icon.value){this._iconChanged(f);return}if(!a.rendered)return;const d=this.getAttribute("mode"),h=Do(this);(a.attrMode!==d||Ya(a.customisations,h))&&this._renderIcon(a.icon,h,d)}_iconChanged(a){const f=wc(a,(d,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==d)return;const m={value:d,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});f.data?this._gotIconData(f):this._state=$o(f,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,Do(this),this.getAttribute("mode"))}_renderIcon(a,f,d){const h=Cc(a.data.body,d),_=this._state.inline;Zo(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:f,attrMode:d,renderedMode:h})}};r.forEach(s=>{s in i.prototype||Object.defineProperty(i.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const l=ci();for(const s in l)i[s]=i.prototype[s]=l[s];return t.define(n,i),i}Hc()||ci();function xo(n,t,e){const o=n.slice();return o[18]=t[e],o}function er(n,t,e){const o=n.slice();return o[18]=t[e],o}function tr(n,t,e){const o=n.slice();return o[60]=t[e],o}function zc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M,E,R=[],L=new Map,D,j,F,G,te,X,Q=n[17];const U=J=>J[60].id;for(let J=0;J<Q.length;J+=1){let x=tr(n,Q,J),_e=U(x);L.set(_e,R[J]=nr(_e,x))}let W=n[13]&&or(n),z=n[14]&&ir(n),V=n[15]&&sr(n);return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",i=p("option"),i.textContent="January",l=p("option"),l.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",k=p("option"),k.textContent="November",v=p("option"),v.textContent="December",b=S(),y=p("input"),A=S(),I=p("button"),I.textContent="Add Log Entry",P=S(),w=p("div"),C=p("table"),O=p("thead"),O.innerHTML=`<tr><th scope="col" class="svelte-fs4gn5">Date</th> 
            <th scope="col" class="svelte-fs4gn5">Book</th> 
            <th scope="col" class="svelte-fs4gn5">Read</th> 
            <th scope="col" class="svelte-fs4gn5">Comment</th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th> 
            <th class="align-center svelte-fs4gn5" scope="col"></th></tr>`,M=S(),E=p("tbody");for(let J=0;J<R.length;J+=1)R[J].c();D=S(),W&&W.c(),j=S(),z&&z.c(),F=S(),V&&V.c(),G=ve(),r.__value="All",r.value=r.__value,i.__value="January",i.value=i.__value,l.__value="February",l.value=l.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,k.__value="November",k.value=k.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-fs4gn5"),n[6]===void 0&&xe(()=>n[28].call(o)),u(y,"type","search"),u(y,"placeholder","Filter logs..."),u(y,"class","svelte-fs4gn5"),u(e,"class","flex svelte-fs4gn5"),u(I,"class","btn btn-primary svelte-fs4gn5"),u(C,"class","table-container svelte-fs4gn5"),u(C,"role","grid"),u(w,"class","grid"),u(t,"class","container svelte-fs4gn5")},m(J,x){q(J,t,x),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,k),c(o,v),Ge(o,n[6],!0),c(e,b),c(e,y),Y(y,n[16]),c(t,A),c(t,I),c(t,P),c(t,w),c(w,C),c(C,O),c(C,M),c(C,E);for(let _e=0;_e<R.length;_e+=1)R[_e]&&R[_e].m(E,null);q(J,D,x),W&&W.m(J,x),q(J,j,x),z&&z.m(J,x),q(J,F,x),V&&V.m(J,x),q(J,G,x),te||(X=[T(o,"change",n[28]),T(o,"change",n[19]),T(y,"input",n[29]),T(I,"click",n[20])],te=!0)},p(J,x){x[0]&64&&Ge(o,J[6]),x[0]&65536&&y.value!==J[16]&&Y(y,J[16]),x[0]&6428735&&(Q=J[17],R=He(R,x,U,1,J,Q,L,E,Ve,nr,null,tr)),J[13]?W?W.p(J,x):(W=or(J),W.c(),W.m(j.parentNode,j)):W&&(W.d(1),W=null),J[14]?z?z.p(J,x):(z=ir(J),z.c(),z.m(F.parentNode,F)):z&&(z.d(1),z=null),J[15]?V?V.p(J,x):(V=sr(J),V.c(),V.m(G.parentNode,G)):V&&(V.d(1),V=null)},d(J){J&&N(t);for(let x=0;x<R.length;x+=1)R[x].d();J&&N(D),W&&W.d(J),J&&N(j),z&&z.d(J),J&&N(F),V&&V.d(J),J&&N(G),te=!1,se(X)}}}function nr(n,t){let e,o,r=ar(t[60].date)+"",i,l,s,a=t[60].title+"",f,d,h,_=t[60].pages_read+"",g,m,k,v=t[60].comment+"",b,y,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te,X,Q;return{key:n,first:null,c(){e=p("tr"),o=p("td"),i=B(r),l=S(),s=p("td"),f=B(a),d=S(),h=p("td"),g=B(_),m=S(),k=p("td"),b=B(v),y=S(),A=p("td"),I=p("a"),P=p("iconify-icon"),L=S(),D=p("td"),j=p("a"),F=p("iconify-icon"),te=S(),u(o,"class","svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),u(h,"class","svelte-fs4gn5"),u(k,"class","svelte-fs4gn5"),Mt(P,"id","lapicito"),Mt(P,"icon","mdi:edit"),Mt(P,"class","svelte-fs4gn5"),u(I,"href","#edit"),u(I,"data-id",w=t[60].id),u(I,"data-date",C=t[60].date),u(I,"data-title",O=t[60].title),u(I,"data-pages",M=t[60].pages),u(I,"data-pagesread",E=t[60].pages_read),u(I,"data-comment",R=t[60].comment),u(A,"class","svelte-fs4gn5"),Mt(F,"icon","mdi:delete"),u(j,"id",G=t[60].id),u(j,"href","#delete"),u(j,"class","delete svelte-fs4gn5"),u(D,"class","svelte-fs4gn5"),this.first=e},m(U,W){q(U,e,W),c(e,o),c(o,i),c(e,l),c(e,s),c(s,f),c(e,d),c(e,h),c(h,g),c(e,m),c(e,k),c(k,b),c(e,y),c(e,A),c(A,I),c(I,P),c(e,L),c(e,D),c(D,j),c(j,F),c(e,te),X||(Q=[T(I,"click",t[30]),T(I,"click",t[31]),T(I,"click",t[32]),T(I,"click",t[33]),T(I,"click",t[34]),T(I,"click",t[35]),T(I,"click",t[36]),T(I,"click",t[21]),T(j,"click",t[37]),T(j,"click",t[22])],X=!0)},p(U,W){t=U,W[0]&131072&&r!==(r=ar(t[60].date)+"")&&ie(i,r),W[0]&131072&&a!==(a=t[60].title+"")&&ie(f,a),W[0]&131072&&_!==(_=t[60].pages_read+"")&&ie(g,_),W[0]&131072&&v!==(v=t[60].comment+"")&&ie(b,v),W[0]&131072&&w!==(w=t[60].id)&&u(I,"data-id",w),W[0]&131072&&C!==(C=t[60].date)&&u(I,"data-date",C),W[0]&131072&&O!==(O=t[60].title)&&u(I,"data-title",O),W[0]&131072&&M!==(M=t[60].pages)&&u(I,"data-pages",M),W[0]&131072&&E!==(E=t[60].pages_read)&&u(I,"data-pagesread",E),W[0]&131072&&R!==(R=t[60].comment)&&u(I,"data-comment",R),W[0]&131072&&G!==(G=t[60].id)&&u(j,"id",G)},d(U){U&&N(e),X=!1,se(Q)}}}function or(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te=n[10];const X=Q=>Q[18].id;for(let Q=0;Q<te.length;Q+=1){let U=er(n,te,Q),W=X(U);g.set(W,_[Q]=rr(W,U))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Log Entry`),l=S(),s=p("form"),a=p("label"),a.textContent="Book",f=S(),d=p("select"),h=p("option"),h.textContent="Please select an option";for(let Q=0;Q<_.length;Q+=1)_[Q].c();m=S(),k=p("label"),v=B(`Date\r
            `),b=p("input"),y=S(),A=p("label"),I=B(`Pages Read\r
            `),P=p("input"),w=S(),C=p("label"),O=B(`Comment\r
            `),M=p("input"),E=S(),R=p("footer"),L=p("a"),L.textContent="Cancel",D=S(),j=p("a"),j.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(d,"id","book"),n[18]===void 0&&xe(()=>n[38].call(d)),u(b,"id","date"),u(b,"name","date"),u(b,"type","date"),b.required=!0,u(k,"for","date"),u(P,"id","pagesRead"),u(P,"name","pagesRead"),u(P,"type","number"),P.required=!0,u(A,"for","pagesRead"),u(M,"id","comment"),u(M,"name","comment"),u(M,"type","textarea"),M.required=!0,u(C,"for","comment"),u(L,"href","#cancel"),u(L,"role","button"),u(L,"class","secondary svelte-fs4gn5"),u(j,"href","#confirm"),u(j,"role","button"),u(j,"class","svelte-fs4gn5"),u(R,"class","svelte-fs4gn5"),t.open=!0},m(Q,U){q(Q,t,U),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(s,f),c(s,d),c(d,h);for(let W=0;W<_.length;W+=1)_[W]&&_[W].m(d,null);Ge(d,n[18],!0),c(s,m),c(s,k),c(k,v),c(k,b),Y(b,n[7]),c(s,y),c(s,A),c(A,I),c(A,P),Y(P,n[8]),c(s,w),c(s,C),c(C,O),c(C,M),Y(M,n[9]),c(e,E),c(e,R),c(R,L),c(R,D),c(R,j),F||(G=[T(r,"click",n[20]),T(d,"change",n[38]),T(b,"input",n[39]),T(P,"input",n[40]),T(M,"input",n[41]),T(s,"submit",Be(n[27])),T(L,"click",n[20]),T(j,"click",n[24]),T(j,"click",n[20])],F=!0)},p(Q,U){U[0]&1024&&(te=Q[10],_=He(_,U,X,1,Q,te,g,d,Ve,rr,null,er)),U[0]&263168&&Ge(d,Q[18]),U[0]&128&&Y(b,Q[7]),U[0]&256&&Je(P.value)!==Q[8]&&Y(P,Q[8]),U[0]&512&&Y(M,Q[9])},d(Q){Q&&N(t);for(let U=0;U<_.length;U+=1)_[U].d();F=!1,se(G)}}}function rr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=B(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){q(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&ie(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function ir(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O,M=[],E=new Map,R,L,D,j,F,G,te,X=n[10];const Q=U=>U[18].id;for(let U=0;U<X.length;U+=1){let W=xo(n,X,U),z=Q(W);E.set(z,M[U]=lr(z,W))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Edit Entry Details`),l=S(),s=p("form"),a=p("label"),f=B(`Date\r
            `),d=p("input"),h=S(),_=p("label"),g=B(`Pages Read\r
            `),m=p("input"),k=S(),v=p("label"),b=B(`Comment\r
            `),y=p("input"),A=S(),I=p("label"),I.textContent="Book",P=S(),w=p("select"),C=p("option"),O=B(n[3]);for(let U=0;U<M.length;U+=1)M[U].c();R=S(),L=p("footer"),D=p("a"),D.textContent="Cancel",j=S(),F=p("a"),F.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","date"),u(d,"name","date"),u(d,"type","date"),u(d,"placeholder",n[2]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(y,"id","comment"),u(y,"name","comment"),u(y,"type","text"),u(v,"for","comment"),u(I,"for","book"),C.__value=n[3],C.value=C.__value,C.selected=!0,w.disabled=!0,u(w,"id","book"),n[3]===void 0&&xe(()=>n[45].call(w)),u(D,"href","#cancel"),u(D,"role","button"),u(D,"class","secondary svelte-fs4gn5"),u(F,"href","#confirm"),u(F,"role","button"),u(F,"class","svelte-fs4gn5"),u(L,"data-button","spaceBetween"),u(L,"class","svelte-fs4gn5"),t.open=!0},m(U,W){q(U,t,W),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[2]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[4]),c(s,k),c(s,v),c(v,b),c(v,y),Y(y,n[5]),c(s,A),c(s,I),c(s,P),c(s,w),c(w,C),c(C,O);for(let z=0;z<M.length;z+=1)M[z]&&M[z].m(w,null);Ge(w,n[3],!0),c(e,R),c(e,L),c(L,D),c(L,j),c(L,F),G||(te=[T(r,"click",n[21]),T(d,"input",n[42]),T(m,"input",n[43]),T(y,"input",n[44]),T(w,"change",n[45]),T(s,"submit",Be(n[26])),T(D,"click",n[21]),T(F,"click",n[25]),T(F,"click",n[21])],G=!0)},p(U,W){W[0]&4&&u(d,"placeholder",U[2]),W[0]&4&&Y(d,U[2]),W[0]&16&&Je(m.value)!==U[4]&&Y(m,U[4]),W[0]&32&&y.value!==U[5]&&Y(y,U[5]),W[0]&8&&ie(O,U[3]),W[0]&1032&&(C.__value=U[3],C.value=C.__value),W[0]&1024&&(X=U[10],M=He(M,W,Q,1,U,X,E,w,Ve,lr,null,xo)),W[0]&1032&&Ge(w,U[3])},d(U){U&&N(t);for(let W=0;W<M.length;W+=1)M[W].d();G=!1,se(te)}}}function lr(n,t){let e,o=t[18].title+"",r,i;return{key:n,first:null,c(){e=p("option"),r=B(o),e.__value=i=t[18].id,e.value=e.__value,this.first=e},m(l,s){q(l,e,s),c(e,r)},p(l,s){t=l,s[0]&1024&&o!==(o=t[18].title+"")&&ie(r,o),s[0]&1024&&i!==(i=t[18].id)&&(e.__value=i,e.value=e.__value)},d(l){l&&N(e)}}}function sr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g;return{c(){t=p("dialog"),e=p("article"),o=p("h3"),o.textContent="Confirm Delete",r=S(),i=p("p"),i.textContent="Are you sure you want to delete this entry?",l=S(),s=p("footer"),a=p("div"),f=p("a"),f.textContent="Cancel",d=S(),h=p("a"),h.textContent="Delete",u(o,"class","svelte-fs4gn5"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-fs4gn5"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-fs4gn5"),u(s,"class","svelte-fs4gn5"),t.open=!0},m(m,k){q(m,t,k),c(t,e),c(e,o),c(e,r),c(e,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),c(a,h),_||(g=[T(f,"click",n[22]),T(h,"click",n[23]),T(h,"click",n[22])],_=!0)},p:ne,d(m){m&&N(t),_=!1,se(g)}}}function Jc(n){let t,e=Ke&&zc(n);return{c(){e&&e.c(),t=ve()},m(o,r){e&&e.m(o,r),q(o,t,r)},p(o,r){Ke&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&N(t)}}}function ar(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Gc(n,t,e){let o;Ee(n,Ke,K=>e(48,o=K));let r=[],i,l,s,a,f,d;const h=["January","February","March","April","May","June","July","August","September","October","November","December"],_=new Date;let g=h[_.getMonth()],m=_.getMonth()+1,k=_.getFullYear(),v="";m<10?m===9?v=`date >= '${k}-0${m}-01' && date < '${k}-${m+1}-01'`:v=`date >= '${k}-0${m}-01' && date < '${k}-0${m+1}-01'`:m===12?v=`date >= '${k}-${m}-01' && date < '${k+1}-01-01'`:v=`date >= '${k}-${m}-01' && date < '${k}-${m+1}-01'`;let b=g,y,A,I,P=[],w,C,O;async function M(){try{r=await de.collection("view_readingLog").getFullList({filter:v,sort:"-date"})}catch(K){re.error(K,{position:ue})}try{const K=await de.collection("books").getFullList({sort:"-created"});e(10,P=K),W()}catch(K){re.error(K,{position:ue})}}st(async()=>{M()});function E(){if(b&&_.getMonth()>4)switch(b){case"All":v="";break;case"January":v="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":v="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":v="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":v="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":v="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":v="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":v="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":v="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":v="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":v="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":v="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":v="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],M()}let R=!1;function L(){e(13,R=!R)}let D=!1;function j(){e(14,D=!D)}let F=!1;function G(){e(15,F=!F)}async function te(){try{console.log(i),await de.collection("reading").delete(i),re.success("Entry deleted!",{position:ue}),M()}catch(K){re.error(K,{position:ue})}}async function X(){if(y&&A){try{const K={reader:o.id,book:w,date:y,pages_read:+A,comment:I},Pe=await de.collection("reading").create(K);re.success("Log saved!",{position:ue})}catch(K){re.error(K,{position:ue})}e(7,y=null),e(8,A=""),e(18,w="")}M()}async function Q(){if(+f<+O)try{const K=new FormData;K.append("pages_read",f),K.append("comment",d),s&&K.append("date",s);const Pe=await de.collection("reading").update(l,K);re.success("Log entry updated!",{position:ue}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){re.error(K,{position:ue})}else if(+f>+O)if(+f+ +O<=+C)try{const K=new FormData;K.append("pages_read",f),K.append("comment",d),s&&K.append("date",s);const Pe=await de.collection("reading").update(l,K);re.success("Log entry updated!",{position:ue}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){re.error(K,{position:ue})}else re.error("Pages exceeded",{position:ue});else try{const K=new FormData;K.append("comment",d),s&&K.append("date",s);const Pe=await de.collection("reading").update(l,K);re.success("Log entry updated!",{position:ue}),e(3,a=""),e(4,f=""),e(2,s=null),M()}catch(K){re.error(K,{position:ue})}}let U="";function W(){const K=U.toLowerCase();e(17,z=r.filter(Pe=>Pe.title.toLowerCase().includes(K)||Pe.reader_name.toLowerCase().includes(K)||Pe.date.toLowerCase().includes(K)))}let z=r;En(()=>{W()});function V(K){qe.call(this,n,K)}function J(K){qe.call(this,n,K)}function x(){b=pt(this),e(6,b)}function _e(){U=this.value,e(16,U)}const Ne=K=>{e(1,l=K.currentTarget.getAttribute("data-id"))},$=K=>{e(2,s=K.currentTarget.getAttribute("data-date"))},Se=K=>{e(3,a=K.currentTarget.getAttribute("data-title"))},pe=K=>{e(12,O=K.currentTarget.getAttribute("data-pagesread"))},oe=K=>{e(4,f=K.currentTarget.getAttribute("data-pagesread"))},he=K=>{e(11,C=K.currentTarget.getAttribute("data-pages"))},ke=K=>{e(5,d=K.currentTarget.getAttribute("data-comment"))},Ie=K=>{e(0,i=K.currentTarget.getAttribute("id"))};function We(){w=pt(this),e(18,w),e(10,P)}function Ae(){y=this.value,e(7,y)}function le(){A=Je(this.value),e(8,A)}function ye(){I=this.value,e(9,I)}function Ye(){s=this.value,e(2,s)}function Fe(){f=Je(this.value),e(4,f)}function Te(){d=this.value,e(5,d)}function Xe(){a=pt(this),e(3,a),e(10,P)}return[i,l,s,a,f,d,b,y,A,I,P,C,O,R,D,F,U,z,w,E,L,j,G,te,X,Q,V,J,x,_e,Ne,$,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe]}class Vc extends Ce{constructor(t){super(),we(this,t,Gc,Jc,be,{},null,[-1,-1,-1])}}function cr(n,t,e){const o=n.slice();return o[43]=t[e],o}function Wc(n){let t;function e(i,l){return i[13]?Kc:Yc}let o=e(n),r=o(n);return{c(){r.c(),t=ve()},m(i,l){r.m(i,l),q(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r.d(1),r=o(i),r&&(r.c(),r.m(t.parentNode,t)))},d(i){r.d(i),i&&N(t)}}}function Qc(n){let t,e,o,r,i=[],l=new Map,s,a,f,d=n[0];const h=g=>g[43].id;for(let g=0;g<d.length;g+=1){let m=cr(n,d,g),k=h(m);l.set(k,i[g]=fr(k,m))}let _=n[14]&&dr(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",o=S(),r=p("div");for(let g=0;g<i.length;g+=1)i[g].c();s=S(),a=S(),_&&_.c(),f=ve(),me(e,"text-align","center"),u(r,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){q(g,t,m),c(t,e),c(t,o),c(t,r);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(r,null);q(g,s,m),q(g,a,m),_&&_.m(g,m),q(g,f,m)},p(g,m){m[0]&335871&&(d=g[0],i=He(i,m,h,1,g,d,l,r,Ve,fr,null,cr)),g[14]?_?_.p(g,m):(_=dr(g),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(g){g&&N(t);for(let m=0;m<i.length;m+=1)i[m].d();g&&N(s),g&&N(a),_&&_.d(g),g&&N(f)}}}function Kc(n){let t,e,o,r=n[15].email+"",i,l;return{c(){t=p("div"),e=p("p"),o=B("A verification email has been sent to "),i=B(r),l=B("."),u(t,"class","container")},m(s,a){q(s,t,a),c(t,e),c(e,o),c(e,i),c(e,l)},p(s,a){a[0]&32768&&r!==(r=s[15].email+"")&&ie(i,r)},d(s){s&&N(t)}}}function Yc(n){let t,e,o,r,i,l;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",o=S(),r=p("a"),r.textContent="Verify Account",u(r,"href","#verify"),u(r,"role","button"),u(r,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){q(s,t,a),c(t,e),c(t,o),c(t,r),i||(l=T(r,"click",n[17]),i=!0)},p:ne,d(s){s&&N(t),i=!1,l()}}}function ur(n){let t,e,o,r,i,l,s=n[43].title+"",a,f,d,h,_=n[43].author+"",g,m,k,v,b,y,A,I,P,w,C,O,M=n[43].reader_name+"",E,R,L,D,j,F,G,te;function X(J,x){return J[43].cover?Zc:Xc}let Q=X(n),U=Q(n);function W(J,x){return J[43].pages_read?xc:$c}let z=W(n),V=z(n);return{c(){t=p("article"),e=p("div"),o=p("div"),U.c(),r=S(),i=p("hgroup"),l=p("h4"),a=B(s),f=S(),d=p("p"),h=B("By: "),g=B(_),m=S(),k=p("br"),v=S(),b=p("figure"),y=p("a"),A=p("img"),O=S(),E=B(M),R=S(),L=p("div"),D=S(),j=p("footer"),V.c(),F=S(),u(o,"class","image-wrapper"),ge(A.src,I=n[43].avatar_from_url)||u(A,"src",I),u(A,"alt","avatar"),u(A,"class","svelte-1vqx4aq"),u(y,"href","#profile"),u(y,"data-readerid",P=n[43].reader),u(y,"data-reader",w=n[43].reader_name),u(y,"data-avatar",C=n[43].avatar_from_url),u(y,"class","svelte-1vqx4aq"),u(b,"class","avatar avatar-sm svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(j,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(J,x){q(J,t,x),c(t,e),c(e,o),U.m(o,null),c(e,r),c(e,i),c(i,l),c(l,a),c(i,f),c(i,d),c(d,h),c(d,g),c(d,m),c(d,k),c(d,v),c(d,b),c(b,y),c(y,A),c(d,O),c(d,E),c(t,R),c(t,L),c(t,D),c(t,j),V.m(j,null),c(t,F),G||(te=[T(y,"click",n[37]),T(y,"click",n[38]),T(y,"click",n[39]),T(y,"click",au)],G=!0)},p(J,x){Q===(Q=X(J))&&U?U.p(J,x):(U.d(1),U=Q(J),U&&(U.c(),U.m(o,null))),x[0]&1&&s!==(s=J[43].title+"")&&ie(a,s),x[0]&1&&_!==(_=J[43].author+"")&&ie(g,_),x[0]&1&&!ge(A.src,I=J[43].avatar_from_url)&&u(A,"src",I),x[0]&1&&P!==(P=J[43].reader)&&u(y,"data-readerid",P),x[0]&1&&w!==(w=J[43].reader_name)&&u(y,"data-reader",w),x[0]&1&&C!==(C=J[43].avatar_from_url)&&u(y,"data-avatar",C),x[0]&1&&M!==(M=J[43].reader_name+"")&&ie(E,M),z===(z=W(J))&&V?V.p(J,x):(V.d(1),V=z(J),V&&(V.c(),V.m(j,null)))},d(J){J&&N(t),U.d(),V.d(),G=!1,se(te)}}}function Xc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[43].googleCover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(v,b){q(v,t,b),c(t,e),m||(k=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!ge(e.src,o=v[43].googleCover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),b[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[43].googleCover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,se(k)}}}function Zc(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k;return{c(){t=p("a"),e=p("img"),ge(e.src,o=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",o),u(e,"alt",r=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",i=n[43].bookId),u(t,"data-reader",l=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",f=n[43].pages),u(t,"data-pagesread",d=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(v,b){q(v,t,b),c(t,e),m||(k=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],m=!0)},p(v,b){b[0]&1&&!ge(e.src,o=v[16]+v[43].bookId+"/"+v[43].cover)&&u(e,"src",o),b[0]&1&&r!==(r=v[43].title)&&u(e,"alt",r),b[0]&1&&i!==(i=v[43].bookId)&&u(t,"data-id",i),b[0]&1&&l!==(l=v[43].reader_name)&&u(t,"data-reader",l),b[0]&1&&s!==(s=v[43].title)&&u(t,"data-title",s),b[0]&1&&a!==(a=v[43].author)&&u(t,"data-author",a),b[0]&1&&f!==(f=v[43].pages)&&u(t,"data-pages",f),b[0]&1&&d!==(d=v[43].pages_read)&&u(t,"data-pagesread",d),b[0]&1&&h!==(h=v[43].review)&&u(t,"data-review",h),b[0]&1&&_!==(_=v[43].avatar_from_url)&&u(t,"data-avatar",_),b[0]&1&&g!==(g=v[16]+v[43].bookId+"/"+v[43].cover)&&u(t,"data-cover",g)},d(v){v&&N(t),m=!1,se(k)}}}function $c(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,o){q(e,t,o)},p:ne,d(e){e&&N(t)}}}function xc(n){let t,e;return{c(){t=p("progress"),t.value=e=pr(n[43].pages_read,n[43].pages),u(t,"max","100")},m(o,r){q(o,t,r)},p(o,r){r[0]&1&&e!==(e=pr(o[43].pages_read,o[43].pages))&&(t.value=e)},d(o){o&&N(t)}}}function fr(n,t){let e,o,r=t[43].pages_read&&ur(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){q(i,e,l),r&&r.m(i,l),q(i,o,l)},p(i,l){t=i,t[43].pages_read?r?r.p(t,l):(r=ur(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function dr(n){let t,e,o,r,i,l,s,a,f,d,h;function _(k,v){if(k[11])return tu;if(k[12])return eu}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
          Book Review`),l=S(),m&&m.c(),s=S(),a=p("footer"),f=p("a"),f.textContent="Close",u(r,"href","#close"),u(r,"class","close svelte-1vqx4aq"),u(f,"href","#cancel"),u(f,"role","button"),u(f,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(k,v){q(k,t,v),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),m&&m.m(e,null),c(e,s),c(e,a),c(a,f),d||(h=[T(r,"click",n[18]),T(f,"click",n[18])],d=!0)},p(k,v){g===(g=_(k))&&m?m.p(k,v):(m&&m.d(1),m=g&&g(k),m&&(m.c(),m.m(e,s)))},d(k){k&&N(t),m&&m.d(),d=!1,se(h)}}}function eu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function k(y,A){return y[10]?ou:nu}let v=k(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=B(n[6]),f=S(),d=p("p"),h=B("By: "),_=B(n[7]),g=S(),b.c(),m=ve(),ge(e.src,o=n[12])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(y,A){q(y,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),q(y,g,A),b.m(y,A),q(y,m,A)},p(y,A){A[0]&4096&&!ge(e.src,o=y[12])&&u(e,"src",o),A[0]&64&&ie(a,y[6]),A[0]&128&&ie(_,y[7]),v===(v=k(y))&&b?b.p(y,A):(b.d(1),b=v(y),b&&(b.c(),b.m(m.parentNode,m)))},d(y){y&&N(t),y&&N(g),b.d(y),y&&N(m)}}}function tu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m;function k(y,A){return y[10]?iu:ru}let v=k(n),b=v(n);return{c(){t=p("figure"),e=p("img"),r=S(),i=p("figcaption"),l=p("hgroup"),s=p("h4"),a=B(n[6]),f=S(),d=p("p"),h=B("By: "),_=B(n[7]),g=S(),b.c(),m=ve(),ge(e.src,o=n[11])||u(e,"src",o),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(l,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(y,A){q(y,t,A),c(t,e),c(t,r),c(t,i),c(i,l),c(l,s),c(s,a),c(l,f),c(l,d),c(d,h),c(d,_),q(y,g,A),b.m(y,A),q(y,m,A)},p(y,A){A[0]&2048&&!ge(e.src,o=y[11])&&u(e,"src",o),A[0]&64&&ie(a,y[6]),A[0]&128&&ie(_,y[7]),v===(v=k(y))&&b?b.p(y,A):(b.d(1),b=v(y),b&&(b.c(),b.m(m.parentNode,m)))},d(y){y&&N(t),y&&N(g),b.d(y),y&&N(m)}}}function nu(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){q(e,t,o)},p:ne,d(e){e&&N(t)}}}function ou(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=B(n[10]),o=S(),r=p("footer"),i=p("cite"),l=B("- "),s=B(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){q(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&ie(e,a[10]),f[0]&32&&ie(s,a[5])},d(a){a&&N(t)}}}function ru(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,o){q(e,t,o)},p:ne,d(e){e&&N(t)}}}function iu(n){let t,e,o,r,i,l,s;return{c(){t=p("blockquote"),e=B(n[10]),o=S(),r=p("footer"),i=p("cite"),l=B("- "),s=B(n[5]),u(r,"class","svelte-1vqx4aq")},m(a,f){q(a,t,f),c(t,e),c(t,o),c(t,r),c(r,i),c(i,l),c(i,s)},p(a,f){f[0]&1024&&ie(e,a[10]),f[0]&32&&ie(s,a[5])},d(a){a&&N(t)}}}function lu(n){let t;function e(i,l){if(i[15]&&i[15].verified===!0)return Qc;if(i[15]&&i[15].verified===!1)return Wc}let o=e(n),r=o&&o(n);return{c(){r&&r.c(),t=ve()},m(i,l){r&&r.m(i,l),q(i,t,l)},p(i,l){o===(o=e(i))&&r?r.p(i,l):(r&&r.d(1),r=o&&o(i),r&&(r.c(),r.m(t.parentNode,t)))},i:ne,o:ne,d(i){r&&r.d(i),i&&N(t)}}}let su="/api/files/9hhair4kd0xa314/";function pr(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function au(){}function cu(n,t,e){let o;Ee(n,Ke,$=>e(15,o=$));let r=[],i,l,s,a,f,d,h,_,g,m,k,v,b=!1,y=Zt+su;async function A(){try{const $=await de.collection("view_classroom").getFullList({sort:"-id"});e(0,r=$);for(let Se=0;Se<r.length;Se++)console.log(r[Se].reader_name)}catch($){alert($)}}st(async()=>{A()});async function I(){e(13,b=!0),await de.collection("users").requestVerification(o.email),await new Promise($=>setTimeout($,5e3)),de.authStore.clear(),Dn("/")}let P=!1;function w(){e(14,P=!P)}return[r,i,l,s,a,f,d,h,_,g,m,k,v,b,P,o,y,I,w,$=>{e(4,a=$.currentTarget.getAttribute("data-id"))},$=>{e(5,f=$.currentTarget.getAttribute("data-reader"))},$=>{e(6,d=$.currentTarget.getAttribute("data-title"))},$=>{e(7,h=$.currentTarget.getAttribute("data-author"))},$=>{e(8,_=$.currentTarget.getAttribute("data-pages"))},$=>{e(9,g=$.currentTarget.getAttribute("data-pagesread"))},$=>{e(10,m=$.currentTarget.getAttribute("data-review"))},$=>{e(11,k=$.currentTarget.getAttribute("data-cover"))},$=>{e(3,s=$.currentTarget.getAttribute("data-avatar"))},$=>{e(4,a=$.currentTarget.getAttribute("data-id"))},$=>{e(5,f=$.currentTarget.getAttribute("data-reader"))},$=>{e(6,d=$.currentTarget.getAttribute("data-title"))},$=>{e(7,h=$.currentTarget.getAttribute("data-author"))},$=>{e(8,_=$.currentTarget.getAttribute("data-pages"))},$=>{e(9,g=$.currentTarget.getAttribute("data-pagesread"))},$=>{e(10,m=$.currentTarget.getAttribute("data-review"))},$=>{e(12,v=$.currentTarget.getAttribute("data-cover"))},$=>{e(3,s=$.currentTarget.getAttribute("data-avatar"))},$=>{e(1,i=$.currentTarget.getAttribute("data-readerId"))},$=>{e(2,l=$.currentTarget.getAttribute("data-reader"))},$=>{e(3,s=$.currentTarget.getAttribute("data-avatar"))}]}class uu extends Ce{constructor(t){super(),we(this,t,cu,lu,be,{},null,[-1,-1])}}function hr(n,t,e){const o=n.slice();return o[19]=t[e],o}function _r(n,t,e){const o=n.slice();return o[22]=t[e],o}function mr(n,t,e){const o=n.slice();return o[25]=t[e],o}function fu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I=[],P=new Map,w,C,O=n[0];const M=E=>E[19].id;for(let E=0;E<O.length;E+=1){let R=hr(n,O,E),L=M(R);P.set(L,I[E]=yr(L,R))}return{c(){t=p("div"),e=p("div"),o=p("select"),r=p("option"),r.textContent="All",i=p("option"),i.textContent="January",l=p("option"),l.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",f=p("option"),f.textContent="May",d=p("option"),d.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",k=p("option"),k.textContent="November",v=p("option"),v.textContent="December",b=S(),y=p("input"),A=S();for(let E=0;E<I.length;E+=1)I[E].c();r.__value="All",r.value=r.__value,i.__value="January",i.value=i.__value,l.__value="February",l.value=l.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,f.__value="May",f.value=f.__value,d.__value="June",d.value=d.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,k.__value="November",k.value=k.__value,v.__value="December",v.value=v.__value,u(o,"class","svelte-1mnjxzx"),n[2]===void 0&&xe(()=>n[7].call(o)),u(y,"type","search"),u(y,"placeholder","Filter logs..."),u(y,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(E,R){q(E,t,R),c(t,e),c(e,o),c(o,r),c(o,i),c(o,l),c(o,s),c(o,a),c(o,f),c(o,d),c(o,h),c(o,_),c(o,g),c(o,m),c(o,k),c(o,v),Ge(o,n[2],!0),c(e,b),c(e,y),Y(y,n[3]),c(t,A);for(let L=0;L<I.length;L+=1)I[L]&&I[L].m(t,null);w||(C=[T(o,"change",n[7]),T(o,"change",n[6]),T(y,"input",n[8])],w=!0)},p(E,R){R&4&&Ge(o,E[2]),R&8&&y.value!==E[3]&&Y(y,E[3]),R&51&&(O=E[0],I=He(I,R,M,1,E,O,P,t,Ve,yr,null,hr))},d(E){E&&N(t);for(let R=0;R<I.length;R+=1)I[R].d();w=!1,se(C)}}}function gr(n){let t,e,o=Cr(n[25].pagesRead,n[5])+"",r,i,l,s,a,f,d,h;return{c(){t=p("br"),e=B(`\r
                Monthly Goal: `),r=B(o),i=B(`%\r
                `),l=p("br"),s=S(),a=p("br"),f=S(),d=p("progress"),d.value=h=n[25].pagesRead,u(d,"max",n[5])},m(_,g){q(_,t,g),q(_,e,g),q(_,r,g),q(_,i,g),q(_,l,g),q(_,s,g),q(_,a,g),q(_,f,g),q(_,d,g)},p(_,g){g&34&&o!==(o=Cr(_[25].pagesRead,_[5])+"")&&ie(r,o),g&2&&h!==(h=_[25].pagesRead)&&(d.value=h),g&32&&u(d,"max",_[5])},d(_){_&&N(t),_&&N(e),_&&N(r),_&&N(i),_&&N(l),_&&N(s),_&&N(a),_&&N(f),_&&N(d)}}}function vr(n,t){let e,o,r=t[25].reader===t[19].id&&gr(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){q(i,e,l),r&&r.m(i,l),q(i,o,l)},p(i,l){t=i,t[25].reader===t[19].id?r?r.p(t,l):(r=gr(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function br(n){let t,e,o,r=wr(n[22].date)+"",i,l,s,a,f,d,h,_=n[22].title+"",g,m,k,v=n[22].pages_read+"",b,y,A,I=n[22].comment+"",P,w;return{c(){t=p("tbody"),e=p("tr"),o=p("td"),i=B(r),l=S(),s=p("td"),a=p("img"),d=S(),h=p("td"),g=B(_),m=S(),k=p("td"),b=B(v),y=S(),A=p("td"),P=B(I),w=S(),u(o,"class","svelte-1mnjxzx"),ge(a.src,f=Sr(n[22].googleCover))||u(a,"src",f),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(k,"class","svelte-1mnjxzx"),u(A,"class","svelte-1mnjxzx")},m(C,O){q(C,t,O),c(t,e),c(e,o),c(o,i),c(e,l),c(e,s),c(s,a),c(e,d),c(e,h),c(h,g),c(e,m),c(e,k),c(k,b),c(e,y),c(e,A),c(A,P),c(t,w)},p(C,O){O&16&&r!==(r=wr(C[22].date)+"")&&ie(i,r),O&16&&!ge(a.src,f=Sr(C[22].googleCover))&&u(a,"src",f),O&16&&_!==(_=C[22].title+"")&&ie(g,_),O&16&&v!==(v=C[22].pages_read+"")&&ie(b,v),O&16&&I!==(I=C[22].comment+"")&&ie(P,I)},d(C){C&&N(t)}}}function kr(n,t){let e,o,r=t[22].reader===t[19].id&&br(t);return{key:n,first:null,c(){e=ve(),r&&r.c(),o=ve(),this.first=e},m(i,l){q(i,e,l),r&&r.m(i,l),q(i,o,l)},p(i,l){t=i,t[22].reader===t[19].id?r?r.p(t,l):(r=br(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&N(e),r&&r.d(i),i&&N(o)}}}function yr(n,t){let e,o,r,i,l,s,a,f,d=t[19].name+"",h,_,g=[],m=new Map,k,v,b,y,A=[],I=new Map,P,w=t[1];const C=E=>E[25].reader;for(let E=0;E<w.length;E+=1){let R=mr(t,w,E),L=C(R);m.set(L,g[E]=vr(L,R))}let O=t[4];const M=E=>E[22].id;for(let E=0;E<O.length;E+=1){let R=_r(t,O,E),L=M(R);I.set(L,A[E]=kr(L,R))}return{key:n,first:null,c(){e=p("details"),o=p("summary"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("strong"),h=B(d),_=S();for(let E=0;E<g.length;E+=1)g[E].c();k=S(),v=p("table"),b=p("thead"),b.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,y=S();for(let E=0;E<A.length;E+=1)A[E].c();P=S(),ge(l.src,s=t[19].avatar_from_url)||u(l,"src",s),u(l,"alt","avatar"),u(i,"href","#profile"),u(r,"class","avatar avatar-lg"),u(v,"class","table-container svelte-1mnjxzx"),u(v,"role","grid"),this.first=e},m(E,R){q(E,e,R),c(e,o),c(o,r),c(r,i),c(i,l),c(o,a),c(o,f),c(f,h),c(o,_);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);c(e,k),c(e,v),c(v,b),c(v,y);for(let L=0;L<A.length;L+=1)A[L]&&A[L].m(v,null);c(e,P)},p(E,R){t=E,R&1&&!ge(l.src,s=t[19].avatar_from_url)&&u(l,"src",s),R&1&&d!==(d=t[19].name+"")&&ie(h,d),R&35&&(w=t[1],g=He(g,R,C,1,t,w,m,o,Ve,vr,null,mr)),R&17&&(O=t[4],A=He(A,R,M,1,t,O,I,v,Ve,kr,null,_r))},d(E){E&&N(e);for(let R=0;R<g.length;R+=1)g[R].d();for(let R=0;R<A.length;R+=1)A[R].d()}}}function du(n){let t,e=Ke&&fu(n);return{c(){e&&e.c(),t=ve()},m(o,r){e&&e.m(o,r),q(o,t,r)},p(o,[r]){Ke&&e.p(o,r)},i:ne,o:ne,d(o){e&&e.d(o),o&&N(t)}}}function wr(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Cr(n,t){return Math.floor(n/t*100)}function Sr(n){return n.replace("zoom=1","zoom=5")}function pu(n,t,e){let o;Ee(n,ya,w=>e(5,o=w));let r=[],i=[],l=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],f=new Date;let d=a[f.getMonth()],h=f.getMonth()+1,_=f.getFullYear(),g="";h<10?h===9?g=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:g=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?g=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:g=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let m=d;async function k(){try{const C=await de.collection("view_readingLog").getFullList({filter:g,sort:"-date"});r=C;const O=await de.collection("view_classroom").getFullList({sort:"-reader_name"});i=C,console.log(i);for(let E=0;E<i.length;E++){let R=i[E],L=R.reader,D=R.pages_read;var w=s.findIndex(j=>j.reader===L);w!==-1?e(1,s[w].pagesRead+=D,s):s.push({reader:L,pagesRead:D})}const M=await de.collection("users").getFullList({filter:'role = "student"'});e(0,l=M),y()}catch(C){alert(C)}}st(async()=>{k()});function v(){if(m&&f.getMonth()>4)switch(m){case"All":g="";break;case"January":g="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":g="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":g="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":g="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":g="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":g="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":g="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":g="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":g="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":g="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":g="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":g="date >= '2023-12-01' && date <= '2023-12-31'";break}r=[],i=[],e(0,l=[]),e(1,s=[]),k()}let b="";function y(){const w=b.toLowerCase();e(4,A=r.filter(C=>C.title.toLowerCase().includes(w)||C.reader_name.toLowerCase().includes(w)||C.date.toLowerCase().includes(w)))}let A=r;En(()=>{y()});function I(){m=pt(this),e(2,m)}function P(){b=this.value,e(3,b)}return[l,s,m,b,A,o,v,I,P]}class hu extends Ce{constructor(t){super(),we(this,t,pu,du,be,{})}}function Ar(n,t,e){const o=n.slice();return o[53]=t[e],o}function _u(n){let t,e;return t=new qn({props:{$$slots:{default:[gu]},$$scope:{ctx:n}}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r[1]&33554432&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function mu(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P,w,C,O;function M(z,V){if(z[16].role==="student")return bu;if(z[16].role==="teacher")return vu}let E=M(n),R=E&&E(n);function L(z,V){return z[16].avatar_from_url?yu:ku}let D=L(n),j=D(n),F=n[12]&&Tr(n),G=n[13]&&Ir(n),te=n[14]&&Pr(n),X=n[15]&&Lr(n);const Q=[Au,Su,Cu,wu],U=[];function W(z,V){return z[4]==="Books"?0:z[4]==="Log"?1:z[4]==="Classroom"?2:z[4]==="Activity"?3:-1}return~(y=W(n))&&(A=U[y]=Q[y](n)),P=new Hn({}),{c(){t=p("div"),e=p("header"),o=p("section"),r=p("div"),i=p("a"),i.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div>Books</div>`,l=S(),s=p("a"),s.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Room</div>`,a=S(),R&&R.c(),f=S(),d=p("section"),h=S(),_=p("section"),j.c(),g=S(),F&&F.c(),m=S(),G&&G.c(),k=S(),te&&te.c(),v=S(),X&&X.c(),b=S(),A&&A.c(),I=S(),fe(P.$$.fragment),u(i,"href","#"),u(i,"class","btn btn-link svelte-7s4604"),u(s,"href","#"),u(s,"class","btn btn-link svelte-7s4604"),u(r,"class","navbar-items svelte-7s4604"),u(o,"class","navbar-section svelte-7s4604"),u(d,"class","navbar-center"),u(_,"class","navbar-section svelte-7s4604"),u(e,"class","navbar svelte-7s4604"),u(t,"class","container")},m(z,V){q(z,t,V),c(t,e),c(e,o),c(o,r),c(r,i),c(r,l),c(r,s),c(r,a),R&&R.m(r,null),c(e,f),c(e,d),c(e,h),c(e,_),j.m(_,null),c(t,g),F&&F.m(t,null),c(t,m),G&&G.m(t,null),c(t,k),te&&te.m(t,null),c(t,v),X&&X.m(t,null),c(t,b),~y&&U[y].m(t,null),q(z,I,V),ae(P,z,V),w=!0,C||(O=[T(i,"click",n[27]),T(s,"click",n[28])],C=!0)},p(z,V){E===(E=M(z))&&R?R.p(z,V):(R&&R.d(1),R=E&&E(z),R&&(R.c(),R.m(r,null))),D===(D=L(z))&&j?j.p(z,V):(j.d(1),j=D(z),j&&(j.c(),j.m(_,null))),z[12]?F?F.p(z,V):(F=Tr(z),F.c(),F.m(t,m)):F&&(F.d(1),F=null),z[13]?G?G.p(z,V):(G=Ir(z),G.c(),G.m(t,k)):G&&(G.d(1),G=null),z[14]?te?te.p(z,V):(te=Pr(z),te.c(),te.m(t,v)):te&&(te.d(1),te=null),z[15]?X?X.p(z,V):(X=Lr(z),X.c(),X.m(t,b)):X&&(X.d(1),X=null);let J=y;y=W(z),y!==J&&(A&&(Re(),ee(U[J],1,1,()=>{U[J]=null}),je()),~y?(A=U[y],A||(A=U[y]=Q[y](z),A.c()),Z(A,1),A.m(t,null)):A=null)},i(z){w||(Z(A),Z(P.$$.fragment,z),w=!0)},o(z){ee(A),ee(P.$$.fragment,z),w=!1},d(z){z&&N(t),R&&R.d(),j.d(),F&&F.d(),G&&G.d(),te&&te.d(),X&&X.d(),~y&&U[y].d(),z&&N(I),ce(P,z),C=!1,se(O)}}}function gu(n){let t,e;return t=new _t({props:{path:"/",component:Bn}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p:ne,i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function vu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-7s4604")},m(r,i){q(r,t,i),e||(o=T(t,"click",n[29]),e=!0)},p:ne,d(r){r&&N(t),e=!1,o()}}}function bu(n){let t,e,o;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
              <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-7s4604")},m(r,i){q(r,t,i),e||(o=T(t,"click",n[26]),e=!0)},p:ne,d(r){r&&N(t),e=!1,o()}}}function ku(n){let t,e,o;return{c(){t=p("a"),t.textContent="Choose Avatar",u(t,"href","#profile"),u(t,"class","svelte-7s4604")},m(r,i){q(r,t,i),e||(o=T(t,"click",n[32]),e=!0)},p:ne,d(r){r&&N(t),e=!1,o()}}}function yu(n){let t,e,o,r,i,l;return{c(){t=p("figure"),e=p("a"),o=p("img"),ge(o.src,r=n[21])||u(o,"src",r),u(o,"alt","avatar"),u(o,"class","navbar-avatar"),u(e,"href","#profile"),u(e,"class","svelte-7s4604"),u(t,"class","avatar avatar-xl svelte-7s4604")},m(s,a){q(s,t,a),c(t,e),c(e,o),i||(l=T(e,"click",n[31]),i=!0)},p:ne,d(s){s&&N(t),i=!1,l()}}}function Tr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
            Settings`),l=S(),s=p("form"),a=p("label"),f=B(`Max Search Output\r
              `),d=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",k=S(),v=p("a"),v.textContent="Save",u(r,"href","#close"),u(r,"class","close"),u(d,"id","maxOutput"),u(d,"name","maxOutput"),u(d,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-7s4604"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-7s4604"),u(_,"class","svelte-7s4604"),t.open=!0},m(A,I){q(A,t,I),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[17]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,k),c(g,v),b||(y=[T(r,"click",n[30]),T(d,"input",n[39]),T(s,"submit",Be(n[38])),T(m,"click",n[30]),T(v,"click",n[30])],b=!0)},p(A,I){I[0]&131072&&d.value!==A[17]&&Y(d,A[17])},d(A){A&&N(t),b=!1,se(y)}}}function Ir(n){let t,e,o,r,i,l,s,a,f,d,h,_,g=n[16].name+"",m,k,v,b,y,A,I,P,w,C,O,M,E,R,L,D,j,F,G,te,X,Q,U,W,z,V,J,x,_e,Ne,$,Se,pe,oe,he,ke,Ie,We,Ae,le,ye,Ye,Fe,Te,Xe,K,Pe,et;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("a"),l=p("img"),a=S(),f=p("i"),f.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',d=S(),h=p("a"),_=B(`\r
            `),m=B(g),k=B("'s Profile"),v=S(),b=p("details"),y=p("summary"),y.textContent="My Stats",A=S(),I=p("p"),P=B("Books: "),w=B(n[18]),C=B(" | Pages Read: "),O=B(n[19]),M=S(),E=p("details"),R=p("summary"),R.textContent="Account Info",L=S(),D=p("form"),j=p("label"),F=B(`Name\r
                `),G=p("input"),te=S(),X=p("label"),Q=B(`Email\r
                `),U=p("input"),W=S(),z=p("label"),V=B(`Class ID\r
                `),J=p("input"),x=S(),_e=p("details"),Ne=p("summary"),Ne.textContent="Security",$=S(),Se=p("fieldset"),pe=p("label"),oe=p("input"),he=B(`\r
                Share my readings with classmates`),ke=S(),Ie=p("a"),Ie.textContent="Change Password",We=S(),Ae=p("footer"),le=p("div"),ye=p("a"),ye.textContent="Sign Out",Ye=S(),Fe=p("div"),Te=p("a"),Te.textContent="Cancel",Xe=S(),K=p("a"),K.textContent="Save",ge(l.src,s=n[21])||u(l,"src",s),u(l,"alt","avatar"),u(f,"class","avatar-presence"),me(i,"color","white"),u(i,"href","#profile"),u(r,"class","avatar avatar-xl svelte-7s4604"),u(h,"href","#close"),u(h,"class","close"),b.open=!0,u(G,"id","profileName"),u(G,"name","profileName"),u(G,"type","text"),u(j,"for","profileName"),u(U,"id","profileEmail"),u(U,"name","profileEmail"),u(U,"type","email"),U.disabled=!0,u(X,"for","profileEmail"),u(J,"id","classId"),u(J,"name","classId"),u(J,"type","number"),u(z,"for","classId"),E.open=!0,u(oe,"type","checkbox"),u(oe,"id","switch"),u(oe,"name","switch"),u(oe,"role","switch"),u(pe,"for","switch"),u(Ie,"href","#update"),u(Ie,"class","details"),u(ye,"href","#signout"),u(ye,"role","button"),u(ye,"class","signout svelte-7s4604"),u(Te,"href","#cancel"),u(Te,"role","button"),u(Te,"class","secondary svelte-7s4604"),u(K,"href","#confirm"),u(K,"role","button"),u(K,"class","svelte-7s4604"),u(Ae,"data-button","spaceBetween"),u(Ae,"class","svelte-7s4604"),t.open=!0},m(De,Qe){q(De,t,Qe),c(t,e),c(e,o),c(o,r),c(r,i),c(i,l),c(i,a),c(i,f),c(o,d),c(o,h),c(o,_),c(o,m),c(o,k),c(e,v),c(e,b),c(b,y),c(b,A),c(b,I),c(I,P),c(I,w),c(I,C),c(I,O),c(e,M),c(e,E),c(E,R),c(E,L),c(E,D),c(D,j),c(j,F),c(j,G),Y(G,n[6]),c(D,te),c(D,X),c(X,Q),c(X,U),Y(U,n[7]),c(D,W),c(D,z),c(z,V),c(z,J),Y(J,n[11]),c(e,x),c(e,_e),c(_e,Ne),c(_e,$),c(_e,Se),c(Se,pe),c(pe,oe),oe.checked=n[10],c(pe,he),c(_e,ke),c(_e,Ie),c(e,We),c(e,Ae),c(Ae,le),c(le,ye),c(Ae,Ye),c(Ae,Fe),c(Fe,Te),c(Fe,Xe),c(Fe,K),Pe||(et=[T(i,"click",n[32]),T(h,"click",n[31]),T(G,"input",n[40]),T(U,"input",n[41]),T(J,"input",n[42]),T(D,"submit",Be(n[37])),T(oe,"change",n[43]),T(Ie,"click",n[33]),T(ye,"click",n[25]),T(Te,"click",n[31]),T(K,"click",n[22]),T(K,"click",n[31])],Pe=!0)},p(De,Qe){Qe[0]&65536&&g!==(g=De[16].name+"")&&ie(m,g),Qe[0]&262144&&ie(w,De[18]),Qe[0]&524288&&ie(O,De[19]),Qe[0]&64&&G.value!==De[6]&&Y(G,De[6]),Qe[0]&128&&U.value!==De[7]&&Y(U,De[7]),Qe[0]&2048&&Je(J.value)!==De[11]&&Y(J,De[11]),Qe[0]&1024&&(oe.checked=De[10])},d(De){De&&N(t),Pe=!1,se(et)}}}function Pr(n){let t,e,o,r,i,l,s,a,f,d,h,_=[],g=new Map,m,k,v,b,y,A,I,P=n[5];const w=C=>C[53].id;for(let C=0;C<P.length;C+=1){let O=Ar(n,P,C),M=w(O);g.set(M,_[C]=Or(M,O))}return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("figure"),i=p("img"),s=S(),a=p("a"),f=B(`\r
            Change Avatar`),d=S(),h=p("section");for(let C=0;C<_.length;C+=1)_[C].c();m=S(),k=p("footer"),v=p("a"),v.textContent="Cancel",b=S(),y=p("a"),y.textContent="Save",ge(i.src,l=n[21])||u(i,"src",l),u(i,"alt","avatar"),u(r,"class","avatar avatar-xl svelte-7s4604"),u(a,"href","#close"),u(a,"class","close"),u(v,"href","#cancel"),u(v,"role","button"),u(v,"class","secondary svelte-7s4604"),u(y,"href","#confirm"),u(y,"role","button"),u(y,"class","svelte-7s4604"),u(k,"class","svelte-7s4604"),t.open=!0},m(C,O){q(C,t,O),c(t,e),c(e,o),c(o,r),c(r,i),c(o,s),c(o,a),c(o,f),c(e,d),c(e,h);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(h,null);c(e,m),c(e,k),c(k,v),c(k,b),c(k,y),A||(I=[T(a,"click",n[32]),T(v,"click",n[32]),T(y,"click",n[24]),T(y,"click",n[34])],A=!0)},p(C,O){O[0]&1049120&&(P=C[5],_=He(_,O,w,1,C,P,g,h,Ve,Or,null,Ar))},d(C){C&&N(t);for(let O=0;O<_.length;O+=1)_[O].d();A=!1,se(I)}}}function Or(n,t){let e,o,r,i,l,s,a,f;return{key:n,first:null,c(){e=p("a"),o=p("figure"),r=p("img"),l=S(),u(r,"class","avatar-list svelte-7s4604"),ge(r.src,i=t[20]+t[53].id+"/"+t[53].field)||u(r,"src",i),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-7s4604"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-7s4604"),u(e,"data-picture",s=t[20]+t[53].id+"/"+t[53].field),this.first=e},m(d,h){q(d,e,h),c(e,o),c(o,r),c(e,l),a||(f=T(e,"click",t[44]),a=!0)},p(d,h){t=d,h[0]&32&&!ge(r.src,i=t[20]+t[53].id+"/"+t[53].field)&&u(r,"src",i),h[0]&32&&s!==(s=t[20]+t[53].id+"/"+t[53].field)&&u(e,"data-picture",s)},d(d){d&&N(e),a=!1,f()}}}function Lr(n){let t,e,o,r,i,l,s,a,f,d,h,_,g,m,k,v,b,y,A,I,P;return{c(){t=p("dialog"),e=p("article"),o=p("header"),r=p("a"),i=B(`\r
            Change Password`),l=S(),s=p("form"),a=p("label"),f=B(`Change Password\r
              `),d=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),k=S(),v=p("footer"),b=p("a"),b.textContent="Cancel",y=S(),A=p("a"),A.textContent="Update",u(r,"href","#close"),u(r,"class","close"),u(d,"id","oldPassword"),u(d,"name","oldPassword"),u(d,"type","password"),u(d,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[2]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[3]),u(b,"href","#cancel"),u(b,"role","button"),u(b,"class","secondary svelte-7s4604"),u(A,"href","#confirm"),u(A,"role","button"),u(A,"class","svelte-7s4604"),u(v,"class","svelte-7s4604"),t.open=!0},m(w,C){q(w,t,C),c(t,e),c(e,o),c(o,r),c(o,i),c(e,l),c(e,s),c(s,a),c(a,f),c(a,d),Y(d,n[8]),c(s,h),c(s,_),Y(_,n[0]),c(s,g),c(s,m),Y(m,n[1]),c(e,k),c(e,v),c(v,b),c(v,y),c(v,A),I||(P=[T(r,"click",n[33]),T(d,"input",n[45]),T(_,"input",n[46]),T(m,"input",n[47]),T(s,"submit",Be(n[36])),T(b,"click",n[33]),T(A,"click",n[23]),T(A,"click",n[35])],I=!0)},p(w,C){C[0]&256&&d.value!==w[8]&&Y(d,w[8]),C[0]&4&&u(_,"aria-invalid",w[2]),C[0]&1&&_.value!==w[0]&&Y(_,w[0]),C[0]&8&&u(m,"aria-invalid",w[3]),C[0]&2&&m.value!==w[1]&&Y(m,w[1])},d(w){w&&N(t),I=!1,se(P)}}}function wu(n){let t,e;return t=new hu({}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Cu(n){let t,e;return t=new uu({}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Su(n){let t,e;return t=new Vc({}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Au(n){let t,e;return t=new Ga({}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Tu(n){let t,e,o,r;const i=[mu,_u],l=[];function s(a,f){return a[16]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),q(a,o,f),r=!0},p(a,f){let d=t;t=s(a),t===d?l[t].p(a,f):(Re(),ee(l[d],1,1,()=>{l[d]=null}),je(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),Z(e,1),e.m(o.parentNode,o))},i(a){r||(Z(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}let Iu="/api/files/fhm2u4u1k405dr7/";function Pu(n,t,e){let o,r,i,l;Ee(n,Ke,le=>e(16,o=le)),Ee(n,vn,le=>e(17,r=le)),Ee(n,yn,le=>e(18,i=le)),Ee(n,Bt,le=>e(19,l=le));let s,a,f,d=[],h=Zt+Iu,_=o.avatar_from_url;function g(){de.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),de.authStore.clear(),window.location.reload())}st(async()=>{g(),o.role==="teacher"?w():I();try{const le=await de.collection("avatars").getFullList({sort:"-created"});e(5,d=le)}catch(le){re.error(le,{position:ue})}});async function m(){try{const le={name:C,email:O,isPublic:D,classId:j},ye=await de.collection("users").update(o.id,le);re.success("Profile updated!",{position:ue})}catch(le){alert(le)}}async function k(){if(!s&&!a)try{const le=new FormData;le.append("password",M),le.append("passwordConfirm",E),le.append("oldPassword",R);const ye=await de.collection("users").update(o.id,le);re.success("Password changed successfully!",{position:ue})}catch(le){re.error(le,{position:ue})}else s?re.error("Password should be at least 5 characters long",{position:ue}):a&&re.error("Password mismatch",{position:ue})}async function v(){try{const le={avatar_from_url:L},ye=await de.collection("users").update(o.id,le);re.success("Avatar updated!",{position:ue})}catch(le){re.error(le,{position:ue})}window.location.reload(),e(9,L="")}function b(){de.authStore.clear(),Dn("/")}function y(){e(4,f="Log")}function A(){e(4,f="Books")}function I(){e(4,f="Books")}function P(){e(4,f="Classroom")}function w(){e(4,f="Activity")}let C=o.name,O=o.email,M,E,R,L,D=o.isPublic,j=o.class_id,F=!1;function G(){e(12,F=!F)}let te=!1;function X(){e(13,te=!te)}let Q=!1;function U(){e(14,Q=!Q)}let W=!1;function z(){e(15,W=!W)}function V(){U(),X()}function J(){z(),X()}function x(le){qe.call(this,n,le)}function _e(le){qe.call(this,n,le)}function Ne(le){qe.call(this,n,le)}function $(){r=this.value,vn.set(r)}function Se(){C=this.value,e(6,C)}function pe(){O=this.value,e(7,O)}function oe(){j=Je(this.value),e(11,j)}function he(){D=this.checked,e(10,D)}const ke=le=>{e(9,L=le.currentTarget.getAttribute("data-picture"))};function Ie(){R=this.value,e(8,R)}function We(){M=this.value,e(0,M)}function Ae(){E=this.value,e(1,E)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(M&&(M.length>=5?e(2,s=!1):e(2,s=!0)),E&&(E===M?e(3,a=!1):e(3,a=!0)))},[M,E,s,a,f,d,C,O,R,L,D,j,F,te,Q,W,o,r,i,l,h,_,m,k,v,b,y,A,P,w,G,X,U,z,V,J,x,_e,Ne,$,Se,pe,oe,he,ke,Ie,We,Ae]}class Ou extends Ce{constructor(t){super(),we(this,t,Pu,Tu,be,{},null,[-1,-1])}}function Lu(n){let t,e;return t=new qn({props:{$$slots:{default:[Mu]},$$scope:{ctx:n}}}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p(o,r){const i={};r&2&&(i.$$scope={dirty:r,ctx:o}),t.$set(i)},i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Eu(n){let t,e;return t=new Ou({}),{c(){fe(t.$$.fragment)},m(o,r){ae(t,o,r),e=!0},p:ne,i(o){e||(Z(t.$$.fragment,o),e=!0)},o(o){ee(t.$$.fragment,o),e=!1},d(o){ce(t,o)}}}function Mu(n){let t,e,o,r,i,l;return t=new _t({props:{path:"/",component:Bn}}),o=new _t({props:{path:"/signup",component:Jr}}),i=new _t({props:{path:"/reset",component:ka}}),{c(){fe(t.$$.fragment),e=S(),fe(o.$$.fragment),r=S(),fe(i.$$.fragment)},m(s,a){ae(t,s,a),q(s,e,a),ae(o,s,a),q(s,r,a),ae(i,s,a),l=!0},p:ne,i(s){l||(Z(t.$$.fragment,s),Z(o.$$.fragment,s),Z(i.$$.fragment,s),l=!0)},o(s){ee(t.$$.fragment,s),ee(o.$$.fragment,s),ee(i.$$.fragment,s),l=!1},d(s){ce(t,s),s&&N(e),ce(o,s),s&&N(r),ce(i,s)}}}function Ru(n){let t,e,o,r;const i=[Eu,Lu],l=[];function s(a,f){return a[0]?0:1}return t=s(n),e=l[t]=i[t](n),{c(){e.c(),o=ve()},m(a,f){l[t].m(a,f),q(a,o,f),r=!0},p(a,[f]){let d=t;t=s(a),t===d?l[t].p(a,f):(Re(),ee(l[d],1,1,()=>{l[d]=null}),je(),e=l[t],e?e.p(a,f):(e=l[t]=i[t](a),e.c()),Z(e,1),e.m(o.parentNode,o))},i(a){r||(Z(e),r=!0)},o(a){ee(e),r=!1},d(a){l[t].d(a),a&&N(o)}}}function ju(n,t,e){let o;return Ee(n,Ke,r=>e(0,o=r)),[o]}class Nu extends Ce{constructor(t){super(),we(this,t,ju,Ru,be,{})}}new Nu({target:document.getElementById("app")});
