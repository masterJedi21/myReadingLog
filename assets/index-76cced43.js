var ps=Object.defineProperty;var hs=(n,t,e)=>t in n?ps(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dt=(n,t,e)=>(hs(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();function ne(){}const _s=n=>n;function it(n,t){for(const e in t)n[e]=t[e];return n}function ms(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function br(n){return n()}function ol(){return Object.create(null)}function ue(n){n.forEach(br)}function et(n){return typeof n=="function"}function Oe(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Bt;function qe(n,t){return Bt||(Bt=document.createElement("a")),Bt.href=t,n===Bt.href}function gs(n){return Object.keys(n).length===0}function Un(n,...t){if(n==null)return ne;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function wn(n){let t;return Un(n,e=>t=e)(),t}function Fe(n,t,e){n.$$.on_destroy.push(Un(t,e))}function en(n,t,e,l){if(n){const o=vr(n,t,e,l);return n[0](o)}}function vr(n,t,e,l){return n[1]&&l?it(e.ctx.slice(),n[1](l(t))):e.ctx}function tn(n,t,e,l){if(n[2]&&l){const o=n[2](l(e));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],i=Math.max(t.dirty.length,o.length);for(let s=0;s<i;s+=1)r[s]=t.dirty[s]|o[s];return r}return t.dirty|o}return t.dirty}function nn(n,t,e,l,o,r){if(o){const i=vr(t,e,l,r);n.p(i,o)}}function ln(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let l=0;l<e;l++)t[l]=-1;return t}return-1}function rl(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function dn(n,t,e){return n.set(e),t}function il(n){const t=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[n,"px"]}const yr=typeof window<"u";let bs=yr?()=>window.performance.now():()=>Date.now(),Hn=yr?n=>requestAnimationFrame(n):ne;const vt=new Set;function kr(n){vt.forEach(t=>{t.c(n)||(vt.delete(t),t.f())}),vt.size!==0&&Hn(kr)}function vs(n){let t;return vt.size===0&&Hn(kr),{promise:new Promise(e=>{vt.add(t={c:n,f:e})}),abort(){vt.delete(t)}}}function c(n,t){n.appendChild(t)}function wr(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function ys(n){const t=p("style");return ks(wr(n),t),t.sheet}function ks(n,t){return c(n.head||n,t),t.sheet}function E(n,t,e){n.insertBefore(t,e||null)}function M(n){n.parentNode&&n.parentNode.removeChild(n)}function p(n){return document.createElement(n)}function F(n){return document.createTextNode(n)}function S(){return F(" ")}function Te(){return F("")}function T(n,t,e,l){return n.addEventListener(t,e,l),()=>n.removeEventListener(t,e,l)}function Ke(n){return function(t){return t.preventDefault(),n.call(this,t)}}function u(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}const ws=["width","height"];function sl(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const l in t)t[l]==null?n.removeAttribute(l):l==="style"?n.style.cssText=t[l]:l==="__value"?n.value=n[l]=t[l]:e[l]&&e[l].set&&ws.indexOf(l)===-1?n[l]=t[l]:u(n,l,t[l])}function Cs(n){let t;return{p(...e){t=e,t.forEach(l=>n.push(l))},r(){t.forEach(e=>n.splice(n.indexOf(e),1))}}}function Je(n){return n===""?null:+n}function Ss(n){return Array.from(n.childNodes)}function oe(n,t){t=""+t,n.data!==t&&(n.data=t)}function Y(n,t){n.value=t??""}function Pe(n,t,e,l){e==null?n.style.removeProperty(t):n.style.setProperty(t,e,l?"important":"")}function Re(n,t,e){for(let l=0;l<n.options.length;l+=1){const o=n.options[l];if(o.__value===t){o.selected=!0;return}}(!e||t!==void 0)&&(n.selectedIndex=-1)}function xe(n){const t=n.querySelector(":checked");return t&&t.__value}function dt(n,t,e){n.classList[e?"add":"remove"](t)}function As(n,t,{bubbles:e=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(n,e,l,t),o}function st(n,t){return new n(t)}const Qt=new Map;let Kt=0;function Ts(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Is(n,t){const e={stylesheet:ys(t),rules:{}};return Qt.set(n,e),e}function al(n,t,e,l,o,r,i,s=0){const a=16.666/l;let d=`{
`;for(let y=0;y<=1;y+=a){const k=t+(e-t)*r(y);d+=y*100+`%{${i(k,1-k)}}
`}const f=d+`100% {${i(e,1-e)}}
}`,h=`__svelte_${Ts(f)}_${s}`,_=wr(n),{stylesheet:g,rules:m}=Qt.get(_)||Is(_,n);m[h]||(m[h]=!0,g.insertRule(`@keyframes ${h} ${f}`,g.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${h} ${l}ms linear ${o}ms 1 both`,Kt+=1,h}function Ps(n,t){const e=(n.style.animation||"").split(", "),l=e.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),o=e.length-l.length;o&&(n.style.animation=l.join(", "),Kt-=o,Kt||qs())}function qs(){Hn(()=>{Kt||(Qt.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&M(t)}),Qt.clear())})}let Tt;function lt(n){Tt=n}function wt(){if(!Tt)throw new Error("Function called outside component initialization");return Tt}function ft(n){wt().$$.on_mount.push(n)}function zn(n){wt().$$.after_update.push(n)}function Vn(n){wt().$$.on_destroy.push(n)}function pn(n,t){return wt().$$.context.set(n,t),t}function Cn(n){return wt().$$.context.get(n)}function Qe(n,t){const e=n.$$.callbacks[t.type];e&&e.slice().forEach(l=>l.call(this,t))}const bt=[],at=[];let yt=[];const Sn=[],Ls=Promise.resolve();let An=!1;function Os(){An||(An=!0,Ls.then(Jn))}function Ne(n){yt.push(n)}function cl(n){Sn.push(n)}const hn=new Set;let mt=0;function Jn(){if(mt!==0)return;const n=Tt;do{try{for(;mt<bt.length;){const t=bt[mt];mt++,lt(t),Ms(t.$$)}}catch(t){throw bt.length=0,mt=0,t}for(lt(null),bt.length=0,mt=0;at.length;)at.pop()();for(let t=0;t<yt.length;t+=1){const e=yt[t];hn.has(e)||(hn.add(e),e())}yt.length=0}while(bt.length);for(;Sn.length;)Sn.pop()();An=!1,hn.clear(),lt(n)}function Ms(n){if(n.fragment!==null){n.update(),ue(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Ne)}}function Es(n){const t=[],e=[];yt.forEach(l=>n.indexOf(l)===-1?t.push(l):e.push(l)),e.forEach(l=>l()),yt=t}let Ct;function js(){return Ct||(Ct=Promise.resolve(),Ct.then(()=>{Ct=null})),Ct}function _n(n,t,e){n.dispatchEvent(As(`${t?"intro":"outro"}${e}`))}const zt=new Set;let ot;function De(){ot={r:0,c:[],p:ot}}function Be(){ot.r||ue(ot.c),ot=ot.p}function K(n,t){n&&n.i&&(zt.delete(n),n.i(t))}function $(n,t,e,l){if(n&&n.o){if(zt.has(n))return;zt.add(n),ot.c.push(()=>{zt.delete(n),l&&(e&&n.d(1),l())}),n.o(t)}else l&&l()}const Rs={duration:0};function Xe(n,t,e,l){const o={direction:"both"};let r=t(n,e,o),i=l?0:1,s=null,a=null,d=null;function f(){d&&Ps(n,d)}function h(g,m){const b=g.b-i;return m*=Math.abs(b),{a:i,b:g.b,d:b,duration:m,start:g.start,end:g.start+m,group:g.group}}function _(g){const{delay:m=0,duration:b=300,easing:y=_s,tick:k=ne,css:v}=r||Rs,C={start:bs()+m,b:g};g||(C.group=ot,ot.r+=1),s||a?a=C:(v&&(f(),d=al(n,i,g,b,m,y,v)),g&&k(0,1),s=h(C,b),Ne(()=>_n(n,g,"start")),vs(L=>{if(a&&L>a.start&&(s=h(a,b),a=null,_n(n,s.b,"start"),v&&(f(),d=al(n,i,s.b,s.duration,0,y,r.css))),s){if(L>=s.end)k(i=s.b,1-i),_n(n,s.b,"end"),a||(s.b?f():--s.group.r||ue(s.group.c)),s=null;else if(L>=s.start){const q=L-s.start;i=s.a+s.d*y(q/s.duration),k(i,1-i)}}return!!(s||a)}))}return{run(g){et(r)?js().then(()=>{r=r(o),_(g)}):_(g)},end(){f(),s=a=null}}}function ul(n,t){const e=t.token={};function l(o,r,i,s){if(t.token!==e)return;t.resolved=s;let a=t.ctx;i!==void 0&&(a=a.slice(),a[i]=s);const d=o&&(t.current=o)(a);let f=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==r&&h&&(De(),$(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),Be())}):t.block.d(1),d.c(),K(d,1),d.m(t.mount(),t.anchor),f=!0),t.block=d,t.blocks&&(t.blocks[r]=d),f&&Jn()}if(ms(n)){const o=wt();if(n.then(r=>{lt(o),l(t.then,1,t.value,r),lt(null)},r=>{if(lt(o),l(t.catch,2,t.error,r),lt(null),!t.hasCatch)throw r}),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,n),!0;t.resolved=n}}function Ns(n,t,e){const l=t.slice(),{resolved:o}=n;n.current===n.then&&(l[n.value]=o),n.current===n.catch&&(l[n.error]=o),n.block.p(l,e)}function He(n,t){n.d(1),t.delete(n.key)}function Ds(n,t){$(n,1,1,()=>{t.delete(n.key)})}function Ue(n,t,e,l,o,r,i,s,a,d,f,h){let _=n.length,g=r.length,m=_;const b={};for(;m--;)b[n[m].key]=m;const y=[],k=new Map,v=new Map,C=[];for(m=g;m--;){const A=h(o,r,m),I=e(A);let D=i.get(I);D?l&&C.push(()=>D.p(A,t)):(D=d(I,A),D.c()),k.set(I,y[m]=D),I in b&&v.set(I,Math.abs(m-b[I]))}const L=new Set,q=new Set;function w(A){K(A,1),A.m(s,f),i.set(A.key,A),f=A.first,g--}for(;_&&g;){const A=y[g-1],I=n[_-1],D=A.key,P=I.key;A===I?(f=A.first,_--,g--):k.has(P)?!i.has(D)||L.has(D)?w(A):q.has(P)?_--:v.get(D)>v.get(P)?(q.add(D),w(A)):(L.add(P),_--):(a(I,i),_--)}for(;_--;){const A=n[_];k.has(A.key)||a(A,i)}for(;g;)w(y[g-1]);return ue(C),y}function Ot(n,t){const e={},l={},o={$$scope:1};let r=n.length;for(;r--;){const i=n[r],s=t[r];if(s){for(const a in i)a in s||(l[a]=1);for(const a in s)o[a]||(e[a]=s[a],o[a]=1);n[r]=s}else for(const a in i)o[a]=1}for(const i in l)i in e||(e[i]=void 0);return e}function It(n){return typeof n=="object"&&n!==null?n:{}}function fl(n,t,e){const l=n.$$.props[t];l!==void 0&&(n.$$.bound[l]=e,e(n.$$.ctx[l]))}function be(n){n&&n.c()}function me(n,t,e,l){const{fragment:o,after_update:r}=n.$$;o&&o.m(t,e),l||Ne(()=>{const i=n.$$.on_mount.map(br).filter(et);n.$$.on_destroy?n.$$.on_destroy.push(...i):ue(i),n.$$.on_mount=[]}),r.forEach(Ne)}function ge(n,t){const e=n.$$;e.fragment!==null&&(Es(e.after_update),ue(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function Bs(n,t){n.$$.dirty[0]===-1&&(bt.push(n),Os(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function Me(n,t,e,l,o,r,i,s=[-1]){const a=Tt;lt(n);const d=n.$$={fragment:null,ctx:[],props:r,update:ne,not_equal:o,bound:ol(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ol(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};i&&i(d.root);let f=!1;if(d.ctx=e?e(n,t.props||{},(h,_,...g)=>{const m=g.length?g[0]:_;return d.ctx&&o(d.ctx[h],d.ctx[h]=m)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](m),f&&Bs(n,h)),_}):[],d.update(),f=!0,ue(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const h=Ss(t.target);d.fragment&&d.fragment.l(h),h.forEach(M)}else d.fragment&&d.fragment.c();t.intro&&K(n.$$.fragment),me(n,t.target,t.anchor,t.customElement),Jn()}lt(a)}class Ee{$destroy(){ge(this,1),this.$destroy=ne}$on(t,e){if(!et(e))return ne;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(e),()=>{const o=l.indexOf(e);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!gs(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var Tn=function(n,t){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,l){e.__proto__=l}||function(e,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])},Tn(n,t)};function Ge(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}Tn(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var In=function(){return In=Object.assign||function(t){for(var e,l=1,o=arguments.length;l<o;l++)for(var r in e=arguments[l])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},In.apply(this,arguments)};function ze(n,t,e,l){return new(e||(e=Promise))(function(o,r){function i(d){try{a(l.next(d))}catch(f){r(f)}}function s(d){try{a(l.throw(d))}catch(f){r(f)}}function a(d){d.done?o(d.value):function(h){return h instanceof e?h:new e(function(_){_(h)})}(d.value).then(i,s)}a((l=l.apply(n,t||[])).next())})}function Ve(n,t){var e,l,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(a){return function(d){return function(h){if(e)throw new TypeError("Generator is already executing.");for(;r&&(r=0,h[0]&&(i=0)),i;)try{if(e=1,l&&(o=2&h[0]?l.return:h[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,h[1])).done)return o;switch(l=0,o&&(h=[2&h[0],o.value]),h[0]){case 0:case 1:o=h;break;case 4:return i.label++,{value:h[1],done:!1};case 5:i.label++,l=h[1],h=[0];continue;case 7:h=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!((o=o.length>0&&o[o.length-1])||h[0]!==6&&h[0]!==2)){i=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){i.label=h[1];break}if(h[0]===6&&i.label<o[1]){i.label=o[1],o=h;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(h);break}o[2]&&i.ops.pop(),i.trys.pop();continue}h=t.call(n,i)}catch(_){h=[6,_],l=0}finally{e=o=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([a,d])}}}var Cr,rt=function(n){function t(e){var l,o,r,i,s=this;return(s=n.call(this,"ClientResponseError")||this).url="",s.status=0,s.response={},s.isAbort=!1,s.originalError=null,Object.setPrototypeOf(s,t.prototype),e instanceof t||(s.originalError=e),e!==null&&typeof e=="object"&&(s.url=typeof e.url=="string"?e.url:"",s.status=typeof e.status=="number"?e.status:0,s.response=e.data!==null&&typeof e.data=="object"?e.data:{},s.isAbort=!!e.isAbort),typeof DOMException<"u"&&e instanceof DOMException&&(s.isAbort=!0),s.name="ClientResponseError "+s.status,s.message=(l=s.response)===null||l===void 0?void 0:l.message,s.message||(s.isAbort?s.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((i=(r=(o=s.originalError)===null||o===void 0?void 0:o.cause)===null||r===void 0?void 0:r.message)===null||i===void 0)&&i.includes("ECONNREFUSED ::1")?s.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":s.message="Something went wrong while processing your request."),s}return Ge(t,n),Object.defineProperty(t.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return In({},this)},t}(Error),Ft=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function dl(n,t,e){var l=Object.assign({},e||{}),o=l.encode||Us;if(!Ft.test(n))throw new TypeError("argument name is invalid");var r=o(t);if(r&&!Ft.test(r))throw new TypeError("argument val is invalid");var i=n+"="+r;if(l.maxAge!=null){var s=l.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(s)}if(l.domain){if(!Ft.test(l.domain))throw new TypeError("option domain is invalid");i+="; Domain="+l.domain}if(l.path){if(!Ft.test(l.path))throw new TypeError("option path is invalid");i+="; Path="+l.path}if(l.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(l.expires)||isNaN(l.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+l.expires.toUTCString()}if(l.httpOnly&&(i+="; HttpOnly"),l.secure&&(i+="; Secure"),l.priority)switch(typeof l.priority=="string"?l.priority.toLowerCase():l.priority){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(l.sameSite)switch(typeof l.sameSite=="string"?l.sameSite.toLowerCase():l.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i}function Fs(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Us(n){return encodeURIComponent(n)}function Sr(n){if(n)try{var t=decodeURIComponent(Cr(n.split(".")[1]).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Hs(n,t){t===void 0&&(t=0);var e=Sr(n);return!(Object.keys(e).length>0&&(!e.exp||e.exp-t>Date.now()/1e3))}Cr=typeof atob=="function"?atob:function(n){var t=String(n).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,l,o=0,r=0,i="";l=t.charAt(r++);~l&&(e=o%4?64*e+l:l,o++%4)?i+=String.fromCharCode(255&e>>(-2*o&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return i};var Mt=function(){function n(t){t===void 0&&(t={}),this.$load(t||{})}return n.prototype.load=function(t){return this.$load(t)},n.prototype.$load=function(t){for(var e=0,l=Object.entries(t);e<l.length;e++){var o=l[e],r=o[0],i=o[1];this[r]=i}this.id=t.id!==void 0?t.id:"",this.created=t.created!==void 0?t.created:"",this.updated=t.updated!==void 0?t.updated:""},Object.defineProperty(n.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return this.$clone()},n.prototype.$clone=function(){var t=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(t)},n.prototype.export=function(){return this.$export()},n.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},n}(),Yt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.collectionName=typeof e.collectionName=="string"?e.collectionName:"",this._loadExpand(e.expand)},t.prototype._loadExpand=function(e){for(var l in e=e||{},this.expand={},e)Array.isArray(e[l])?this.expand[l]=e[l].map(function(o){return new t(o||{})}):this.expand[l]=new t(e[l]||{})},t}(Mt),Gn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.avatar=typeof e.avatar=="number"?e.avatar:0,this.email=typeof e.email=="string"?e.email:""},t}(Mt),pl="pb_auth",zs=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!Hs(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(t,e){this.baseToken=t||"",this.baseModel=e!==null&&typeof e=="object"?e.collectionId!==void 0?new Yt(e):new Gn(e):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(t,e){e===void 0&&(e=pl);var l=function(i,s){var a={};if(typeof i!="string")return a;for(var d=Object.assign({},s||{}).decode||Fs,f=0;f<i.length;){var h=i.indexOf("=",f);if(h===-1)break;var _=i.indexOf(";",f);if(_===-1)_=i.length;else if(_<h){f=i.lastIndexOf(";",h-1)+1;continue}var g=i.slice(f,h).trim();if(a[g]===void 0){var m=i.slice(h+1,_).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{a[g]=d(m)}catch{a[g]=m}}f=_+1}return a}(t||"")[e]||"",o={};try{(typeof(o=JSON.parse(l))===null||typeof o!="object"||Array.isArray(o))&&(o={})}catch{}this.save(o.token||"",o.model||null)},n.prototype.exportToCookie=function(t,e){var l,o,r;e===void 0&&(e=pl);var i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Sr(this.token);s!=null&&s.exp?i.expires=new Date(1e3*s.exp):i.expires=new Date("1970-01-01"),t=Object.assign({},i,t);var a={token:this.token,model:((l=this.model)===null||l===void 0?void 0:l.export())||null},d=dl(e,JSON.stringify(a),t),f=typeof Blob<"u"?new Blob([d]).size:d.length;return a.model&&f>4096&&(a.model={id:(o=a==null?void 0:a.model)===null||o===void 0?void 0:o.id,email:(r=a==null?void 0:a.model)===null||r===void 0?void 0:r.email},this.model instanceof Yt&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),d=dl(e,JSON.stringify(a),t)),d},n.prototype.onChange=function(t,e){var l=this;return e===void 0&&(e=!1),this._onChangeCallbacks.push(t),e&&t(this.token,this.model),function(){for(var o=l._onChangeCallbacks.length-1;o>=0;o--)if(l._onChangeCallbacks[o]==t)return delete l._onChangeCallbacks[o],void l._onChangeCallbacks.splice(o,1)}},n.prototype.triggerChange=function(){for(var t=0,e=this._onChangeCallbacks;t<e.length;t++){var l=e[t];l&&l(this.token,this.model)}},n}(),Vs=function(n){function t(e){e===void 0&&(e="pocketbase_auth");var l=n.call(this)||this;return l.storageFallback={},l.storageKey=e,l}return Ge(t,n),Object.defineProperty(t.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){var e,l=this._storageGet(this.storageKey)||{};return l===null||typeof l!="object"||l.model===null||typeof l.model!="object"?null:((e=l.model)===null||e===void 0?void 0:e.collectionId)===void 0?new Gn(l.model):new Yt(l.model)},enumerable:!1,configurable:!0}),t.prototype.save=function(e,l){this._storageSet(this.storageKey,{token:e,model:l}),n.prototype.save.call(this,e,l)},t.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},t.prototype._storageGet=function(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){var l=window.localStorage.getItem(e)||"";try{return JSON.parse(l)}catch{return l}}return this.storageFallback[e]},t.prototype._storageSet=function(e,l){if(typeof window<"u"&&(window!=null&&window.localStorage)){var o=l;typeof l!="string"&&(o=JSON.stringify(l)),window.localStorage.setItem(e,o)}else this.storageFallback[e]=l},t.prototype._storageRemove=function(e){var l;typeof window<"u"&&(window!=null&&window.localStorage)&&((l=window.localStorage)===null||l===void 0||l.removeItem(e)),delete this.storageFallback[e]},t}(zs),ht=function(t){this.client=t},Js=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.getAll=function(e){return e===void 0&&(e={}),this.client.send("/api/settings",{method:"GET",params:e}).then(function(l){return l||{}})},t.prototype.update=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send("/api/settings",{method:"PATCH",params:l,body:e}).then(function(o){return o||{}})},t.prototype.testS3=function(e,l){e===void 0&&(e="storage"),l===void 0&&(l={});var o={filesystem:e};return this.client.send("/api/settings/test/s3",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.testEmail=function(e,l,o){o===void 0&&(o={});var r={email:e,template:l};return this.client.send("/api/settings/test/email",{method:"POST",params:o,body:r}).then(function(){return!0})},t.prototype.generateAppleClientSecret=function(e,l,o,r,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({clientId:e,teamId:l,keyId:o,privateKey:r,duration:i},s),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:s})},t}(ht),Ar=function(t,e,l,o,r){this.page=t>0?t:1,this.perPage=e>=0?e:0,this.totalItems=l>=0?l:0,this.totalPages=o>=0?o:0,this.items=r||[]},Wn=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.getFullList=function(e,l){if(typeof e=="number")return this._getFullList(this.baseCrudPath,e,l);var o=Object.assign({},e,l);return this._getFullList(this.baseCrudPath,o.batch||200,o)},t.prototype.getList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),this._getList(this.baseCrudPath,e,l,o)},t.prototype.getFirstListItem=function(e,l){return l===void 0&&(l={}),this._getFirstListItem(this.baseCrudPath,e,l)},t.prototype.getOne=function(e,l){return l===void 0&&(l={}),this._getOne(this.baseCrudPath,e,l)},t.prototype.create=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this._create(this.baseCrudPath,e,l)},t.prototype.update=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),this._update(this.baseCrudPath,e,l,o)},t.prototype.delete=function(e,l){return l===void 0&&(l={}),this._delete(this.baseCrudPath,e,l)},t}(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype._getFullList=function(e,l,o){var r=this;l===void 0&&(l=200),o===void 0&&(o={});var i=[],s=function(a){return ze(r,void 0,void 0,function(){return Ve(this,function(d){return[2,this._getList(e,a,l||200,o).then(function(f){var h=f,_=h.items,g=h.totalItems;return i=i.concat(_),_.length&&g>i.length?s(a+1):i})]})})};return s(1)},t.prototype._getList=function(e,l,o,r){var i=this;return l===void 0&&(l=1),o===void 0&&(o=30),r===void 0&&(r={}),r=Object.assign({page:l,perPage:o},r),this.client.send(e,{method:"GET",params:r}).then(function(s){var a=[];if(s!=null&&s.items){s.items=s.items||[];for(var d=0,f=s.items;d<f.length;d++){var h=f[d];a.push(i.decode(h))}}return new Ar((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},t.prototype._getOne=function(e,l,o){var r=this;return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"GET",params:o}).then(function(i){return r.decode(i)})},t.prototype._getFirstListItem=function(e,l,o){return o===void 0&&(o={}),o=Object.assign({filter:l,$cancelKey:"one_by_filter_"+e+"_"+l},o),this._getList(e,1,1,o).then(function(r){var i;if(!(!((i=r==null?void 0:r.items)===null||i===void 0)&&i.length))throw new rt({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},t.prototype._create=function(e,l,o){var r=this;return l===void 0&&(l={}),o===void 0&&(o={}),this.client.send(e,{method:"POST",params:o,body:l}).then(function(i){return r.decode(i)})},t.prototype._update=function(e,l,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"PATCH",params:r,body:o}).then(function(s){return i.decode(s)})},t.prototype._delete=function(e,l,o){return o===void 0&&(o={}),this.client.send(e+"/"+encodeURIComponent(l),{method:"DELETE",params:o}).then(function(){return!0})},t}(ht)),Gs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.decode=function(e){return new Gn(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),t.prototype.update=function(e,l,o){var r=this;return l===void 0&&(l={}),o===void 0&&(o={}),n.prototype.update.call(this,e,l,o).then(function(i){var s,a;return r.client.authStore.model&&((s=r.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.id)===(i==null?void 0:i.id)&&r.client.authStore.save(r.client.authStore.token,i),i})},t.prototype.delete=function(e,l){var o=this;return l===void 0&&(l={}),n.prototype.delete.call(this,e,l).then(function(r){var i,s;return r&&o.client.authStore.model&&((i=o.client.authStore.model)===null||i===void 0?void 0:i.collectionId)===void 0&&((s=o.client.authStore.model)===null||s===void 0?void 0:s.id)===e&&o.client.authStore.clear(),r})},t.prototype.authResponse=function(e){var l=this.decode((e==null?void 0:e.admin)||{});return e!=null&&e.token&&(e!=null&&e.admin)&&this.client.authStore.save(e.token,l),Object.assign({},e,{token:(e==null?void 0:e.token)||"",admin:l})},t.prototype.authWithPassword=function(e,l,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({identity:e,password:l},o),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:o}).then(this.authResponse.bind(this))},t.prototype.authRefresh=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:l,body:e}).then(this.authResponse.bind(this))},t.prototype.requestPasswordReset=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,l,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:l,passwordConfirm:o},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},t}(Wn),Ws=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.recordId=typeof e.recordId=="string"?e.recordId:"",this.collectionId=typeof e.collectionId=="string"?e.collectionId:"",this.provider=typeof e.provider=="string"?e.provider:"",this.providerId=typeof e.providerId=="string"?e.providerId:""},t}(Mt),Qs=function(n){function t(e,l){var o=n.call(this,e)||this;return o.collectionIdOrName=l,o}return Ge(t,n),t.prototype.decode=function(e){return new Yt(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),t.prototype.subscribeOne=function(e,l){return ze(this,void 0,void 0,function(){return Ve(this,function(o){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,l)]})})},t.prototype.subscribe=function(e,l){return ze(this,void 0,void 0,function(){var o;return Ve(this,function(r){if(typeof e=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,e)];if(!l)throw new Error("Missing subscription callback.");if(e==="")throw new Error("Missing topic.");return o=this.collectionIdOrName,e!=="*"&&(o+="/"+e),[2,this.client.realtime.subscribe(o,l)]})})},t.prototype.unsubscribe=function(e){return ze(this,void 0,void 0,function(){return Ve(this,function(l){return e==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:e?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},t.prototype.getFullList=function(e,l){if(typeof e=="number")return n.prototype.getFullList.call(this,e,l);var o=Object.assign({},e,l);return n.prototype.getFullList.call(this,o)},t.prototype.getList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),n.prototype.getList.call(this,e,l,o)},t.prototype.getFirstListItem=function(e,l){return l===void 0&&(l={}),n.prototype.getFirstListItem.call(this,e,l)},t.prototype.getOne=function(e,l){return l===void 0&&(l={}),n.prototype.getOne.call(this,e,l)},t.prototype.create=function(e,l){return e===void 0&&(e={}),l===void 0&&(l={}),n.prototype.create.call(this,e,l)},t.prototype.update=function(e,l,o){var r=this;return l===void 0&&(l={}),o===void 0&&(o={}),n.prototype.update.call(this,e,l,o).then(function(i){var s,a,d;return((s=r.client.authStore.model)===null||s===void 0?void 0:s.id)!==(i==null?void 0:i.id)||((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==r.collectionIdOrName&&((d=r.client.authStore.model)===null||d===void 0?void 0:d.collectionName)!==r.collectionIdOrName||r.client.authStore.save(r.client.authStore.token,i),i})},t.prototype.delete=function(e,l){var o=this;return l===void 0&&(l={}),n.prototype.delete.call(this,e,l).then(function(r){var i,s,a;return!r||((i=o.client.authStore.model)===null||i===void 0?void 0:i.id)!==e||((s=o.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==o.collectionIdOrName&&((a=o.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==o.collectionIdOrName||o.client.authStore.clear(),r})},t.prototype.authResponse=function(e){var l=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,l),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:l})},t.prototype.listAuthMethods=function(e){return e===void 0&&(e={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:e}).then(function(l){return Object.assign({},l,{usernamePassword:!!(l!=null&&l.usernamePassword),emailPassword:!!(l!=null&&l.emailPassword),authProviders:Array.isArray(l==null?void 0:l.authProviders)?l==null?void 0:l.authProviders:[]})})},t.prototype.authWithPassword=function(e,l,o,r){var i=this;return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({identity:e,password:l},o),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:o}).then(function(s){return i.authResponse(s)})},t.prototype.authWithOAuth2Code=function(e,l,o,r,i,s,a){var d=this;return i===void 0&&(i={}),s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({provider:e,code:l,codeVerifier:o,redirectUrl:r,createData:i},s),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:s}).then(function(f){return d.authResponse(f)})},t.prototype.authWithOAuth2=function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];return ze(this,void 0,void 0,function(){var o,r,i,s,a=this;return Ve(this,function(d){switch(d.label){case 0:return e.length>1||typeof(e==null?void 0:e[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{})]):(o=(e==null?void 0:e[0])||{},[4,this.listAuthMethods()]);case 1:if(r=d.sent(),!(i=r.authProviders.find(function(f){return f.name===o.provider})))throw new rt(new Error('Missing or invalid provider "'.concat(o.provider,'".')));return s=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(f,h){return ze(a,void 0,void 0,function(){var _,g,m,b,y=this;return Ve(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function(v){return ze(y,void 0,void 0,function(){var C,L,q;return Ve(this,function(w){switch(w.label){case 0:C=this.client.realtime.clientId,w.label=1;case 1:if(w.trys.push([1,3,,4]),_(),!v.state||C!==v.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(i.name,v.code,i.codeVerifier,s,o.createData,o.body,o.query)];case 2:return L=w.sent(),f(L),[3,4];case 3:return q=w.sent(),h(new rt(q)),[3,4];case 4:return[2]}})})})];case 1:return _=k.sent(),(g=new URL(i.authUrl+s)).searchParams.set("state",this.client.realtime.clientId),!((b=o.scopes)===null||b===void 0)&&b.length&&g.searchParams.set("scope",o.scopes.join(" ")),[4,o.urlCallback?o.urlCallback(g.toString()):this._defaultUrlCallback(g.toString())];case 2:return k.sent(),[3,4];case 3:return m=k.sent(),h(new rt(m)),[3,4];case 4:return[2]}})})})]}})})},t.prototype.authRefresh=function(e,l){var o=this;return e===void 0&&(e={}),l===void 0&&(l={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:l,body:e}).then(function(r){return o.authResponse(r)})},t.prototype.requestPasswordReset=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmPasswordReset=function(e,l,o,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:e,password:l,passwordConfirm:o},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},t.prototype.requestVerification=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({email:e},l),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmVerification=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({token:e},l),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.requestEmailChange=function(e,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({newEmail:e},l),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:o,body:l}).then(function(){return!0})},t.prototype.confirmEmailChange=function(e,l,o,r){return o===void 0&&(o={}),r===void 0&&(r={}),o=Object.assign({token:e,password:l},o),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:o}).then(function(){return!0})},t.prototype.listExternalAuths=function(e,l){return l===void 0&&(l={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths",{method:"GET",params:l}).then(function(o){var r=[];if(Array.isArray(o))for(var i=0,s=o;i<s.length;i++){var a=s[i];r.push(new Ws(a))}return r})},t.prototype.unlinkExternalAuth=function(e,l,o){return o===void 0&&(o={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/external-auths/"+encodeURIComponent(l),{method:"DELETE",params:o}).then(function(){return!0})},t.prototype._defaultUrlCallback=function(e){if(typeof window>"u"||!(window!=null&&window.open))throw new rt(new Error("Not in a browser context - please pass a custom urlCallback function."));var l=1024,o=768,r=window.innerWidth,i=window.innerHeight,s=r/2-(l=l>r?r:l)/2,a=i/2-(o=o>i?i:o)/2;window.open(e,"oauth2-popup","width="+l+",height="+o+",top="+a+",left="+s+",resizable,menubar=no")},t}(Wn),Ks=function(t){t===void 0&&(t={}),this.id=t.id!==void 0?t.id:"",this.name=t.name!==void 0?t.name:"",this.type=t.type!==void 0?t.type:"text",this.system=!!t.system,this.required=!!t.required,this.options=typeof t.options=="object"&&t.options!==null?t.options:{}},Ys=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),this.system=!!e.system,this.name=typeof e.name=="string"?e.name:"",this.type=typeof e.type=="string"?e.type:"base",this.options=e.options!==void 0&&e.options!==null?e.options:{},this.indexes=Array.isArray(e.indexes)?e.indexes:[],this.listRule=typeof e.listRule=="string"?e.listRule:null,this.viewRule=typeof e.viewRule=="string"?e.viewRule:null,this.createRule=typeof e.createRule=="string"?e.createRule:null,this.updateRule=typeof e.updateRule=="string"?e.updateRule:null,this.deleteRule=typeof e.deleteRule=="string"?e.deleteRule:null,e.schema=Array.isArray(e.schema)?e.schema:[],this.schema=[];for(var l=0,o=e.schema;l<o.length;l++){var r=o[l];this.schema.push(new Ks(r))}},Object.defineProperty(t.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),t}(Mt),Zs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.decode=function(e){return new Ys(e)},Object.defineProperty(t.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),t.prototype.import=function(e,l,o){return l===void 0&&(l=!1),o===void 0&&(o={}),ze(this,void 0,void 0,function(){return Ve(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:o,body:{collections:e,deleteMissing:l}}).then(function(){return!0})]})})},t}(Wn),hl=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.$load=function(e){n.prototype.$load.call(this,e),e.remoteIp=e.remoteIp||e.ip,this.url=typeof e.url=="string"?e.url:"",this.method=typeof e.method=="string"?e.method:"GET",this.status=typeof e.status=="number"?e.status:200,this.auth=typeof e.auth=="string"?e.auth:"guest",this.remoteIp=typeof e.remoteIp=="string"?e.remoteIp:"",this.userIp=typeof e.userIp=="string"?e.userIp:"",this.referer=typeof e.referer=="string"?e.referer:"",this.userAgent=typeof e.userAgent=="string"?e.userAgent:"",this.meta=typeof e.meta=="object"&&e.meta!==null?e.meta:{}},t}(Mt),Xs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.getRequestsList=function(e,l,o){return e===void 0&&(e=1),l===void 0&&(l=30),o===void 0&&(o={}),o=Object.assign({page:e,perPage:l},o),this.client.send("/api/logs/requests",{method:"GET",params:o}).then(function(r){var i=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var s=0,a=r.items;s<a.length;s++){var d=a[s];i.push(new hl(d))}}return new Ar((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,i)})},t.prototype.getRequest=function(e,l){return l===void 0&&(l={}),this.client.send("/api/logs/requests/"+encodeURIComponent(e),{method:"GET",params:l}).then(function(o){return new hl(o)})},t.prototype.getRequestsStats=function(e){return e===void 0&&(e={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:e}).then(function(l){return l})},t}(ht),$s=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.clientId="",e.eventSource=null,e.subscriptions={},e.lastSentTopics=[],e.maxConnectTimeout=15e3,e.reconnectAttempts=0,e.maxReconnectAttempts=1/0,e.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],e.pendingConnects=[],e}return Ge(t,n),Object.defineProperty(t.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e,l){var o;return ze(this,void 0,void 0,function(){var r,i=this;return Ve(this,function(s){switch(s.label){case 0:if(!e)throw new Error("topic must be set.");return r=function(a){var d,f=a;try{d=JSON.parse(f==null?void 0:f.data)}catch{}l(d||{})},this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return s.sent(),[3,5];case 2:return this.subscriptions[e].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return s.sent(),[3,5];case 4:(o=this.eventSource)===null||o===void 0||o.addEventListener(e,r),s.label=5;case 5:return[2,function(){return ze(i,void 0,void 0,function(){return Ve(this,function(a){return[2,this.unsubscribeByTopicAndListener(e,r)]})})}]}})})},t.prototype.unsubscribe=function(e){var l;return ze(this,void 0,void 0,function(){var o,r,i;return Ve(this,function(s){switch(s.label){case 0:if(!this.hasSubscriptionListeners(e))return[2];if(e){for(o=0,r=this.subscriptions[e];o<r.length;o++)i=r[o],(l=this.eventSource)===null||l===void 0||l.removeEventListener(e,i);delete this.subscriptions[e]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByPrefix=function(e){var l;return ze(this,void 0,void 0,function(){var o,r,i,s,a;return Ve(this,function(d){switch(d.label){case 0:for(r in o=!1,this.subscriptions)if(r.startsWith(e)){for(o=!0,i=0,s=this.subscriptions[r];i<s.length;i++)a=s[i],(l=this.eventSource)===null||l===void 0||l.removeEventListener(r,a);delete this.subscriptions[r]}return o?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},t.prototype.unsubscribeByTopicAndListener=function(e,l){var o;return ze(this,void 0,void 0,function(){var r,i;return Ve(this,function(s){switch(s.label){case 0:if(!Array.isArray(this.subscriptions[e])||!this.subscriptions[e].length)return[2];for(r=!1,i=this.subscriptions[e].length-1;i>=0;i--)this.subscriptions[e][i]===l&&(r=!0,delete this.subscriptions[e][i],this.subscriptions[e].splice(i,1),(o=this.eventSource)===null||o===void 0||o.removeEventListener(e,l));return r?(this.subscriptions[e].length||delete this.subscriptions[e],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(e)?[3,3]:[4,this.submitSubscriptions()];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.hasSubscriptionListeners=function(e){var l,o;if(this.subscriptions=this.subscriptions||{},e)return!!(!((l=this.subscriptions[e])===null||l===void 0)&&l.length);for(var r in this.subscriptions)if(!((o=this.subscriptions[r])===null||o===void 0)&&o.length)return!0;return!1},t.prototype.submitSubscriptions=function(){return ze(this,void 0,void 0,function(){return Ve(this,function(e){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(l){if(!(l!=null&&l.isAbort))throw l})]):[2]})})},t.prototype.getNonEmptySubscriptionTopics=function(){var e=[];for(var l in this.subscriptions)this.subscriptions[l].length&&e.push(l);return e},t.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.removeAllSubscriptionListeners(),this.subscriptions)for(var l=0,o=this.subscriptions[e];l<o.length;l++){var r=o[l];this.eventSource.addEventListener(e,r)}},t.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var e in this.subscriptions)for(var l=0,o=this.subscriptions[e];l<o.length;l++){var r=o[l];this.eventSource.removeEventListener(e,r)}},t.prototype.connect=function(){return ze(this,void 0,void 0,function(){var e=this;return Ve(this,function(l){return this.reconnectAttempts>0?[2]:[2,new Promise(function(o,r){e.pendingConnects.push({resolve:o,reject:r}),e.pendingConnects.length>1||e.initConnect()})]})})},t.prototype.initConnect=function(){var e=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){e.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(l){e.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(l){var o=l;e.clientId=o==null?void 0:o.lastEventId,e.submitSubscriptions().then(function(){return ze(e,void 0,void 0,function(){var r;return Ve(this,function(i){switch(i.label){case 0:r=3,i.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return i.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,i=e.pendingConnects;r<i.length;r++)i[r].resolve();e.pendingConnects=[],e.reconnectAttempts=0,clearTimeout(e.reconnectTimeoutId),clearTimeout(e.connectTimeoutId)}).catch(function(r){e.clientId="",e.connectErrorHandler(r)})})},t.prototype.hasUnsentSubscriptions=function(){var e=this.getNonEmptySubscriptionTopics();if(e.length!=this.lastSentTopics.length)return!0;for(var l=0,o=e;l<o.length;l++){var r=o[l];if(!this.lastSentTopics.includes(r))return!0}return!1},t.prototype.connectErrorHandler=function(e){var l=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var o=0,r=this.pendingConnects;o<r.length;o++)r[o].reject(new rt(e));this.disconnect()}else{this.disconnect(!0);var i=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){l.initConnect()},i)}},t.prototype.disconnect=function(e){var l;if(e===void 0&&(e=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(l=this.eventSource)===null||l===void 0||l.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(var o=new rt(new Error("Realtime disconnected.")),r=0,i=this.pendingConnects;r<i.length;r++)i[r].reject(o);this.pendingConnects=[]}},t}(ht),xs=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.check=function(e){return e===void 0&&(e={}),this.client.send("/api/health",{method:"GET",params:e})},t}(ht),ea=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.getUrl=function(e,l,o){o===void 0&&(o={});var r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(l));var i=this.client.buildUrl(r.join("/"));if(Object.keys(o).length){var s=new URLSearchParams(o);i+=(i.includes("?")?"&":"?")+s}return i},t.prototype.getToken=function(e){return e===void 0&&(e={}),this.client.send("/api/files/token",{method:"POST",params:e}).then(function(l){return(l==null?void 0:l.token)||""})},t}(ht),ta=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ge(t,n),t.prototype.getFullList=function(e){return e===void 0&&(e={}),this.client.send("/api/backups",{method:"GET",params:e})},t.prototype.create=function(e,l){l===void 0&&(l={});var o={name:e};return this.client.send("/api/backups",{method:"POST",params:l,body:o}).then(function(){return!0})},t.prototype.delete=function(e,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(e)),{method:"DELETE",params:l}).then(function(){return!0})},t.prototype.restore=function(e,l){return l===void 0&&(l={}),this.client.send("/api/backups/".concat(encodeURIComponent(e),"/restore"),{method:"POST",params:l}).then(function(){return!0})},t.prototype.getDownloadUrl=function(e,l){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(l),"?token=").concat(encodeURIComponent(e)))},t}(ht),na=function(){function n(t,e,l){t===void 0&&(t="/"),l===void 0&&(l="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=l,this.authStore=e||new Vs,this.admins=new Gs(this),this.collections=new Zs(this),this.files=new ea(this),this.logs=new Xs(this),this.settings=new Js(this),this.realtime=new $s(this),this.health=new xs(this),this.backups=new ta(this)}return n.prototype.collection=function(t){return this.recordServices[t]||(this.recordServices[t]=new Qs(this,t)),this.recordServices[t]},n.prototype.autoCancellation=function(t){return this.enableAutoCancellation=!!t,this},n.prototype.cancelRequest=function(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this},n.prototype.cancelAllRequests=function(){for(var t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this},n.prototype.send=function(t,e){var l,o,r,i,s,a,d,f;return ze(this,void 0,void 0,function(){var h,_,g,m,b,y,k,v,C,L=this;return Ve(this,function(q){switch(q.label){case 0:return h=Object.assign({method:"GET"},e),this.isFormData(h.body)||(h.body&&typeof h.body!="string"&&(h.body=JSON.stringify(h.body)),((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["Content-Type"])===void 0&&(h.headers=Object.assign({},h.headers,{"Content-Type":"application/json"}))),((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o["Accept-Language"])===void 0&&(h.headers=Object.assign({},h.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((i=h==null?void 0:h.headers)===null||i===void 0?void 0:i.Authorization)===void 0&&(h.headers=Object.assign({},h.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((s=h.params)===null||s===void 0?void 0:s.$autoCancel)!==!1&&(_=((a=h.params)===null||a===void 0?void 0:a.$cancelKey)||(h.method||"GET")+t,this.cancelRequest(_),g=new AbortController,this.cancelControllers[_]=g,h.signal=g.signal),(d=h.params)===null||d===void 0||delete d.$autoCancel,(f=h.params)===null||f===void 0||delete f.$cancelKey,m=this.buildUrl(t),h.params!==void 0&&((b=this.serializeQueryParams(h.params))&&(m+=(m.includes("?")?"&":"?")+b),delete h.params),this.beforeSend?(v=(k=Object).assign,C=[{}],[4,this.beforeSend(m,h)]):[3,2];case 1:(y=v.apply(k,C.concat([q.sent()]))).url!==void 0||y.options!==void 0?(m=y.url||m,h=y.options||h):Object.keys(y).length&&(h=y,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),q.label=2;case 2:return[2,fetch(m,h).then(function(w){return ze(L,void 0,void 0,function(){var A;return Ve(this,function(I){switch(I.label){case 0:A={},I.label=1;case 1:return I.trys.push([1,3,,4]),[4,w.json()];case 2:return A=I.sent(),[3,4];case 3:return I.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(w,A)]:[3,6];case 5:A=I.sent(),I.label=6;case 6:if(w.status>=400)throw new rt({url:w.url,status:w.status,data:A});return[2,A]}})})}).catch(function(w){throw new rt(w)})]}})})},n.prototype.getFileUrl=function(t,e,l){return l===void 0&&(l={}),this.files.getUrl(t,e,l)},n.prototype.buildUrl=function(t){var e,l=this.baseUrl;return typeof window>"u"||!window.location||l.startsWith("https://")||l.startsWith("http://")||(l=!((e=window.location.origin)===null||e===void 0)&&e.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(l+=window.location.pathname||"/",l+=l.endsWith("/")?"":"/"),l+=this.baseUrl),t&&(l+=l.endsWith("/")?"":"/",l+=t.startsWith("/")?t.substring(1):t),l},n.prototype.isFormData=function(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)},n.prototype.serializeQueryParams=function(t){var e=[];for(var l in t)if(t[l]!==null){var o=t[l],r=encodeURIComponent(l);if(Array.isArray(o))for(var i=0,s=o;i<s.length;i++){var a=s[i];e.push(r+"="+encodeURIComponent(a))}else o instanceof Date?e.push(r+"="+encodeURIComponent(o.toISOString())):typeof o!==null&&typeof o=="object"?e.push(r+"="+encodeURIComponent(JSON.stringify(o))):e.push(r+"="+encodeURIComponent(o))}return e.join("&")},n}();const gt=[];function la(n,t){return{subscribe:$e(n,t).subscribe}}function $e(n,t=ne){let e;const l=new Set;function o(s){if(Oe(n,s)&&(n=s,e)){const a=!gt.length;for(const d of l)d[1](),gt.push(d,n);if(a){for(let d=0;d<gt.length;d+=2)gt[d][0](gt[d+1]);gt.length=0}}}function r(s){o(s(n))}function i(s,a=ne){const d=[s,a];return l.add(d),l.size===1&&(e=t(o)||ne),s(n),()=>{l.delete(d),l.size===0&&e&&(e(),e=null)}}return{set:o,update:r,subscribe:i}}function Tr(n,t,e){const l=!Array.isArray(n),o=l?[n]:n,r=t.length<2;return la(e,i=>{let s=!1;const a=[];let d=0,f=ne;const h=()=>{if(d)return;f();const g=t(l?a[0]:a,i);r?i(g):f=et(g)?g:ne},_=o.map((g,m)=>Un(g,b=>{a[m]=b,d&=~(1<<m),s&&h()},()=>{d|=1<<m}));return s=!0,h(),function(){ue(_),f(),s=!1}})}const on="https://pb.readinglog.fun:4444",pe=new na(on),Ze=$e(pe.authStore.model);pe.authStore.onChange(n=>{console.log("authStore changed",n),Ze.set(pe.authStore.model)});const Pn=$e("10"),Le="bottom-center",_l={},qn={},oa={},Ir=/^:(.+)/,ml=4,ra=3,ia=2,sa=1,aa=1,Ln=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),mn=n=>n.replace(/(^\/+|\/+$)/g,""),ca=(n,t)=>{const e=n.default?0:Ln(n.path).reduce((l,o)=>(l+=ml,o===""?l+=aa:Ir.test(o)?l+=ia:o[0]==="*"?l-=ml+sa:l+=ra,l),0);return{route:n,score:e,index:t}},ua=n=>n.map(ca).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),gl=(n,t)=>{let e,l;const[o]=t.split("?"),r=Ln(o),i=r[0]==="",s=ua(n);for(let a=0,d=s.length;a<d;a++){const f=s[a].route;let h=!1;if(f.default){l={route:f,params:{},uri:t};continue}const _=Ln(f.path),g={},m=Math.max(r.length,_.length);let b=0;for(;b<m;b++){const y=_[b],k=r[b];if(y&&y[0]==="*"){const C=y==="*"?"*":y.slice(1);g[C]=r.slice(b).map(decodeURIComponent).join("/");break}if(typeof k>"u"){h=!0;break}const v=Ir.exec(y);if(v&&!i){const C=decodeURIComponent(k);g[v[1]]=C}else if(y!==k){h=!0;break}}if(!h){e={route:f,params:g,uri:"/"+r.slice(0,b).join("/")};break}}return e||l||null},bl=(n,t)=>`${mn(t==="/"?n:`${mn(n)}/${mn(t)}`)}/`,Pr=typeof window<"u"&&"document"in window,gn=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),fa=n=>{const t=[];let e=gn(n);return{get location(){return e},listen(l){t.push(l);const o=()=>{e=gn(n),l({location:e,action:"POP"})};return n.addEventListener("popstate",o),()=>{n.removeEventListener("popstate",o);const r=t.indexOf(l);t.splice(r,1)}},navigate(l,{state:o,replace:r=!1}={}){o={...o,key:Date.now()+""};try{r?n.history.replaceState(o,"",l):n.history.pushState(o,"",l)}catch{n.location[r?"replace":"assign"](l)}e=gn(n),t.forEach(i=>i({location:e,action:"PUSH"})),document.activeElement.blur()}}},da=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],l=[];return{get location(){return e[t]},addEventListener(o,r){},removeEventListener(o,r){},history:{get entries(){return e},get index(){return t},get state(){return l[t]},pushState(o,r,i){const[s,a=""]=i.split("?");t++,e.push({pathname:s,search:a}),l.push(o)},replaceState(o,r,i){const[s,a=""]=i.split("?");e[t]={pathname:s,search:a},l[t]=o}}}},qr=fa(Pr?window:da()),{navigate:Qn}=qr,pa=n=>({route:n&2,location:n&1}),vl=n=>({route:n[1]&&n[1].uri,location:n[0]});function ha(n){let t;const e=n[12].default,l=en(e,n,n[11],vl);return{c(){l&&l.c()},m(o,r){l&&l.m(o,r),t=!0},p(o,[r]){l&&l.p&&(!t||r&2051)&&nn(l,e,o,o[11],t?tn(e,o[11],r,pa):ln(o[11]),vl)},i(o){t||(K(l,o),t=!0)},o(o){$(l,o),t=!1},d(o){l&&l.d(o)}}}function _a(n,t,e){let l,o,r,i,{$$slots:s={},$$scope:a}=t,{basepath:d="/"}=t,{url:f=null}=t,{history:h=qr}=t;pn(oa,h);const _=Cn(_l),g=Cn(qn),m=$e([]);Fe(n,m,w=>e(9,o=w));const b=$e(null);Fe(n,b,w=>e(1,i=w));let y=!1;const k=_||$e(f?{pathname:f}:h.location);Fe(n,k,w=>e(0,l=w));const v=g?g.routerBase:$e({path:d,uri:d});Fe(n,v,w=>e(10,r=w));const C=Tr([v,b],([w,A])=>{if(!A)return w;const{path:I}=w,{route:D,uri:P}=A;return{path:D.default?I:D.path.replace(/\*.*$/,""),uri:P}}),L=w=>{const{path:A}=r;let{path:I}=w;if(w._path=I,w.path=bl(A,I),typeof window>"u"){if(y)return;const D=gl([w],l.pathname);D&&(b.set(D),y=!0)}else m.update(D=>[...D,w])},q=w=>{m.update(A=>A.filter(I=>I!==w))};return _||(ft(()=>h.listen(A=>{k.set(A.location)})),pn(_l,k)),pn(qn,{activeRoute:b,base:v,routerBase:C,registerRoute:L,unregisterRoute:q}),n.$$set=w=>{"basepath"in w&&e(6,d=w.basepath),"url"in w&&e(7,f=w.url),"history"in w&&e(8,h=w.history),"$$scope"in w&&e(11,a=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&1024){const{path:w}=r;m.update(A=>A.map(I=>({...I,path:bl(w,I._path)})))}if(n.$$.dirty&513){const w=gl(o,l.pathname);b.set(w)}},[l,i,m,b,k,v,d,f,h,o,r,a,s]}class Kn extends Ee{constructor(t){super(),Me(this,t,_a,ha,Oe,{basepath:6,url:7,history:8})}}const ma=n=>({params:n&4}),yl=n=>({params:n[2]});function kl(n){let t,e,l,o;const r=[ba,ga],i=[];function s(a,d){return a[0]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),l=Te()},m(a,d){i[t].m(a,d),E(a,l,d),o=!0},p(a,d){let f=t;t=s(a),t===f?i[t].p(a,d):(De(),$(i[f],1,1,()=>{i[f]=null}),Be(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),K(e,1),e.m(l.parentNode,l))},i(a){o||(K(e),o=!0)},o(a){$(e),o=!1},d(a){i[t].d(a),a&&M(l)}}}function ga(n){let t;const e=n[8].default,l=en(e,n,n[7],yl);return{c(){l&&l.c()},m(o,r){l&&l.m(o,r),t=!0},p(o,r){l&&l.p&&(!t||r&132)&&nn(l,e,o,o[7],t?tn(e,o[7],r,ma):ln(o[7]),yl)},i(o){t||(K(l,o),t=!0)},o(o){$(l,o),t=!1},d(o){l&&l.d(o)}}}function ba(n){let t,e,l,o={ctx:n,current:null,token:null,hasCatch:!1,pending:ka,then:ya,catch:va,value:12,blocks:[,,,]};return ul(e=n[0],o),{c(){t=Te(),o.block.c()},m(r,i){E(r,t,i),o.block.m(r,o.anchor=i),o.mount=()=>t.parentNode,o.anchor=t,l=!0},p(r,i){n=r,o.ctx=n,i&1&&e!==(e=n[0])&&ul(e,o)||Ns(o,n,i)},i(r){l||(K(o.block),l=!0)},o(r){for(let i=0;i<3;i+=1){const s=o.blocks[i];$(s)}l=!1},d(r){r&&M(t),o.block.d(r),o.token=null,o=null}}}function va(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function ya(n){var s;let t,e,l;const o=[n[2],n[3]];var r=((s=n[12])==null?void 0:s.default)||n[12];function i(a){let d={};for(let f=0;f<o.length;f+=1)d=it(d,o[f]);return{props:d}}return r&&(t=st(r,i())),{c(){t&&be(t.$$.fragment),e=Te()},m(a,d){t&&me(t,a,d),E(a,e,d),l=!0},p(a,d){var h;const f=d&12?Ot(o,[d&4&&It(a[2]),d&8&&It(a[3])]):{};if(d&1&&r!==(r=((h=a[12])==null?void 0:h.default)||a[12])){if(t){De();const _=t;$(_.$$.fragment,1,0,()=>{ge(_,1)}),Be()}r?(t=st(r,i()),be(t.$$.fragment),K(t.$$.fragment,1),me(t,e.parentNode,e)):t=null}else r&&t.$set(f)},i(a){l||(t&&K(t.$$.fragment,a),l=!0)},o(a){t&&$(t.$$.fragment,a),l=!1},d(a){a&&M(e),t&&ge(t,a)}}}function ka(n){return{c:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function wa(n){let t,e,l=n[1]&&n[1].route===n[5]&&kl(n);return{c(){l&&l.c(),t=Te()},m(o,r){l&&l.m(o,r),E(o,t,r),e=!0},p(o,[r]){o[1]&&o[1].route===o[5]?l?(l.p(o,r),r&2&&K(l,1)):(l=kl(o),l.c(),K(l,1),l.m(t.parentNode,t)):l&&(De(),$(l,1,1,()=>{l=null}),Be())},i(o){e||(K(l),e=!0)},o(o){$(l),e=!1},d(o){l&&l.d(o),o&&M(t)}}}function Ca(n,t,e){let l,{$$slots:o={},$$scope:r}=t,{path:i=""}=t,{component:s=null}=t,a={},d={};const{registerRoute:f,unregisterRoute:h,activeRoute:_}=Cn(qn);Fe(n,_,m=>e(1,l=m));const g={path:i,default:i===""};return f(g),Vn(()=>{h(g)}),n.$$set=m=>{e(11,t=it(it({},t),rl(m))),"path"in m&&e(6,i=m.path),"component"in m&&e(0,s=m.component),"$$scope"in m&&e(7,r=m.$$scope)},n.$$.update=()=>{{l&&l.route===g&&e(2,a=l.params);const{component:m,path:b,...y}=t;e(3,d=y),Pr&&(window==null||window.scrollTo(0,0)),m&&(m.toString().startsWith("class ")?e(0,s=m):e(0,s=m()))}},t=rl(t),[s,l,a,d,_,g,i,r,o]}class kt extends Ee{constructor(t){super(),Me(this,t,Ca,wa,Oe,{path:6,component:0})}}function Sa(n){let t,e,l;return{c(){t=p("button"),t.textContent="Sign Up"},m(o,r){E(o,t,r),e||(l=T(t,"click",n[0]),e=!0)},p:ne,i:ne,o:ne,d(o){o&&M(t),e=!1,l()}}}function Aa(n){function t(){Qn("/signup")}return[t]}class Ta extends Ee{constructor(t){super(),Me(this,t,Aa,Sa,Oe,{})}}function Ia(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q;return m=new Ta({}),{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),r=p("hgroup"),r.innerHTML=`<h1>Sign in</h1> 
          <h2>Reading App</h2>`,i=S(),s=p("form"),a=p("input"),d=S(),f=p("input"),h=S(),_=p("button"),_.textContent="Login",g=S(),be(m.$$.fragment),b=S(),y=p("br"),k=S(),v=p("a"),v.textContent="Forgot Password?",u(a,"placeholder","Email"),u(a,"type","email"),u(f,"placeholder","Password"),u(f,"type","password"),u(_,"class","svelte-unkkz3"),u(v,"href","/reset"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(w,A){E(w,t,A),c(t,e),c(e,l),c(l,o),c(o,r),c(o,i),c(o,s),c(s,a),Y(a,n[0]),c(s,d),c(s,f),Y(f,n[1]),c(s,h),c(s,_),c(o,g),me(m,o,null),c(o,b),c(o,y),c(o,k),c(o,v),C=!0,L||(q=[T(a,"input",n[4]),T(f,"input",n[5]),T(_,"click",n[2]),T(s,"submit",Ke(n[3]))],L=!0)},p(w,[A]){A&1&&a.value!==w[0]&&Y(a,w[0]),A&2&&f.value!==w[1]&&Y(f,w[1])},i(w){C||(K(m.$$.fragment,w),C=!0)},o(w){$(m.$$.fragment,w),C=!1},d(w){w&&M(t),ge(m),L=!1,ue(q)}}}function Pa(n,t,e){let l,o;async function r(){try{const d=await pe.collection("users").authWithPassword(l,o);console.log(d)}catch(d){alert(d)}}function i(d){Qe.call(this,n,d)}function s(){l=this.value,e(0,l)}function a(){o=this.value,e(1,o)}return[l,o,r,i,s,a]}class Yn extends Ee{constructor(t){super(),Me(this,t,Pa,Ia,Oe,{})}}function qa(n,t,e,l){var o,r,i=!1,s=e.length>=2,a=(m,b,y)=>{if(o=b,s&&(r=m),!i){let k=t(m,b,y);if(t.length<2)b(k);else return k}i=!1},d=Tr(n,a,l),f=!Array.isArray(n);function h(m){var b=e(m,r);f?(i=!0,n.set(b)):b.forEach((y,k)=>{i=!0,n[k].set(y)}),i=!1}var _=!1;function g(m){var b,y,k,v;if(_){v=m(wn(d)),o(v);return}var C=d.subscribe(L=>{_?b?y=!0:b=!0:k=L});v=m(k),_=!0,o(v),C(),_=!1,y&&(v=wn(d)),b&&h(v)}return{subscribe:d.subscribe,set(m){g(()=>m)},update:g}}const La=20,_t=$e([]),Zn=$e(null),Vt=new Map,wl=n=>{if(Vt.has(n))return;const t=setTimeout(()=>{Vt.delete(n),Or(n)},1e3);Vt.set(n,t)},Oa=n=>{const t=Vt.get(n);t&&clearTimeout(t)};function Lr(n){n.id&&Oa(n.id),_t.update(t=>t.map(e=>e.id===n.id?{...e,...n}:e))}function Ma(n){_t.update(t=>[n,...t].slice(0,La))}function Ea(n){wn(_t).find(t=>t.id===n.id)?Lr(n):Ma(n)}function ja(n){_t.update(t=>(n?wl(n):t.forEach(e=>{wl(e.id)}),t.map(e=>e.id===n||n===void 0?{...e,visible:!1}:e)))}function Or(n){_t.update(t=>n===void 0?[]:t.filter(e=>e.id!==n))}function Ra(n){Zn.set(n)}function Na(n){let t;Zn.update(e=>(t=n-(e||0),null)),_t.update(e=>e.map(l=>({...l,pauseDuration:l.pauseDuration+t})))}const Da={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function Ba(n={}){return{toasts:qa(_t,e=>e.map(l=>{var o,r;return{...n,...n[l.type],...l,duration:l.duration||((o=n[l.type])==null?void 0:o.duration)||(n==null?void 0:n.duration)||Da[l.type],style:[n.style,(r=n[l.type])==null?void 0:r.style,l.style].join(";")}}),e=>e),pausedAt:Zn}}const Fa=n=>typeof n=="function",Cl=(n,t)=>Fa(n)?n(t):n,Ua=(()=>{let n=0;return()=>(n+=1,n.toString())})(),Mr=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){const t=matchMedia("(prefers-reduced-motion: reduce)");n=!t||t.matches}return n}})(),Ha=(n,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Ua()}),Et=n=>(t,e)=>{const l=Ha(t,n,e);return Ea(l),l.id},Ae=(n,t)=>Et("blank")(n,t);Ae.error=Et("error");Ae.success=Et("success");Ae.loading=Et("loading");Ae.custom=Et("custom");Ae.dismiss=n=>{ja(n)};Ae.remove=n=>Or(n);Ae.promise=(n,t,e)=>{const l=Ae.loading(t.loading,{...e,...e==null?void 0:e.loading});return n.then(o=>(Ae.success(Cl(t.success,o),{id:l,...e,...e==null?void 0:e.success}),o)).catch(o=>{Ae.error(Cl(t.error,o),{id:l,...e,...e==null?void 0:e.error})}),n};function za(n,t,e){const{reverseOrder:l,gutter:o=8,defaultPosition:r}=e||{},i=t.filter(f=>(f.position||r)===(n.position||r)&&f.height),s=i.findIndex(f=>f.id===n.id),a=i.filter((f,h)=>h<s&&f.visible).length;return i.filter(f=>f.visible).slice(...l?[a+1]:[0,a]).reduce((f,h)=>f+(h.height||0)+o,0)}const Va={startPause(){Ra(Date.now())},endPause(){Na(Date.now())},updateHeight:(n,t)=>{Lr({id:n,height:t})},calculateOffset:za};function Ja(n){const{toasts:t,pausedAt:e}=Ba(n),l=new Map;let o;const r=[e.subscribe(i=>{if(i){for(const[,s]of l)clearTimeout(s);l.clear()}o=i}),t.subscribe(i=>{if(o)return;const s=Date.now();for(const a of i){if(l.has(a.id)||a.duration===1/0)continue;const d=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(d<0)return a.visible&&Ae.dismiss(a.id),null;l.set(a.id,setTimeout(()=>Ae.dismiss(a.id),d))}})];return Vn(()=>{for(const i of r)i()}),{toasts:t,handlers:Va}}function Ga(n){let t;return{c(){t=p("div"),u(t,"class","svelte-11kvm4p"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){E(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&M(t)}}}function Wa(n,t,e){let{primary:l="#61d345"}=t,{secondary:o="#fff"}=t;return n.$$set=r=>{"primary"in r&&e(0,l=r.primary),"secondary"in r&&e(1,o=r.secondary)},[l,o]}class Qa extends Ee{constructor(t){super(),Me(this,t,Wa,Ga,Oe,{primary:0,secondary:1})}}function Ka(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1ee93ns"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){E(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&M(t)}}}function Ya(n,t,e){let{primary:l="#ff4b4b"}=t,{secondary:o="#fff"}=t;return n.$$set=r=>{"primary"in r&&e(0,l=r.primary),"secondary"in r&&e(1,o=r.secondary)},[l,o]}class Za extends Ee{constructor(t){super(),Me(this,t,Ya,Ka,Oe,{primary:0,secondary:1})}}function Xa(n){let t;return{c(){t=p("div"),u(t,"class","svelte-1j7dflg"),Pe(t,"--primary",n[0]),Pe(t,"--secondary",n[1])},m(e,l){E(e,t,l)},p(e,[l]){l&1&&Pe(t,"--primary",e[0]),l&2&&Pe(t,"--secondary",e[1])},i:ne,o:ne,d(e){e&&M(t)}}}function $a(n,t,e){let{primary:l="#616161"}=t,{secondary:o="#e0e0e0"}=t;return n.$$set=r=>{"primary"in r&&e(0,l=r.primary),"secondary"in r&&e(1,o=r.secondary)},[l,o]}class xa extends Ee{constructor(t){super(),Me(this,t,$a,Xa,Oe,{primary:0,secondary:1})}}function ec(n){let t,e,l,o;const r=[n[0]];let i={};for(let a=0;a<r.length;a+=1)i=it(i,r[a]);e=new xa({props:i});let s=n[2]!=="loading"&&Sl(n);return{c(){t=p("div"),be(e.$$.fragment),l=S(),s&&s.c(),u(t,"class","indicator svelte-1kgeier")},m(a,d){E(a,t,d),me(e,t,null),c(t,l),s&&s.m(t,null),o=!0},p(a,d){const f=d&1?Ot(r,[It(a[0])]):{};e.$set(f),a[2]!=="loading"?s?(s.p(a,d),d&4&&K(s,1)):(s=Sl(a),s.c(),K(s,1),s.m(t,null)):s&&(De(),$(s,1,1,()=>{s=null}),Be())},i(a){o||(K(e.$$.fragment,a),K(s),o=!0)},o(a){$(e.$$.fragment,a),$(s),o=!1},d(a){a&&M(t),ge(e),s&&s.d()}}}function tc(n){let t,e,l;var o=n[1];function r(i){return{}}return o&&(t=st(o,r())),{c(){t&&be(t.$$.fragment),e=Te()},m(i,s){t&&me(t,i,s),E(i,e,s),l=!0},p(i,s){if(s&2&&o!==(o=i[1])){if(t){De();const a=t;$(a.$$.fragment,1,0,()=>{ge(a,1)}),Be()}o?(t=st(o,r()),be(t.$$.fragment),K(t.$$.fragment,1),me(t,e.parentNode,e)):t=null}},i(i){l||(t&&K(t.$$.fragment,i),l=!0)},o(i){t&&$(t.$$.fragment,i),l=!1},d(i){i&&M(e),t&&ge(t,i)}}}function nc(n){let t,e;return{c(){t=p("div"),e=F(n[1]),u(t,"class","animated svelte-1kgeier")},m(l,o){E(l,t,o),c(t,e)},p(l,o){o&2&&oe(e,l[1])},i:ne,o:ne,d(l){l&&M(t)}}}function Sl(n){let t,e,l,o;const r=[oc,lc],i=[];function s(a,d){return a[2]==="error"?0:1}return e=s(n),l=i[e]=r[e](n),{c(){t=p("div"),l.c(),u(t,"class","status svelte-1kgeier")},m(a,d){E(a,t,d),i[e].m(t,null),o=!0},p(a,d){let f=e;e=s(a),e===f?i[e].p(a,d):(De(),$(i[f],1,1,()=>{i[f]=null}),Be(),l=i[e],l?l.p(a,d):(l=i[e]=r[e](a),l.c()),K(l,1),l.m(t,null))},i(a){o||(K(l),o=!0)},o(a){$(l),o=!1},d(a){a&&M(t),i[e].d()}}}function lc(n){let t,e;const l=[n[0]];let o={};for(let r=0;r<l.length;r+=1)o=it(o,l[r]);return t=new Qa({props:o}),{c(){be(t.$$.fragment)},m(r,i){me(t,r,i),e=!0},p(r,i){const s=i&1?Ot(l,[It(r[0])]):{};t.$set(s)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){$(t.$$.fragment,r),e=!1},d(r){ge(t,r)}}}function oc(n){let t,e;const l=[n[0]];let o={};for(let r=0;r<l.length;r+=1)o=it(o,l[r]);return t=new Za({props:o}),{c(){be(t.$$.fragment)},m(r,i){me(t,r,i),e=!0},p(r,i){const s=i&1?Ot(l,[It(r[0])]):{};t.$set(s)},i(r){e||(K(t.$$.fragment,r),e=!0)},o(r){$(t.$$.fragment,r),e=!1},d(r){ge(t,r)}}}function rc(n){let t,e,l,o;const r=[nc,tc,ec],i=[];function s(a,d){return typeof a[1]=="string"?0:typeof a[1]<"u"?1:a[2]!=="blank"?2:-1}return~(t=s(n))&&(e=i[t]=r[t](n)),{c(){e&&e.c(),l=Te()},m(a,d){~t&&i[t].m(a,d),E(a,l,d),o=!0},p(a,[d]){let f=t;t=s(a),t===f?~t&&i[t].p(a,d):(e&&(De(),$(i[f],1,1,()=>{i[f]=null}),Be()),~t?(e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),K(e,1),e.m(l.parentNode,l)):e=null)},i(a){o||(K(e),o=!0)},o(a){$(e),o=!1},d(a){~t&&i[t].d(a),a&&M(l)}}}function ic(n,t,e){let l,o,r,{toast:i}=t;return n.$$set=s=>{"toast"in s&&e(3,i=s.toast)},n.$$.update=()=>{n.$$.dirty&8&&e(2,{type:l,icon:o,iconTheme:r}=i,l,(e(1,o),e(3,i)),(e(0,r),e(3,i)))},[r,o,l,i]}class Xn extends Ee{constructor(t){super(),Me(this,t,ic,rc,Oe,{toast:3})}}function sc(n){let t,e,l;var o=n[0].message;function r(i){return{props:{toast:i[0]}}}return o&&(t=st(o,r(n))),{c(){t&&be(t.$$.fragment),e=Te()},m(i,s){t&&me(t,i,s),E(i,e,s),l=!0},p(i,s){const a={};if(s&1&&(a.toast=i[0]),s&1&&o!==(o=i[0].message)){if(t){De();const d=t;$(d.$$.fragment,1,0,()=>{ge(d,1)}),Be()}o?(t=st(o,r(i)),be(t.$$.fragment),K(t.$$.fragment,1),me(t,e.parentNode,e)):t=null}else o&&t.$set(a)},i(i){l||(t&&K(t.$$.fragment,i),l=!0)},o(i){t&&$(t.$$.fragment,i),l=!1},d(i){i&&M(e),t&&ge(t,i)}}}function ac(n){let t=n[0].message+"",e;return{c(){e=F(t)},m(l,o){E(l,e,o)},p(l,o){o&1&&t!==(t=l[0].message+"")&&oe(e,t)},i:ne,o:ne,d(l){l&&M(e)}}}function cc(n){let t,e,l,o;const r=[ac,sc],i=[];function s(f,h){return typeof f[0].message=="string"?0:1}e=s(n),l=i[e]=r[e](n);let a=[{class:"message"},n[0].ariaProps],d={};for(let f=0;f<a.length;f+=1)d=it(d,a[f]);return{c(){t=p("div"),l.c(),sl(t,d),dt(t,"svelte-1nauejd",!0)},m(f,h){E(f,t,h),i[e].m(t,null),o=!0},p(f,[h]){let _=e;e=s(f),e===_?i[e].p(f,h):(De(),$(i[_],1,1,()=>{i[_]=null}),Be(),l=i[e],l?l.p(f,h):(l=i[e]=r[e](f),l.c()),K(l,1),l.m(t,null)),sl(t,d=Ot(a,[{class:"message"},h&1&&f[0].ariaProps])),dt(t,"svelte-1nauejd",!0)},i(f){o||(K(l),o=!0)},o(f){$(l),o=!1},d(f){f&&M(t),i[e].d()}}}function uc(n,t,e){let{toast:l}=t;return n.$$set=o=>{"toast"in o&&e(0,l=o.toast)},[l]}class rn extends Ee{constructor(t){super(),Me(this,t,uc,cc,Oe,{toast:0})}}const fc=n=>({toast:n&1}),Al=n=>({ToastIcon:Xn,ToastMessage:rn,toast:n[0]});function dc(n){let t;const e=n[6].default,l=en(e,n,n[7],Al),o=l||hc(n);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,i){l?l.p&&(!t||i&129)&&nn(l,e,r,r[7],t?tn(e,r[7],i,fc):ln(r[7]),Al):o&&o.p&&(!t||i&1)&&o.p(r,t?i:-1)},i(r){t||(K(o,r),t=!0)},o(r){$(o,r),t=!1},d(r){o&&o.d(r)}}}function pc(n){let t,e,l;var o=n[2];function r(i){return{props:{$$slots:{message:[mc],icon:[_c]},$$scope:{ctx:i}}}}return o&&(t=st(o,r(n))),{c(){t&&be(t.$$.fragment),e=Te()},m(i,s){t&&me(t,i,s),E(i,e,s),l=!0},p(i,s){const a={};if(s&129&&(a.$$scope={dirty:s,ctx:i}),s&4&&o!==(o=i[2])){if(t){De();const d=t;$(d.$$.fragment,1,0,()=>{ge(d,1)}),Be()}o?(t=st(o,r(i)),be(t.$$.fragment),K(t.$$.fragment,1),me(t,e.parentNode,e)):t=null}else o&&t.$set(a)},i(i){l||(t&&K(t.$$.fragment,i),l=!0)},o(i){t&&$(t.$$.fragment,i),l=!1},d(i){i&&M(e),t&&ge(t,i)}}}function hc(n){let t,e,l,o;return t=new Xn({props:{toast:n[0]}}),l=new rn({props:{toast:n[0]}}),{c(){be(t.$$.fragment),e=S(),be(l.$$.fragment)},m(r,i){me(t,r,i),E(r,e,i),me(l,r,i),o=!0},p(r,i){const s={};i&1&&(s.toast=r[0]),t.$set(s);const a={};i&1&&(a.toast=r[0]),l.$set(a)},i(r){o||(K(t.$$.fragment,r),K(l.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),$(l.$$.fragment,r),o=!1},d(r){ge(t,r),r&&M(e),ge(l,r)}}}function _c(n){let t,e;return t=new Xn({props:{toast:n[0],slot:"icon"}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o&1&&(r.toast=l[0]),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function mc(n){let t,e;return t=new rn({props:{toast:n[0],slot:"message"}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o&1&&(r.toast=l[0]),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function gc(n){let t,e,l,o,r,i;const s=[pc,dc],a=[];function d(f,h){return f[2]?0:1}return e=d(n),l=a[e]=s[e](n),{c(){t=p("div"),l.c(),u(t,"class",o="base "+(n[0].height?n[4]:"transparent")+" "+(n[0].className||"")+" svelte-ug60r4"),u(t,"style",r=n[1]+"; "+n[0].style),Pe(t,"--factor",n[3])},m(f,h){E(f,t,h),a[e].m(t,null),i=!0},p(f,[h]){let _=e;e=d(f),e===_?a[e].p(f,h):(De(),$(a[_],1,1,()=>{a[_]=null}),Be(),l=a[e],l?l.p(f,h):(l=a[e]=s[e](f),l.c()),K(l,1),l.m(t,null)),(!i||h&17&&o!==(o="base "+(f[0].height?f[4]:"transparent")+" "+(f[0].className||"")+" svelte-ug60r4"))&&u(t,"class",o),(!i||h&3&&r!==(r=f[1]+"; "+f[0].style))&&u(t,"style",r),(h&3||h&11)&&Pe(t,"--factor",f[3])},i(f){i||(K(l),i=!0)},o(f){$(l),i=!1},d(f){f&&M(t),a[e].d()}}}function bc(n,t,e){let{$$slots:l={},$$scope:o}=t,{toast:r}=t,{position:i=void 0}=t,{style:s=""}=t,{Component:a=void 0}=t,d,f;return n.$$set=h=>{"toast"in h&&e(0,r=h.toast),"position"in h&&e(5,i=h.position),"style"in h&&e(1,s=h.style),"Component"in h&&e(2,a=h.Component),"$$scope"in h&&e(7,o=h.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const h=(r.position||i||"top-center").includes("top");e(3,d=h?1:-1);const[_,g]=Mr()?["fadeIn","fadeOut"]:["enter","exit"];e(4,f=r.visible?_:g)}},[r,s,a,d,f,i,l,o]}class vc extends Ee{constructor(t){super(),Me(this,t,bc,gc,Oe,{toast:0,position:5,style:1,Component:2})}}const yc=n=>({toast:n&1}),Tl=n=>({toast:n[0]});function kc(n){let t;const e=n[8].default,l=en(e,n,n[7],Tl),o=l||Cc(n);return{c(){o&&o.c()},m(r,i){o&&o.m(r,i),t=!0},p(r,i){l?l.p&&(!t||i&129)&&nn(l,e,r,r[7],t?tn(e,r[7],i,yc):ln(r[7]),Tl):o&&o.p&&(!t||i&1)&&o.p(r,t?i:-1)},i(r){t||(K(o,r),t=!0)},o(r){$(o,r),t=!1},d(r){o&&o.d(r)}}}function wc(n){let t,e;return t=new rn({props:{toast:n[0]}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o&1&&(r.toast=l[0]),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function Cc(n){let t,e;return t=new vc({props:{toast:n[0],position:n[0].position}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o&1&&(r.toast=l[0]),o&1&&(r.position=l[0].position),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function Sc(n){let t,e,l,o;const r=[wc,kc],i=[];function s(a,d){return a[0].type==="custom"?0:1}return e=s(n),l=i[e]=r[e](n),{c(){t=p("div"),l.c(),u(t,"class","wrapper svelte-v01oml"),dt(t,"active",n[0].visible),dt(t,"transition",!Mr()),Pe(t,"--factor",n[3]),Pe(t,"--offset",n[0].offset),Pe(t,"top",n[5]),Pe(t,"bottom",n[4]),Pe(t,"justify-content",n[2])},m(a,d){E(a,t,d),i[e].m(t,null),n[9](t),o=!0},p(a,[d]){let f=e;e=s(a),e===f?i[e].p(a,d):(De(),$(i[f],1,1,()=>{i[f]=null}),Be(),l=i[e],l?l.p(a,d):(l=i[e]=r[e](a),l.c()),K(l,1),l.m(t,null)),(!o||d&1)&&dt(t,"active",a[0].visible),d&8&&Pe(t,"--factor",a[3]),d&1&&Pe(t,"--offset",a[0].offset),d&32&&Pe(t,"top",a[5]),d&16&&Pe(t,"bottom",a[4]),d&4&&Pe(t,"justify-content",a[2])},i(a){o||(K(l),o=!0)},o(a){$(l),o=!1},d(a){a&&M(t),i[e].d(),n[9](null)}}}function Ac(n,t,e){let l,o,r,i,{$$slots:s={},$$scope:a}=t,{toast:d}=t,{setHeight:f}=t,h;ft(()=>{f(h.getBoundingClientRect().height)});function _(g){at[g?"unshift":"push"](()=>{h=g,e(1,h)})}return n.$$set=g=>{"toast"in g&&e(0,d=g.toast),"setHeight"in g&&e(6,f=g.setHeight),"$$scope"in g&&e(7,a=g.$$scope)},n.$$.update=()=>{var g,m,b,y,k;n.$$.dirty&1&&e(5,l=(g=d.position)!=null&&g.includes("top")?0:null),n.$$.dirty&1&&e(4,o=(m=d.position)!=null&&m.includes("bottom")?0:null),n.$$.dirty&1&&e(3,r=(b=d.position)!=null&&b.includes("top")?1:-1),n.$$.dirty&1&&e(2,i=((y=d.position)==null?void 0:y.includes("center"))&&"center"||((k=d.position)==null?void 0:k.includes("right"))&&"flex-end"||null)},[d,h,i,r,o,l,f,a,s,_]}class Tc extends Ee{constructor(t){super(),Me(this,t,Ac,Sc,Oe,{toast:0,setHeight:6})}}function Il(n,t,e){const l=n.slice();return l[11]=t[e],l}function Pl(n,t){let e,l,o;function r(...i){return t[10](t[11],...i)}return l=new Tc({props:{toast:t[11],setHeight:r}}),{key:n,first:null,c(){e=Te(),be(l.$$.fragment),this.first=e},m(i,s){E(i,e,s),me(l,i,s),o=!0},p(i,s){t=i;const a={};s&4&&(a.toast=t[11]),s&4&&(a.setHeight=r),l.$set(a)},i(i){o||(K(l.$$.fragment,i),o=!0)},o(i){$(l.$$.fragment,i),o=!1},d(i){i&&M(e),ge(l,i)}}}function Ic(n){let t,e=[],l=new Map,o,r,i,s,a=n[2];const d=f=>f[11].id;for(let f=0;f<a.length;f+=1){let h=Il(n,a,f),_=d(h);l.set(_,e[f]=Pl(_,h))}return{c(){t=p("div");for(let f=0;f<e.length;f+=1)e[f].c();u(t,"class",o="toaster "+(n[1]||"")+" svelte-1phplh9"),u(t,"style",n[0])},m(f,h){E(f,t,h);for(let _=0;_<e.length;_+=1)e[_]&&e[_].m(t,null);r=!0,i||(s=[T(t,"mouseenter",n[4].startPause),T(t,"mouseleave",n[4].endPause)],i=!0)},p(f,[h]){h&20&&(a=f[2],De(),e=Ue(e,h,d,1,f,a,l,t,Ds,Pl,null,Il),Be()),(!r||h&2&&o!==(o="toaster "+(f[1]||"")+" svelte-1phplh9"))&&u(t,"class",o),(!r||h&1)&&u(t,"style",f[0])},i(f){if(!r){for(let h=0;h<a.length;h+=1)K(e[h]);r=!0}},o(f){for(let h=0;h<e.length;h+=1)$(e[h]);r=!1},d(f){f&&M(t);for(let h=0;h<e.length;h+=1)e[h].d();i=!1,ue(s)}}}function Pc(n,t,e){let l,{reverseOrder:o=!1}=t,{position:r="top-center"}=t,{toastOptions:i=void 0}=t,{gutter:s=8}=t,{containerStyle:a=void 0}=t,{containerClassName:d=void 0}=t;const{toasts:f,handlers:h}=Ja(i);Fe(n,f,m=>e(9,l=m));let _;const g=(m,b)=>h.updateHeight(m.id,b);return n.$$set=m=>{"reverseOrder"in m&&e(5,o=m.reverseOrder),"position"in m&&e(6,r=m.position),"toastOptions"in m&&e(7,i=m.toastOptions),"gutter"in m&&e(8,s=m.gutter),"containerStyle"in m&&e(0,a=m.containerStyle),"containerClassName"in m&&e(1,d=m.containerClassName)},n.$$.update=()=>{n.$$.dirty&864&&e(2,_=l.map(m=>({...m,position:m.position||r,offset:h.calculateOffset(m,l,{reverseOrder:o,gutter:s,defaultPosition:r})})))},[a,d,_,f,h,o,r,i,s,l,g]}class sn extends Ee{constructor(t){super(),Me(this,t,Pc,Ic,Oe,{reverseOrder:5,position:6,toastOptions:7,gutter:8,containerStyle:0,containerClassName:1})}}function ql(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee,ce,Q,Z,ie,ke,we,G,se,he,Ce,Ie,je,_e,fe,de,ve,Se,te,le,B,X,ye;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=S(),i=p("strong"),i.textContent="Terms and Conditions",s=S(),a=p("p"),a.textContent=`Please read these terms and conditions ("Agreement") carefully\r
                  before using the reading app ("App"). This Agreement sets\r
                  forth the legally binding terms and conditions for your use of\r
                  the App.`,d=S(),f=p("p"),f.innerHTML="<strong>1. Acceptance of Terms</strong>",h=S(),_=p("p"),_.textContent=`By registering and using the App, you agree to be bound by\r
                  this Agreement, as well as any additional terms and conditions\r
                  and policies that may be provided by the App or its\r
                  administrators. If you do not agree to any provision of this\r
                  Agreement, you may not use the App.`,g=S(),m=p("p"),m.innerHTML="<strong>2. User Accounts</strong>",b=S(),y=p("p"),y.innerHTML=`<strong>(a) Eligibility:</strong> To use the App, you must be a
                  parent or legal guardian of a first or second-grade student. By
                  creating an account, you represent and warrant that you have the
                  legal authority to agree to this Agreement on behalf of your child.`,k=S(),v=p("p"),v.innerHTML=`<strong>(b) Account Creation:</strong> When registering for an
                  account, you agree to provide accurate, current, and complete information
                  about yourself and your child as prompted by the registration form.
                  You are responsible for maintaining the confidentiality of your
                  account information and password.`,C=S(),L=p("p"),L.innerHTML=`<strong>(c) Parental Consent:</strong> By registering your child
                  on the App, you consent to your child&#39;s use of the App and agree
                  to supervise your child&#39;s activities while using the App.`,q=S(),w=p("p"),w.innerHTML="<strong>3. Use of the App</strong>",A=S(),I=p("p"),I.innerHTML=`<strong>(a) Purpose:</strong> The App is designed to allow first
                  and second-grade students to log their readings, and for teachers
                  to track their progress. The App may include features such as reading
                  challenges, progress tracking, and communication tools.`,D=S(),P=p("p"),P.innerHTML=`<strong>(b) Content Ownership:</strong> You acknowledge that any
                  content you or your child submits through the App, including reading
                  logs, progress data, and communications, remains your responsibility
                  and you grant the App administrators a non-exclusive, worldwide,
                  royalty-free license to use, copy, modify, and distribute the content
                  for the purpose of providing and improving the App.`,N=S(),O=p("p"),O.innerHTML=`<strong>(c) Parental Responsibility:</strong> As a parent or legal
                  guardian, you are responsible for monitoring your child&#39;s use of
                  the App and ensuring that the content they access is appropriate
                  for their age and educational needs.`,j=S(),R=p("p"),R.innerHTML="<strong>4. Privacy and Data Security</strong>",z=S(),U=p("p"),U.innerHTML=`<strong>(a) Data Collection and Use:</strong> The App may collect
                  personal information, including but not limited to email addresses
                  and reading data. The collection and use of personal information
                  are governed by our Privacy Policy, which is incorporated into
                  this Agreement by reference.`,x=S(),W=p("p"),W.innerHTML=`<strong>(b) Data Security:</strong> We implement reasonable measures
                  to protect the security and confidentiality of the data stored
                  in the App. However, no method of transmission or storage is completely
                  secure, and we cannot guarantee the absolute security of your data.`,V=S(),J=p("p"),J.innerHTML="<strong>5. Limitation of Liability</strong>",ee=S(),ce=p("p"),ce.textContent=`To the maximum extent permitted by law, the App administrators\r
                  and their affiliates, officers, directors, employees, and\r
                  agents shall not be liable for any indirect, incidental,\r
                  special, consequential, or punitive damages, or any loss of\r
                  profits or revenues arising out of or related to your use or\r
                  inability to use the App.`,Q=S(),Z=p("p"),Z.innerHTML="<strong>6. Modification of Terms</strong>",ie=S(),ke=p("p"),ke.textContent=`The App administrators reserve the right to modify or update\r
                  this Agreement at any time. Any changes to the Agreement will\r
                  be effective upon posting the revised version on the App. By\r
                  continuing to use the App after the changes, you agree to be\r
                  bound by the modified terms.`,we=S(),G=p("p"),G.innerHTML="<strong>7. Governing Law and Jurisdiction</strong>",se=S(),he=p("p"),he.textContent=`This Agreement shall be governed by and construed in\r
                  accordance with the laws of [Jurisdiction]. Any legal action\r
                  or proceeding arising out of or relating to this Agreement\r
                  shall be exclusively brought in the courts located within\r
                  [Jurisdiction], and you consent to the personal jurisdiction\r
                  of such courts.`,Ce=S(),Ie=p("p"),Ie.innerHTML="<strong>8. Severability</strong>",je=S(),_e=p("p"),_e.textContent=`If any provision of this Agreement is found to be unlawful,\r
                  void, or unenforceable, the remaining provisions shall remain\r
                  in full force and effect.`,fe=S(),de=p("p"),de.innerHTML="<strong>9. Entire Agreement</strong>",ve=S(),Se=p("p"),Se.textContent=`This Agreement constitutes the entire agreement between you\r
                  and the App administrators regarding the use of the App and\r
                  supersedes all prior agreements and understandings, whether\r
                  written or oral.`,te=S(),le=p("footer"),B=p("a"),B.textContent="Close",u(o,"href","#close"),u(o,"class","close"),u(B,"href","#close"),u(B,"role","button"),u(B,"class","secondary"),u(e,"class","svelte-unkkz3"),t.open=!0},m(ae,Ye){E(ae,t,Ye),c(t,e),c(e,l),c(l,o),c(l,r),c(l,i),c(e,s),c(e,a),c(e,d),c(e,f),c(e,h),c(e,_),c(e,g),c(e,m),c(e,b),c(e,y),c(e,k),c(e,v),c(e,C),c(e,L),c(e,q),c(e,w),c(e,A),c(e,I),c(e,D),c(e,P),c(e,N),c(e,O),c(e,j),c(e,R),c(e,z),c(e,U),c(e,x),c(e,W),c(e,V),c(e,J),c(e,ee),c(e,ce),c(e,Q),c(e,Z),c(e,ie),c(e,ke),c(e,we),c(e,G),c(e,se),c(e,he),c(e,Ce),c(e,Ie),c(e,je),c(e,_e),c(e,fe),c(e,de),c(e,ve),c(e,Se),c(e,te),c(e,le),c(le,B),X||(ye=[T(o,"click",n[10]),T(B,"click",n[10])],X=!0)},p:ne,d(ae){ae&&M(t),X=!1,ue(ye)}}}function qc(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j=n[8]&&ql(n);return D=new sn({}),{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),r=p("hgroup"),r.innerHTML=`<h1>Sign Up</h1> 
          <h2>Reading Log</h2>`,i=S(),s=p("form"),a=p("input"),d=S(),f=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),y=p("fieldset"),k=p("label"),v=p("input"),C=F(`\r
              I agree to the\r
              `),L=p("a"),L.textContent="Terms and Conditions",q=S(),j&&j.c(),w=S(),A=p("button"),A.textContent="Sign Up",I=S(),be(D.$$.fragment),u(a,"placeholder","Name"),u(a,"type","text"),a.required=!0,u(f,"placeholder","Email"),u(f,"type","email"),u(f,"aria-invalid",n[5]),f.required=!0,u(_,"placeholder","Password"),u(_,"type","password"),u(_,"aria-invalid",n[6]),_.required=!0,u(m,"placeholder","Confirm Password"),u(m,"type","password"),u(m,"aria-invalid",n[7]),m.required=!0,u(v,"type","checkbox"),u(v,"id","terms"),u(v,"name","terms"),v.required=!0,u(L,"href","#terms"),u(k,"for","terms"),u(A,"type","submit"),u(A,"class","svelte-unkkz3"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(R,z){E(R,t,z),c(t,e),c(e,l),c(l,o),c(o,r),c(o,i),c(o,s),c(s,a),Y(a,n[3]),c(s,d),c(s,f),Y(f,n[0]),c(s,h),c(s,_),Y(_,n[1]),c(s,g),c(s,m),Y(m,n[2]),c(s,b),c(s,y),c(y,k),c(k,v),v.checked=n[4],c(k,C),c(k,L),c(s,q),j&&j.m(s,null),c(s,w),c(s,A),c(t,I),me(D,t,null),P=!0,N||(O=[T(a,"input",n[12]),T(f,"input",n[13]),T(_,"input",n[14]),T(m,"input",n[15]),T(v,"change",n[16]),T(L,"click",n[10]),T(A,"click",n[9]),T(s,"submit",Ke(n[11]))],N=!0)},p(R,[z]){z&8&&a.value!==R[3]&&Y(a,R[3]),(!P||z&32)&&u(f,"aria-invalid",R[5]),z&1&&f.value!==R[0]&&Y(f,R[0]),(!P||z&64)&&u(_,"aria-invalid",R[6]),z&2&&_.value!==R[1]&&Y(_,R[1]),(!P||z&128)&&u(m,"aria-invalid",R[7]),z&4&&m.value!==R[2]&&Y(m,R[2]),z&16&&(v.checked=R[4]),R[8]?j?j.p(R,z):(j=ql(R),j.c(),j.m(s,w)):j&&(j.d(1),j=null)},i(R){P||(K(D.$$.fragment,R),P=!0)},o(R){$(D.$$.fragment,R),P=!1},d(R){R&&M(t),j&&j.d(),ge(D),N=!1,ue(O)}}}let Lc="student",Oc=!0;function Mc(n,t,e){let l,o,r,i,s=!1,a,d,f;async function h(){const q=await pe.collection("users").authWithPassword(o,r);console.log(q)}async function _(){if(!a&&!d&&!f&&s)try{const q={name:l,username:l.toLowerCase(),email:o,password:r,passwordConfirm:i,role:Lc,isPublic:Oc,language:"en",avatar_from_url:"https://pb.readinglog.fun:4444/api/files/fhm2u4u1k405dr7/h7rqwbiahhxwujr/robot_ToTI6ga0AY.png"},w=await pe.collection("users").create(q);await h()}catch(q){q.data.data.email.code&&Ae.error("Email already exist",{position:Le})}}let g=!1;function m(){e(8,g=!g)}function b(q){Qe.call(this,n,q)}function y(){l=this.value,e(3,l)}function k(){o=this.value,e(0,o)}function v(){r=this.value,e(1,r)}function C(){i=this.value,e(2,i)}function L(){s=this.checked,e(4,s)}return n.$$.update=()=>{n.$$.dirty&7&&(o&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(o).toLowerCase())?e(5,a=!1):e(5,a=!0)),r&&(r.length>=5?e(6,d=!1):e(6,d=!0)),i&&(i===r?e(7,f=!1):e(7,f=!0)))},[o,r,i,l,s,a,d,f,g,_,m,b,y,k,v,C,L]}class Er extends Ee{constructor(t){super(),Me(this,t,Mc,qc,Oe,{})}}function Ec(n){let t,e,l,o,r,i;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),l=p("p"),o=F("An email with a reset link has been sent to "),r=p("strong"),i=F(n[0])},m(s,a){E(s,t,a),E(s,e,a),E(s,l,a),c(l,o),c(l,r),c(r,i)},p(s,a){a&1&&oe(i,s[0])},d(s){s&&M(t),s&&M(e),s&&M(l)}}}function jc(n){let t,e,l,o,r,i,s,a,d,f;return{c(){t=p("hgroup"),t.innerHTML="<h1>Reset Password</h1>",e=S(),l=p("form"),o=p("label"),r=F(`Email\r
              `),i=p("input"),s=S(),a=p("button"),a.textContent="Reset",u(i,"id","email"),u(i,"name","email"),u(i,"type","email"),u(i,"aria-invalid",n[2]),i.required=!0,u(o,"for","email"),u(a,"type","submit"),u(a,"class","svelte-unkkz3")},m(h,_){E(h,t,_),E(h,e,_),E(h,l,_),c(l,o),c(o,r),c(o,i),Y(i,n[0]),c(l,s),c(l,a),d||(f=[T(i,"input",n[5]),T(a,"click",n[3]),T(l,"submit",Ke(n[4]))],d=!0)},p(h,_){_&4&&u(i,"aria-invalid",h[2]),_&1&&i.value!==h[0]&&Y(i,h[0])},d(h){h&&M(t),h&&M(e),h&&M(l),d=!1,ue(f)}}}function Rc(n){let t,e,l,o,r,i,s,a;function d(_,g){return _[1]===!1?jc:Ec}let f=d(n),h=f(n);return{c(){t=p("body"),e=p("main"),l=p("article"),o=p("div"),h.c(),r=S(),i=p("a"),i.textContent="Back to Login Screen",u(i,"href","/"),u(l,"class","grid svelte-unkkz3"),u(e,"class","container")},m(_,g){E(_,t,g),c(t,e),c(e,l),c(l,o),h.m(o,null),c(o,r),c(o,i),s||(a=T(i,"click",n[6]),s=!0)},p(_,[g]){f===(f=d(_))&&h?h.p(_,g):(h.d(1),h=f(_),h&&(h.c(),h.m(o,r)))},i:ne,o:ne,d(_){_&&M(t),h.d(),s=!1,a()}}}function Nc(n,t,e){let l=!1,o,r;async function i(){r||(await pe.collection("users").requestPasswordReset(o),e(1,l=!0))}function s(f){Qe.call(this,n,f)}function a(){o=this.value,e(0,o)}const d=()=>{e(1,l=!1)};return n.$$.update=()=>{n.$$.dirty&1&&o&&(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(String(o).toLowerCase())?e(2,r=!1):e(2,r=!0))},[o,l,r,i,s,a,d]}class Dc extends Ee{constructor(t){super(),Me(this,t,Nc,Rc,Oe,{})}}const On=$e(0),Jt=$e(0),Bc=$e(500);function Ll(n,t,e){const l=n.slice();return l[130]=t[e],l}function Ol(n,t,e){const l=n.slice();return l[133]=t[e],l}function Ml(n,t,e){const l=n.slice();return l[130]=t[e],l}function El(n,t,e){const l=n.slice();return l[130]=t[e],l}function jl(n,t,e){const l=n.slice();return l[133]=t[e],l}function Rl(n,t,e){const l=n.slice();return l[142]=t[e],l}function Nl(n,t,e){const l=n.slice();return l[145]=t[e],l}function Fc(n){let t,e;return t=new Kn({props:{$$slots:{default:[Hc]},$$scope:{ctx:n}}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o[4]&16777216&&(r.$$scope={dirty:o,ctx:l}),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function Uc(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v;function C(O,j){return O[9].length===0?Vc:zc}let L=C(n),q=L(n),w=n[35]&&Bl(n),A=n[36]&&Hl(n),I=n[37]&&Wl(n),D=n[38]&&Yl(n),P=n[39]&&xl(n),N=n[34]&&eo(n);return b=new sn({}),{c(){t=p("div"),e=p("div"),l=S(),o=p("input"),r=S(),i=p("button"),i.textContent="Add Book",s=S(),q.c(),a=S(),w&&w.c(),d=S(),A&&A.c(),f=S(),I&&I.c(),h=S(),D&&D.c(),_=S(),P&&P.c(),g=S(),N&&N.c(),m=S(),be(b.$$.fragment),u(e,"class","grid svelte-18dwqmy"),u(o,"class","search svelte-18dwqmy"),u(o,"type","search"),u(o,"placeholder","Filter by Book Title, Author, or Status..."),u(i,"class","btn btn-primary"),u(t,"class","container")},m(O,j){E(O,t,j),c(t,e),c(t,l),c(t,o),Y(o,n[40]),c(t,r),c(t,i),c(t,s),q.m(t,null),E(O,a,j),w&&w.m(O,j),E(O,d,j),A&&A.m(O,j),E(O,f,j),I&&I.m(O,j),E(O,h,j),D&&D.m(O,j),E(O,_,j),P&&P.m(O,j),E(O,g,j),N&&N.m(O,j),E(O,m,j),me(b,O,j),y=!0,k||(v=[T(o,"input",n[64]),T(i,"click",n[50])],k=!0)},p(O,j){j[1]&512&&o.value!==O[40]&&Y(o,O[40]),L===(L=C(O))&&q?q.p(O,j):(q.d(1),q=L(O),q&&(q.c(),q.m(t,null))),O[35]?w?w.p(O,j):(w=Bl(O),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null),O[36]?A?A.p(O,j):(A=Hl(O),A.c(),A.m(f.parentNode,f)):A&&(A.d(1),A=null),O[37]?I?I.p(O,j):(I=Wl(O),I.c(),I.m(h.parentNode,h)):I&&(I.d(1),I=null),O[38]?D?D.p(O,j):(D=Yl(O),D.c(),D.m(_.parentNode,_)):D&&(D.d(1),D=null),O[39]?P?P.p(O,j):(P=xl(O),P.c(),P.m(g.parentNode,g)):P&&(P.d(1),P=null),O[34]?N?N.p(O,j):(N=eo(O),N.c(),N.m(m.parentNode,m)):N&&(N.d(1),N=null)},i(O){y||(K(b.$$.fragment,O),y=!0)},o(O){$(b.$$.fragment,O),y=!1},d(O){O&&M(t),q.d(),O&&M(a),w&&w.d(O),O&&M(d),A&&A.d(O),O&&M(f),I&&I.d(O),O&&M(h),D&&D.d(O),O&&M(_),P&&P.d(O),O&&M(g),N&&N.d(O),O&&M(m),ge(b,O),k=!1,ue(v)}}}function Hc(n){let t,e,l,o;return t=new kt({props:{path:"/",component:Yn}}),l=new kt({props:{path:"/signup",component:Er}}),{c(){be(t.$$.fragment),e=S(),be(l.$$.fragment)},m(r,i){me(t,r,i),E(r,e,i),me(l,r,i),o=!0},p:ne,i(r){o||(K(t.$$.fragment,r),K(l.$$.fragment,r),o=!0)},o(r){$(t.$$.fragment,r),$(l.$$.fragment,r),o=!1},d(r){ge(t,r),r&&M(e),ge(l,r)}}}function zc(n){let t,e=[],l=new Map,o=n[41];const r=i=>i[145].id;for(let i=0;i<o.length;i+=1){let s=Nl(n,o,i),a=r(s);l.set(a,e[i]=Dl(a,s))}return{c(){t=p("div");for(let i=0;i<e.length;i+=1)e[i].c();u(t,"class","grid svelte-18dwqmy")},m(i,s){E(i,t,s);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(i,s){s[0]&2146435072|s[1]&2102272&&(o=i[41],e=Ue(e,s,r,1,i,o,l,t,He,Dl,null,Nl))},d(i){i&&M(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function Vc(n){let t,e,l,o,r,i,s,a,d,f,h;function _(q,w){return q[42].language==="en"?Yc:Kc}let g=_(n),m=g(n);function b(q,w){return q[42].language==="en"?Xc:Zc}let y=b(n),k=y(n);function v(q,w){return q[42].language==="en"?xc:$c}let C=v(n),L=C(n);return{c(){t=p("article"),e=p("div"),e.textContent="",l=S(),o=p("p"),m.c(),r=S(),i=p("p"),k.c(),s=S(),a=p("div"),d=p("button"),L.c(),u(e,"class","empty-icon"),u(o,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(d,"class","btn btn-primary"),u(a,"class","empty-action"),u(t,"class","empty svelte-18dwqmy")},m(q,w){E(q,t,w),c(t,e),c(t,l),c(t,o),m.m(o,null),c(t,r),c(t,i),k.m(i,null),c(t,s),c(t,a),c(a,d),L.m(d,null),f||(h=T(d,"click",n[51]),f=!0)},p(q,w){g!==(g=_(q))&&(m.d(1),m=g(q),m&&(m.c(),m.m(o,null))),y!==(y=b(q))&&(k.d(1),k=y(q),k&&(k.c(),k.m(i,null))),C!==(C=v(q))&&(L.d(1),L=C(q),L&&(L.c(),L.m(d,null)))},d(q){q&&M(t),m.d(),k.d(),L.d(),f=!1,h()}}}function Jc(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k;return{c(){t=p("a"),e=p("img"),qe(e.src,l=n[145].googleCover)||u(e,"src",l),u(e,"alt",o=n[145].title),u(e,"class","svelte-18dwqmy"),u(t,"href","#update"),u(t,"data-id",r=n[145].bookId),u(t,"data-title",i=n[145].title),u(t,"data-author",s=n[145].author),u(t,"data-pages",a=n[145].pages),u(t,"data-pagesread",d=n[145].pages_read),u(t,"data-review",f=n[145].review),u(t,"data-collection",h=n[145].collection),u(t,"data-cover",_=n[145].googleCover),u(t,"data-status",g=n[145].status),u(t,"data-class",m=n[145].classId),u(t,"data-classname",b=n[145].className),u(t,"class","svelte-18dwqmy")},m(v,C){E(v,t,C),c(t,e),y||(k=[T(t,"click",n[76]),T(t,"click",n[77]),T(t,"click",n[78]),T(t,"click",n[79]),T(t,"click",n[80]),T(t,"click",n[81]),T(t,"click",n[82]),T(t,"click",n[83]),T(t,"click",n[84]),T(t,"click",n[85]),T(t,"click",n[86]),T(t,"click",n[52])],y=!0)},p(v,C){C[1]&1024&&!qe(e.src,l=v[145].googleCover)&&u(e,"src",l),C[1]&1024&&o!==(o=v[145].title)&&u(e,"alt",o),C[1]&1024&&r!==(r=v[145].bookId)&&u(t,"data-id",r),C[1]&1024&&i!==(i=v[145].title)&&u(t,"data-title",i),C[1]&1024&&s!==(s=v[145].author)&&u(t,"data-author",s),C[1]&1024&&a!==(a=v[145].pages)&&u(t,"data-pages",a),C[1]&1024&&d!==(d=v[145].pages_read)&&u(t,"data-pagesread",d),C[1]&1024&&f!==(f=v[145].review)&&u(t,"data-review",f),C[1]&1024&&h!==(h=v[145].collection)&&u(t,"data-collection",h),C[1]&1024&&_!==(_=v[145].googleCover)&&u(t,"data-cover",_),C[1]&1024&&g!==(g=v[145].status)&&u(t,"data-status",g),C[1]&1024&&m!==(m=v[145].classId)&&u(t,"data-class",m),C[1]&1024&&b!==(b=v[145].className)&&u(t,"data-classname",b)},d(v){v&&M(t),y=!1,ue(k)}}}function Gc(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k;return{c(){t=p("a"),e=p("img"),qe(e.src,l=n[43]+n[145].bookId+"/"+n[145].cover)||u(e,"src",l),u(e,"alt",o=n[145].title),u(e,"class","svelte-18dwqmy"),u(t,"href","#update"),u(t,"data-id",r=n[145].bookId),u(t,"data-title",i=n[145].title),u(t,"data-author",s=n[145].author),u(t,"data-pages",a=n[145].pages),u(t,"data-pagesread",d=n[145].pages_read),u(t,"data-review",f=n[145].review),u(t,"data-collection",h=n[145].collection),u(t,"data-cover",_=n[145].googleCover),u(t,"data-status",g=n[145].status),u(t,"data-class",m=n[145].classId),u(t,"data-classname",b=n[145].className),u(t,"class","svelte-18dwqmy")},m(v,C){E(v,t,C),c(t,e),y||(k=[T(t,"click",n[65]),T(t,"click",n[66]),T(t,"click",n[67]),T(t,"click",n[68]),T(t,"click",n[69]),T(t,"click",n[70]),T(t,"click",n[71]),T(t,"click",n[72]),T(t,"click",n[73]),T(t,"click",n[74]),T(t,"click",n[75]),T(t,"click",n[52])],y=!0)},p(v,C){C[1]&1024&&!qe(e.src,l=v[43]+v[145].bookId+"/"+v[145].cover)&&u(e,"src",l),C[1]&1024&&o!==(o=v[145].title)&&u(e,"alt",o),C[1]&1024&&r!==(r=v[145].bookId)&&u(t,"data-id",r),C[1]&1024&&i!==(i=v[145].title)&&u(t,"data-title",i),C[1]&1024&&s!==(s=v[145].author)&&u(t,"data-author",s),C[1]&1024&&a!==(a=v[145].pages)&&u(t,"data-pages",a),C[1]&1024&&d!==(d=v[145].pages_read)&&u(t,"data-pagesread",d),C[1]&1024&&f!==(f=v[145].review)&&u(t,"data-review",f),C[1]&1024&&h!==(h=v[145].collection)&&u(t,"data-collection",h),C[1]&1024&&_!==(_=v[145].googleCover)&&u(t,"data-cover",_),C[1]&1024&&g!==(g=v[145].status)&&u(t,"data-status",g),C[1]&1024&&m!==(m=v[145].classId)&&u(t,"data-class",m),C[1]&1024&&b!==(b=v[145].className)&&u(t,"data-classname",b)},d(v){v&&M(t),y=!1,ue(k)}}}function Wc(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,l){E(e,t,l)},p:ne,d(e){e&&M(t)}}}function Qc(n){let t,e;return{c(){t=p("progress"),t.value=e=ct(n[145].pages_read,n[145].pages),u(t,"max","100")},m(l,o){E(l,t,o)},p(l,o){o[1]&1024&&e!==(e=ct(l[145].pages_read,l[145].pages))&&(t.value=e)},d(l){l&&M(t)}}}function Dl(n,t){let e,l,o,r,i,s,a=t[145].title+"",d,f,h,_,g=t[145].author+"",m,b,y,k,v=t[145].status+"",C,L,q,w;function A(j,R){return j[145].cover?Gc:Jc}let I=A(t),D=I(t);function P(j,R){return j[145].pages_read?Qc:Wc}let N=P(t),O=N(t);return{key:n,first:null,c(){e=p("article"),l=p("div"),o=p("div"),D.c(),r=S(),i=p("hgroup"),s=p("h4"),d=F(a),f=S(),h=p("p"),_=F("By: "),m=F(g),b=S(),y=p("br"),k=S(),C=F(v),L=S(),q=p("footer"),O.c(),w=S(),u(o,"class","image-wrapper"),u(i,"class","svelte-18dwqmy"),u(l,"class","content-wrapper svelte-18dwqmy"),u(q,"class","svelte-18dwqmy"),u(e,"data-hover","article"),u(e,"class","svelte-18dwqmy"),this.first=e},m(j,R){E(j,e,R),c(e,l),c(l,o),D.m(o,null),c(l,r),c(l,i),c(i,s),c(s,d),c(i,f),c(i,h),c(h,_),c(h,m),c(h,b),c(h,y),c(h,k),c(h,C),c(e,L),c(e,q),O.m(q,null),c(e,w)},p(j,R){t=j,I===(I=A(t))&&D?D.p(t,R):(D.d(1),D=I(t),D&&(D.c(),D.m(o,null))),R[1]&1024&&a!==(a=t[145].title+"")&&oe(d,a),R[1]&1024&&g!==(g=t[145].author+"")&&oe(m,g),R[1]&1024&&v!==(v=t[145].status+"")&&oe(C,v),N===(N=P(t))&&O?O.p(t,R):(O.d(1),O=N(t),O&&(O.c(),O.m(q,null)))},d(j){j&&M(e),D.d(),O.d()}}}function Kc(n){let t;return{c(){t=F(`Nada por\r
            aqu...`)},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function Yc(n){let t;return{c(){t=F("Nothing here yet...")},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function Zc(n){let t;return{c(){t=F(`Presione\r
            el botn para aadir un libro.`)},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function Xc(n){let t;return{c(){t=F("Click the button to add a book.")},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function $c(n){let t;return{c(){t=F("Aadir Libro")},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function xc(n){let t;return{c(){t=F("Add Book")},m(e,l){E(e,t,l)},d(e){e&&M(t)}}}function Bl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b=[],y=new Map,k,v,C=n[32];const L=q=>q[142].id;for(let q=0;q<C.length;q+=1){let w=Rl(n,C,q),A=L(w);y.set(A,b[q]=Ul(A,w))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Search`),i=S(),s=p("form"),a=p("input"),d=S(),f=p("button"),h=F("Search"),_=S(),g=p("button"),g.textContent="Add Manually",m=S();for(let q=0;q<b.length;q+=1)b[q].c();u(o,"href","#close"),u(o,"class","close svelte-18dwqmy"),u(a,"type","search"),u(a,"id","search"),u(a,"name","search"),u(a,"placeholder","Search title, author, or ISBN"),u(f,"aria-busy",n[33]),u(e,"class","svelte-18dwqmy"),t.open=!0},m(q,w){E(q,t,w),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h),c(s,_),c(s,g),c(e,m);for(let A=0;A<b.length;A+=1)b[A]&&b[A].m(e,null);k||(v=[T(o,"click",n[50]),T(a,"keyup",n[87]),T(f,"click",function(){et(n[55](n[31]))&&n[55](n[31]).apply(this,arguments)}),T(g,"click",n[51]),T(s,"submit",Ke(n[63]))],k=!0)},p(q,w){n=q,w[1]&4&&u(f,"aria-busy",n[33]),w[0]&423936|w[1]&1048578&&(C=n[32],b=Ue(b,w,L,1,n,C,y,e,He,Ul,null,Rl))},d(q){q&&M(t);for(let w=0;w<b.length;w+=1)b[w].d();k=!1,ue(v)}}}function Fl(n){let t,e,l;return{c(){t=p("img"),qe(t.src,e=Zt(n[142].volumeInfo.imageLinks))||u(t,"src",e),u(t,"alt",l=n[142].volumeInfo.title),u(t,"class","svelte-18dwqmy")},m(o,r){E(o,t,r)},p(o,r){r[1]&2&&!qe(t.src,e=Zt(o[142].volumeInfo.imageLinks))&&u(t,"src",e),r[1]&2&&l!==(l=o[142].volumeInfo.title)&&u(t,"alt",l)},d(o){o&&M(t)}}}function Ul(n,t){let e,l,o,r,i,s,a=t[142].volumeInfo.title+"",d,f,h,_,g=Ut(t[142].volumeInfo.authors)+"",m,b,y,k,v=t[142].volumeInfo.language+"",C,L,q,w,A,I,D,P,N,O,j,R=t[142].volumeInfo.imageLinks&&Fl(t);return{key:n,first:null,c(){e=p("a"),l=p("article"),o=p("figure"),R&&R.c(),r=S(),i=p("figcaption"),s=p("strong"),d=F(a),f=S(),h=p("br"),_=F(`\r
                  By `),m=F(g),b=S(),y=p("br"),k=F(`\r
                  Language: `),C=F(v),L=S(),u(i,"class","svelte-18dwqmy"),u(l,"data-hover",""),u(l,"class","svelte-18dwqmy"),u(e,"href","#search"),u(e,"data-id",q=t[142].id),u(e,"data-title",w=t[142].volumeInfo.title),u(e,"data-author",A=Ut(t[142].volumeInfo.authors)),u(e,"data-img",I=Zt(t[142].volumeInfo.imageLinks)),u(e,"data-pages",D=t[142].volumeInfo.pageCount),u(e,"data-description",P=t[142].volumeInfo.description),u(e,"data-language",N=t[142].volumeInfo.language),u(e,"class","svelte-18dwqmy"),this.first=e},m(z,U){E(z,e,U),c(e,l),c(l,o),R&&R.m(o,null),c(o,r),c(o,i),c(i,s),c(s,d),c(i,f),c(i,h),c(i,_),c(i,m),c(i,b),c(i,y),c(i,k),c(i,C),c(e,L),O||(j=[T(e,"click",t[88]),T(e,"click",t[89]),T(e,"click",t[90]),T(e,"click",t[91]),T(e,"click",t[92]),T(e,"click",t[93]),T(e,"click",t[51])],O=!0)},p(z,U){t=z,t[142].volumeInfo.imageLinks?R?R.p(t,U):(R=Fl(t),R.c(),R.m(o,r)):R&&(R.d(1),R=null),U[1]&2&&a!==(a=t[142].volumeInfo.title+"")&&oe(d,a),U[1]&2&&g!==(g=Ut(t[142].volumeInfo.authors)+"")&&oe(m,g),U[1]&2&&v!==(v=t[142].volumeInfo.language+"")&&oe(C,v),U[1]&2&&q!==(q=t[142].id)&&u(e,"data-id",q),U[1]&2&&w!==(w=t[142].volumeInfo.title)&&u(e,"data-title",w),U[1]&2&&A!==(A=Ut(t[142].volumeInfo.authors))&&u(e,"data-author",A),U[1]&2&&I!==(I=Zt(t[142].volumeInfo.imageLinks))&&u(e,"data-img",I),U[1]&2&&D!==(D=t[142].volumeInfo.pageCount)&&u(e,"data-pages",D),U[1]&2&&P!==(P=t[142].volumeInfo.description)&&u(e,"data-description",P),U[1]&2&&N!==(N=t[142].volumeInfo.language)&&u(e,"data-language",N)},d(z){z&&M(e),R&&R.d(),O=!1,ue(j)}}}function Hl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U=[],x=new Map,W,V,J,ee,ce,Q=[],Z=new Map,ie,ke,we,G,se,he,Ce,Ie,je,_e,fe=n[17]&&zl(n),de=n[8];const ve=B=>B[133].id;for(let B=0;B<de.length;B+=1){let X=jl(n,de,B),ye=ve(X);x.set(ye,U[B]=Vl(ye,X))}let Se=n[10];const te=B=>B[130].id;for(let B=0;B<Se.length;B+=1){let X=El(n,Se,B),ye=te(X);Z.set(ye,Q[B]=Jl(ye,X))}let le=!n[17]&&Gl(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Add Book`),i=S(),fe&&fe.c(),s=S(),a=p("form"),d=p("label"),f=F(`Title\r
            `),h=p("input"),_=S(),g=p("label"),m=F(`Author\r
            `),b=p("input"),y=S(),k=p("label"),v=F(`Pages\r
            `),C=p("input"),L=S(),q=p("label"),q.textContent="Language",w=S(),A=p("select"),I=p("option"),I.textContent="Please select an option",D=p("option"),D.textContent="English",P=p("option"),P.textContent="Spanish",N=S(),O=p("label"),O.textContent="Collection",j=S(),R=p("select"),z=p("option"),z.textContent="Please select an option";for(let B=0;B<U.length;B+=1)U[B].c();W=S(),V=p("label"),V.textContent="Class",J=S(),ee=p("select"),ce=p("option"),ce.textContent="Please select an option";for(let B=0;B<Q.length;B+=1)Q[B].c();ie=S(),ke=p("button"),we=S(),le&&le.c(),G=S(),se=p("footer"),he=p("a"),he.textContent="Cancel",Ce=S(),Ie=p("a"),Ie.textContent="Add Book",u(o,"href","#close"),u(o,"class","close svelte-18dwqmy"),u(h,"id","title"),u(h,"name","title"),u(h,"placeholder","Title"),u(h,"type","text"),u(d,"for","title"),u(d,"class","svelte-18dwqmy"),u(b,"id","author"),u(b,"name","author"),u(b,"placeholder","Author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-18dwqmy"),u(C,"id","pages"),u(C,"name","pages"),u(C,"placeholder","Pages"),u(C,"type","number"),u(k,"for","pages"),u(k,"class","svelte-18dwqmy"),u(q,"for","language"),u(q,"class","svelte-18dwqmy"),I.__value="",I.value=I.__value,I.selected=!0,D.__value="en",D.value=D.__value,P.__value="es",P.value=P.__value,u(A,"id","language"),n[18]===void 0&&Ne(()=>n[97].call(A)),u(O,"for","collection"),u(O,"class","svelte-18dwqmy"),z.__value="",z.value=z.__value,z.selected=!0,u(R,"id","collection"),n[15]===void 0&&Ne(()=>n[98].call(R)),u(V,"for","class"),u(V,"class","svelte-18dwqmy"),ce.__value="",ce.value=ce.__value,ce.selected=!0,u(ee,"id","class"),n[19]===void 0&&Ne(()=>n[99].call(ee)),u(he,"href","#cancel"),u(he,"role","button"),u(he,"class","secondary svelte-18dwqmy"),u(Ie,"href","#confirm"),u(Ie,"role","button"),u(Ie,"class","svelte-18dwqmy"),u(se,"class","svelte-18dwqmy"),u(e,"class","svelte-18dwqmy"),t.open=!0},m(B,X){E(B,t,X),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),fe&&fe.m(e,null),c(e,s),c(e,a),c(a,d),c(d,f),c(d,h),Y(h,n[11]),c(a,_),c(a,g),c(g,m),c(g,b),Y(b,n[12]),c(a,y),c(a,k),c(k,v),c(k,C),Y(C,n[14]),c(a,L),c(a,q),c(a,w),c(a,A),c(A,I),c(A,D),c(A,P),Re(A,n[18],!0),c(a,N),c(a,O),c(a,j),c(a,R),c(R,z);for(let ye=0;ye<U.length;ye+=1)U[ye]&&U[ye].m(R,null);Re(R,n[15],!0),c(a,W),c(a,V),c(a,J),c(a,ee),c(ee,ce);for(let ye=0;ye<Q.length;ye+=1)Q[ye]&&Q[ye].m(ee,null);Re(ee,n[19],!0),c(a,ie),c(a,ke),c(a,we),le&&le.m(a,null),c(e,G),c(e,se),c(se,he),c(se,Ce),c(se,Ie),je||(_e=[T(o,"click",n[51]),T(h,"input",n[94]),T(b,"input",n[95]),T(C,"input",n[96]),T(A,"change",n[97]),T(R,"change",n[98]),T(ee,"change",n[99]),T(ke,"click",n[100]),T(a,"submit",Ke(n[62])),T(he,"click",n[56]),T(Ie,"click",n[45]),T(Ie,"click",n[56])],je=!0)},p(B,X){B[17]?fe?fe.p(B,X):(fe=zl(B),fe.c(),fe.m(e,s)):fe&&(fe.d(1),fe=null),X[0]&2048&&h.value!==B[11]&&Y(h,B[11]),X[0]&4096&&b.value!==B[12]&&Y(b,B[12]),X[0]&16384&&Je(C.value)!==B[14]&&Y(C,B[14]),X[0]&262144&&Re(A,B[18]),X[0]&256&&(de=B[8],U=Ue(U,X,ve,1,B,de,x,R,He,Vl,null,jl)),X[0]&33024&&Re(R,B[15]),X[0]&1024&&(Se=B[10],Q=Ue(Q,X,te,1,B,Se,Z,ee,He,Jl,null,El)),X[0]&525312&&Re(ee,B[19]),B[17]?le&&(le.d(1),le=null):le?le.p(B,X):(le=Gl(B),le.c(),le.m(a,null))},d(B){B&&M(t),fe&&fe.d();for(let X=0;X<U.length;X+=1)U[X].d();for(let X=0;X<Q.length;X+=1)Q[X].d();le&&le.d(),je=!1,ue(_e)}}}function zl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m;return{c(){t=p("figure"),e=p("img"),o=S(),r=p("figcaption"),i=F("By "),s=F(n[12]),a=S(),d=p("br"),f=S(),h=p("br"),_=S(),g=p("p"),m=F(n[13]),qe(e.src,l=n[17])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-18dwqmy"),u(r,"class","svelte-18dwqmy")},m(b,y){E(b,t,y),c(t,e),c(t,o),c(t,r),c(r,i),c(r,s),c(r,a),c(r,d),c(r,f),c(r,h),c(r,_),c(r,g),c(g,m)},p(b,y){y[0]&131072&&!qe(e.src,l=b[17])&&u(e,"src",l),y[0]&4096&&oe(s,b[12]),y[0]&8192&&oe(m,b[13])},d(b){b&&M(t)}}}function Vl(n,t){let e,l=t[133].collection+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[133].id,e.value=e.__value,this.first=e},m(i,s){E(i,e,s),c(e,o)},p(i,s){t=i,s[0]&256&&l!==(l=t[133].collection+"")&&oe(o,l),s[0]&256&&r!==(r=t[133].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&M(e)}}}function Jl(n,t){var i;let e,l=((i=t[130].expand.class)==null?void 0:i.class)+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[130].class,e.value=e.__value,this.first=e},m(s,a){E(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&oe(o,l),a[0]&1024&&r!==(r=t[130].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&M(e)}}}function Gl(n){let t,e,l,o,r;return{c(){t=p("label"),e=F(`Cover Art\r
              `),l=p("input"),u(l,"type","file"),u(l,"id","file"),u(l,"name","file"),u(l,"accept","image/*"),u(t,"for","file"),u(t,"class","svelte-18dwqmy")},m(i,s){E(i,t,s),c(t,e),c(t,l),o||(r=T(l,"change",n[101]),o=!0)},p:ne,d(i){i&&M(t),o=!1,r()}}}function Wl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A;function I(z,U){return z[24]?tu:eu}let D=I(n),P=D(n),N=(n[28]===" reading"||n[28]===" not started")&&Ql(n);function O(z,U){if(z[28]===" reading"||z[28]===" not started")return lu;if(z[28]===" completed")return nu}let j=O(n),R=j&&j(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=S(),i=p("strong"),s=F(n[20]),a=S(),P.c(),d=S(),f=p("progress"),_=S(),g=p("p"),m=F(n[28]),b=S(),y=p("br"),k=p("br"),v=S(),N&&N.c(),C=S(),L=p("a"),L.textContent="Edit Book Details",q=S(),R&&R.c(),u(o,"href","#close"),u(o,"class","close svelte-18dwqmy"),u(f,"id","progressbar"),f.value=h=ct(n[24],n[23]),u(f,"max","100"),u(L,"href","#update"),u(L,"class","details svelte-18dwqmy"),u(e,"class","svelte-18dwqmy"),t.open=!0},m(z,U){E(z,t,U),c(t,e),c(e,l),c(l,o),c(l,r),c(l,i),c(i,s),c(e,a),P.m(e,null),c(e,d),c(e,f),c(e,_),c(e,g),c(g,m),c(e,b),c(e,y),c(e,k),c(e,v),N&&N.m(e,null),c(e,C),c(e,L),c(e,q),R&&R.m(e,null),w||(A=[T(o,"click",n[52]),T(L,"click",n[53])],w=!0)},p(z,U){U[0]&1048576&&oe(s,z[20]),D===(D=I(z))&&P?P.p(z,U):(P.d(1),P=D(z),P&&(P.c(),P.m(e,d))),U[0]&25165824&&h!==(h=ct(z[24],z[23]))&&(f.value=h),U[0]&268435456&&oe(m,z[28]),z[28]===" reading"||z[28]===" not started"?N?N.p(z,U):(N=Ql(z),N.c(),N.m(e,C)):N&&(N.d(1),N=null),j===(j=O(z))&&R?R.p(z,U):(R&&R.d(1),R=j&&j(z),R&&(R.c(),R.m(e,null)))},d(z){z&&M(t),P.d(),N&&N.d(),R&&R.d(),w=!1,ue(A)}}}function eu(n){let t,e,l,o=ct(n[24],n[23])+"",r,i,s,a,d;return{c(){t=p("label"),e=F("Reading Progress: "),l=p("strong"),r=F(o),i=F("%"),s=F(`\r
            (0/`),a=F(n[23]),d=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-18dwqmy")},m(f,h){E(f,t,h),c(t,e),c(t,l),c(l,r),c(l,i),c(t,s),c(t,a),c(t,d)},p(f,h){h[0]&25165824&&o!==(o=ct(f[24],f[23])+"")&&oe(r,o),h[0]&8388608&&oe(a,f[23])},d(f){f&&M(t)}}}function tu(n){let t,e,l,o=ct(n[24],n[23])+"",r,i,s,a,d,f,h;return{c(){t=p("label"),e=F("Reading Progress: "),l=p("strong"),r=F(o),i=F("%"),s=F(`\r
            (`),a=F(n[24]),d=F("/"),f=F(n[23]),h=F(")"),u(t,"for","progressbar"),u(t,"class","svelte-18dwqmy")},m(_,g){E(_,t,g),c(t,e),c(t,l),c(l,r),c(l,i),c(t,s),c(t,a),c(t,d),c(t,f),c(t,h)},p(_,g){g[0]&25165824&&o!==(o=ct(_[24],_[23])+"")&&oe(r,o),g[0]&16777216&&oe(a,_[24]),g[0]&8388608&&oe(f,_[23])},d(_){_&&M(t)}}}function Ql(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A=[],I=new Map,D,P,N=n[10];const O=j=>j[130].id;for(let j=0;j<N.length;j+=1){let R=Ml(n,N,j),z=O(R);I.set(z,A[j]=Kl(z,R))}return{c(){t=p("form"),e=p("input"),l=S(),o=p("label"),r=F(`Date\r
              `),i=p("input"),s=S(),a=p("label"),d=F(`Pages Read\r
              `),f=p("input"),h=S(),_=p("label"),g=F(`Progress Value:\r
              `),m=p("input"),b=S(),y=p("label"),k=F(`Comment\r
              `),v=p("input"),C=S(),L=p("label"),L.textContent="Class",q=S(),w=p("select");for(let j=0;j<A.length;j+=1)A[j].c();Pe(e,"display","none"),u(e,"id","title"),u(e,"name","title"),u(e,"type","text"),e.required=!0,u(i,"id","date"),u(i,"name","date"),u(i,"type","date"),i.required=!0,u(o,"for","date"),u(o,"class","svelte-18dwqmy"),u(f,"id","pagesRead"),u(f,"name","pagesRead"),u(f,"type","number"),f.required=!0,u(a,"for","pagesRead"),u(a,"class","svelte-18dwqmy"),u(m,"id","progressValue"),u(m,"name","progressValue"),u(m,"type","number"),m.required=!0,u(_,"for","progressValue"),u(_,"class","svelte-18dwqmy"),u(v,"id","comment"),u(v,"name","comment"),u(v,"placeholder","Tell the teacher about today's read."),u(v,"type","text"),v.required=!0,u(y,"for","comment"),u(y,"class","svelte-18dwqmy"),u(L,"for","classId"),u(L,"class","svelte-18dwqmy"),w.required=!0,u(w,"id","classId"),n[29]===void 0&&Ne(()=>n[107].call(w))},m(j,R){E(j,t,R),c(t,e),Y(e,n[20]),c(t,l),c(t,o),c(o,r),c(o,i),Y(i,n[0]),c(t,s),c(t,a),c(a,d),c(a,f),Y(f,n[1]),c(t,h),c(t,_),c(_,g),c(_,m),Y(m,n[2]),c(t,b),c(t,y),c(y,k),c(y,v),Y(v,n[3]),c(t,C),c(t,L),c(t,q),c(t,w);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(w,null);Re(w,n[29],!0),n[108](t),D||(P=[T(e,"input",n[102]),T(i,"input",n[103]),T(f,"input",n[104]),T(m,"input",n[105]),T(v,"input",n[106]),T(w,"change",n[107]),T(t,"submit",Ke(n[61]))],D=!0)},p(j,R){R[0]&1048576&&e.value!==j[20]&&Y(e,j[20]),R[0]&1&&Y(i,j[0]),R[0]&2&&Je(f.value)!==j[1]&&Y(f,j[1]),R[0]&4&&Je(m.value)!==j[2]&&Y(m,j[2]),R[0]&8&&v.value!==j[3]&&Y(v,j[3]),R[0]&1024&&(N=j[10],A=Ue(A,R,O,1,j,N,I,w,He,Kl,null,Ml)),R[0]&536871936&&Re(w,j[29])},d(j){j&&M(t);for(let R=0;R<A.length;R+=1)A[R].d();n[108](null),D=!1,ue(P)}}}function Kl(n,t){var i;let e,l=((i=t[130].expand.class)==null?void 0:i.class)+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[130].class,e.value=e.__value,this.first=e},m(s,a){E(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&oe(o,l),a[0]&1024&&r!==(r=t[130].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&M(e)}}}function nu(n){let t,e,l,o;return{c(){t=p("footer"),e=p("a"),e.textContent="Close",u(e,"href","#close"),u(e,"role","button"),u(e,"class","secondary svelte-18dwqmy"),u(t,"class","svelte-18dwqmy")},m(r,i){E(r,t,i),c(t,e),l||(o=T(e,"click",n[52]),l=!0)},p:ne,d(r){r&&M(t),l=!1,o()}}}function lu(n){let t,e,l,o,r,i;return{c(){t=p("footer"),e=p("a"),e.textContent="Cancel",l=S(),o=p("a"),o.textContent="Save",u(e,"href","#cancel"),u(e,"role","button"),u(e,"class","secondary svelte-18dwqmy"),u(o,"href","#confirm"),u(o,"role","button"),u(o,"class","svelte-18dwqmy"),u(t,"class","svelte-18dwqmy")},m(s,a){E(s,t,a),c(t,e),c(t,l),c(t,o),r||(i=[T(e,"click",n[52]),T(o,"click",n[46])],r=!0)},p:ne,d(s){s&&M(t),r=!1,ue(i)}}}function Yl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R=[],z=new Map,U,x,W,V,J=[],ee=new Map,ce,Q,Z,ie,ke,we,G,se,he,Ce,Ie,je,_e=n[8];const fe=te=>te[133].id;for(let te=0;te<_e.length;te+=1){let le=Ol(n,_e,te),B=fe(le);z.set(B,R[te]=Zl(B,le))}let de=n[10];const ve=te=>te[130].id;for(let te=0;te<de.length;te+=1){let le=Ll(n,de,te),B=ve(le);ee.set(B,J[te]=Xl(B,le))}let Se=!n[26]&&$l(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Edit Book Details`),i=S(),s=p("form"),a=p("label"),d=F(`Title\r
            `),f=p("input"),h=S(),_=p("div"),g=p("label"),m=F(`Author\r
              `),b=p("input"),y=S(),k=p("div"),v=p("label"),C=F(`Pages\r
              `),L=p("input"),q=S(),w=p("label"),A=F(`Review\r
            `),I=p("input"),D=S(),P=p("label"),P.textContent="Collection",N=S(),O=p("select"),j=p("option"),j.textContent="Please select an option";for(let te=0;te<R.length;te+=1)R[te].c();U=S(),x=p("label"),x.textContent="Class",W=S(),V=p("select");for(let te=0;te<J.length;te+=1)J[te].c();ce=S(),Se&&Se.c(),Q=S(),Z=p("footer"),ie=p("div"),ke=p("a"),ke.textContent="Delete",we=S(),G=p("div"),se=p("a"),se.textContent="Cancel",he=S(),Ce=p("a"),Ce.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-18dwqmy"),u(f,"id","title"),u(f,"name","title"),u(f,"type","text"),u(a,"for","title"),u(a,"class","svelte-18dwqmy"),u(b,"id","author"),u(b,"name","author"),u(b,"type","text"),u(g,"for","author"),u(g,"class","svelte-18dwqmy"),u(L,"id","pages"),u(L,"name","pages"),u(L,"placeholder","Pages"),u(L,"type","number"),u(v,"for","pages"),u(v,"class","svelte-18dwqmy"),u(k,"class","grid svelte-18dwqmy"),u(I,"id","review"),u(I,"name","review"),u(I,"type","textarea"),u(w,"for","review"),u(w,"class","svelte-18dwqmy"),u(P,"for","collection"),u(P,"class","svelte-18dwqmy"),j.__value="",j.value=j.__value,j.selected=!0,u(O,"id","collection"),n[25]===void 0&&Ne(()=>n[113].call(O)),u(x,"for","classId"),u(x,"class","svelte-18dwqmy"),V.required=!0,u(V,"id","classId"),n[29]===void 0&&Ne(()=>n[114].call(V)),u(ke,"href","#delete"),u(ke,"role","button"),u(ke,"class","delete svelte-18dwqmy"),u(se,"href","#cancel"),u(se,"role","button"),u(se,"class","secondary svelte-18dwqmy"),u(Ce,"href","#confirm"),u(Ce,"role","button"),u(Ce,"class","svelte-18dwqmy"),u(Z,"data-button","spaceBetween"),u(Z,"class","svelte-18dwqmy"),u(e,"class","svelte-18dwqmy"),t.open=!0},m(te,le){E(te,t,le),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[20]),c(s,h),c(s,_),c(_,g),c(g,m),c(g,b),Y(b,n[21]),c(s,y),c(s,k),c(k,v),c(v,C),c(v,L),Y(L,n[23]),c(s,q),c(s,w),c(w,A),c(w,I),Y(I,n[22]),c(s,D),c(s,P),c(s,N),c(s,O),c(O,j);for(let B=0;B<R.length;B+=1)R[B]&&R[B].m(O,null);Re(O,n[25],!0),c(s,U),c(s,x),c(s,W),c(s,V);for(let B=0;B<J.length;B+=1)J[B]&&J[B].m(V,null);Re(V,n[29],!0),c(e,ce),Se&&Se.m(e,null),c(e,Q),c(e,Z),c(Z,ie),c(ie,ke),c(Z,we),c(Z,G),c(G,se),c(G,he),c(G,Ce),Ie||(je=[T(o,"click",n[53]),T(f,"input",n[109]),T(b,"input",n[110]),T(L,"input",n[111]),T(I,"input",n[112]),T(O,"change",n[113]),T(V,"change",n[114]),T(s,"submit",Ke(n[60])),T(ke,"click",n[57]),T(se,"click",n[53]),T(Ce,"click",n[47])],Ie=!0)},p(te,le){le[0]&1048576&&f.value!==te[20]&&Y(f,te[20]),le[0]&2097152&&b.value!==te[21]&&Y(b,te[21]),le[0]&8388608&&Je(L.value)!==te[23]&&Y(L,te[23]),le[0]&4194304&&Y(I,te[22]),le[0]&256&&(_e=te[8],R=Ue(R,le,fe,1,te,_e,z,O,He,Zl,null,Ol)),le[0]&33554688&&Re(O,te[25]),le[0]&1024&&(de=te[10],J=Ue(J,le,ve,1,te,de,ee,V,He,Xl,null,Ll)),le[0]&536871936&&Re(V,te[29]),te[26]?Se&&(Se.d(1),Se=null):Se?Se.p(te,le):(Se=$l(te),Se.c(),Se.m(e,Q))},d(te){te&&M(t);for(let le=0;le<R.length;le+=1)R[le].d();for(let le=0;le<J.length;le+=1)J[le].d();Se&&Se.d(),Ie=!1,ue(je)}}}function Zl(n,t){let e,l=t[133].collection+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[133].id,e.value=e.__value,this.first=e},m(i,s){E(i,e,s),c(e,o)},p(i,s){t=i,s[0]&256&&l!==(l=t[133].collection+"")&&oe(o,l),s[0]&256&&r!==(r=t[133].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&M(e)}}}function Xl(n,t){var i;let e,l=((i=t[130].expand.class)==null?void 0:i.class)+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[130].class,e.value=e.__value,this.first=e},m(s,a){E(s,e,a),c(e,o)},p(s,a){var d;t=s,a[0]&1024&&l!==(l=((d=t[130].expand.class)==null?void 0:d.class)+"")&&oe(o,l),a[0]&1024&&r!==(r=t[130].class)&&(e.__value=r,e.value=e.__value)},d(s){s&&M(e)}}}function $l(n){let t,e,l,o,r,i;return{c(){t=p("form"),e=p("label"),l=F(`Cover Art\r
              `),o=p("input"),u(o,"type","file"),u(o,"id","file"),u(o,"name","file"),u(o,"accept","image/*"),u(e,"for","file"),u(e,"class","svelte-18dwqmy")},m(s,a){E(s,t,a),c(t,e),c(e,l),c(e,o),r||(i=[T(o,"change",n[115]),T(t,"submit",Ke(n[59]))],r=!0)},p:ne,d(s){s&&M(t),r=!1,ue(i)}}}function xl(n){let t,e,l,o,r,i,s,a,d,f,h,_,g;return{c(){t=p("dialog"),e=p("article"),l=p("h3"),l.textContent="Confirm Delete",o=S(),r=p("p"),r.textContent=`Are you sure you want to delete this book? All associated logs will\r
          also be deleted.`,i=S(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=S(),h=p("a"),h.textContent="Delete",u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-18dwqmy"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-18dwqmy"),u(s,"class","svelte-18dwqmy"),u(e,"class","svelte-18dwqmy"),t.open=!0},m(m,b){E(m,t,b),c(t,e),c(e,l),c(e,o),c(e,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),_||(g=[T(d,"click",n[54]),T(h,"click",n[48]),T(h,"click",n[52]),T(h,"click",n[54])],_=!0)},p:ne,d(m){m&&M(t),_=!1,ue(g)}}}function eo(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U,x,W;return U=Cs(n[119][0]),{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Add Collection`),i=S(),s=p("form"),a=p("label"),d=F(`Collection\r
            `),f=p("input"),h=S(),_=p("label"),g=F(`Description\r
            `),m=p("input"),b=S(),y=p("fieldset"),k=p("legend"),k.textContent="Collection for:",v=S(),C=p("label"),L=p("input"),q=F(`\r
              Books`),w=S(),A=p("label"),I=p("input"),D=F(`\r
              Movies`),P=S(),N=p("footer"),O=p("div"),j=p("a"),j.textContent="Cancel",R=S(),z=p("a"),z.textContent="Add Collection",u(o,"href","#close"),u(o,"class","close svelte-18dwqmy"),u(f,"id","collection"),u(f,"name","collection"),u(f,"placeholder","Collection"),u(f,"type","text"),u(a,"for","collection"),u(a,"class","svelte-18dwqmy"),u(m,"id","description"),u(m,"name","description"),u(m,"placeholder","Description"),u(m,"type","textarea"),u(_,"for","description"),u(_,"class","svelte-18dwqmy"),u(L,"type","radio"),u(L,"id","books"),u(L,"name","role"),L.__value="book",L.value=L.__value,L.checked=!0,u(C,"for","books"),u(C,"class","svelte-18dwqmy"),u(I,"type","radio"),u(I,"id","movies"),u(I,"name","role"),I.__value="movie",I.value=I.__value,u(A,"for","movies"),u(A,"class","svelte-18dwqmy"),u(y,"class","svelte-18dwqmy"),u(j,"href","#cancel"),u(j,"role","button"),u(j,"class","secondary svelte-18dwqmy"),u(z,"href","#confirm"),u(z,"role","button"),u(z,"class","svelte-18dwqmy"),u(N,"class","svelte-18dwqmy"),u(e,"class","svelte-18dwqmy"),t.open=!0,U.p(L,I)},m(V,J){E(V,t,J),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[5]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[6]),c(s,b),c(s,y),c(y,k),c(y,v),c(y,C),c(C,L),L.checked=L.__value===n[7],c(C,q),c(y,w),c(y,A),c(A,I),I.checked=I.__value===n[7],c(A,D),c(e,P),c(e,N),c(N,O),c(O,j),c(O,R),c(O,z),x||(W=[T(o,"click",n[49]),T(f,"input",n[116]),T(m,"input",n[117]),T(L,"change",n[118]),T(I,"change",n[120]),T(s,"submit",Ke(n[58])),T(j,"click",n[49]),T(z,"click",n[44]),T(z,"click",n[49])],x=!0)},p(V,J){J[0]&32&&f.value!==V[5]&&Y(f,V[5]),J[0]&64&&Y(m,V[6]),J[0]&128&&(L.checked=L.__value===V[7]),J[0]&128&&(I.checked=I.__value===V[7])},d(V){V&&M(t),U.r(),x=!1,ue(W)}}}function ou(n){let t,e,l,o;const r=[Uc,Fc],i=[];function s(a,d){return Ze?0:1}return t=s(),e=i[t]=r[t](n),{c(){e.c(),l=Te()},m(a,d){i[t].m(a,d),E(a,l,d),o=!0},p(a,d){e.p(a,d)},i(a){o||(K(e),o=!0)},o(a){$(e),o=!1},d(a){i[t].d(a),a&&M(l)}}}let ru="/api/files/9hhair4kd0xa314/";function Ut(n){let t;return n&&(t=n[0]),t}function Zt(n){let t;return n&&(t=n.thumbnail),t}function ct(n,t){return Math.floor(n/t*100)}function iu(n,t,e){let l,o,r,i;Fe(n,Pn,H=>e(122,l=H)),Fe(n,Ze,H=>e(42,o=H)),Fe(n,Jt,H=>e(123,r=H)),Fe(n,On,H=>e(124,i=H));let s,a,d,f,h,_,g,m,b=[],y=[],k=[],v,C,L,q="",w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee,ce,Q="",Z=[],ie=!1,ke=on+ru;async function we(){const H=await pe.collection("view_everything").getFullList({sort:"-id"});e(9,y=H),G(),un();try{const We=await pe.collection("collections").getFullList({sort:"-created"});e(8,b=We)}catch(We){alert(We)}try{const We=await pe.collection("enrollments").getFullList({expand:"class, class.managedBy",sort:"-class"});e(10,k=We)}catch(We){alert(We)}}ft(async()=>{we(),G(),un()}),Vn(()=>{pe.collection("view_everything").unsubscribe("*")});function G(){dn(On,i=y.length,i),dn(Jt,r=0,r);for(const H of y)H.pages_read&&dn(Jt,r+=H.pages_read,r)}async function se(){try{const H={collection:_,reader:o.id,type:m},We=await pe.collection("collections").create(H);we()}catch(H){alert(H)}}async function he(){try{const H=new FormData;H.append("title",v),H.append("author",C),H.append("reader",o.id),H.append("review",q),H.append("collection",A),H.append("language",P),H.append("pages",w),H.append("class",N),I?H.append("cover",I[0]):H.append("googleCover",D);const We=await pe.collection("books").create(H);Ae.success("Book added successfully!",{position:Le}),e(11,v=null),e(12,C=null),q=null,e(14,w=null),e(16,I=null),e(18,P=null),e(31,Q=""),e(32,Z=[]),we()}catch(H){alert(H)}}async function Ce(){if(h.reportValidity()){if(s&&a&&f)if(+U+ +a<=+z)try{const H={reader:o.id,book:V,date:s,pages_read:+a,progressValue:d,comment:f,class:ee},We=await pe.collection("reading").create(H);Ae.success("Log entry saved!",{position:Le}),B()}catch(H){alert(H)}else+U+ +a>+z&&Ae.error("Pages exceeded",{position:Le});else Ae.error("All fields required",{position:Le});e(0,s=""),e(1,a=""),e(3,f=""),e(29,ee=""),we()}}async function Ie(){try{const H=new FormData;H.append("title",O),H.append("author",j),H.append("reader",o.id),H.append("review",R),H.append("pages",z),H.append("collection",x),H.append("class",ee),I&&H.append("cover",I[0]);const We=await pe.collection("books").update(V,H);Ae.success("Book updated!",{position:Le}),B(),ye(),e(20,O=null),e(21,j=null),e(22,R=null),e(16,I=null),e(25,x=null),e(29,ee=""),we()}catch(H){alert(H)}}async function je(){try{await pe.collection("books").delete(V),Ae.success("Book deleted!",{position:Le}),we()}catch(H){alert(H)}}let _e=!1;function fe(){e(34,_e=!_e)}let de=!1;function ve(){e(35,de=!de),de||(e(31,Q=""),e(32,Z=[]))}let Se=!1;function te(){e(36,Se=!Se)}let le=!1;function B(){e(37,le=!le),console.log(le)}let X=!1;function ye(){e(38,X=!X)}let ae=!1;function Ye(){e(39,ae=!ae)}async function re(H){if(H.length>3){e(33,ie=!0);let We="https://www.googleapis.com/books/v1/volumes?q="+H+"&key=AIzaSyA3zGt3IjXckrkf_VTs0hGA-zAXLHx_00g&maxResults="+l;try{const fn=await fetch(We);e(32,Z=await fn.json()),e(32,Z=Z.items),e(33,ie=!1)}catch(fn){alert(fn)}}else Ae.error("input required",{position:Le})}function nt(){te(),ve()}function li(){ye(),Ye()}let Nt="",ll=y;function un(){const H=Nt.toLowerCase();e(41,ll=y.filter(We=>We.title.toLowerCase().includes(H)||We.author.toLowerCase().includes(H)||We.status.toLowerCase().includes(H)))}zn(()=>{un()});const oi=[[]];function ri(H){Qe.call(this,n,H)}function ii(H){Qe.call(this,n,H)}function si(H){Qe.call(this,n,H)}function ai(H){Qe.call(this,n,H)}function ci(H){Qe.call(this,n,H)}function ui(H){Qe.call(this,n,H)}function fi(){Nt=this.value,e(40,Nt)}const di=H=>{e(27,V=H.currentTarget.getAttribute("data-id"))},pi=H=>{e(20,O=H.currentTarget.getAttribute("data-title"))},hi=H=>{e(21,j=H.currentTarget.getAttribute("data-author"))},_i=H=>{e(23,z=H.currentTarget.getAttribute("data-pages"))},mi=H=>{e(24,U=H.currentTarget.getAttribute("data-pagesread"))},gi=H=>{e(22,R=H.currentTarget.getAttribute("data-review"))},bi=H=>{e(25,x=H.currentTarget.getAttribute("data-collection"))},vi=H=>{e(26,W=H.currentTarget.getAttribute("data-cover"))},yi=H=>{e(28,J=H.currentTarget.getAttribute("data-status"))},ki=H=>{e(29,ee=H.currentTarget.getAttribute("data-class"))},wi=H=>{e(30,ce=H.currentTarget.getAttribute("data-className"))},Ci=H=>{e(27,V=H.currentTarget.getAttribute("data-id"))},Si=H=>{e(20,O=H.currentTarget.getAttribute("data-title"))},Ai=H=>{e(21,j=H.currentTarget.getAttribute("data-author"))},Ti=H=>{e(23,z=H.currentTarget.getAttribute("data-pages"))},Ii=H=>{e(24,U=H.currentTarget.getAttribute("data-pagesread"))},Pi=H=>{e(22,R=H.currentTarget.getAttribute("data-review"))},qi=H=>{e(25,x=H.currentTarget.getAttribute("data-collection"))},Li=H=>{e(26,W=H.currentTarget.getAttribute("data-cover"))},Oi=H=>{e(28,J=H.currentTarget.getAttribute("data-status"))},Mi=H=>{e(29,ee=H.currentTarget.getAttribute("data-class"))},Ei=H=>{e(30,ce=H.currentTarget.getAttribute("data-className"))},ji=H=>{e(31,Q=H.currentTarget.value)},Ri=H=>{e(11,v=H.currentTarget.getAttribute("data-title"))},Ni=H=>{e(12,C=H.currentTarget.getAttribute("data-author"))},Di=H=>{e(14,w=H.currentTarget.getAttribute("data-pages"))},Bi=H=>{e(17,D=H.currentTarget.getAttribute("data-img"))},Fi=H=>{e(13,L=H.currentTarget.getAttribute("data-description"))},Ui=H=>{e(18,P=H.currentTarget.getAttribute("data-language"))};function Hi(){v=this.value,e(11,v)}function zi(){C=this.value,e(12,C)}function Vi(){w=Je(this.value),e(14,w)}function Ji(){P=xe(this),e(18,P)}function Gi(){A=xe(this),e(15,A),e(8,b)}function Wi(){N=xe(this),e(19,N),e(10,k)}const Qi=()=>{console.log(N)};function Ki(){I=this.files,e(16,I)}function Yi(){O=this.value,e(20,O)}function Zi(){s=this.value,e(0,s)}function Xi(){a=Je(this.value),e(1,a)}function $i(){d=Je(this.value),e(2,d)}function xi(){f=this.value,e(3,f)}function es(){ee=xe(this),e(29,ee),e(10,k)}function ts(H){at[H?"unshift":"push"](()=>{h=H,e(4,h)})}function ns(){O=this.value,e(20,O)}function ls(){j=this.value,e(21,j)}function os(){z=Je(this.value),e(23,z)}function rs(){R=this.value,e(22,R)}function is(){x=xe(this),e(25,x),e(8,b)}function ss(){ee=xe(this),e(29,ee),e(10,k)}function as(){I=this.files,e(16,I)}function cs(){_=this.value,e(5,_)}function us(){g=this.value,e(6,g)}function fs(){m=this.__value,e(7,m)}function ds(){m=this.__value,e(7,m)}return[s,a,d,f,h,_,g,m,b,y,k,v,C,L,w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee,ce,Q,Z,ie,_e,de,Se,le,X,ae,Nt,ll,o,ke,se,he,Ce,Ie,je,fe,ve,te,B,ye,Ye,re,nt,li,ri,ii,si,ai,ci,ui,fi,di,pi,hi,_i,mi,gi,bi,vi,yi,ki,wi,Ci,Si,Ai,Ti,Ii,Pi,qi,Li,Oi,Mi,Ei,ji,Ri,Ni,Di,Bi,Fi,Ui,Hi,zi,Vi,Ji,Gi,Wi,Qi,Ki,Yi,Zi,Xi,$i,xi,es,ts,ns,ls,os,rs,is,ss,as,cs,us,fs,oi,ds]}class su extends Ee{constructor(t){super(),Me(this,t,iu,ou,Oe,{},null,[-1,-1,-1,-1,-1])}}/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.7
*/const jr=Object.freeze({left:0,top:0,width:16,height:16}),Xt=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),jt=Object.freeze({...jr,...Xt}),Mn=Object.freeze({...jt,body:"",hidden:!1}),au=Object.freeze({width:null,height:null}),Rr=Object.freeze({...au,...Xt});function cu(n,t=0){const e=n.replace(/^-?[0-9.]*/,"");function l(o){for(;o<0;)o+=4;return o%4}if(e===""){const o=parseInt(n);return isNaN(o)?0:l(o)}else if(e!==n){let o=0;switch(e){case"%":o=25;break;case"deg":o=90}if(o){let r=parseFloat(n.slice(0,n.length-e.length));return isNaN(r)?0:(r=r/o,r%1===0?l(r):0)}}return t}const uu=/[\s,]+/;function fu(n,t){t.split(uu).forEach(e=>{switch(e.trim()){case"horizontal":n.hFlip=!0;break;case"vertical":n.vFlip=!0;break}})}const Nr={...Rr,preserveAspectRatio:""};function to(n){const t={...Nr},e=(l,o)=>n.getAttribute(l)||o;return t.width=e("width",null),t.height=e("height",null),t.rotate=cu(e("rotate","")),fu(t,e("flip","")),t.preserveAspectRatio=e("preserveAspectRatio",e("preserveaspectratio","")),t}function du(n,t){for(const e in Nr)if(n[e]!==t[e])return!0;return!1}const At=/^[a-z0-9]+(-[a-z0-9]+)*$/,Rt=(n,t,e,l="")=>{const o=n.split(":");if(n.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;l=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const s=o.pop(),a=o.pop(),d={provider:o.length>0?o[0]:l,prefix:a,name:s};return t&&!Gt(d)?null:d}const r=o[0],i=r.split("-");if(i.length>1){const s={provider:l,prefix:i.shift(),name:i.join("-")};return t&&!Gt(s)?null:s}if(e&&l===""){const s={provider:l,prefix:"",name:r};return t&&!Gt(s,e)?null:s}return null},Gt=(n,t)=>n?!!((n.provider===""||n.provider.match(At))&&(t&&n.prefix===""||n.prefix.match(At))&&n.name.match(At)):!1;function pu(n,t){const e={};!n.hFlip!=!t.hFlip&&(e.hFlip=!0),!n.vFlip!=!t.vFlip&&(e.vFlip=!0);const l=((n.rotate||0)+(t.rotate||0))%4;return l&&(e.rotate=l),e}function no(n,t){const e=pu(n,t);for(const l in Mn)l in Xt?l in n&&!(l in e)&&(e[l]=Xt[l]):l in t?e[l]=t[l]:l in n&&(e[l]=n[l]);return e}function hu(n,t){const e=n.icons,l=n.aliases||Object.create(null),o=Object.create(null);function r(i){if(e[i])return o[i]=[];if(!(i in o)){o[i]=null;const s=l[i]&&l[i].parent,a=s&&r(s);a&&(o[i]=[s].concat(a))}return o[i]}return(t||Object.keys(e).concat(Object.keys(l))).forEach(r),o}function _u(n,t,e){const l=n.icons,o=n.aliases||Object.create(null);let r={};function i(s){r=no(l[s]||o[s],r)}return i(t),e.forEach(i),no(n,r)}function Dr(n,t){const e=[];if(typeof n!="object"||typeof n.icons!="object")return e;n.not_found instanceof Array&&n.not_found.forEach(o=>{t(o,null),e.push(o)});const l=hu(n);for(const o in l){const r=l[o];r&&(t(o,_u(n,o,r)),e.push(o))}return e}const mu={provider:"",aliases:{},not_found:{},...jr};function bn(n,t){for(const e in t)if(e in n&&typeof n[e]!=typeof t[e])return!1;return!0}function Br(n){if(typeof n!="object"||n===null)return null;const t=n;if(typeof t.prefix!="string"||!n.icons||typeof n.icons!="object"||!bn(n,mu))return null;const e=t.icons;for(const o in e){const r=e[o];if(!o.match(At)||typeof r.body!="string"||!bn(r,Mn))return null}const l=t.aliases||Object.create(null);for(const o in l){const r=l[o],i=r.parent;if(!o.match(At)||typeof i!="string"||!e[i]&&!l[i]||!bn(r,Mn))return null}return t}const $t=Object.create(null);function gu(n,t){return{provider:n,prefix:t,icons:Object.create(null),missing:new Set}}function ut(n,t){const e=$t[n]||($t[n]=Object.create(null));return e[t]||(e[t]=gu(n,t))}function $n(n,t){return Br(t)?Dr(t,(e,l)=>{l?n.icons[e]=l:n.missing.add(e)}):[]}function bu(n,t,e){try{if(typeof e.body=="string")return n.icons[t]={...e},!0}catch{}return!1}function vu(n,t){let e=[];return(typeof n=="string"?[n]:Object.keys($t)).forEach(o=>{(typeof o=="string"&&typeof t=="string"?[t]:Object.keys($t[o]||{})).forEach(i=>{const s=ut(o,i);e=e.concat(Object.keys(s.icons).map(a=>(o!==""?"@"+o+":":"")+i+":"+a))})}),e}let Pt=!1;function Fr(n){return typeof n=="boolean"&&(Pt=n),Pt}function qt(n){const t=typeof n=="string"?Rt(n,!0,Pt):n;if(t){const e=ut(t.provider,t.prefix),l=t.name;return e.icons[l]||(e.missing.has(l)?null:void 0)}}function Ur(n,t){const e=Rt(n,!0,Pt);if(!e)return!1;const l=ut(e.provider,e.prefix);return bu(l,e.name,t)}function lo(n,t){if(typeof n!="object")return!1;if(typeof t!="string"&&(t=n.provider||""),Pt&&!t&&!n.prefix){let o=!1;return Br(n)&&(n.prefix="",Dr(n,(r,i)=>{i&&Ur(r,i)&&(o=!0)})),o}const e=n.prefix;if(!Gt({provider:t,prefix:e,name:"a"}))return!1;const l=ut(t,e);return!!$n(l,n)}function yu(n){return!!qt(n)}function ku(n){const t=qt(n);return t?{...jt,...t}:null}function wu(n){const t={loaded:[],missing:[],pending:[]},e=Object.create(null);n.sort((o,r)=>o.provider!==r.provider?o.provider.localeCompare(r.provider):o.prefix!==r.prefix?o.prefix.localeCompare(r.prefix):o.name.localeCompare(r.name));let l={provider:"",prefix:"",name:""};return n.forEach(o=>{if(l.name===o.name&&l.prefix===o.prefix&&l.provider===o.provider)return;l=o;const r=o.provider,i=o.prefix,s=o.name,a=e[r]||(e[r]=Object.create(null)),d=a[i]||(a[i]=ut(r,i));let f;s in d.icons?f=t.loaded:i===""||d.missing.has(s)?f=t.missing:f=t.pending;const h={provider:r,prefix:i,name:s};f.push(h)}),t}function Hr(n,t){n.forEach(e=>{const l=e.loaderCallbacks;l&&(e.loaderCallbacks=l.filter(o=>o.id!==t))})}function Cu(n){n.pendingCallbacksFlag||(n.pendingCallbacksFlag=!0,setTimeout(()=>{n.pendingCallbacksFlag=!1;const t=n.loaderCallbacks?n.loaderCallbacks.slice(0):[];if(!t.length)return;let e=!1;const l=n.provider,o=n.prefix;t.forEach(r=>{const i=r.icons,s=i.pending.length;i.pending=i.pending.filter(a=>{if(a.prefix!==o)return!0;const d=a.name;if(n.icons[d])i.loaded.push({provider:l,prefix:o,name:d});else if(n.missing.has(d))i.missing.push({provider:l,prefix:o,name:d});else return e=!0,!0;return!1}),i.pending.length!==s&&(e||Hr([n],r.id),r.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),r.abort))})}))}let Su=0;function Au(n,t,e){const l=Su++,o=Hr.bind(null,e,l);if(!t.pending.length)return o;const r={id:l,icons:t,callback:n,abort:o};return e.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(r)}),o}const En=Object.create(null);function oo(n,t){En[n]=t}function jn(n){return En[n]||En[""]}function Tu(n,t=!0,e=!1){const l=[];return n.forEach(o=>{const r=typeof o=="string"?Rt(o,t,e):o;r&&l.push(r)}),l}var Iu={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Pu(n,t,e,l){const o=n.resources.length,r=n.random?Math.floor(Math.random()*o):n.index;let i;if(n.random){let w=n.resources.slice(0);for(i=[];w.length>1;){const A=Math.floor(Math.random()*w.length);i.push(w[A]),w=w.slice(0,A).concat(w.slice(A+1))}i=i.concat(w)}else i=n.resources.slice(r).concat(n.resources.slice(0,r));const s=Date.now();let a="pending",d=0,f,h=null,_=[],g=[];typeof l=="function"&&g.push(l);function m(){h&&(clearTimeout(h),h=null)}function b(){a==="pending"&&(a="aborted"),m(),_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function y(w,A){A&&(g=[]),typeof w=="function"&&g.push(w)}function k(){return{startTime:s,payload:t,status:a,queriesSent:d,queriesPending:_.length,subscribe:y,abort:b}}function v(){a="failed",g.forEach(w=>{w(void 0,f)})}function C(){_.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),_=[]}function L(w,A,I){const D=A!=="success";switch(_=_.filter(P=>P!==w),a){case"pending":break;case"failed":if(D||!n.dataAfterTimeout)return;break;default:return}if(A==="abort"){f=I,v();return}if(D){f=I,_.length||(i.length?q():v());return}if(m(),C(),!n.random){const P=n.resources.indexOf(w.resource);P!==-1&&P!==n.index&&(n.index=P)}a="completed",g.forEach(P=>{P(I)})}function q(){if(a!=="pending")return;m();const w=i.shift();if(w===void 0){if(_.length){h=setTimeout(()=>{m(),a==="pending"&&(C(),v())},n.timeout);return}v();return}const A={status:"pending",resource:w,callback:(I,D)=>{L(A,I,D)}};_.push(A),d++,h=setTimeout(q,n.rotate),e(w,t,A.callback)}return setTimeout(q),k}function zr(n){const t={...Iu,...n};let e=[];function l(){e=e.filter(s=>s().status==="pending")}function o(s,a,d){const f=Pu(t,s,a,(h,_)=>{l(),d&&d(h,_)});return e.push(f),f}function r(s){return e.find(a=>s(a))||null}return{query:o,find:r,setIndex:s=>{t.index=s},getIndex:()=>t.index,cleanup:l}}function xn(n){let t;if(typeof n.resources=="string")t=[n.resources];else if(t=n.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:n.path||"/",maxURL:n.maxURL||500,rotate:n.rotate||750,timeout:n.timeout||5e3,random:n.random===!0,index:n.index||0,dataAfterTimeout:n.dataAfterTimeout!==!1}}const an=Object.create(null),St=["https://api.simplesvg.com","https://api.unisvg.com"],Wt=[];for(;St.length>0;)St.length===1||Math.random()>.5?Wt.push(St.shift()):Wt.push(St.pop());an[""]=xn({resources:["https://api.iconify.design"].concat(Wt)});function ro(n,t){const e=xn(t);return e===null?!1:(an[n]=e,!0)}function cn(n){return an[n]}function qu(){return Object.keys(an)}function io(){}const vn=Object.create(null);function Lu(n){if(!vn[n]){const t=cn(n);if(!t)return;const e=zr(t),l={config:t,redundancy:e};vn[n]=l}return vn[n]}function Vr(n,t,e){let l,o;if(typeof n=="string"){const r=jn(n);if(!r)return e(void 0,424),io;o=r.send;const i=Lu(n);i&&(l=i.redundancy)}else{const r=xn(n);if(r){l=zr(r);const i=n.resources?n.resources[0]:"",s=jn(i);s&&(o=s.send)}}return!l||!o?(e(void 0,424),io):l.query(t,o,e)().abort}const so="iconify2",Lt="iconify",Jr=Lt+"-count",ao=Lt+"-version",Gr=36e5,Ou=168;function Rn(n,t){try{return n.getItem(t)}catch{}}function el(n,t,e){try{return n.setItem(t,e),!0}catch{}}function co(n,t){try{n.removeItem(t)}catch{}}function Nn(n,t){return el(n,Jr,t.toString())}function Dn(n){return parseInt(Rn(n,Jr))||0}const pt={local:!0,session:!0},Wr={local:new Set,session:new Set};let tl=!1;function Mu(n){tl=n}let Ht=typeof window>"u"?{}:window;function Qr(n){const t=n+"Storage";try{if(Ht&&Ht[t]&&typeof Ht[t].length=="number")return Ht[t]}catch{}pt[n]=!1}function Kr(n,t){const e=Qr(n);if(!e)return;const l=Rn(e,ao);if(l!==so){if(l){const s=Dn(e);for(let a=0;a<s;a++)co(e,Lt+a.toString())}el(e,ao,so),Nn(e,0);return}const o=Math.floor(Date.now()/Gr)-Ou,r=s=>{const a=Lt+s.toString(),d=Rn(e,a);if(typeof d=="string"){try{const f=JSON.parse(d);if(typeof f=="object"&&typeof f.cached=="number"&&f.cached>o&&typeof f.provider=="string"&&typeof f.data=="object"&&typeof f.data.prefix=="string"&&t(f,s))return!0}catch{}co(e,a)}};let i=Dn(e);for(let s=i-1;s>=0;s--)r(s)||(s===i-1?(i--,Nn(e,i)):Wr[n].add(s))}function Yr(){if(!tl){Mu(!0);for(const n in pt)Kr(n,t=>{const e=t.data,l=t.provider,o=e.prefix,r=ut(l,o);if(!$n(r,e).length)return!1;const i=e.lastModified||-1;return r.lastModifiedCached=r.lastModifiedCached?Math.min(r.lastModifiedCached,i):i,!0})}}function Eu(n,t){const e=n.lastModifiedCached;if(e&&e>=t)return e===t;if(n.lastModifiedCached=t,e)for(const l in pt)Kr(l,o=>{const r=o.data;return o.provider!==n.provider||r.prefix!==n.prefix||r.lastModified===t});return!0}function ju(n,t){tl||Yr();function e(l){let o;if(!pt[l]||!(o=Qr(l)))return;const r=Wr[l];let i;if(r.size)r.delete(i=Array.from(r).shift());else if(i=Dn(o),!Nn(o,i+1))return;const s={cached:Math.floor(Date.now()/Gr),provider:n.provider,data:t};return el(o,Lt+i.toString(),JSON.stringify(s))}t.lastModified&&!Eu(n,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),e("local")||e("session"))}function uo(){}function Ru(n){n.iconsLoaderFlag||(n.iconsLoaderFlag=!0,setTimeout(()=>{n.iconsLoaderFlag=!1,Cu(n)}))}function Nu(n,t){n.iconsToLoad?n.iconsToLoad=n.iconsToLoad.concat(t).sort():n.iconsToLoad=t,n.iconsQueueFlag||(n.iconsQueueFlag=!0,setTimeout(()=>{n.iconsQueueFlag=!1;const{provider:e,prefix:l}=n,o=n.iconsToLoad;delete n.iconsToLoad;let r;if(!o||!(r=jn(e)))return;r.prepare(e,l,o).forEach(s=>{Vr(e,s,a=>{if(typeof a!="object")s.icons.forEach(d=>{n.missing.add(d)});else try{const d=$n(n,a);if(!d.length)return;const f=n.pendingIcons;f&&d.forEach(h=>{f.delete(h)}),ju(n,a)}catch(d){console.error(d)}Ru(n)})})}))}const nl=(n,t)=>{const e=Tu(n,!0,Fr()),l=wu(e);if(!l.pending.length){let a=!0;return t&&setTimeout(()=>{a&&t(l.loaded,l.missing,l.pending,uo)}),()=>{a=!1}}const o=Object.create(null),r=[];let i,s;return l.pending.forEach(a=>{const{provider:d,prefix:f}=a;if(f===s&&d===i)return;i=d,s=f,r.push(ut(d,f));const h=o[d]||(o[d]=Object.create(null));h[f]||(h[f]=[])}),l.pending.forEach(a=>{const{provider:d,prefix:f,name:h}=a,_=ut(d,f),g=_.pendingIcons||(_.pendingIcons=new Set);g.has(h)||(g.add(h),o[d][f].push(h))}),r.forEach(a=>{const{provider:d,prefix:f}=a;o[d][f].length&&Nu(a,o[d][f])}),t?Au(t,l,r):uo},Du=n=>new Promise((t,e)=>{const l=typeof n=="string"?Rt(n,!0):n;if(!l){e(n);return}nl([l||n],o=>{if(o.length&&l){const r=qt(l);if(r){t({...jt,...r});return}}e(n)})});function Bu(n){try{const t=typeof n=="string"?JSON.parse(n):n;if(typeof t.body=="string")return{...t}}catch{}}function Fu(n,t){const e=typeof n=="string"?Rt(n,!0,!0):null;if(!e){const r=Bu(n);return{value:n,data:r}}const l=qt(e);if(l!==void 0||!e.prefix)return{value:n,name:e,data:l};const o=nl([e],()=>t(n,e,qt(e)));return{value:n,name:e,loading:o}}function yn(n){return n.hasAttribute("inline")}let Zr=!1;try{Zr=navigator.vendor.indexOf("Apple")===0}catch{}function Uu(n,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(Zr||n.indexOf("<a")===-1)?"svg":n.indexOf("currentColor")===-1?"bg":"mask"}const Hu=/(-?[0-9.]*[0-9]+[0-9.]*)/g,zu=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Bn(n,t,e){if(t===1)return n;if(e=e||100,typeof n=="number")return Math.ceil(n*t*e)/e;if(typeof n!="string")return n;const l=n.split(Hu);if(l===null||!l.length)return n;const o=[];let r=l.shift(),i=zu.test(r);for(;;){if(i){const s=parseFloat(r);isNaN(s)?o.push(r):o.push(Math.ceil(s*t*e)/e)}else o.push(r);if(r=l.shift(),r===void 0)return o.join("");i=!i}}const Vu=n=>n==="unset"||n==="undefined"||n==="none";function Xr(n,t){const e={...jt,...n},l={...Rr,...t},o={left:e.left,top:e.top,width:e.width,height:e.height};let r=e.body;[e,l].forEach(m=>{const b=[],y=m.hFlip,k=m.vFlip;let v=m.rotate;y?k?v+=2:(b.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),b.push("scale(-1 1)"),o.top=o.left=0):k&&(b.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),b.push("scale(1 -1)"),o.top=o.left=0);let C;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:C=o.height/2+o.top,b.unshift("rotate(90 "+C.toString()+" "+C.toString()+")");break;case 2:b.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:C=o.width/2+o.left,b.unshift("rotate(-90 "+C.toString()+" "+C.toString()+")");break}v%2===1&&(o.left!==o.top&&(C=o.left,o.left=o.top,o.top=C),o.width!==o.height&&(C=o.width,o.width=o.height,o.height=C)),b.length&&(r='<g transform="'+b.join(" ")+'">'+r+"</g>")});const i=l.width,s=l.height,a=o.width,d=o.height;let f,h;i===null?(h=s===null?"1em":s==="auto"?d:s,f=Bn(h,a/d)):(f=i==="auto"?a:i,h=s===null?Bn(f,d/a):s==="auto"?d:s);const _={},g=(m,b)=>{Vu(b)||(_[m]=b.toString())};return g("width",f),g("height",h),_.viewBox=o.left.toString()+" "+o.top.toString()+" "+a.toString()+" "+d.toString(),{attributes:_,body:r}}const Ju=()=>{let n;try{if(n=fetch,typeof n=="function")return n}catch{}};let xt=Ju();function Gu(n){xt=n}function Wu(){return xt}function Qu(n,t){const e=cn(n);if(!e)return 0;let l;if(!e.maxURL)l=0;else{let o=0;e.resources.forEach(i=>{o=Math.max(o,i.length)});const r=t+".json?icons=";l=e.maxURL-o-e.path.length-r.length}return l}function Ku(n){return n===404}const Yu=(n,t,e)=>{const l=[],o=Qu(n,t),r="icons";let i={type:r,provider:n,prefix:t,icons:[]},s=0;return e.forEach((a,d)=>{s+=a.length+1,s>=o&&d>0&&(l.push(i),i={type:r,provider:n,prefix:t,icons:[]},s=a.length),i.icons.push(a)}),l.push(i),l};function Zu(n){if(typeof n=="string"){const t=cn(n);if(t)return t.path}return"/"}const Xu=(n,t,e)=>{if(!xt){e("abort",424);return}let l=Zu(t.provider);switch(t.type){case"icons":{const r=t.prefix,s=t.icons.join(","),a=new URLSearchParams({icons:s});l+=r+".json?"+a.toString();break}case"custom":{const r=t.uri;l+=r.slice(0,1)==="/"?r.slice(1):r;break}default:e("abort",400);return}let o=503;xt(n+l).then(r=>{const i=r.status;if(i!==200){setTimeout(()=>{e(Ku(i)?"abort":"next",i)});return}return o=501,r.json()}).then(r=>{if(typeof r!="object"||r===null){setTimeout(()=>{r===404?e("abort",r):e("next",o)});return}setTimeout(()=>{e("success",r)})}).catch(()=>{e("next",o)})},$u={prepare:Yu,send:Xu};function fo(n,t){switch(n){case"local":case"session":pt[n]=t;break;case"all":for(const e in pt)pt[e]=t;break}}const kn="data-style";let $r="";function xu(n){$r=n}function po(n,t){let e=Array.from(n.childNodes).find(l=>l.hasAttribute&&l.hasAttribute(kn));e||(e=document.createElement("style"),e.setAttribute(kn,kn),n.appendChild(e)),e.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+$r}function xr(){oo("",$u),Fr(!0);let n;try{n=window}catch{}if(n){if(Yr(),n.IconifyPreload!==void 0){const e=n.IconifyPreload,l="Invalid IconifyPreload syntax.";typeof e=="object"&&e!==null&&(e instanceof Array?e:[e]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!lo(o))&&console.error(l)}catch{console.error(l)}})}if(n.IconifyProviders!==void 0){const e=n.IconifyProviders;if(typeof e=="object"&&e!==null)for(const l in e){const o="IconifyProviders["+l+"] is invalid.";try{const r=e[l];if(typeof r!="object"||!r||r.resources===void 0)continue;ro(l,r)||console.error(o)}catch{console.error(o)}}}}return{enableCache:e=>fo(e,!0),disableCache:e=>fo(e,!1),iconExists:yu,getIcon:ku,listIcons:vu,addIcon:Ur,addCollection:lo,calculateSize:Bn,buildIcon:Xr,loadIcons:nl,loadIcon:Du,addAPIProvider:ro,appendCustomStyle:xu,_api:{getAPIConfig:cn,setAPIModule:oo,sendAPIQuery:Vr,setFetch:Gu,getFetch:Wu,listAPIProviders:qu}}}function ei(n,t){let e=n.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const l in t)e+=" "+l+'="'+t[l]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+e+">"+n+"</svg>"}function ef(n){return n.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function tf(n){return'url("data:image/svg+xml,'+ef(n)+'")'}const Fn={"background-color":"currentColor"},ti={"background-color":"transparent"},ho={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},_o={"-webkit-mask":Fn,mask:Fn,background:ti};for(const n in _o){const t=_o[n];for(const e in ho)t[n+"-"+e]=ho[e]}function mo(n){return n?n+(n.match(/^[-0-9.]+$/)?"px":""):"inherit"}function nf(n,t,e){const l=document.createElement("span");let o=n.body;o.indexOf("<a")!==-1&&(o+="<!-- "+Date.now()+" -->");const r=n.attributes,i=ei(o,{...r,width:t.width+"",height:t.height+""}),s=tf(i),a=l.style,d={"--svg":s,width:mo(r.width),height:mo(r.height),...e?Fn:ti};for(const f in d)a.setProperty(f,d[f]);return l}function lf(n){const t=document.createElement("span"),e=n.attributes;let l="";return e.width||(l="width: inherit;"),e.height||(l+="height: inherit;"),l&&(e.style=l),t.innerHTML=ei(n.body,e),t.firstChild}function go(n,t){const e=t.icon.data,l=t.customisations,o=Xr(e,l);l.preserveAspectRatio&&(o.attributes.preserveAspectRatio=l.preserveAspectRatio);const r=t.renderedMode;let i;switch(r){case"svg":i=lf(o);break;default:i=nf(o,{...jt,...e},r==="mask")}const s=Array.from(n.childNodes).find(a=>{const d=a.tagName&&a.tagName.toUpperCase();return d==="SPAN"||d==="SVG"});s?i.tagName==="SPAN"&&s.tagName===i.tagName?s.setAttribute("style",i.getAttribute("style")):n.replaceChild(i,s):n.appendChild(i)}function bo(n,t,e){const l=e&&(e.rendered?e:e.lastRender);return{rendered:!1,inline:t,icon:n,lastRender:l}}function of(n="iconify-icon"){let t,e;try{t=window.customElements,e=window.HTMLElement}catch{return}if(!t||!e)return;const l=t.get(n);if(l)return l;const o=["icon","mode","inline","width","height","rotate","flip"],r=class extends e{constructor(){super();Dt(this,"_shadowRoot");Dt(this,"_state");Dt(this,"_checkQueued",!1);const a=this._shadowRoot=this.attachShadow({mode:"open"}),d=yn(this);po(a,d),this._state=bo({value:""},d),this._queueCheck()}static get observedAttributes(){return o.slice(0)}attributeChangedCallback(a){if(a==="inline"){const d=yn(this),f=this._state;d!==f.inline&&(f.inline=d,po(this._shadowRoot,d))}else this._queueCheck()}get icon(){const a=this.getAttribute("icon");if(a&&a.slice(0,1)==="{")try{return JSON.parse(a)}catch{}return a}set icon(a){typeof a=="object"&&(a=JSON.stringify(a)),this.setAttribute("icon",a)}get inline(){return yn(this)}set inline(a){a?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const a=this._state;if(a.rendered){const d=this._shadowRoot;if(a.renderedMode==="svg")try{d.lastChild.setCurrentTime(0);return}catch{}go(d,a)}}get status(){const a=this._state;return a.rendered?"rendered":a.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const a=this._state,d=this.getAttribute("icon");if(d!==a.icon.value){this._iconChanged(d);return}if(!a.rendered)return;const f=this.getAttribute("mode"),h=to(this);(a.attrMode!==f||du(a.customisations,h))&&this._renderIcon(a.icon,h,f)}_iconChanged(a){const d=Fu(a,(f,h,_)=>{const g=this._state;if(g.rendered||this.getAttribute("icon")!==f)return;const m={value:f,name:h,data:_};m.data?this._gotIconData(m):g.icon=m});d.data?this._gotIconData(d):this._state=bo(d,this._state.inline,this._state)}_gotIconData(a){this._checkQueued=!1,this._renderIcon(a,to(this),this.getAttribute("mode"))}_renderIcon(a,d,f){const h=Uu(a.data.body,f),_=this._state.inline;go(this._shadowRoot,this._state={rendered:!0,icon:a,inline:_,customisations:d,attrMode:f,renderedMode:h})}};o.forEach(s=>{s in r.prototype||Object.defineProperty(r.prototype,s,{get:function(){return this.getAttribute(s)},set:function(a){a!==null?this.setAttribute(s,a):this.removeAttribute(s)}})});const i=xr();for(const s in i)r[s]=r.prototype[s]=i[s];return t.define(n,r),r}of()||xr();function vo(n,t,e){const l=n.slice();return l[19]=t[e],l}function yo(n,t,e){const l=n.slice();return l[19]=t[e],l}function ko(n,t,e){const l=n.slice();return l[63]=t[e],l}function rf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w=[],A=new Map,I,D,P,N,O,j,R=n[18];const z=V=>V[63].id;for(let V=0;V<R.length;V+=1){let J=ko(n,R,V),ee=z(J);A.set(ee,w[V]=wo(ee,J))}let U=n[14]&&Co(n),x=n[15]&&Ao(n),W=n[16]&&Io(n);return{c(){t=p("div"),e=p("div"),l=p("select"),o=p("option"),o.textContent="All",r=p("option"),r.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",b=p("option"),b.textContent="November",y=p("option"),y.textContent="December",k=S(),v=p("input"),C=S(),L=p("button"),L.textContent="Add Log Entry",q=S();for(let V=0;V<w.length;V+=1)w[V].c();I=S(),U&&U.c(),D=S(),x&&x.c(),P=S(),W&&W.c(),N=Te(),o.__value="All",o.value=o.__value,r.__value="January",r.value=r.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,b.__value="November",b.value=b.__value,y.__value="December",y.value=y.__value,u(l,"class","svelte-1lnkfej"),n[6]===void 0&&Ne(()=>n[29].call(l)),u(v,"class","radius svelte-1lnkfej"),u(v,"type","search"),u(v,"placeholder","Filter logs..."),u(e,"class","flex svelte-1lnkfej"),u(L,"class","btn btn-primary svelte-1lnkfej"),u(t,"class","container svelte-1lnkfej")},m(V,J){E(V,t,J),c(t,e),c(e,l),c(l,o),c(l,r),c(l,i),c(l,s),c(l,a),c(l,d),c(l,f),c(l,h),c(l,_),c(l,g),c(l,m),c(l,b),c(l,y),Re(l,n[6],!0),c(e,k),c(e,v),Y(v,n[17]),c(t,C),c(t,L),c(t,q);for(let ee=0;ee<w.length;ee+=1)w[ee]&&w[ee].m(t,null);E(V,I,J),U&&U.m(V,J),E(V,D,J),x&&x.m(V,J),E(V,P,J),W&&W.m(V,J),E(V,N,J),O||(j=[T(l,"change",n[29]),T(l,"change",n[20]),T(v,"input",n[30]),T(L,"click",n[21])],O=!0)},p(V,J){J[0]&64&&Re(l,V[6]),J[0]&131072&&v.value!==V[17]&&Y(v,V[17]),J[0]&4468767&&(R=V[18],w=Ue(w,J,z,1,V,R,A,t,He,wo,null,ko)),V[14]?U?U.p(V,J):(U=Co(V),U.c(),U.m(D.parentNode,D)):U&&(U.d(1),U=null),V[15]?x?x.p(V,J):(x=Ao(V),x.c(),x.m(P.parentNode,P)):x&&(x.d(1),x=null),V[16]?W?W.p(V,J):(W=Io(V),W.c(),W.m(N.parentNode,N)):W&&(W.d(1),W=null)},d(V){V&&M(t);for(let J=0;J<w.length;J+=1)w[J].d();V&&M(I),U&&U.d(V),V&&M(D),x&&x.d(V),V&&M(P),W&&W.d(V),V&&M(N),O=!1,ue(j)}}}function wo(n,t){let e,l,o,r,i=t[63].title+"",s,a,d=t[63].comment+"",f,h,_,g,m,b,y,k=Po(t[63].date)+"",v,C,L,q=t[63].pages_read+"",w,A,I,D,P,N,O,j,R,z,U;return{key:n,first:null,c(){e=p("a"),l=p("article"),o=p("hgroup"),r=p("h4"),s=F(i),a=S(),f=F(d),h=S(),_=p("br"),g=S(),m=p("footer"),b=p("div"),y=p("div"),v=F(k),C=S(),L=p("div"),w=F(q),A=F(" pages"),I=S(),u(b,"class","pages svelte-1lnkfej"),u(e,"href","#edit"),u(e,"data-id",D=t[63].id),u(e,"data-date",P=t[63].date),u(e,"data-title",N=t[63].title),u(e,"data-pages",O=t[63].pages),u(e,"data-pagesread",j=t[63].pages_read),u(e,"data-comment",R=t[63].comment),u(e,"class","svelte-1lnkfej"),this.first=e},m(x,W){E(x,e,W),c(e,l),c(l,o),c(o,r),c(r,s),c(o,a),c(o,f),c(o,h),c(o,_),c(l,g),c(l,m),c(m,b),c(b,y),c(y,v),c(b,C),c(b,L),c(L,w),c(L,A),c(l,I),z||(U=[T(e,"click",t[31]),T(e,"click",t[32]),T(e,"click",t[33]),T(e,"click",t[34]),T(e,"click",t[35]),T(e,"click",t[36]),T(e,"click",t[37]),T(e,"click",t[22])],z=!0)},p(x,W){t=x,W[0]&262144&&i!==(i=t[63].title+"")&&oe(s,i),W[0]&262144&&d!==(d=t[63].comment+"")&&oe(f,d),W[0]&262144&&k!==(k=Po(t[63].date)+"")&&oe(v,k),W[0]&262144&&q!==(q=t[63].pages_read+"")&&oe(w,q),W[0]&262144&&D!==(D=t[63].id)&&u(e,"data-id",D),W[0]&262144&&P!==(P=t[63].date)&&u(e,"data-date",P),W[0]&262144&&N!==(N=t[63].title)&&u(e,"data-title",N),W[0]&262144&&O!==(O=t[63].pages)&&u(e,"data-pages",O),W[0]&262144&&j!==(j=t[63].pages_read)&&u(e,"data-pagesread",j),W[0]&262144&&R!==(R=t[63].comment)&&u(e,"data-comment",R)},d(x){x&&M(e),z=!1,ue(U)}}}function Co(n){let t,e,l,o,r,i,s,a,d,f,h,_=[],g=new Map,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee=n[11];const ce=Q=>Q[19].id;for(let Q=0;Q<ee.length;Q+=1){let Z=yo(n,ee,Q),ie=ce(Z);g.set(ie,_[Q]=So(ie,Z))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Log Entry`),i=S(),s=p("form"),a=p("label"),a.textContent="Book",d=S(),f=p("select"),h=p("option"),h.textContent="Please select an option";for(let Q=0;Q<_.length;Q+=1)_[Q].c();m=S(),b=p("label"),y=F(`Date\r
            `),k=p("input"),v=S(),C=p("label"),L=F(`Pages Read\r
            `),q=p("input"),w=S(),A=p("label"),I=F(`Progress Value:\r
            `),D=p("input"),P=S(),N=p("label"),O=F(`Comment\r
            `),j=p("input"),R=S(),z=p("footer"),U=p("a"),U.textContent="Cancel",x=S(),W=p("a"),W.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-1lnkfej"),u(a,"for","book"),h.__value="",h.value=h.__value,h.selected=!0,u(f,"id","book"),n[19]===void 0&&Ne(()=>n[38].call(f)),u(k,"id","date"),u(k,"name","date"),u(k,"type","date"),k.required=!0,u(b,"for","date"),u(q,"id","pagesRead"),u(q,"name","pagesRead"),u(q,"type","number"),q.required=!0,u(C,"for","pagesRead"),u(D,"id","progressValue"),u(D,"name","progressValue"),u(D,"type","number"),D.required=!0,u(A,"for","progressValue"),u(j,"id","comment"),u(j,"name","comment"),u(j,"type","textarea"),j.required=!0,u(N,"for","comment"),u(U,"href","#cancel"),u(U,"role","button"),u(U,"class","secondary svelte-1lnkfej"),u(W,"href","#confirm"),u(W,"role","button"),u(W,"class","svelte-1lnkfej"),u(z,"class","svelte-1lnkfej"),t.open=!0},m(Q,Z){E(Q,t,Z),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(s,d),c(s,f),c(f,h);for(let ie=0;ie<_.length;ie+=1)_[ie]&&_[ie].m(f,null);Re(f,n[19],!0),c(s,m),c(s,b),c(b,y),c(b,k),Y(k,n[7]),c(s,v),c(s,C),c(C,L),c(C,q),Y(q,n[8]),c(s,w),c(s,A),c(A,I),c(A,D),Y(D,n[10]),c(s,P),c(s,N),c(N,O),c(N,j),Y(j,n[9]),c(e,R),c(e,z),c(z,U),c(z,x),c(z,W),V||(J=[T(o,"click",n[21]),T(f,"change",n[38]),T(k,"input",n[39]),T(q,"input",n[40]),T(D,"input",n[41]),T(j,"input",n[42]),T(s,"submit",Ke(n[28])),T(U,"click",n[21]),T(W,"click",n[25]),T(W,"click",n[21])],V=!0)},p(Q,Z){Z[0]&2048&&(ee=Q[11],_=Ue(_,Z,ce,1,Q,ee,g,f,He,So,null,yo)),Z[0]&526336&&Re(f,Q[19]),Z[0]&128&&Y(k,Q[7]),Z[0]&256&&Je(q.value)!==Q[8]&&Y(q,Q[8]),Z[0]&1024&&Je(D.value)!==Q[10]&&Y(D,Q[10]),Z[0]&512&&Y(j,Q[9])},d(Q){Q&&M(t);for(let Z=0;Z<_.length;Z+=1)_[Z].d();V=!1,ue(J)}}}function So(n,t){let e,l=t[19].title+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[19].id,e.value=e.__value,this.first=e},m(i,s){E(i,e,s),c(e,o)},p(i,s){t=i,s[0]&2048&&l!==(l=t[19].title+"")&&oe(o,l),s[0]&2048&&r!==(r=t[19].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&M(e)}}}function Ao(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j=[],R=new Map,z,U,x,W,V,J,ee,ce,Q,Z,ie,ke=n[11];const we=G=>G[19].id;for(let G=0;G<ke.length;G+=1){let se=vo(n,ke,G),he=we(se);R.set(he,j[G]=To(he,se))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Edit Entry Details`),i=S(),s=p("form"),a=p("label"),d=F(`Date\r
            `),f=p("input"),h=S(),_=p("label"),g=F(`Pages Read\r
            `),m=p("input"),b=S(),y=p("label"),k=F(`Progress Value:\r
            `),v=p("input"),C=S(),L=p("label"),q=F(`Comment\r
            `),w=p("input"),A=S(),I=p("label"),I.textContent="Book",D=S(),P=p("select"),N=p("option"),O=F(n[2]);for(let G=0;G<j.length;G+=1)j[G].c();z=S(),U=p("footer"),x=p("div"),W=p("a"),W.textContent="Delete",V=S(),J=p("div"),ee=p("a"),ee.textContent="Cancel",ce=S(),Q=p("a"),Q.textContent="Save",u(o,"href","#close"),u(o,"class","close svelte-1lnkfej"),u(f,"id","date"),u(f,"name","date"),u(f,"type","date"),u(f,"placeholder",n[1]),u(a,"for","date"),u(m,"id","pages"),u(m,"name","pages"),u(m,"placeholder","Pages"),u(m,"type","number"),u(_,"for","pages"),u(v,"id","progressValue"),u(v,"name","progressValue"),u(v,"type","number"),v.required=!0,u(y,"for","progressValue"),u(w,"id","comment"),u(w,"name","comment"),u(w,"type","text"),u(L,"for","comment"),u(I,"for","book"),N.__value=n[2],N.value=N.__value,N.selected=!0,P.disabled=!0,u(P,"id","book"),n[2]===void 0&&Ne(()=>n[47].call(P)),u(W,"href","#delete"),u(W,"role","button"),u(W,"class","delete svelte-1lnkfej"),u(ee,"href","#cancel"),u(ee,"role","button"),u(ee,"class","secondary svelte-1lnkfej"),u(Q,"href","#confirm"),u(Q,"role","button"),u(Q,"class","svelte-1lnkfej"),u(U,"data-button","spaceBetween"),u(U,"class","svelte-1lnkfej"),t.open=!0},m(G,se){E(G,t,se),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[1]),c(s,h),c(s,_),c(_,g),c(_,m),Y(m,n[3]),c(s,b),c(s,y),c(y,k),c(y,v),Y(v,n[5]),c(s,C),c(s,L),c(L,q),c(L,w),Y(w,n[4]),c(s,A),c(s,I),c(s,D),c(s,P),c(P,N),c(N,O);for(let he=0;he<j.length;he+=1)j[he]&&j[he].m(P,null);Re(P,n[2],!0),c(e,z),c(e,U),c(U,x),c(x,W),c(U,V),c(U,J),c(J,ee),c(J,ce),c(J,Q),Z||(ie=[T(o,"click",n[22]),T(f,"input",n[43]),T(m,"input",n[44]),T(v,"input",n[45]),T(w,"input",n[46]),T(P,"change",n[47]),T(s,"submit",Ke(n[27])),T(W,"click",n[23]),T(ee,"click",n[22]),T(Q,"click",n[26]),T(Q,"click",n[22])],Z=!0)},p(G,se){se[0]&2&&u(f,"placeholder",G[1]),se[0]&2&&Y(f,G[1]),se[0]&8&&Je(m.value)!==G[3]&&Y(m,G[3]),se[0]&32&&Je(v.value)!==G[5]&&Y(v,G[5]),se[0]&16&&w.value!==G[4]&&Y(w,G[4]),se[0]&4&&oe(O,G[2]),se[0]&2052&&(N.__value=G[2],N.value=N.__value),se[0]&2048&&(ke=G[11],j=Ue(j,se,we,1,G,ke,R,P,He,To,null,vo)),se[0]&2052&&Re(P,G[2])},d(G){G&&M(t);for(let se=0;se<j.length;se+=1)j[se].d();Z=!1,ue(ie)}}}function To(n,t){let e,l=t[19].title+"",o,r;return{key:n,first:null,c(){e=p("option"),o=F(l),e.__value=r=t[19].id,e.value=e.__value,this.first=e},m(i,s){E(i,e,s),c(e,o)},p(i,s){t=i,s[0]&2048&&l!==(l=t[19].title+"")&&oe(o,l),s[0]&2048&&r!==(r=t[19].id)&&(e.__value=r,e.value=e.__value)},d(i){i&&M(e)}}}function Io(n){let t,e,l,o,r,i,s,a,d,f,h,_,g;return{c(){t=p("dialog"),e=p("article"),l=p("h3"),l.textContent="Confirm Delete",o=S(),r=p("p"),r.textContent="Are you sure you want to delete this entry?",i=S(),s=p("footer"),a=p("div"),d=p("a"),d.textContent="Cancel",f=S(),h=p("a"),h.textContent="Delete",u(l,"class","svelte-1lnkfej"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1lnkfej"),u(h,"href","#confirm"),u(h,"role","button"),u(h,"class","delete-button svelte-1lnkfej"),u(s,"class","svelte-1lnkfej"),t.open=!0},m(m,b){E(m,t,b),c(t,e),c(e,l),c(e,o),c(e,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),c(a,h),_||(g=[T(d,"click",n[23]),T(h,"click",n[24]),T(h,"click",n[23])],_=!0)},p:ne,d(m){m&&M(t),_=!1,ue(g)}}}function sf(n){let t,e=Ze&&rf(n);return{c(){e&&e.c(),t=Te()},m(l,o){e&&e.m(l,o),E(l,t,o)},p(l,o){Ze&&e.p(l,o)},i:ne,o:ne,d(l){e&&e.d(l),l&&M(t)}}}function Po(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function af(n,t,e){let l;Fe(n,Ze,re=>e(50,l=re));let o=[],r,i,s,a,d,f,h;const _=["January","February","March","April","May","June","July","August","September","October","November","December"],g=new Date;let m=_[g.getMonth()],b=g.getMonth()+1,y=g.getFullYear(),k="";b<10?b===9?k=`date >= '${y}-0${b}-01' && date < '${y}-${b+1}-01'`:k=`date >= '${y}-0${b}-01' && date < '${y}-0${b+1}-01'`:b===12?k=`date >= '${y}-${b}-01' && date < '${y+1}-01-01'`:k=`date >= '${y}-${b}-01' && date < '${y}-${b+1}-01'`;let v=m,C,L,q,w,A=[],I,D,P;async function N(){try{o=await pe.collection("view_readingLog").getFullList({filter:k,sort:"-date"})}catch(re){alert(re)}try{const re=await pe.collection("books").getFullList({sort:"-created"});e(11,A=re),Q()}catch(re){alert(re)}}ft(async()=>{N()});function O(){if(v&&g.getMonth()>4)switch(v){case"All":k="";break;case"January":k="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":k="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":k="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":k="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":k="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":k="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":k="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":k="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":k="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":k="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":k="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":k="date >= '2023-12-01' && date <= '2023-12-31'";break}o=[],N()}let j=!1;function R(){e(14,j=!j)}let z=!1;function U(){e(15,z=!z)}let x=!1;function W(){e(16,x=!x)}async function V(){try{console.log(r),await pe.collection("reading").delete(r),Ae.success("Entry deleted!",{position:Le}),N()}catch(re){alert(re)}}async function J(){if(C&&L){try{const re={reader:l.id,book:I,date:C,pages_read:+L,progressValue:w,comment:q},nt=await pe.collection("reading").create(re);Ae.success("Log saved!",{position:Le})}catch(re){alert(re)}e(7,C=null),e(8,L=""),e(19,I="")}N()}async function ee(){if(+d<+P)try{const re=new FormData;re.append("pages_read",d),re.append("comment",f),re.append("progressValue",h),s&&re.append("date",s);const nt=await pe.collection("reading").update(i,re);Ae.success("Log entry updated!",{position:Le}),e(2,a=""),e(3,d=""),e(1,s=null),N()}catch(re){alert(re)}else if(+d>+P)if(+d+ +P<=+D)try{const re=new FormData;re.append("pages_read",d),re.append("comment",f),s&&re.append("date",s);const nt=await pe.collection("reading").update(i,re);Ae.success("Log entry updated!",{position:Le}),e(2,a=""),e(3,d=""),e(1,s=null),N()}catch(re){alert(re)}else Ae.error("Pages exceeded",{position:Le});else try{const re=new FormData;re.append("comment",f),s&&re.append("date",s);const nt=await pe.collection("reading").update(i,re);Ae.success("Log entry updated!",{position:Le}),e(2,a=""),e(3,d=""),e(1,s=null),N()}catch(re){alert(re)}}let ce="";function Q(){const re=ce.toLowerCase();e(18,Z=o.filter(nt=>nt.title.toLowerCase().includes(re)||nt.reader_name.toLowerCase().includes(re)||nt.date.toLowerCase().includes(re)))}let Z=o;zn(()=>{Q()});function ie(re){Qe.call(this,n,re)}function ke(re){Qe.call(this,n,re)}function we(){v=xe(this),e(6,v)}function G(){ce=this.value,e(17,ce)}const se=re=>{e(0,i=re.currentTarget.getAttribute("data-id"))},he=re=>{e(1,s=re.currentTarget.getAttribute("data-date"))},Ce=re=>{e(2,a=re.currentTarget.getAttribute("data-title"))},Ie=re=>{e(13,P=re.currentTarget.getAttribute("data-pagesread"))},je=re=>{e(3,d=re.currentTarget.getAttribute("data-pagesread"))},_e=re=>{e(12,D=re.currentTarget.getAttribute("data-pages"))},fe=re=>{e(4,f=re.currentTarget.getAttribute("data-comment"))};function de(){I=xe(this),e(19,I),e(11,A)}function ve(){C=this.value,e(7,C)}function Se(){L=Je(this.value),e(8,L)}function te(){w=Je(this.value),e(10,w)}function le(){q=this.value,e(9,q)}function B(){s=this.value,e(1,s)}function X(){d=Je(this.value),e(3,d)}function ye(){h=Je(this.value),e(5,h)}function ae(){f=this.value,e(4,f)}function Ye(){a=xe(this),e(2,a),e(11,A)}return[i,s,a,d,f,h,v,C,L,q,w,A,D,P,j,z,x,ce,Z,I,O,R,U,W,V,J,ee,ie,ke,we,G,se,he,Ce,Ie,je,_e,fe,de,ve,Se,te,le,B,X,ye,ae,Ye]}class cf extends Ee{constructor(t){super(),Me(this,t,af,sf,Oe,{},null,[-1,-1,-1])}}function qo(n,t,e){const l=n.slice();return l[43]=t[e],l}function uf(n){let t;function e(r,i){return r[13]?df:pf}let l=e(n),o=l(n);return{c(){o.c(),t=Te()},m(r,i){o.m(r,i),E(r,t,i)},p(r,i){l===(l=e(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(t.parentNode,t)))},d(r){o.d(r),r&&M(t)}}}function ff(n){let t,e,l,o,r=[],i=new Map,s,a,d,f=n[0];const h=g=>g[43].id;for(let g=0;g<f.length;g+=1){let m=qo(n,f,g),b=h(m);i.set(b,r[g]=Oo(b,m))}let _=n[14]&&Mo(n);return{c(){t=p("div"),e=p("h1"),e.textContent="Discover what your classmates are reading!",l=S(),o=p("div");for(let g=0;g<r.length;g+=1)r[g].c();s=S(),a=S(),_&&_.c(),d=Te(),Pe(e,"text-align","center"),u(o,"class","grid svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(g,m){E(g,t,m),c(t,e),c(t,l),c(t,o);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(o,null);E(g,s,m),E(g,a,m),_&&_.m(g,m),E(g,d,m)},p(g,m){m[0]&335871&&(f=g[0],r=Ue(r,m,h,1,g,f,i,o,He,Oo,null,qo)),g[14]?_?_.p(g,m):(_=Mo(g),_.c(),_.m(d.parentNode,d)):_&&(_.d(1),_=null)},d(g){g&&M(t);for(let m=0;m<r.length;m+=1)r[m].d();g&&M(s),g&&M(a),_&&_.d(g),g&&M(d)}}}function df(n){let t,e,l,o=n[15].email+"",r,i;return{c(){t=p("div"),e=p("p"),l=F("A verification email has been sent to "),r=F(o),i=F("."),u(t,"class","container")},m(s,a){E(s,t,a),c(t,e),c(e,l),c(e,r),c(e,i)},p(s,a){a[0]&32768&&o!==(o=s[15].email+"")&&oe(r,o)},d(s){s&&M(t)}}}function pf(n){let t,e,l,o,r,i;return{c(){t=p("div"),e=p("p"),e.textContent="Please, verify you account to see this content.",l=S(),o=p("a"),o.textContent="Verify Account",u(o,"href","#verify"),u(o,"role","button"),u(o,"class","svelte-1vqx4aq"),u(t,"class","container svelte-1vqx4aq")},m(s,a){E(s,t,a),c(t,e),c(t,l),c(t,o),r||(i=T(o,"click",n[17]),r=!0)},p:ne,d(s){s&&M(t),r=!1,i()}}}function Lo(n){let t,e,l,o,r,i,s=n[43].title+"",a,d,f,h,_=n[43].author+"",g,m,b,y,k,v,C,L,q,w,A,I,D=n[43].reader_name+"",P,N,O,j,R,z,U,x;function W(Z,ie){return Z[43].cover?_f:hf}let V=W(n),J=V(n);function ee(Z,ie){return Z[43].pages_read?gf:mf}let ce=ee(n),Q=ce(n);return{c(){t=p("article"),e=p("div"),l=p("div"),J.c(),o=S(),r=p("hgroup"),i=p("h4"),a=F(s),d=S(),f=p("p"),h=F("By: "),g=F(_),m=S(),b=p("br"),y=S(),k=p("figure"),v=p("a"),C=p("img"),I=S(),P=F(D),N=S(),O=p("div"),j=S(),R=p("footer"),Q.c(),z=S(),u(l,"class","image-wrapper"),qe(C.src,L=n[43].avatar_from_url)||u(C,"src",L),u(C,"alt","avatar"),u(C,"class","svelte-1vqx4aq"),u(v,"href","#profile"),u(v,"data-readerid",q=n[43].reader),u(v,"data-reader",w=n[43].reader_name),u(v,"data-avatar",A=n[43].avatar_from_url),u(v,"class","svelte-1vqx4aq"),u(k,"class","avatar avatar-sm svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(e,"class","content-wrapper svelte-1vqx4aq"),u(R,"class","svelte-1vqx4aq"),u(t,"data-hover","article"),u(t,"class","svelte-1vqx4aq")},m(Z,ie){E(Z,t,ie),c(t,e),c(e,l),J.m(l,null),c(e,o),c(e,r),c(r,i),c(i,a),c(r,d),c(r,f),c(f,h),c(f,g),c(f,m),c(f,b),c(f,y),c(f,k),c(k,v),c(v,C),c(f,I),c(f,P),c(t,N),c(t,O),c(t,j),c(t,R),Q.m(R,null),c(t,z),U||(x=[T(v,"click",n[37]),T(v,"click",n[38]),T(v,"click",n[39]),T(v,"click",Tf)],U=!0)},p(Z,ie){V===(V=W(Z))&&J?J.p(Z,ie):(J.d(1),J=V(Z),J&&(J.c(),J.m(l,null))),ie[0]&1&&s!==(s=Z[43].title+"")&&oe(a,s),ie[0]&1&&_!==(_=Z[43].author+"")&&oe(g,_),ie[0]&1&&!qe(C.src,L=Z[43].avatar_from_url)&&u(C,"src",L),ie[0]&1&&q!==(q=Z[43].reader)&&u(v,"data-readerid",q),ie[0]&1&&w!==(w=Z[43].reader_name)&&u(v,"data-reader",w),ie[0]&1&&A!==(A=Z[43].avatar_from_url)&&u(v,"data-avatar",A),ie[0]&1&&D!==(D=Z[43].reader_name+"")&&oe(P,D),ce===(ce=ee(Z))&&Q?Q.p(Z,ie):(Q.d(1),Q=ce(Z),Q&&(Q.c(),Q.m(R,null)))},d(Z){Z&&M(t),J.d(),Q.d(),U=!1,ue(x)}}}function hf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),qe(e.src,l=n[43].googleCover)||u(e,"src",l),u(e,"alt",o=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#update"),u(t,"data-id",r=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[43].googleCover),u(t,"class","svelte-1vqx4aq")},m(y,k){E(y,t,k),c(t,e),m||(b=[T(t,"click",n[28]),T(t,"click",n[29]),T(t,"click",n[30]),T(t,"click",n[31]),T(t,"click",n[32]),T(t,"click",n[33]),T(t,"click",n[34]),T(t,"click",n[35]),T(t,"click",n[36]),T(t,"click",n[18])],m=!0)},p(y,k){k[0]&1&&!qe(e.src,l=y[43].googleCover)&&u(e,"src",l),k[0]&1&&o!==(o=y[43].title)&&u(e,"alt",o),k[0]&1&&r!==(r=y[43].bookId)&&u(t,"data-id",r),k[0]&1&&i!==(i=y[43].reader_name)&&u(t,"data-reader",i),k[0]&1&&s!==(s=y[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=y[43].author)&&u(t,"data-author",a),k[0]&1&&d!==(d=y[43].pages)&&u(t,"data-pages",d),k[0]&1&&f!==(f=y[43].pages_read)&&u(t,"data-pagesread",f),k[0]&1&&h!==(h=y[43].review)&&u(t,"data-review",h),k[0]&1&&_!==(_=y[43].avatar_from_url)&&u(t,"data-avatar",_),k[0]&1&&g!==(g=y[43].googleCover)&&u(t,"data-cover",g)},d(y){y&&M(t),m=!1,ue(b)}}}function _f(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b;return{c(){t=p("a"),e=p("img"),qe(e.src,l=n[16]+n[43].bookId+"/"+n[43].cover)||u(e,"src",l),u(e,"alt",o=n[43].title),u(e,"class","svelte-1vqx4aq"),u(t,"href","#review"),u(t,"data-id",r=n[43].bookId),u(t,"data-reader",i=n[43].reader_name),u(t,"data-title",s=n[43].title),u(t,"data-author",a=n[43].author),u(t,"data-pages",d=n[43].pages),u(t,"data-pagesread",f=n[43].pages_read),u(t,"data-review",h=n[43].review),u(t,"data-avatar",_=n[43].avatar_from_url),u(t,"data-cover",g=n[16]+n[43].bookId+"/"+n[43].cover),u(t,"class","svelte-1vqx4aq")},m(y,k){E(y,t,k),c(t,e),m||(b=[T(t,"click",n[19]),T(t,"click",n[20]),T(t,"click",n[21]),T(t,"click",n[22]),T(t,"click",n[23]),T(t,"click",n[24]),T(t,"click",n[25]),T(t,"click",n[26]),T(t,"click",n[27]),T(t,"click",n[18])],m=!0)},p(y,k){k[0]&1&&!qe(e.src,l=y[16]+y[43].bookId+"/"+y[43].cover)&&u(e,"src",l),k[0]&1&&o!==(o=y[43].title)&&u(e,"alt",o),k[0]&1&&r!==(r=y[43].bookId)&&u(t,"data-id",r),k[0]&1&&i!==(i=y[43].reader_name)&&u(t,"data-reader",i),k[0]&1&&s!==(s=y[43].title)&&u(t,"data-title",s),k[0]&1&&a!==(a=y[43].author)&&u(t,"data-author",a),k[0]&1&&d!==(d=y[43].pages)&&u(t,"data-pages",d),k[0]&1&&f!==(f=y[43].pages_read)&&u(t,"data-pagesread",f),k[0]&1&&h!==(h=y[43].review)&&u(t,"data-review",h),k[0]&1&&_!==(_=y[43].avatar_from_url)&&u(t,"data-avatar",_),k[0]&1&&g!==(g=y[16]+y[43].bookId+"/"+y[43].cover)&&u(t,"data-cover",g)},d(y){y&&M(t),m=!1,ue(b)}}}function mf(n){let t;return{c(){t=p("progress"),t.value="0",u(t,"max","100")},m(e,l){E(e,t,l)},p:ne,d(e){e&&M(t)}}}function gf(n){let t,e;return{c(){t=p("progress"),t.value=e=Eo(n[43].pages_read,n[43].pages),u(t,"max","100")},m(l,o){E(l,t,o)},p(l,o){o[0]&1&&e!==(e=Eo(l[43].pages_read,l[43].pages))&&(t.value=e)},d(l){l&&M(t)}}}function Oo(n,t){let e,l,o=t[43].pages_read&&Lo(t);return{key:n,first:null,c(){e=Te(),o&&o.c(),l=Te(),this.first=e},m(r,i){E(r,e,i),o&&o.m(r,i),E(r,l,i)},p(r,i){t=r,t[43].pages_read?o?o.p(t,i):(o=Lo(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&M(e),o&&o.d(r),r&&M(l)}}}function Mo(n){let t,e,l,o,r,i,s,a,d,f,h;function _(b,y){if(b[11])return vf;if(b[12])return bf}let g=_(n),m=g&&g(n);return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
          Book Review`),i=S(),m&&m.c(),s=S(),a=p("footer"),d=p("a"),d.textContent="Close",u(o,"href","#close"),u(o,"class","close svelte-1vqx4aq"),u(d,"href","#cancel"),u(d,"role","button"),u(d,"class","secondary svelte-1vqx4aq"),u(a,"class","svelte-1vqx4aq"),u(e,"class","svelte-1vqx4aq"),t.open=!0},m(b,y){E(b,t,y),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),m&&m.m(e,null),c(e,s),c(e,a),c(a,d),f||(h=[T(o,"click",n[18]),T(d,"click",n[18])],f=!0)},p(b,y){g===(g=_(b))&&m?m.p(b,y):(m&&m.d(1),m=g&&g(b),m&&(m.c(),m.m(e,s)))},d(b){b&&M(t),m&&m.d(),f=!1,ue(h)}}}function bf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m;function b(v,C){return v[10]?kf:yf}let y=b(n),k=y(n);return{c(){t=p("figure"),e=p("img"),o=S(),r=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),d=S(),f=p("p"),h=F("By: "),_=F(n[7]),g=S(),k.c(),m=Te(),qe(e.src,l=n[12])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(v,C){E(v,t,C),c(t,e),c(t,o),c(t,r),c(r,i),c(i,s),c(s,a),c(i,d),c(i,f),c(f,h),c(f,_),E(v,g,C),k.m(v,C),E(v,m,C)},p(v,C){C[0]&4096&&!qe(e.src,l=v[12])&&u(e,"src",l),C[0]&64&&oe(a,v[6]),C[0]&128&&oe(_,v[7]),y===(y=b(v))&&k?k.p(v,C):(k.d(1),k=y(v),k&&(k.c(),k.m(m.parentNode,m)))},d(v){v&&M(t),v&&M(g),k.d(v),v&&M(m)}}}function vf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m;function b(v,C){return v[10]?Cf:wf}let y=b(n),k=y(n);return{c(){t=p("figure"),e=p("img"),o=S(),r=p("figcaption"),i=p("hgroup"),s=p("h4"),a=F(n[6]),d=S(),f=p("p"),h=F("By: "),_=F(n[7]),g=S(),k.c(),m=Te(),qe(e.src,l=n[11])||u(e,"src",l),u(e,"alt","book"),u(e,"class","svelte-1vqx4aq"),u(i,"class","svelte-1vqx4aq"),u(r,"class","svelte-1vqx4aq"),u(t,"class","svelte-1vqx4aq")},m(v,C){E(v,t,C),c(t,e),c(t,o),c(t,r),c(r,i),c(i,s),c(s,a),c(i,d),c(i,f),c(f,h),c(f,_),E(v,g,C),k.m(v,C),E(v,m,C)},p(v,C){C[0]&2048&&!qe(e.src,l=v[11])&&u(e,"src",l),C[0]&64&&oe(a,v[6]),C[0]&128&&oe(_,v[7]),y===(y=b(v))&&k?k.p(v,C):(k.d(1),k=y(v),k&&(k.c(),k.m(m.parentNode,m)))},d(v){v&&M(t),v&&M(g),k.d(v),v&&M(m)}}}function yf(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,l){E(e,t,l)},p:ne,d(e){e&&M(t)}}}function kf(n){let t,e,l,o,r,i,s;return{c(){t=p("blockquote"),e=F(n[10]),l=S(),o=p("footer"),r=p("cite"),i=F("- "),s=F(n[5]),u(o,"class","svelte-1vqx4aq")},m(a,d){E(a,t,d),c(t,e),c(t,l),c(t,o),c(o,r),c(r,i),c(r,s)},p(a,d){d[0]&1024&&oe(e,a[10]),d[0]&32&&oe(s,a[5])},d(a){a&&M(t)}}}function wf(n){let t;return{c(){t=p("blockquote"),t.textContent="Not yet reviewed..."},m(e,l){E(e,t,l)},p:ne,d(e){e&&M(t)}}}function Cf(n){let t,e,l,o,r,i,s;return{c(){t=p("blockquote"),e=F(n[10]),l=S(),o=p("footer"),r=p("cite"),i=F("- "),s=F(n[5]),u(o,"class","svelte-1vqx4aq")},m(a,d){E(a,t,d),c(t,e),c(t,l),c(t,o),c(o,r),c(r,i),c(r,s)},p(a,d){d[0]&1024&&oe(e,a[10]),d[0]&32&&oe(s,a[5])},d(a){a&&M(t)}}}function Sf(n){let t;function e(r,i){if(r[15]&&r[15].verified===!0)return ff;if(r[15]&&r[15].verified===!1)return uf}let l=e(n),o=l&&l(n);return{c(){o&&o.c(),t=Te()},m(r,i){o&&o.m(r,i),E(r,t,i)},p(r,i){l===(l=e(r))&&o?o.p(r,i):(o&&o.d(1),o=l&&l(r),o&&(o.c(),o.m(t.parentNode,t)))},i:ne,o:ne,d(r){o&&o.d(r),r&&M(t)}}}let Af="/api/files/9hhair4kd0xa314/";function Eo(n,t){return console.log(Math.floor(n/t*100)),Math.floor(n/t*100)}function Tf(){}function If(n,t,e){let l;Fe(n,Ze,G=>e(15,l=G));let o=[],r,i,s,a,d,f,h,_,g,m,b,y,k=!1,v=on+Af;async function C(){try{const G=await pe.collection("view_classroom").getFullList({sort:"-id"});e(0,o=G);for(let se=0;se<o.length;se++)console.log(o[se].reader_name)}catch(G){alert(G)}}ft(async()=>{C()});async function L(){e(13,k=!0),await pe.collection("users").requestVerification(l.email),await new Promise(G=>setTimeout(G,5e3)),pe.authStore.clear(),Qn("/")}let q=!1;function w(){e(14,q=!q)}return[o,r,i,s,a,d,f,h,_,g,m,b,y,k,q,l,v,L,w,G=>{e(4,a=G.currentTarget.getAttribute("data-id"))},G=>{e(5,d=G.currentTarget.getAttribute("data-reader"))},G=>{e(6,f=G.currentTarget.getAttribute("data-title"))},G=>{e(7,h=G.currentTarget.getAttribute("data-author"))},G=>{e(8,_=G.currentTarget.getAttribute("data-pages"))},G=>{e(9,g=G.currentTarget.getAttribute("data-pagesread"))},G=>{e(10,m=G.currentTarget.getAttribute("data-review"))},G=>{e(11,b=G.currentTarget.getAttribute("data-cover"))},G=>{e(3,s=G.currentTarget.getAttribute("data-avatar"))},G=>{e(4,a=G.currentTarget.getAttribute("data-id"))},G=>{e(5,d=G.currentTarget.getAttribute("data-reader"))},G=>{e(6,f=G.currentTarget.getAttribute("data-title"))},G=>{e(7,h=G.currentTarget.getAttribute("data-author"))},G=>{e(8,_=G.currentTarget.getAttribute("data-pages"))},G=>{e(9,g=G.currentTarget.getAttribute("data-pagesread"))},G=>{e(10,m=G.currentTarget.getAttribute("data-review"))},G=>{e(12,y=G.currentTarget.getAttribute("data-cover"))},G=>{e(3,s=G.currentTarget.getAttribute("data-avatar"))},G=>{e(1,r=G.currentTarget.getAttribute("data-readerId"))},G=>{e(2,i=G.currentTarget.getAttribute("data-reader"))},G=>{e(3,s=G.currentTarget.getAttribute("data-avatar"))}]}class Pf extends Ee{constructor(t){super(),Me(this,t,If,Sf,Oe,{},null,[-1,-1])}}function jo(n,t,e){const l=n.slice();return l[19]=t[e],l}function Ro(n,t,e){const l=n.slice();return l[22]=t[e],l}function No(n,t,e){const l=n.slice();return l[25]=t[e],l}function qf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L=[],q=new Map,w,A,I=n[0];const D=P=>P[19].id;for(let P=0;P<I.length;P+=1){let N=jo(n,I,P),O=D(N);q.set(O,L[P]=Ho(O,N))}return{c(){t=p("div"),e=p("div"),l=p("select"),o=p("option"),o.textContent="All",r=p("option"),r.textContent="January",i=p("option"),i.textContent="February",s=p("option"),s.textContent="March",a=p("option"),a.textContent="April",d=p("option"),d.textContent="May",f=p("option"),f.textContent="June",h=p("option"),h.textContent="July",_=p("option"),_.textContent="August",g=p("option"),g.textContent="September",m=p("option"),m.textContent="October",b=p("option"),b.textContent="November",y=p("option"),y.textContent="December",k=S(),v=p("input"),C=S();for(let P=0;P<L.length;P+=1)L[P].c();o.__value="All",o.value=o.__value,r.__value="January",r.value=r.__value,i.__value="February",i.value=i.__value,s.__value="March",s.value=s.__value,a.__value="April",a.value=a.__value,d.__value="May",d.value=d.__value,f.__value="June",f.value=f.__value,h.__value="July",h.value=h.__value,_.__value="August",_.value=_.__value,g.__value="September",g.value=g.__value,m.__value="October",m.value=m.__value,b.__value="November",b.value=b.__value,y.__value="December",y.value=y.__value,u(l,"class","svelte-1mnjxzx"),n[2]===void 0&&Ne(()=>n[7].call(l)),u(v,"type","search"),u(v,"placeholder","Filter logs..."),u(v,"class","svelte-1mnjxzx"),u(e,"class","flex svelte-1mnjxzx"),u(t,"class","container svelte-1mnjxzx")},m(P,N){E(P,t,N),c(t,e),c(e,l),c(l,o),c(l,r),c(l,i),c(l,s),c(l,a),c(l,d),c(l,f),c(l,h),c(l,_),c(l,g),c(l,m),c(l,b),c(l,y),Re(l,n[2],!0),c(e,k),c(e,v),Y(v,n[3]),c(t,C);for(let O=0;O<L.length;O+=1)L[O]&&L[O].m(t,null);w||(A=[T(l,"change",n[7]),T(l,"change",n[6]),T(v,"input",n[8])],w=!0)},p(P,N){N&4&&Re(l,P[2]),N&8&&v.value!==P[3]&&Y(v,P[3]),N&51&&(I=P[0],L=Ue(L,N,D,1,P,I,q,t,He,Ho,null,jo))},d(P){P&&M(t);for(let N=0;N<L.length;N+=1)L[N].d();w=!1,ue(A)}}}function Do(n){let t,e,l=Vo(n[25].pagesRead,n[5])+"",o,r,i,s,a,d,f,h;return{c(){t=p("br"),e=F(`\r
                Monthly Goal: `),o=F(l),r=F(`%\r
                `),i=p("br"),s=S(),a=p("br"),d=S(),f=p("progress"),f.value=h=n[25].pagesRead,u(f,"max",n[5])},m(_,g){E(_,t,g),E(_,e,g),E(_,o,g),E(_,r,g),E(_,i,g),E(_,s,g),E(_,a,g),E(_,d,g),E(_,f,g)},p(_,g){g&34&&l!==(l=Vo(_[25].pagesRead,_[5])+"")&&oe(o,l),g&2&&h!==(h=_[25].pagesRead)&&(f.value=h),g&32&&u(f,"max",_[5])},d(_){_&&M(t),_&&M(e),_&&M(o),_&&M(r),_&&M(i),_&&M(s),_&&M(a),_&&M(d),_&&M(f)}}}function Bo(n,t){let e,l,o=t[25].reader===t[19].id&&Do(t);return{key:n,first:null,c(){e=Te(),o&&o.c(),l=Te(),this.first=e},m(r,i){E(r,e,i),o&&o.m(r,i),E(r,l,i)},p(r,i){t=r,t[25].reader===t[19].id?o?o.p(t,i):(o=Do(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&M(e),o&&o.d(r),r&&M(l)}}}function Fo(n){let t,e,l,o=zo(n[22].date)+"",r,i,s,a,d,f,h,_=n[22].title+"",g,m,b,y=n[22].pages_read+"",k,v,C,L=n[22].comment+"",q,w;return{c(){t=p("tbody"),e=p("tr"),l=p("td"),r=F(o),i=S(),s=p("td"),a=p("img"),f=S(),h=p("td"),g=F(_),m=S(),b=p("td"),k=F(y),v=S(),C=p("td"),q=F(L),w=S(),u(l,"class","svelte-1mnjxzx"),qe(a.src,d=Jo(n[22].googleCover))||u(a,"src",d),u(a,"alt","cover"),u(s,"class","svelte-1mnjxzx"),u(h,"class","svelte-1mnjxzx"),u(b,"class","svelte-1mnjxzx"),u(C,"class","svelte-1mnjxzx")},m(A,I){E(A,t,I),c(t,e),c(e,l),c(l,r),c(e,i),c(e,s),c(s,a),c(e,f),c(e,h),c(h,g),c(e,m),c(e,b),c(b,k),c(e,v),c(e,C),c(C,q),c(t,w)},p(A,I){I&16&&o!==(o=zo(A[22].date)+"")&&oe(r,o),I&16&&!qe(a.src,d=Jo(A[22].googleCover))&&u(a,"src",d),I&16&&_!==(_=A[22].title+"")&&oe(g,_),I&16&&y!==(y=A[22].pages_read+"")&&oe(k,y),I&16&&L!==(L=A[22].comment+"")&&oe(q,L)},d(A){A&&M(t)}}}function Uo(n,t){let e,l,o=t[22].reader===t[19].id&&Fo(t);return{key:n,first:null,c(){e=Te(),o&&o.c(),l=Te(),this.first=e},m(r,i){E(r,e,i),o&&o.m(r,i),E(r,l,i)},p(r,i){t=r,t[22].reader===t[19].id?o?o.p(t,i):(o=Fo(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&M(e),o&&o.d(r),r&&M(l)}}}function Ho(n,t){let e,l,o,r,i,s,a,d,f=t[19].name+"",h,_,g=[],m=new Map,b,y,k,v,C=[],L=new Map,q,w=t[1];const A=P=>P[25].reader;for(let P=0;P<w.length;P+=1){let N=No(t,w,P),O=A(N);m.set(O,g[P]=Bo(O,N))}let I=t[4];const D=P=>P[22].id;for(let P=0;P<I.length;P+=1){let N=Ro(t,I,P),O=D(N);L.set(O,C[P]=Uo(O,N))}return{key:n,first:null,c(){e=p("details"),l=p("summary"),o=p("figure"),r=p("a"),i=p("img"),a=S(),d=p("strong"),h=F(f),_=S();for(let P=0;P<g.length;P+=1)g[P].c();b=S(),y=p("table"),k=p("thead"),k.innerHTML=`<tr><th scope="col" class="svelte-1mnjxzx">Date</th> 
                <th scope="col" class="svelte-1mnjxzx">Book</th> 
                <th scope="col" class="svelte-1mnjxzx">Title</th> 
                <th scope="col" class="svelte-1mnjxzx">Read</th> 
                <th scope="col" class="svelte-1mnjxzx">Comment</th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th> 
                <th class="align-center svelte-1mnjxzx" scope="col"></th></tr>`,v=S();for(let P=0;P<C.length;P+=1)C[P].c();q=S(),qe(i.src,s=t[19].avatar_from_url)||u(i,"src",s),u(i,"alt","avatar"),u(r,"href","#profile"),u(o,"class","avatar avatar-lg"),u(y,"class","table-container svelte-1mnjxzx"),u(y,"role","grid"),this.first=e},m(P,N){E(P,e,N),c(e,l),c(l,o),c(o,r),c(r,i),c(l,a),c(l,d),c(d,h),c(l,_);for(let O=0;O<g.length;O+=1)g[O]&&g[O].m(l,null);c(e,b),c(e,y),c(y,k),c(y,v);for(let O=0;O<C.length;O+=1)C[O]&&C[O].m(y,null);c(e,q)},p(P,N){t=P,N&1&&!qe(i.src,s=t[19].avatar_from_url)&&u(i,"src",s),N&1&&f!==(f=t[19].name+"")&&oe(h,f),N&35&&(w=t[1],g=Ue(g,N,A,1,t,w,m,l,He,Bo,null,No)),N&17&&(I=t[4],C=Ue(C,N,D,1,t,I,L,y,He,Uo,null,Ro))},d(P){P&&M(e);for(let N=0;N<g.length;N+=1)g[N].d();for(let N=0;N<C.length;N+=1)C[N].d()}}}function Lf(n){let t,e=Ze&&qf(n);return{c(){e&&e.c(),t=Te()},m(l,o){e&&e.m(l,o),E(l,t,o)},p(l,[o]){Ze&&e.p(l,o)},i:ne,o:ne,d(l){e&&e.d(l),l&&M(t)}}}function zo(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Vo(n,t){return Math.floor(n/t*100)}function Jo(n){return n.replace("zoom=1","zoom=5")}function Of(n,t,e){let l;Fe(n,Bc,w=>e(5,l=w));let o=[],r=[],i=[],s=[];const a=["January","February","March","April","May","June","July","August","September","October","November","December"],d=new Date;let f=a[d.getMonth()],h=d.getMonth()+1,_=d.getFullYear(),g="";h<10?h===9?g=`date >= '${_}-0${h}-01' && date < '${_}-${h+1}-01'`:g=`date >= '${_}-0${h}-01' && date < '${_}-0${h+1}-01'`:h===12?g=`date >= '${_}-${h}-01' && date < '${_+1}-01-01'`:g=`date >= '${_}-${h}-01' && date < '${_}-${h+1}-01'`;let m=f;async function b(){try{const A=await pe.collection("view_readingLog").getFullList({filter:g,sort:"-date"});o=A;const I=await pe.collection("view_classroom").getFullList({sort:"-reader_name"});r=A,console.log(r);for(let P=0;P<r.length;P++){let N=r[P],O=N.reader,j=N.pages_read;var w=s.findIndex(R=>R.reader===O);w!==-1?e(1,s[w].pagesRead+=j,s):s.push({reader:O,pagesRead:j})}const D=await pe.collection("users").getFullList({filter:'role = "student"'});e(0,i=D),v()}catch(A){alert(A)}}ft(async()=>{b()});function y(){if(m&&d.getMonth()>4)switch(m){case"All":g="";break;case"January":g="date >= '2023-01-01' && date <= '2023-01-31'";break;case"February":g="date >= '2023-02-01' && date <= '2023-02-28'";break;case"March":g="date >= '2023-03-01' && date <= '2023-03-31'";break;case"April":g="date >= '2023-04-01' && date <= '2023-04-30'";break;case"May":g="date >= '2023-05-01' && date <= '2023-05-31'";break;case"June":g="date >= '2023-06-01' && date <= '2023-06-30'";break;case"July":g="date >= '2023-07-01' && date <= '2023-07-31'";break;case"August":g="date >= '2023-08-01' && date <= '2023-08-31'";break;case"September":g="date >= '2023-09-01' && date <= '2023-09-30'";break;case"October":g="date >= '2023-10-01' && date <= '2023-10-31'";break;case"November":g="date >= '2023-11-01' && date <= '2023-11-30'";break;case"December":g="date >= '2023-12-01' && date <= '2023-12-31'";break}o=[],r=[],e(0,i=[]),e(1,s=[]),b()}let k="";function v(){const w=k.toLowerCase();e(4,C=o.filter(A=>A.title.toLowerCase().includes(w)||A.reader_name.toLowerCase().includes(w)||A.date.toLowerCase().includes(w)))}let C=o;zn(()=>{v()});function L(){m=xe(this),e(2,m)}function q(){k=this.value,e(3,k)}return[i,s,m,k,C,l,y,L,q]}class Mf extends Ee{constructor(t){super(),Me(this,t,Of,Lf,Oe,{})}}function Go(n,t,e){const l=n.slice();return l[29]=t[e],l}function Wo(n,t,e){const l=n.slice();return l[32]=t[e],l}function Qo(n,t,e){const l=n.slice();return l[37]=t[e],l}function Ko(n,t,e){const l=n.slice();return l[29]=t[e],l}function Yo(n){let t,e,l,o,r,i,s,a;function d(y,k){return y[1].length===0?jf:Ef}let f=d(n),h=f(n),_=n[2].length>0&&xo(n),g=n[9]&&tr(n),m=n[10]&&nr(n),b=n[11]&&lr(n);return s=new sn({}),{c(){t=p("div"),h.c(),e=S(),_&&_.c(),l=S(),g&&g.c(),o=S(),m&&m.c(),r=S(),b&&b.c(),i=S(),be(s.$$.fragment),u(t,"class","container")},m(y,k){E(y,t,k),h.m(t,null),c(t,e),_&&_.m(t,null),c(t,l),g&&g.m(t,null),c(t,o),m&&m.m(t,null),c(t,r),b&&b.m(t,null),c(t,i),me(s,t,null),a=!0},p(y,k){f===(f=d(y))&&h?h.p(y,k):(h.d(1),h=f(y),h&&(h.c(),h.m(t,e))),y[2].length>0?_?_.p(y,k):(_=xo(y),_.c(),_.m(t,l)):_&&(_.d(1),_=null),y[9]?g?g.p(y,k):(g=tr(y),g.c(),g.m(t,o)):g&&(g.d(1),g=null),y[10]?m?m.p(y,k):(m=nr(y),m.c(),m.m(t,r)):m&&(m.d(1),m=null),y[11]?b?b.p(y,k):(b=lr(y),b.c(),b.m(t,i)):b&&(b.d(1),b=null)},i(y){a||(K(s.$$.fragment,y),a=!0)},o(y){$(s.$$.fragment,y),a=!1},d(y){y&&M(t),h.d(),_&&_.d(),g&&g.d(),m&&m.d(),b&&b.d(),ge(s)}}}function Ef(n){let t,e,l,o;function r(h,_){return h[12].role==="student"?Nf:Rf}let i=r(n),s=i(n);function a(h,_){if(h[12].role==="student")return Bf;if(h[12].role==="teacher")return Df}let d=a(n),f=d&&d(n);return{c(){t=p("h2"),t.textContent="Active Classes",e=S(),s.c(),l=S(),f&&f.c(),o=Te()},m(h,_){E(h,t,_),E(h,e,_),s.m(h,_),E(h,l,_),f&&f.m(h,_),E(h,o,_)},p(h,_){i===(i=r(h))&&s?s.p(h,_):(s.d(1),s=i(h),s&&(s.c(),s.m(l.parentNode,l))),d===(d=a(h))&&f?f.p(h,_):(f&&f.d(1),f=d&&d(h),f&&(f.c(),f.m(o.parentNode,o)))},d(h){h&&M(t),h&&M(e),s.d(h),h&&M(l),f&&f.d(h),h&&M(o)}}}function jf(n){let t,e,l,o,r,i,s,a;function d(_,g){return _[12].role==="student"?Uf:Ff}let f=d(n),h=f(n);return{c(){t=p("article"),e=p("div"),e.textContent="",l=S(),o=p("p"),o.textContent="Nothing here yet...",r=S(),i=p("p"),i.textContent="Click the button to add a class.",s=S(),a=p("div"),h.c(),u(e,"class","empty-icon"),u(o,"class","empty-title h5"),u(i,"class","empty-subtitle"),u(a,"class","empty-action"),u(t,"class","empty svelte-gzxtb1")},m(_,g){E(_,t,g),c(t,e),c(t,l),c(t,o),c(t,r),c(t,i),c(t,s),c(t,a),h.m(a,null)},p(_,g){f===(f=d(_))&&h?h.p(_,g):(h.d(1),h=f(_),h&&(h.c(),h.m(a,null)))},d(_){_&&M(t),h.d()}}}function Rf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Add Class",u(t,"class","btn btn-primary")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[14]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function Nf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Request Access",u(t,"class","btn btn-primary")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[13]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function Df(n){let t=[],e=new Map,l,o=n[0];const r=i=>i[37].id;for(let i=0;i<o.length;i+=1){let s=Qo(n,o,i),a=r(s);e.set(a,t[i]=Xo(a,s))}return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=Te()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);E(i,l,s)},p(i,s){s[0]&36873&&(o=i[0],t=Ue(t,s,r,1,i,o,e,l.parentNode,He,Xo,l,Qo))},d(i){for(let s=0;s<t.length;s+=1)t[s].d(i);i&&M(l)}}}function Bf(n){let t=[],e=new Map,l,o=n[1];const r=i=>i[29].id;for(let i=0;i<o.length;i+=1){let s=Ko(n,o,i),a=r(s);e.set(a,t[i]=$o(a,s))}return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=Te()},m(i,s){for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(i,s);E(i,l,s)},p(i,s){s[0]&2&&(o=i[1],t=Ue(t,s,r,1,i,o,e,l.parentNode,He,$o,l,Ko))},d(i){for(let s=0;s<t.length;s+=1)t[s].d(i);i&&M(l)}}}function Zo(n){let t,e,l,o,r=n[37].class+"",i,s,a,d,f,h,_=n[37].id+"",g,m,b,y;function k(){return n[21](n[37])}return{c(){t=p("a"),e=p("article"),l=p("hgroup"),o=p("h3"),i=F(r),s=S(),a=p("p"),d=S(),f=p("footer"),h=F("Class ID: "),g=F(_),m=S(),u(f,"class","footerClasses svelte-gzxtb1"),u(e,"class","svelte-gzxtb1"),u(t,"href","#")},m(v,C){E(v,t,C),c(t,e),c(e,l),c(l,o),c(o,i),c(l,s),c(l,a),c(e,d),c(e,f),c(f,h),c(f,g),c(t,m),b||(y=T(t,"click",k),b=!0)},p(v,C){n=v,C[0]&1&&r!==(r=n[37].class+"")&&oe(i,r),C[0]&1&&_!==(_=n[37].id+"")&&oe(g,_)},d(v){v&&M(t),b=!1,y()}}}function Xo(n,t){let e,l,o=t[37].managedBy===t[12].id&&Zo(t);return{key:n,first:null,c(){e=Te(),o&&o.c(),l=Te(),this.first=e},m(r,i){E(r,e,i),o&&o.m(r,i),E(r,l,i)},p(r,i){t=r,t[37].managedBy===t[12].id?o?o.p(t,i):(o=Zo(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&M(e),o&&o.d(r),r&&M(l)}}}function $o(n,t){var g,m;let e,l,o,r=((g=t[29].expand.class)==null?void 0:g.class)+"",i,s,a,d,f=((m=t[29].expand.class)==null?void 0:m.expand.managedBy.name)+"",h,_;return{key:n,first:null,c(){e=p("article"),l=p("hgroup"),o=p("h3"),i=F(r),s=S(),a=p("p"),d=F("Managed By: "),h=F(f),_=S(),u(e,"class","svelte-gzxtb1"),this.first=e},m(b,y){E(b,e,y),c(e,l),c(l,o),c(o,i),c(l,s),c(l,a),c(a,d),c(a,h),c(e,_)},p(b,y){var k,v;t=b,y[0]&2&&r!==(r=((k=t[29].expand.class)==null?void 0:k.class)+"")&&oe(i,r),y[0]&2&&f!==(f=((v=t[29].expand.class)==null?void 0:v.expand.managedBy.name)+"")&&oe(h,f)},d(b){b&&M(e)}}}function Ff(n){let t,e,l;return{c(){t=p("button"),t.textContent="Add Classs",u(t,"class","btn btn-primary")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[14]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function Uf(n){let t,e,l;return{c(){t=p("button"),t.textContent="Request Access",u(t,"class","btn btn-primary")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[13]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function xo(n){let t,e,l=[],o=new Map,r,i=n[2];const s=a=>a[32].id;for(let a=0;a<i.length;a+=1){let d=Wo(n,i,a),f=s(d);o.set(f,l[a]=er(f,d))}return{c(){t=p("h2"),t.textContent="Pending Requests",e=S();for(let a=0;a<l.length;a+=1)l[a].c();r=Te()},m(a,d){E(a,t,d),E(a,e,d);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(a,d);E(a,r,d)},p(a,d){d[0]&266244&&(i=a[2],l=Ue(l,d,s,1,a,i,o,r.parentNode,He,er,r,Wo))},d(a){a&&M(t),a&&M(e);for(let d=0;d<l.length;d+=1)l[d].d(a);a&&M(r)}}}function Hf(n){var a;let t,e,l=((a=n[32].expand.student)==null?void 0:a.name)+"",o,r,i=ir(n[32].created)+"",s;return{c(){t=p("p"),e=F("Requested By: "),o=F(l),r=F(" on "),s=F(i)},m(d,f){E(d,t,f),c(t,e),c(t,o),c(t,r),c(t,s)},p(d,f){var h;f[0]&4&&l!==(l=((h=d[32].expand.student)==null?void 0:h.name)+"")&&oe(o,l),f[0]&4&&i!==(i=ir(d[32].created)+"")&&oe(s,i)},d(d){d&&M(t)}}}function zf(n){var r;let t,e,l=((r=n[32].expand.class)==null?void 0:r.expand.managedBy.name)+"",o;return{c(){t=p("p"),e=F("Managed By: "),o=F(l)},m(i,s){E(i,t,s),c(t,e),c(t,o)},p(i,s){var a;s[0]&4&&l!==(l=((a=i[32].expand.class)==null?void 0:a.expand.managedBy.name)+"")&&oe(o,l)},d(i){i&&M(t)}}}function er(n,t){var y;let e,l,o,r=((y=t[32].expand.class)==null?void 0:y.class)+"",i,s,a,d,f,h,_;function g(k,v){if(k[12].role==="student")return zf;if(k[12].role==="teacher")return Hf}let m=g(t),b=m&&m(t);return{key:n,first:null,c(){e=p("article"),l=p("hgroup"),o=p("h3"),i=F(r),s=S(),b&&b.c(),a=S(),d=p("button"),d.textContent="Approve",f=S(),u(e,"class","svelte-gzxtb1"),this.first=e},m(k,v){E(k,e,v),c(e,l),c(l,o),c(o,i),c(l,s),b&&b.m(l,null),c(e,a),c(e,d),c(e,f),h||(_=T(d,"click",function(){et(t[18](t[32].id,t[32].student,t[32].class))&&t[18](t[32].id,t[32].student,t[32].class).apply(this,arguments)}),h=!0)},p(k,v){var C;t=k,v[0]&4&&r!==(r=((C=t[32].expand.class)==null?void 0:C.class)+"")&&oe(i,r),m===(m=g(t))&&b?b.p(t,v):(b&&b.d(1),b=m&&m(t),b&&(b.c(),b.m(l,null)))},d(k){k&&M(e),b&&b.d(),h=!1,_()}}}function tr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
            Request Access`),i=S(),s=p("form"),a=p("label"),d=F(`Class ID:\r
              `),f=p("input"),h=S(),_=p("footer"),g=p("a"),g.textContent="Cancel",m=S(),b=p("a"),b.textContent="Send Request",u(o,"href","#close"),u(o,"class","close"),u(f,"id","class"),u(f,"name","class"),u(f,"type","text"),f.required=!0,u(a,"for","class"),u(g,"href","#cancel"),u(g,"role","button"),u(g,"class","secondary"),u(b,"href","#confirm"),u(b,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(v,C){E(v,t,C),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[3]),n[23](s),c(e,h),c(e,_),c(_,g),c(_,m),c(_,b),y||(k=[T(o,"click",n[13]),T(f,"input",n[22]),T(s,"submit",Ke(n[20])),T(g,"click",n[13]),T(b,"click",n[16])],y=!0)},p(v,C){C[0]&8&&f.value!==v[3]&&Y(f,v[3])},d(v){v&&M(t),n[23](null),y=!1,ue(k)}}}function nr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
            Add Class`),i=S(),s=p("form"),a=p("label"),d=F(`Class Name:\r
              `),f=p("input"),h=S(),_=p("label"),_.textContent="Goal Type",g=S(),m=p("select"),b=p("option"),b.textContent="Please select an option",y=p("option"),y.textContent="Chapters/Month",k=p("option"),k.textContent="Books/Month",v=S(),C=p("label"),L=F(`Goal Value:\r
              `),q=p("input"),w=S(),A=p("footer"),I=p("a"),I.textContent="Cancel",D=S(),P=p("a"),P.textContent="Add",u(o,"href","#close"),u(o,"class","close"),u(f,"id","class"),u(f,"name","class"),u(f,"type","text"),f.required=!0,u(a,"for","class"),u(_,"for","goaltype"),b.__value="",b.value=b.__value,b.selected=!0,y.__value="chapters",y.value=y.__value,k.__value="books",k.value=k.__value,u(m,"id","goaltype"),n[5]===void 0&&Ne(()=>n[25].call(m)),u(q,"id","goal"),u(q,"name","goal"),u(q,"type","number"),q.required=!0,u(C,"for","goal"),u(I,"href","#cancel"),u(I,"role","button"),u(I,"class","secondary"),u(P,"href","#confirm"),u(P,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(j,R){E(j,t,R),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[4]),c(s,h),c(s,_),c(s,g),c(s,m),c(m,b),c(m,y),c(m,k),Re(m,n[5],!0),c(s,v),c(s,C),c(C,L),c(C,q),Y(q,n[6]),n[27](s),c(e,w),c(e,A),c(A,I),c(A,D),c(A,P),N||(O=[T(o,"click",n[14]),T(f,"input",n[24]),T(m,"change",n[25]),T(q,"input",n[26]),T(s,"submit",Ke(n[19])),T(I,"click",n[13]),T(P,"click",n[17])],N=!0)},p(j,R){R[0]&16&&f.value!==j[4]&&Y(f,j[4]),R[0]&32&&Re(m,j[5]),R[0]&64&&Je(q.value)!==j[6]&&Y(q,j[6])},d(j){j&&M(t),n[27](null),N=!1,ue(O)}}}function lr(n){let t,e,l,o,r,i,s,a,d,f,h=[],_=new Map,g,m,b,y,k,v,C,L=n[1];const q=w=>w[29].id;for(let w=0;w<L.length;w+=1){let A=Go(n,L,w),I=q(A);_.set(I,h[w]=rr(I,A))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
            Manage Class`),i=S(),s=p("details"),a=p("summary"),a.textContent="Class Members",d=S(),f=p("ul");for(let w=0;w<h.length;w+=1)h[w].c();g=S(),m=p("footer"),b=p("a"),b.textContent="Cancel",y=S(),k=p("a"),k.textContent="Save",u(o,"href","#close"),u(o,"class","close"),s.open=!0,u(b,"href","#cancel"),u(b,"role","button"),u(b,"class","secondary"),u(k,"href","#confirm"),u(k,"role","button"),u(e,"class","svelte-gzxtb1"),t.open=!0},m(w,A){E(w,t,A),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(s,d),c(s,f);for(let I=0;I<h.length;I+=1)h[I]&&h[I].m(f,null);c(e,g),c(e,m),c(m,b),c(m,y),c(m,k),v||(C=[T(o,"click",n[15]),T(b,"click",n[15]),T(k,"click",n[17])],v=!0)},p(w,A){A[0]&10&&(L=w[1],h=Ue(h,A,q,1,w,L,_,f,He,rr,null,Go))},d(w){w&&M(t);for(let A=0;A<h.length;A+=1)h[A].d();v=!1,ue(C)}}}function or(n){var o;let t,e=((o=n[29].expand.student)==null?void 0:o.name)+"",l;return{c(){t=p("li"),l=F(e)},m(r,i){E(r,t,i),c(t,l)},p(r,i){var s;i[0]&2&&e!==(e=((s=r[29].expand.student)==null?void 0:s.name)+"")&&oe(l,e)},d(r){r&&M(t)}}}function rr(n,t){let e,l,o=t[29].class===t[3]&&or(t);return{key:n,first:null,c(){e=Te(),o&&o.c(),l=Te(),this.first=e},m(r,i){E(r,e,i),o&&o.m(r,i),E(r,l,i)},p(r,i){t=r,t[29].class===t[3]?o?o.p(t,i):(o=or(t),o.c(),o.m(l.parentNode,l)):o&&(o.d(1),o=null)},d(r){r&&M(e),o&&o.d(r),r&&M(l)}}}function Vf(n){let t,e,l=n[12]&&n[12].verified===!0&&Yo(n);return{c(){l&&l.c(),t=Te()},m(o,r){l&&l.m(o,r),E(o,t,r),e=!0},p(o,r){o[12]&&o[12].verified===!0?l?(l.p(o,r),r[0]&4096&&K(l,1)):(l=Yo(o),l.c(),K(l,1),l.m(t.parentNode,t)):l&&(De(),$(l,1,1,()=>{l=null}),Be())},i(o){e||(K(l),e=!0)},o(o){$(l),e=!1},d(o){l&&l.d(o),o&&M(t)}}}function ir(n){const t=n.slice(0,10)+"T04:00Z";return new Date(t).toLocaleDateString("en-US")}function Jf(n,t,e){let l;Fe(n,Ze,U=>e(12,l=U));let o=[],r=[],i=[],s,a,d,f,h,_;async function g(){try{const U=await pe.collection("classes").getFullList({sort:"-class"});e(0,o=U)}catch(U){alert(U)}try{const U=await pe.collection("enrollments").getFullList({expand:"class, class.managedBy, student",sort:"-class"});e(1,r=U)}catch(U){alert(U)}try{const U=await pe.collection("requests").getFullList({filter:"status = 'Pending'",expand:"class, class.managedBy, student",sort:"-class"});e(2,i=U),console.log(i)}catch(U){alert(U)}}ft(async()=>{g()});let m=!1;function b(){e(9,m=!m)}let y=!1;function k(){e(10,y=!y)}let v=!1;function C(){e(11,v=!v)}async function L(){if(h.reportValidity()){if(s){const U={student:l.id,class:s,status:"Pending"};await pe.collection("requests").create(U)}Ae.success("Request sent!",{position:Le}),b(),g()}}async function q(){if(_.reportValidity()){if(a){const U={managedBy:l.id,class:a,goalType:d,goalValue:f};await pe.collection("classes").create(U)}Ae.success("Class Added Successfully!",{position:Le}),k(),g()}}async function w(U,x,W){try{const V={status:"Approved"},J=await pe.collection("requests").update(U,V)}catch(V){alert(V)}try{const V={student:x,class:W},J=await pe.collection("enrollments").create(V)}catch(V){alert(V)}g()}function A(U){Qe.call(this,n,U)}function I(U){Qe.call(this,n,U)}const D=U=>{e(3,s=U.id),C()};function P(){s=this.value,e(3,s)}function N(U){at[U?"unshift":"push"](()=>{h=U,e(7,h)})}function O(){a=this.value,e(4,a)}function j(){d=xe(this),e(5,d)}function R(){f=Je(this.value),e(6,f)}function z(U){at[U?"unshift":"push"](()=>{_=U,e(8,_)})}return[o,r,i,s,a,d,f,h,_,m,y,v,l,b,k,C,L,q,w,A,I,D,P,N,O,j,R,z]}class Gf extends Ee{constructor(t){super(),Me(this,t,Jf,Vf,Oe,{},null,[-1,-1])}}function Wf(n){let t,e,l,o,r;return{c(){t=p("div"),e=p("span"),e.innerHTML='<span class="hamburger-inner svelte-1jnuven"></span>',u(e,"class","hamburger-box svelte-1jnuven"),u(t,"class",l="hamburger hamburger--"+n[1]+" svelte-1jnuven"),u(t,"aria-label",n[2]),dt(t,"is-active",n[0])},m(i,s){E(i,t,s),c(t,e),o||(r=[T(t,"click",n[3]),T(t,"click",n[4])],o=!0)},p(i,[s]){s&2&&l!==(l="hamburger hamburger--"+i[1]+" svelte-1jnuven")&&u(t,"class",l),s&4&&u(t,"aria-label",i[2]),s&3&&dt(t,"is-active",i[0])},i:ne,o:ne,d(i){i&&M(t),o=!1,ue(r)}}}function Qf(n,t,e){let{open:l=!1}=t,{type:o="spin"}=t,{ariaLabel:r="Hamburger menu"}=t;function i(a){Qe.call(this,n,a)}const s=()=>e(0,l=!l);return n.$$set=a=>{"open"in a&&e(0,l=a.open),"type"in a&&e(1,o=a.type),"ariaLabel"in a&&e(2,r=a.ariaLabel)},[l,o,r,i,s]}class Kf extends Ee{constructor(t){super(),Me(this,t,Qf,Wf,Oe,{open:0,type:1,ariaLabel:2})}}function ni(n){const t=n-1;return t*t*t+1}function sr(n){return-n*(n-2)}function tt(n,{delay:t=0,duration:e=400,easing:l=ni,x:o=0,y:r=0,opacity:i=0}={}){const s=getComputedStyle(n),a=+s.opacity,d=s.transform==="none"?"":s.transform,f=a*(1-i),[h,_]=il(o),[g,m]=il(r);return{delay:t,duration:e,easing:l,css:(b,y)=>`
			transform: ${d} translate(${(1-b)*h}${_}, ${(1-b)*g}${m});
			opacity: ${a-f*y}`}}function ar(n,{delay:t=0,duration:e=400,easing:l=ni,start:o=0,opacity:r=0}={}){const i=getComputedStyle(n),s=+i.opacity,a=i.transform==="none"?"":i.transform,d=1-o,f=s*(1-r);return{delay:t,duration:e,easing:l,css:(h,_)=>`
			transform: ${a} scale(${1-d*_});
			opacity: ${s-f*_}
		`}}function cr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w=n[6].role==="teacher"&&ur(n),A=n[6].role==="student"&&fr(n);return{c(){t=p("article"),e=p("div"),l=p("p"),o=p("a"),o.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
            <div class="text">Books</div></div>`,i=S(),w&&w.c(),s=S(),A&&A.c(),a=S(),d=p("p"),f=p("a"),f.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Discover</div></div>`,_=S(),g=p("p"),m=p("a"),m.innerHTML=`<div class="inline-container svelte-n0qmij"><iconify-icon id="edit" icon="ph:student-thin" width="24" height="24"></iconify-icon>

            Classes</div>`,y=S(),k=p("div"),u(o,"href","#"),u(o,"class","btn btn-link svelte-n0qmij"),u(l,"class","svelte-n0qmij"),u(f,"href","#"),u(f,"class","btn btn-link svelte-n0qmij"),u(d,"class","svelte-n0qmij"),u(m,"href","#"),u(m,"class","btn btn-link svelte-n0qmij"),u(g,"class","svelte-n0qmij"),u(e,"class","menu svelte-n0qmij"),u(k,"class","bar svelte-n0qmij")},m(I,D){E(I,t,D),c(t,e),c(e,l),c(l,o),c(e,i),w&&w.m(e,null),c(e,s),A&&A.m(e,null),c(e,a),c(e,d),c(d,f),c(e,_),c(e,g),c(g,m),c(t,y),c(t,k),C=!0,L||(q=[T(o,"click",function(){et(n[2])&&n[2].apply(this,arguments)}),T(f,"click",function(){et(n[3])&&n[3].apply(this,arguments)}),T(m,"click",function(){et(n[4])&&n[4].apply(this,arguments)})],L=!0)},p(I,D){n=I,n[6].role==="teacher"?w?(w.p(n,D),D&64&&K(w,1)):(w=ur(n),w.c(),K(w,1),w.m(e,s)):w&&(De(),$(w,1,1,()=>{w=null}),Be()),n[6].role==="student"?A?(A.p(n,D),D&64&&K(A,1)):(A=fr(n),A.c(),K(A,1),A.m(e,a)):A&&(De(),$(A,1,1,()=>{A=null}),Be())},i(I){C||(Ne(()=>{C&&(r||(r=Xe(l,tt,{y:-15,delay:50*1},!0)),r.run(1))}),K(w),K(A),Ne(()=>{C&&(h||(h=Xe(d,tt,{y:-15,delay:50*3},!0)),h.run(1))}),Ne(()=>{C&&(b||(b=Xe(g,tt,{y:-15,delay:50*4},!0)),b.run(1))}),Ne(()=>{C&&(v||(v=Xe(k,ar,{duration:750,easing:sr,opacity:1},!0)),v.run(1))}),C=!0)},o(I){r||(r=Xe(l,tt,{y:-15,delay:50*1},!1)),r.run(0),$(w),$(A),h||(h=Xe(d,tt,{y:-15,delay:50*3},!1)),h.run(0),b||(b=Xe(g,tt,{y:-15,delay:50*4},!1)),b.run(0),v||(v=Xe(k,ar,{duration:750,easing:sr,opacity:1},!1)),v.run(0),C=!1},d(I){I&&M(t),I&&r&&r.end(),w&&w.d(),A&&A.d(),I&&h&&h.end(),I&&b&&b.end(),I&&v&&v.end(),L=!1,ue(q)}}}function ur(n){let t,e,l,o,r,i;return{c(){t=p("p"),e=p("a"),e.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
              <div>Activity</div></div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-n0qmij"),u(t,"class","svelte-n0qmij")},m(s,a){E(s,t,a),c(t,e),o=!0,r||(i=T(e,"click",function(){et(n[5])&&n[5].apply(this,arguments)}),r=!0)},p(s,a){n=s},i(s){o||(Ne(()=>{o&&(l||(l=Xe(t,tt,{y:-15,delay:50*5},!0)),l.run(1))}),o=!0)},o(s){l||(l=Xe(t,tt,{y:-15,delay:50*5},!1)),l.run(0),o=!1},d(s){s&&M(t),s&&l&&l.end(),r=!1,i()}}}function fr(n){let t,e,l,o,r,i;return{c(){t=p("p"),e=p("a"),e.innerHTML=`<div class="inline-container svelte-n0qmij"><div><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
              <div>Log</div></div>`,u(e,"href","#"),u(e,"class","btn btn-link svelte-n0qmij"),u(t,"class","svelte-n0qmij")},m(s,a){E(s,t,a),c(t,e),o=!0,r||(i=T(e,"click",function(){et(n[1])&&n[1].apply(this,arguments)}),r=!0)},p(s,a){n=s},i(s){o||(Ne(()=>{o&&(l||(l=Xe(t,tt,{y:-15,delay:50*2},!0)),l.run(1))}),o=!0)},o(s){l||(l=Xe(t,tt,{y:-15,delay:50*2},!1)),l.run(0),o=!1},d(s){s&&M(t),s&&l&&l.end(),r=!1,i()}}}function Yf(n){let t,e,l=n[0]&&cr(n);return{c(){l&&l.c(),t=Te()},m(o,r){l&&l.m(o,r),E(o,t,r),e=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&K(l,1)):(l=cr(o),l.c(),K(l,1),l.m(t.parentNode,t)):l&&(De(),$(l,1,1,()=>{l=null}),Be())},i(o){e||(K(l),e=!0)},o(o){$(l),e=!1},d(o){l&&l.d(o),o&&M(t)}}}function Zf(n,t,e){let l;Fe(n,Ze,f=>e(6,l=f));let{open:o}=t,{goToLog:r}=t,{goToBooks:i}=t,{goToClassroom:s}=t,{goToEnrollments:a}=t,{goToActivity:d}=t;return n.$$set=f=>{"open"in f&&e(0,o=f.open),"goToLog"in f&&e(1,r=f.goToLog),"goToBooks"in f&&e(2,i=f.goToBooks),"goToClassroom"in f&&e(3,s=f.goToClassroom),"goToEnrollments"in f&&e(4,a=f.goToEnrollments),"goToActivity"in f&&e(5,d=f.goToActivity)},[o,r,i,s,a,d,l]}class Xf extends Ee{constructor(t){super(),Me(this,t,Zf,Yf,Oe,{open:0,goToLog:1,goToBooks:2,goToClassroom:3,goToEnrollments:4,goToActivity:5})}}function dr(n,t,e){const l=n.slice();return l[60]=t[e],l}function $f(n){let t,e;return t=new Kn({props:{$$slots:{default:[ed]},$$scope:{ctx:n}}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o[2]&2&&(r.$$scope={dirty:o,ctx:l}),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function xf(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee,ce,Q,Z,ie,ke;function we(B){n[45](B)}let G={};n[2]!==void 0&&(G.open=n[2]),s=new Kf({props:G}),at.push(()=>fl(s,"open",we));function se(B,X){if(B[16].role==="student")return nd;if(B[16].role==="teacher")return td}let he=se(n),Ce=he&&he(n);function Ie(B){n[46](B)}let je={goToBooks:n[27],goToLog:n[26],goToClassroom:n[28],goToEnrollments:n[30],goToActivity:n[29]};n[2]!==void 0&&(je.open=n[2]),O=new Xf({props:je}),at.push(()=>fl(O,"open",Ie));let _e=n[12]&&pr(n),fe=n[13]&&hr(n),de=n[14]&&_r(n),ve=n[15]&&gr(n);const Se=[sd,id,rd,od,ld],te=[];function le(B,X){return B[5]==="Books"?0:B[5]==="Log"?1:B[5]==="Classroom"?2:B[5]==="Activity"?3:B[5]==="Enrollments"?4:-1}return~(J=le(n))&&(ee=te[J]=Se[J](n)),Q=new sn({}),{c(){t=p("div"),e=p("div"),l=p("header"),o=p("section"),r=p("div"),i=p("div"),a=p("div"),be(s.$$.fragment),f=S(),h=p("div"),_=p("a"),_.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="streamline:interface-content-book-2-library-content-books-book-shelf-stack" width="24" height="24"></iconify-icon></div> 
              <div>Books</div>`,g=S(),Ce&&Ce.c(),m=S(),b=p("a"),b.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
              <div>Discover</div>`,y=S(),k=p("a"),k.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="la:user-friends" width="24" height="24"></iconify-icon></div> 
            <div>Classes</div>`,v=S(),C=p("section"),L=S(),q=p("section"),w=p("figure"),A=p("a"),I=p("img"),P=S(),N=p("div"),be(O.$$.fragment),R=S(),_e&&_e.c(),z=S(),fe&&fe.c(),U=S(),de&&de.c(),x=S(),ve&&ve.c(),W=S(),V=p("div"),ee&&ee.c(),ce=S(),be(Q.$$.fragment),Pe(a,"display","contents"),Pe(a,"--color","#1095c1"),u(i,"class","hamburger-icon"),u(r,"class","hamburger svelte-kwidul"),u(_,"href","#"),u(_,"class","btn btn-link svelte-kwidul"),u(b,"href","#"),u(b,"class","btn btn-link svelte-kwidul"),u(k,"href","#"),u(k,"class","btn btn-link svelte-kwidul"),u(h,"class","navbar-items svelte-kwidul"),u(o,"class","navbar-section svelte-kwidul"),u(C,"class","navbar-center"),qe(I.src,D=n[21])||u(I,"src",D),u(I,"alt","avatar"),u(I,"class","navbar-avatar"),u(A,"href","#profile"),u(A,"class","svelte-kwidul"),u(w,"class","avatar avatar-xl svelte-kwidul"),u(q,"class","navbar-section svelte-kwidul"),u(l,"class","navbar svelte-kwidul"),u(t,"class","container"),u(N,"class","hamburger-items svelte-kwidul"),u(V,"class","content")},m(B,X){E(B,t,X),c(t,e),c(e,l),c(l,o),c(o,r),c(r,i),c(i,a),me(s,a,null),c(o,f),c(o,h),c(h,_),c(h,g),Ce&&Ce.m(h,null),c(h,m),c(h,b),c(h,y),c(h,k),c(l,v),c(l,C),c(l,L),c(l,q),c(q,w),c(w,A),c(A,I),E(B,P,X),E(B,N,X),me(O,N,null),E(B,R,X),_e&&_e.m(B,X),E(B,z,X),fe&&fe.m(B,X),E(B,U,X),de&&de.m(B,X),E(B,x,X),ve&&ve.m(B,X),E(B,W,X),E(B,V,X),~J&&te[J].m(V,null),E(B,ce,X),me(Q,B,X),Z=!0,ie||(ke=[T(_,"click",n[32]),T(b,"click",n[33]),T(k,"click",n[35]),T(A,"click",n[37])],ie=!0)},p(B,X){const ye={};!d&&X[0]&4&&(d=!0,ye.open=B[2],cl(()=>d=!1)),s.$set(ye),he===(he=se(B))&&Ce?Ce.p(B,X):(Ce&&Ce.d(1),Ce=he&&he(B),Ce&&(Ce.c(),Ce.m(h,m)));const ae={};!j&&X[0]&4&&(j=!0,ae.open=B[2],cl(()=>j=!1)),O.$set(ae),B[12]?_e?_e.p(B,X):(_e=pr(B),_e.c(),_e.m(z.parentNode,z)):_e&&(_e.d(1),_e=null),B[13]?fe?fe.p(B,X):(fe=hr(B),fe.c(),fe.m(U.parentNode,U)):fe&&(fe.d(1),fe=null),B[14]?de?de.p(B,X):(de=_r(B),de.c(),de.m(x.parentNode,x)):de&&(de.d(1),de=null),B[15]?ve?ve.p(B,X):(ve=gr(B),ve.c(),ve.m(W.parentNode,W)):ve&&(ve.d(1),ve=null);let Ye=J;J=le(B),J!==Ye&&(ee&&(De(),$(te[Ye],1,1,()=>{te[Ye]=null}),Be()),~J?(ee=te[J],ee||(ee=te[J]=Se[J](B),ee.c()),K(ee,1),ee.m(V,null)):ee=null)},i(B){Z||(K(s.$$.fragment,B),K(O.$$.fragment,B),K(ee),K(Q.$$.fragment,B),Z=!0)},o(B){$(s.$$.fragment,B),$(O.$$.fragment,B),$(ee),$(Q.$$.fragment,B),Z=!1},d(B){B&&M(t),ge(s),Ce&&Ce.d(),B&&M(P),B&&M(N),ge(O),B&&M(R),_e&&_e.d(B),B&&M(z),fe&&fe.d(B),B&&M(U),de&&de.d(B),B&&M(x),ve&&ve.d(B),B&&M(W),B&&M(V),~J&&te[J].d(),B&&M(ce),ge(Q,B),ie=!1,ue(ke)}}}function ed(n){let t,e;return t=new kt({props:{path:"/",component:Yn}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p:ne,i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function td(n){let t,e,l;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="bytesize:activity" width="24" height="24"></iconify-icon></div> 
                <div>Activity</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-kwidul")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[34]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function nd(n){let t,e,l;return{c(){t=p("a"),t.innerHTML=`<div style="text-align: center;"><iconify-icon id="edit" icon="icon-park-outline:list" width="24" height="24"></iconify-icon></div> 
                <div>Log</div>`,u(t,"href","#"),u(t,"class","btn btn-link svelte-kwidul")},m(o,r){E(o,t,r),e||(l=T(t,"click",n[31]),e=!0)},p:ne,d(o){o&&M(t),e=!1,l()}}}function pr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
            Settings`),i=S(),s=p("form"),a=p("label"),d=F(`Max Search Output\r
              `),f=p("input"),h=S(),_=p("footer"),g=p("div"),m=p("a"),m.textContent="Cancel",b=S(),y=p("a"),y.textContent="Save",u(o,"href","#close"),u(o,"class","close"),u(f,"id","maxOutput"),u(f,"name","maxOutput"),u(f,"type","text"),u(a,"for","maxOutput"),u(m,"href","#cancel"),u(m,"role","button"),u(m,"class","secondary svelte-kwidul"),u(y,"href","#confirm"),u(y,"role","button"),u(y,"class","svelte-kwidul"),u(_,"class","svelte-kwidul"),t.open=!0},m(C,L){E(C,t,L),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[17]),c(e,h),c(e,_),c(_,g),c(g,m),c(g,b),c(g,y),k||(v=[T(o,"click",n[36]),T(f,"input",n[47]),T(s,"submit",Ke(n[44])),T(m,"click",n[36]),T(y,"click",n[36])],k=!0)},p(C,L){L[0]&131072&&f.value!==C[17]&&Y(f,C[17])},d(C){C&&M(t),k=!1,ue(v)}}}function hr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g=n[16].name+"",m,b,y,k,v,C,L,q,w,A,I,D,P,N,O,j,R,z,U,x,W,V,J,ee,ce,Q,Z,ie,ke,we,G,se,he,Ce,Ie,je,_e,fe,de,ve,Se,te,le,B;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("figure"),r=p("a"),i=p("img"),a=S(),d=p("i"),d.innerHTML='<iconify-icon class="fas" id="edit" icon="mdi:edit"></iconify-icon>',f=S(),h=p("a"),_=F(`\r
            `),m=F(g),b=F("'s Profile"),y=S(),k=p("details"),v=p("summary"),v.textContent="My Stats",C=S(),L=p("p"),q=F("Books: "),w=F(n[18]),A=F(" | Pages Read: "),I=F(n[19]),D=S(),P=p("details"),N=p("summary"),N.textContent="Account Info",O=S(),j=p("form"),R=p("label"),z=F(`Name\r
                `),U=p("input"),x=S(),W=p("label"),V=F(`Email\r
                `),J=p("input"),ee=S(),ce=p("details"),Q=p("summary"),Q.textContent="Security",Z=S(),ie=p("fieldset"),ke=p("label"),we=p("input"),G=F(`\r
                Share my readings with classmates`),se=S(),he=p("a"),he.textContent="Change Password",Ce=S(),Ie=p("footer"),je=p("div"),_e=p("a"),_e.textContent="Sign Out",fe=S(),de=p("div"),ve=p("a"),ve.textContent="Cancel",Se=S(),te=p("a"),te.textContent="Save",qe(i.src,s=n[21])||u(i,"src",s),u(i,"alt","avatar"),u(d,"class","avatar-presence"),Pe(r,"color","white"),u(r,"href","#profile"),u(o,"class","avatar avatar-xl svelte-kwidul"),u(h,"href","#close"),u(h,"class","close"),k.open=!0,u(U,"id","profileName"),u(U,"name","profileName"),u(U,"type","text"),u(R,"for","profileName"),u(J,"id","profileEmail"),u(J,"name","profileEmail"),u(J,"type","email"),J.disabled=!0,u(W,"for","profileEmail"),P.open=!0,u(we,"type","checkbox"),u(we,"id","switch"),u(we,"name","switch"),u(we,"role","switch"),u(ke,"for","switch"),u(he,"href","#update"),u(he,"class","details"),u(_e,"href","#signout"),u(_e,"role","button"),u(_e,"class","signout svelte-kwidul"),u(ve,"href","#cancel"),u(ve,"role","button"),u(ve,"class","secondary svelte-kwidul"),u(te,"href","#confirm"),u(te,"role","button"),u(te,"class","svelte-kwidul"),u(Ie,"data-button","spaceBetween"),u(Ie,"class","svelte-kwidul"),t.open=!0},m(X,ye){E(X,t,ye),c(t,e),c(e,l),c(l,o),c(o,r),c(r,i),c(r,a),c(r,d),c(l,f),c(l,h),c(l,_),c(l,m),c(l,b),c(e,y),c(e,k),c(k,v),c(k,C),c(k,L),c(L,q),c(L,w),c(L,A),c(L,I),c(e,D),c(e,P),c(P,N),c(P,O),c(P,j),c(j,R),c(R,z),c(R,U),Y(U,n[7]),c(j,x),c(j,W),c(W,V),c(W,J),Y(J,n[8]),c(e,ee),c(e,ce),c(ce,Q),c(ce,Z),c(ce,ie),c(ie,ke),c(ke,we),we.checked=n[11],c(ke,G),c(ce,se),c(ce,he),c(e,Ce),c(e,Ie),c(Ie,je),c(je,_e),c(Ie,fe),c(Ie,de),c(de,ve),c(de,Se),c(de,te),le||(B=[T(r,"click",n[38]),T(h,"click",n[37]),T(U,"input",n[48]),T(J,"input",n[49]),T(j,"submit",Ke(n[43])),T(we,"change",n[50]),T(he,"click",n[39]),T(_e,"click",n[25]),T(ve,"click",n[37]),T(te,"click",n[22]),T(te,"click",n[37])],le=!0)},p(X,ye){ye[0]&65536&&g!==(g=X[16].name+"")&&oe(m,g),ye[0]&262144&&oe(w,X[18]),ye[0]&524288&&oe(I,X[19]),ye[0]&128&&U.value!==X[7]&&Y(U,X[7]),ye[0]&256&&J.value!==X[8]&&Y(J,X[8]),ye[0]&2048&&(we.checked=X[11])},d(X){X&&M(t),le=!1,ue(B)}}}function _r(n){let t,e,l,o,r,i,s,a,d,f,h,_=[],g=new Map,m,b,y,k,v,C,L,q=n[6];const w=A=>A[60].id;for(let A=0;A<q.length;A+=1){let I=dr(n,q,A),D=w(I);g.set(D,_[A]=mr(D,I))}return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("figure"),r=p("img"),s=S(),a=p("a"),d=F(`\r
            Change Avatar`),f=S(),h=p("section");for(let A=0;A<_.length;A+=1)_[A].c();m=S(),b=p("footer"),y=p("a"),y.textContent="Cancel",k=S(),v=p("a"),v.textContent="Save",qe(r.src,i=n[21])||u(r,"src",i),u(r,"alt","avatar"),u(o,"class","avatar avatar-xl svelte-kwidul"),u(a,"href","#close"),u(a,"class","close"),u(y,"href","#cancel"),u(y,"role","button"),u(y,"class","secondary svelte-kwidul"),u(v,"href","#confirm"),u(v,"role","button"),u(v,"class","svelte-kwidul"),u(b,"class","svelte-kwidul"),t.open=!0},m(A,I){E(A,t,I),c(t,e),c(e,l),c(l,o),c(o,r),c(l,s),c(l,a),c(l,d),c(e,f),c(e,h);for(let D=0;D<_.length;D+=1)_[D]&&_[D].m(h,null);c(e,m),c(e,b),c(b,y),c(b,k),c(b,v),C||(L=[T(a,"click",n[38]),T(y,"click",n[38]),T(v,"click",n[24]),T(v,"click",n[40])],C=!0)},p(A,I){I[0]&1049664&&(q=A[6],_=Ue(_,I,w,1,A,q,g,h,He,mr,null,dr))},d(A){A&&M(t);for(let I=0;I<_.length;I+=1)_[I].d();C=!1,ue(L)}}}function mr(n,t){let e,l,o,r,i,s,a,d;return{key:n,first:null,c(){e=p("a"),l=p("figure"),o=p("img"),i=S(),u(o,"class","avatar-list svelte-kwidul"),qe(o.src,r=t[20]+t[60].id+"/"+t[60].field)||u(o,"src",r),u(o,"alt","avatar"),u(l,"class","avatar avatar-xl svelte-kwidul"),u(e,"href","#avatars"),u(e,"class","avatar-links svelte-kwidul"),u(e,"data-picture",s=t[20]+t[60].id+"/"+t[60].field),this.first=e},m(f,h){E(f,e,h),c(e,l),c(l,o),c(e,i),a||(d=T(e,"click",t[51]),a=!0)},p(f,h){t=f,h[0]&64&&!qe(o.src,r=t[20]+t[60].id+"/"+t[60].field)&&u(o,"src",r),h[0]&64&&s!==(s=t[20]+t[60].id+"/"+t[60].field)&&u(e,"data-picture",s)},d(f){f&&M(e),a=!1,d()}}}function gr(n){let t,e,l,o,r,i,s,a,d,f,h,_,g,m,b,y,k,v,C,L,q;return{c(){t=p("dialog"),e=p("article"),l=p("header"),o=p("a"),r=F(`\r
            Change Password`),i=S(),s=p("form"),a=p("label"),d=F(`Change Password\r
              `),f=p("input"),h=S(),_=p("input"),g=S(),m=p("input"),b=S(),y=p("footer"),k=p("a"),k.textContent="Cancel",v=S(),C=p("a"),C.textContent="Update",u(o,"href","#close"),u(o,"class","close"),u(f,"id","oldPassword"),u(f,"name","oldPassword"),u(f,"type","password"),u(f,"placeholder","Old password"),u(a,"for","oldPassword"),u(_,"id","profilePassword"),u(_,"name","profilePassword"),u(_,"type","password"),u(_,"placeholder","New password"),u(_,"aria-invalid",n[3]),u(m,"id","profileConfirm"),u(m,"name","profileConfirm"),u(m,"type","password"),u(m,"placeholder","Confirm password"),u(m,"aria-invalid",n[4]),u(k,"href","#cancel"),u(k,"role","button"),u(k,"class","secondary svelte-kwidul"),u(C,"href","#confirm"),u(C,"role","button"),u(C,"class","svelte-kwidul"),u(y,"class","svelte-kwidul"),t.open=!0},m(w,A){E(w,t,A),c(t,e),c(e,l),c(l,o),c(l,r),c(e,i),c(e,s),c(s,a),c(a,d),c(a,f),Y(f,n[9]),c(s,h),c(s,_),Y(_,n[0]),c(s,g),c(s,m),Y(m,n[1]),c(e,b),c(e,y),c(y,k),c(y,v),c(y,C),L||(q=[T(o,"click",n[39]),T(f,"input",n[52]),T(_,"input",n[53]),T(m,"input",n[54]),T(s,"submit",Ke(n[42])),T(k,"click",n[39]),T(C,"click",n[23]),T(C,"click",n[41])],L=!0)},p(w,A){A[0]&512&&f.value!==w[9]&&Y(f,w[9]),A[0]&8&&u(_,"aria-invalid",w[3]),A[0]&1&&_.value!==w[0]&&Y(_,w[0]),A[0]&16&&u(m,"aria-invalid",w[4]),A[0]&2&&m.value!==w[1]&&Y(m,w[1])},d(w){w&&M(t),L=!1,ue(q)}}}function ld(n){let t,e;return t=new Gf({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function od(n){let t,e;return t=new Mf({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function rd(n){let t,e;return t=new Pf({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function id(n){let t,e;return t=new cf({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function sd(n){let t,e;return t=new su({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function ad(n){let t,e,l,o;const r=[xf,$f],i=[];function s(a,d){return a[16]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),l=Te()},m(a,d){i[t].m(a,d),E(a,l,d),o=!0},p(a,d){let f=t;t=s(a),t===f?i[t].p(a,d):(De(),$(i[f],1,1,()=>{i[f]=null}),Be(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),K(e,1),e.m(l.parentNode,l))},i(a){o||(K(e),o=!0)},o(a){$(e),o=!1},d(a){i[t].d(a),a&&M(l)}}}let cd="/api/files/fhm2u4u1k405dr7/";function ud(n,t,e){let l,o,r,i;Fe(n,Ze,ae=>e(16,l=ae)),Fe(n,Pn,ae=>e(17,o=ae)),Fe(n,On,ae=>e(18,r=ae)),Fe(n,Jt,ae=>e(19,i=ae));let s=!1,a,d,f,h=[],_=on+cd,g=l.avatar_from_url;function m(){pe.authStore.isValid?console.log("tato bien"):(console.log("se acabo"),pe.authStore.clear(),window.location.reload())}ft(async()=>{m(),l.role==="teacher"?O():q();try{const ae=await pe.collection("avatars").getFullList({sort:"-created"});e(6,h=ae)}catch(ae){Ae.error(ae,{position:Le})}});async function b(){try{const ae={name:R,email:z,isPublic:J},Ye=await pe.collection("users").update(l.id,ae);Ae.success("Profile updated!",{position:Le})}catch(ae){alert(ae)}}async function y(){if(!a&&!d)try{const ae=new FormData;ae.append("password",U),ae.append("passwordConfirm",x),ae.append("oldPassword",W);const Ye=await pe.collection("users").update(l.id,ae);Ae.success("Password changed successfully!",{position:Le})}catch(ae){Ae.error(ae,{position:Le})}else a?Ae.error("Password should be at least 5 characters long",{position:Le}):d&&Ae.error("Password mismatch",{position:Le})}async function k(){try{const ae={avatar_from_url:V},Ye=await pe.collection("users").update(l.id,ae);Ae.success("Avatar updated!",{position:Le})}catch(ae){Ae.error(ae,{position:Le})}window.location.reload(),e(10,V="")}function v(){pe.authStore.clear(),Qn("/")}function C(){e(5,f="Log"),e(2,s=!s)}function L(){e(5,f="Books"),e(2,s=!s)}function q(){e(5,f="Books")}function w(){e(5,f="Classroom"),e(2,s=!s)}function A(){e(5,f="Activity"),e(2,s=!s)}function I(){e(5,f="Enrollments"),e(2,s=!s)}function D(){e(5,f="Log")}function P(){e(5,f="Books")}function N(){e(5,f="Classroom")}function O(){e(5,f="Activity")}function j(){e(5,f="Enrollments")}let R=l.name,z=l.email,U,x,W,V,J=l.isPublic,ee=!1;function ce(){e(12,ee=!ee)}let Q=!1;function Z(){e(13,Q=!Q)}let ie=!1;function ke(){e(14,ie=!ie)}let we=!1;function G(){e(15,we=!we)}function se(){ke(),Z()}function he(){G(),Z()}function Ce(ae){Qe.call(this,n,ae)}function Ie(ae){Qe.call(this,n,ae)}function je(ae){Qe.call(this,n,ae)}function _e(ae){s=ae,e(2,s)}function fe(ae){s=ae,e(2,s)}function de(){o=this.value,Pn.set(o)}function ve(){R=this.value,e(7,R)}function Se(){z=this.value,e(8,z)}function te(){J=this.checked,e(11,J)}const le=ae=>{e(10,V=ae.currentTarget.getAttribute("data-picture"))};function B(){W=this.value,e(9,W)}function X(){U=this.value,e(0,U)}function ye(){x=this.value,e(1,x)}return n.$$.update=()=>{n.$$.dirty[0]&3&&(U&&(U.length>=5?e(3,a=!1):e(3,a=!0)),x&&(x===U?e(4,d=!1):e(4,d=!0)))},[U,x,s,a,d,f,h,R,z,W,V,J,ee,Q,ie,we,l,o,r,i,_,g,b,y,k,v,C,L,w,A,I,D,P,N,O,j,ce,Z,ke,G,se,he,Ce,Ie,je,_e,fe,de,ve,Se,te,le,B,X,ye]}class fd extends Ee{constructor(t){super(),Me(this,t,ud,ad,Oe,{},null,[-1,-1,-1])}}function dd(n){let t,e;return t=new Kn({props:{$$slots:{default:[hd]},$$scope:{ctx:n}}}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p(l,o){const r={};o&2&&(r.$$scope={dirty:o,ctx:l}),t.$set(r)},i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function pd(n){let t,e;return t=new fd({}),{c(){be(t.$$.fragment)},m(l,o){me(t,l,o),e=!0},p:ne,i(l){e||(K(t.$$.fragment,l),e=!0)},o(l){$(t.$$.fragment,l),e=!1},d(l){ge(t,l)}}}function hd(n){let t,e,l,o,r,i;return t=new kt({props:{path:"/",component:Yn}}),l=new kt({props:{path:"/signup",component:Er}}),r=new kt({props:{path:"/reset",component:Dc}}),{c(){be(t.$$.fragment),e=S(),be(l.$$.fragment),o=S(),be(r.$$.fragment)},m(s,a){me(t,s,a),E(s,e,a),me(l,s,a),E(s,o,a),me(r,s,a),i=!0},p:ne,i(s){i||(K(t.$$.fragment,s),K(l.$$.fragment,s),K(r.$$.fragment,s),i=!0)},o(s){$(t.$$.fragment,s),$(l.$$.fragment,s),$(r.$$.fragment,s),i=!1},d(s){ge(t,s),s&&M(e),ge(l,s),s&&M(o),ge(r,s)}}}function _d(n){let t,e,l,o;const r=[pd,dd],i=[];function s(a,d){return a[0]?0:1}return t=s(n),e=i[t]=r[t](n),{c(){e.c(),l=Te()},m(a,d){i[t].m(a,d),E(a,l,d),o=!0},p(a,[d]){let f=t;t=s(a),t===f?i[t].p(a,d):(De(),$(i[f],1,1,()=>{i[f]=null}),Be(),e=i[t],e?e.p(a,d):(e=i[t]=r[t](a),e.c()),K(e,1),e.m(l.parentNode,l))},i(a){o||(K(e),o=!0)},o(a){$(e),o=!1},d(a){i[t].d(a),a&&M(l)}}}function md(n,t,e){let l;return Fe(n,Ze,o=>e(0,l=o)),[l]}class gd extends Ee{constructor(t){super(),Me(this,t,md,_d,Oe,{})}}new gd({target:document.getElementById("app")});
